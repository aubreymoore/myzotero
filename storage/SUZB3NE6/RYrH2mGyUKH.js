if (self.CavalryLogger) { CavalryLogger.start_js(["iVAWE"]); }

__d("VideoPlayerFormatsMap",[],(function(a,b,c,d,e,f){e.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",ufi_comment_attachment:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",tahoe:"tahoe",search_live_video_module:"inline",videohub_live:"inline",camera_post:"fb_stories",pages_cover:"inline",video_page_spotlight_unit:"inline",pages_cover_hover:"inline",pages_messaging_video:"inline",profile_overview:"inline",profile_cover:"inline",memory_leak_test:"inline",games_video_home_streamer_hub:"inline",games_video_live_recommendation:"inline",games_video_search_unit:"inline",games_video_streamer_unit:"inline",trivia_game_admin_dashboard:"misc",games_streamer_dashboard:"inline",ads_preview:"inline",discover:"inline",civic_proposal:"inline",business_feed:"inline",ads:null,animated_image_share:null,asset:null,ballot:null,broadcast_request_attachment:null,candidate_videos:null,embedded:null,embedded_page_plugin:null,gameroom_live_video_hero_banner:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,games_video_home:null,games_video_home_hero:null,games_video_single_game:null,games_video_top_weekly_clips_streamer_page:null,games_video_social_plugin:null,games_video_hub:null,games_video_hub_redirect_notification:null,games_video_hub_redirect_unknown:null,group_live_video_module:null,html5:null,insights:null,intern_curation:null,intern_example:null,issues_module:null,live_beeper:null,live_control_panel:null,live_map_tooltip_from_webgl:null,live_video_broadcast:null,live_video_preview:null,living_room:null,living_room_commentating:null,living_room_recap_fullscreen:null,living_room_recap_inline:null,lookback:null,messaging:null,misc:null,mobile:null,not_specified_please_fix:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,pages_timeline_pages_cover:null,pages_home_hero:null,video_page_video_list:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,serp_videos_tab:null,slideshow:null,srt_review:null,topic_channel_living_room:null,topic_gaming:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,watchlist:null,video_inline_chaining:null,videohub_featured:null,videohub_playlist:null,live_autoplay_watch_and_scroll:null,video_page_unspecified:null,spotlight_live:null,spotlight_featured:null,spotlight_popular:null,spotlight_unknown:null,videos_card:null,videos_tab:null,playlists_tab:null,playlists_card:null,playlist_page:null,redirected_watch_serp:null}}),null);
__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("destroyOnUnload",["Run"],(function(a,b,c,d,e,f){function a(a){return b("Run").onLeave(a)}e.exports=a}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){__p&&__p();b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2024168130980964",queryID:"292170761620173"})}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("BaseGraphQLSubscription"));g&&g.prototype;a.prototype.getTopic=function(a){"use strict";return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};a.prototype.getQueryID=function(){"use strict";return b("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription").getDocID()};a.prototype.getQueryParameters=function(a){"use strict";return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};a.prototype.getSubscriptionCallName=function(){"use strict";return"live_video_copyright_action_subscribe"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};a.prototype.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};a.prototype.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};a.prototype.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};a.prototype.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};a.prototype.setCode=function(a){this.$1.code=a;return this};a.prototype.setConcluder=function(a){this.$1.concluder=a;return this};a.prototype.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};a.prototype.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};a.prototype.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};a.prototype.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};a.prototype.setEnded=function(a){this.$1.ended=a;return this};a.prototype.setError=function(a){this.$1.error=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExpectedLength=function(a){this.$1.expected_length=a;return this};a.prototype.setInitiator=function(a){this.$1.initiator=a;return this};a.prototype.setIsLive=function(a){this.$1.is_live=a;return this};a.prototype.setIsMuted=function(a){this.$1.is_muted=a;return this};a.prototype.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};a.prototype.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};a.prototype.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};a.prototype.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};a.prototype.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};a.prototype.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};a.prototype.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};a.prototype.setLength=function(a){this.$1.length=a;return this};a.prototype.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};a.prototype.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};a.prototype.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};a.prototype.setManifestType=function(a){this.$1.manifest_type=a;return this};a.prototype.setParentID=function(a){this.$1.parent_id=a;return this};a.prototype.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayerVersion=function(a){this.$1.player_version=a;return this};a.prototype.setPlayhead=function(a){this.$1.playhead=a;return this};a.prototype.setPreloadTime=function(a){this.$1.preload_time=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};a.prototype.setPriorityFloat=function(a){this.$1.priority_float=a;return this};a.prototype.setPushed=function(a){this.$1.pushed=a;return this};a.prototype.setReason=function(a){this.$1.reason=a;return this};a.prototype.setRepresentationID=function(a){this.$1.representation_id=a;return this};a.prototype.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};a.prototype.setResource=function(a){this.$1.resource=a;return this};a.prototype.setResult=function(a){this.$1.result=a;return this};a.prototype.setScriptPath=function(a){this.$1.script_path=a;return this};a.prototype.setSegmentCount=function(a){this.$1.segment_count=a;return this};a.prototype.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};a.prototype.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};a.prototype.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};a.prototype.setSequentialID=function(a){this.$1.sequential_id=a;return this};a.prototype.setSession=function(a){this.$1.session=a;return this};a.prototype.setState=function(a){this.$1.state=a;return this};a.prototype.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};a.prototype.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};a.prototype.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};a.prototype.setTotalFrames=function(a){this.$1.total_frames=a;return this};a.prototype.setType=function(a){this.$1.type=a;return this};a.prototype.setUpdatePeriod=function(a){this.$1.update_period=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};a.prototype.setWasDelayed=function(a){this.$1.was_delayed=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,device_pixel_ratio:!0,dropped_frames:!0,dynamic_bitrate:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("VideosInfraLoapTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setEventCreationTime=function(a){this.$1.event_creation_time=a;return this};a.prototype.setEventID=function(a){this.$1.event_id=a;return this};a.prototype.setEventName=function(a){this.$1.event_name=a;return this};a.prototype.setEventSeverity=function(a){this.$1.event_severity=a;return this};a.prototype.setMetadata=function(a){this.$1.metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setParentSource=function(a){this.$1.parent_source=a;return this};a.prototype.setSource=function(a){this.$1.source=a;return this};a.prototype.setStreamID=function(a){this.$1.stream_id=a;return this};a.prototype.setStreamType=function(a){this.$1.stream_type=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setTraceID=function(a){this.$1.trace_id=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={clienttime:!0,event_creation_time:!0,event_id:!0,event_name:!0,event_severity:!0,metadata:!0,parent_source:!0,source:!0,stream_id:!0,stream_type:!0,time:!0,trace_id:!0,weight:!0};e.exports=a}),null);
__d("FullScreen",["ArbiterMixin","CSS","Event","Keys","UserAgent","UserAgent_DEPRECATED","mixin","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i=!1,j=function(a){b("Event").getKeyCode(a)===b("Keys").ESC&&a.stopPropagation()},k=function(){i||(document.addEventListener("keydown",j,!0),i=!0)},l=function(){i&&(document.removeEventListener("keydown",j,!0),i=!1)};g=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g&&g.prototype;a.prototype.listenForEvent=function(a){"use strict";var c=b("throttle")(this.onChange,0,this);h[a.id]||(h[a.id]=!0,b("Event").listen(a,{webkitfullscreenchange:c,mozfullscreenchange:c,MSFullscreenChange:c,fullscreenchange:c}))};a.prototype.enableFullScreen=function(a){"use strict";__p&&__p();this.listenForEvent(a);if(a.webkitRequestFullScreen)b("UserAgent_DEPRECATED").chrome()?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else if(a.msRequestFullscreen)k(),a.msRequestFullscreen();else if(a.requestFullScreen)a.requestFullScreen();else return!1;return!0};a.prototype.disableFullScreen=function(){"use strict";__p&&__p();if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.exitFullScreen)document.exitFullScreen();else return!1;return!0};a.prototype.isFullScreen=function(){"use strict";return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement};a.prototype.toggleFullScreen=function(a){"use strict";if(this.isFullScreen()){this.disableFullScreen();return!1}else return this.enableFullScreen(a)};a.prototype.onChange=function(){"use strict";var a=this.isFullScreen();b("CSS").conditionClass(document.body,"fullScreen",a);this.inform("changed");a||l()};a.prototype.isSupportedWithKeyboardInput=function(){"use strict";return this.isSupported()&&!b("UserAgent").isBrowser("Safari")};a.prototype.isSupported=function(){"use strict";var a=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return a||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen};function a(){"use strict";g.apply(this,arguments)}c=new a();d=b("throttle")(c.onChange,0,c);b("Event").listen(document,{webkitfullscreenchange:d,mozfullscreenchange:d,MSFullscreenChange:d,fullscreenchange:d});e.exports=c}),null);
__d("ViewportTrackingHelper",["DOMDimensions","ge","getElementPosition","getElementRect","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isDescendantOf:function(a,b){if(a===b)return!0;while(a&&a.parentElement){if(a.parentElement===b)return!0;a=a.parentElement}return!1},isVisible:function(a,c){return g.isVisibleInDimension(b("getViewportDimensions")(),a,c)},isVisibleUnderBluebar:function(a,c){var d=b("ge")("pagelet_bluebar");return d==null?g.isVisible(a,c):g.isVisibleInDimension(b("getViewportDimensions")(),a,c,d.clientHeight)},isFullyVisibleInContainer:function(a,c){a=b("getElementRect")(a);c=b("getElementRect")(c);return c.top>=a.top&&c.bottom<=a.bottom&&c.left>=a.left&&c.right<=a.right},isVisibleInDimension:function(a,c,d,e){e===void 0&&(e=0);var f=b("getElementPosition")(c);c=b("DOMDimensions").getElementDimensions(c);if(!f.x&&!f.y&&!c.height&&!c.width)return!1;e=Math.max(f.y,e);f=Math.min(f.y+c.height,a.height);a=Math.min(c.height,d);return f-e>=a},getHeightIfVisible:function(a,c){var d=this.getHeightInViewport(a);a=b("DOMDimensions").getElementDimensions(a);a=Math.min(a.height,c);return d>=a?d:0},getHeightInViewport:function(a){var c=b("getElementPosition")(a);a=b("DOMDimensions").getElementDimensions(a);if(!c.x&&!c.y&&!a.x&&!a.y)return 0;var d=b("getViewportDimensions")().height,e=Math.max(c.y,0);c=Math.min(c.y+a.height,d);return c-e},getElementsInViewIgnoreHeight:function(a){var b=!1,c=[];for(var d=0;d<a.length;d++){var e=a[d];if(this.isVisible(e,0,null))c.push(e),b=!0;else if(b)break}return c}};e.exports=g}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("Duration.react",["React","ServerTime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=500,i=1e3,j=60,k=60;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={duration:0}}a.prototype.UNSAFE_componentWillMount=function(){this.$2()};a.prototype.componentWillUnmount=function(){b("clearTimeout")(this.$1)};a.prototype.$2=function(){var a;this.props.useLocalTime?a=Date.now():a=b("ServerTime").getMillis();this.setState({duration:Math.max(a-this.props.startTime,0)});this.$1=b("setTimeout")(function(){return this.$2()}.bind(this),h)};a.prototype.render=function(){__p&&__p();var a=Math.floor(this.state.duration/i),c=a%j;a=Math.floor(a/j);var d=a%k;a=Math.floor(a/k);var e="";a>0&&(e=a+":");a=d+":";a.length<3&&e.length>0&&(a="0"+a);d=""+c;d.length<2&&(d="0"+d);return b("React").createElement("span",null,e,a,d)};a.defaultProps={useLocalTime:!1};e.exports=a}),null);
__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g,h=1500;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$StaleVideoMonitor4=null,this.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))(),this.$StaleVideoMonitor2=a.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor5=a,this.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(a,"playing",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"play",function(){return this.$StaleVideoMonitor6()}.bind(this)),b("EventListener").listen(a,"timeupdate",function(){return this.$StaleVideoMonitor6()}.bind(this)))}a.prototype.$StaleVideoMonitor7=function(){"use strict";__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};a.prototype.$StaleVideoMonitor9=function(a){"use strict";this.$StaleVideoMonitor10(),this.$StaleVideoMonitor4=b("setTimeout")(function(){return this.$StaleVideoMonitor7()}.bind(this),a)};a.prototype.$StaleVideoMonitor10=function(){"use strict";this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};a.prototype.$StaleVideoMonitor8=function(){"use strict";this.$StaleVideoMonitor6()};a.prototype.$StaleVideoMonitor6=function(){"use strict";this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(h))};a.prototype.$StaleVideoMonitor11=function(){"use strict";this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};a.prototype.notifyBuffering=function(){"use strict";this.$StaleVideoMonitor10()};a.prototype.notifyBuffered=function(){"use strict";this.$StaleVideoMonitor9(h)};a.prototype.destroy=function(){"use strict";this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};e.exports=a}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=[],this.$1=a}a.prototype.start=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].startTime};a.prototype.end=function(a){"use strict";this.$1[a]||g(0,2205);return this.$1[a].endTime};a.prototype.length=function(){"use strict";return this.$1.length};e.exports=a}),null);
__d("VideoPlayerUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getBufferedAheadOf:function(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}};e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){__p&&__p();var g,h=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];c=44;var i="-"+c+"px 0px 0px";d=babelHelpers.inherits(a,b("EventEmitter"));g=d&&d.prototype;function a(a){"use strict";__p&&__p();g.constructor.call(this);this.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=this.$VideoVisibilityObserver1,d=this.$VideoVisibilityObserver2;this.$VideoVisibilityObserver1=a.intersectionRatio;this.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==this.$VideoVisibilityObserver1||d!==this.$VideoVisibilityObserver2)&&this.emit("visibilityChanged",this.$VideoVisibilityObserver1)}.bind(this);this.$VideoVisibilityObserver1=0;this.$VideoVisibilityObserver2=!1;var c=h,d=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;d&&(c=[.5]);this.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(this.$VideoVisibilityObserver4,{threshold:c,rootMargin:i});this.$VideoVisibilityObserver3.observe(a)}a.prototype.destroy=function(){"use strict";this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};a.prototype.getIsIntersecting=function(){"use strict";return this.$VideoVisibilityObserver2};a.prototype.getCurrentIntersectionRatio=function(){"use strict";return this.$VideoVisibilityObserver1};e.exports=a}),null);
__d("VideoWatchTimeTracker",["VideoPlayerUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}a.prototype.$15=function(){"use strict";var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};a.prototype.$16=function(a){"use strict";if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};a.prototype.$17=function(){"use strict";var a=b("VideoPlayerUtils").getBufferedAheadOf(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};a.prototype.seekStart=function(){"use strict";this.$17(),this.$15()};a.prototype.seekEnd=function(){"use strict";this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)};a.prototype.pause=function(){"use strict";this.$14=this.STATE_PAUSE,this.$17(),this.$15()};a.prototype.playing=function(){"use strict";this.$17(),this.$15(),this.$14=this.STATE_PLAYING};a.prototype.bufferingStart=function(a){"use strict";this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("VideoPlayerUtils").getBufferedAheadOf(this.$2)),this.$14=this.STATE_BUFFERING_START};a.prototype.bufferingEnd=function(a){"use strict";this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};a.prototype.update=function(a){"use strict";this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};a.prototype.getWatchTimeSinceLastReport=function(){"use strict";var a=this.$4;this.$4=0;return a};a.prototype.getTotalWatchTime=function(){"use strict";return this.$3};a.prototype.getStallTimeSinceLastReport=function(){"use strict";var a=this.$8;this.$8=0;return a};a.prototype.getTotalStallTime=function(){"use strict";return this.$7};a.prototype.getStallCountSinceLastReport=function(){"use strict";var a=this.$6;this.$6=0;return a};a.prototype.getTotalStallCount=function(){"use strict";return this.$5};a.prototype.getBufferedTimeSinceLastReport=function(){"use strict";var a=this.$10;this.$10=0;return a};a.prototype.getTotalBufferedTime=function(){"use strict";return this.$9};a.prototype.getGuid=function(){"use strict";return this.$1};e.exports=a}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error"})}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoWithFallbackMode",["Event","SubscriptionsHandler","TimeSlice","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerReason","Visibility"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$1=!1,this.$2=!1,this.$5=function(){this.$1=!0,b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&this.$2&&(this.$6.play(b("VideoPlayerReason").FALLBACK_MODE),this.$2=!1)}.bind(this),this.$8=function(){this.$1=!1}.bind(this),this.$3=new(b("SubscriptionsHandler"))(),c||(c=a,a=null),this.$4=c,a&&this.enable(a)}a.prototype.enable=function(a){"use strict";__p&&__p();this.$3.engage();this.$6=a;if(this.$6.isImplementationUnavailable()||this.$6.getOption("SphericalVideoPlayer","isUnavailable")){this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_UNAVAILABLE);return}this.$3.addSubscriptions(b("Event").listen(window,"blur",this.$8),b("Event").listen(window,"focus",this.$5),b("Visibility").addListener(b("Visibility").HIDDEN,this.$8),b("Visibility").addListener(b("Visibility").VISIBLE,this.$5),a.addListener("error",this.$9.bind(this)));if(this.$4.fallbackTimeoutMs){a=this.$4.fallbackTimeoutMs;this.$10=setTimeout(b("TimeSlice").guard(function(){this.$6.isState("loading")&&(this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE),this.$7(b("VideoPlayerLoggerFallbackReasons").TIMEOUT),this.$2=!0)}.bind(this),"VideoWithFallbackMode fallbackTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),a)}};a.prototype.disable=function(){"use strict";this.$3.release(),clearTimeout(this.$10),this.$10=null,this.$6=null};a.prototype.$9=function(a){"use strict";if(this.$6.isState("fallback"))return;this.$6.isState("playing")&&this.$6.pause(b("VideoPlayerReason").FALLBACK_MODE);this.$6.abortLoading();a?this.$7(a):(this.$7(b("VideoPlayerLoggerFallbackReasons").FLASH_ERROR),this.$2=!0)};a.prototype.$7=function(a){"use strict";if(b("VideoPlayerExperiments").disableFallbackModeForInactiveTab&&!this.$1)return;this.$6.setState("fallback");a===b("VideoPlayerLoggerFallbackReasons").TIMEOUT&&this.$6.emit("VideoWithStallRecoveryOverlay/timeout");this.$6.logEvent(b("VideoPlayerLoggerEvent").ENTERED_FALLBACK,{debug_reason:a})};e.exports=a}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled","switchReplica"];e.exports=a}),null);
__d("AbstractVideoPlayerApi",["invariant","EventEmitter","VideoPlayerApiEvents"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(a,b("EventEmitter"));i=h&&h.prototype;a.prototype.addListener=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.addListener.apply(this,b)};a.prototype.emit=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.emit.apply(this,b)};a.prototype.setRelativeSphericalOrientation=function(a,b){"use strict"};a.isImplementationUnavailable=function(){"use strict";return!0};a.prototype.isDrm=function(){"use strict";return!1};a.prototype.setup=function(){"use strict"};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("VideoConfig",[],(function(a,b,c,d,e,f){function a(a){Object.assign(this,a)}e.exports=a}),null);
__d("VideoData",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){"use strict";this.$1=a||{aspect_ratio:0,original_height:0,original_width:0,video_id:""}}h.prototype.hasHD=function(){"use strict";return!!this.$1.hd_src};h.prototype.getEncodingTag=function(){"use strict";return this.$1.encoding_tag};h.prototype.getContentCategory=function(){"use strict";return this.$1.content_category};h.prototype.getVideoID=function(){"use strict";return this.$1.video_id};h.prototype.getVideoURL=function(){"use strict";return this.$1.video_url};h.prototype.getAspectRatio=function(){"use strict";return this.$1.aspect_ratio};h.prototype.getRotation=function(){"use strict";return this.$1.rotation||0};h.prototype.hasSubtitles=function(){"use strict";return!!this.$1.subtitles_src};h.prototype.hasDashManifest=function(){"use strict";return!!this.$1.dash_manifest};h.prototype.getDashManifest=function(){"use strict";return this.$1.dash_manifest};h.prototype.hasHighlightsManifest=function(){"use strict";return!!this.$1.highlights_manifest};h.prototype.getHighlightsManifest=function(){"use strict";return this.$1.highlights_manifest};h.prototype.getDashPrefetchedRepresentationIDs=function(){"use strict";return this.$1.dash_prefetched_representation_ids};h.prototype.getSubtitlesSrc=function(){"use strict";this.$1.subtitles_src||g(0,1109);return this.$1.subtitles_src};h.prototype.getPlayableSrcSD=function(){"use strict";return this.$1.sd_src_no_ratelimit?this.$1.sd_src_no_ratelimit:this.getPlayableSrcRateLimitedSD()};h.prototype.getPlayableSrcHD=function(){"use strict";return this.$1.hd_src_no_ratelimit?this.$1.hd_src_no_ratelimit:this.getPlayableSrcRateLimitedHD()};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$1.sd_src};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$1.hd_src};h.prototype.getLiveManifestUrl=function(){"use strict";this.isLiveStream()||g(0,1110);return this.getPlayableSrcRateLimitedSD()};h.prototype.hasRateLimit=function(){"use strict";return!!this.$1.sd_src_no_ratelimit};h.prototype.getStreamType=function(){"use strict";this.$1.stream_type||g(0,1111);return this.$1.stream_type};h.prototype.isBroadcast=function(){"use strict";return!!this.$1.is_broadcast};h.prototype.isServableViaFbms=function(){"use strict";return!!this.$1.is_servable_via_fbms};h.prototype.isLiveStream=function(){"use strict";return!!this.$1.is_live_stream};h.prototype.isLowLatency=function(){"use strict";return!!this.$1.is_low_latency};h.prototype.getDesiredLatencyMs=function(){"use strict";return this.$1.desired_latency_ms};h.prototype.isPredictiveDash=function(){"use strict";return!!this.$1.is_predictive_dash};h.prototype.isEnabledForCVCv3=function(){"use strict";return!!this.$1.is_enabled_for_cvc_v3};h.prototype.isFacecastAudio=function(){"use strict";return!!this.$1.is_facecast_audio};h.prototype.liveRoutingToken=function(){"use strict";return this.$1.live_routing_token};h.prototype.getHDTag=function(){"use strict";return this.$1.hd_tag};h.prototype.getSDTag=function(){"use strict";return this.$1.sd_tag};h.prototype.getProjection=function(){"use strict";return this.$1.projection};h.prototype.getPlayerVersionOverwrite=function(){"use strict";return this.$1.player_version_overwrite};h.prototype.getFalloverData=function(){"use strict";var a=this.$1.fallover_data;return a?a.map(function(a){return new h(a)}):[]};h.prototype.getSphericalConfig=function(){"use strict";return this.$1.spherical_config};h.prototype.isSpherical=function(){"use strict";return!!this.$1.is_spherical};h.prototype.getOriginalHeight=function(){"use strict";return this.$1.original_height};h.prototype.getOriginalWidth=function(){"use strict";return this.$1.original_width};h.prototype.getOverrideConfig=function(){"use strict";return this.$1.override_config};h.prototype.getRawData=function(){"use strict";return this.$1};h.prototype.getPrefetchCache=function(){"use strict";return this.$1.prefetch_cache};h.prototype.getWidevineCert=function(){"use strict";return this.$1.widevine_cert};e.exports=h}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var i=this.getVideoElement();if(h){var j=i.pause;i.pause=function(){this._recentPausedTime=i.currentTime;return j.apply(i)}.bind(this)}d&&(this._overwriteVideoCurrentTimeProperty(i),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(i);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=i.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;i.readyState>=i.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(i,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(i,"ended",this.onEnded.bind(this)),b("EventListener").listen(i,"pause",this.onPause.bind(this)),b("EventListener").listen(i,"playing",this.onPlaying.bind(this)),b("EventListener").listen(i,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(i,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(i,"play",this.onPlay.bind(this)),b("EventListener").listen(i,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(i,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(i,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,b){__p&&__p();this._loggedEvents[a]=!0;b=b?b:{};b.video_id=this.getVideoID();b.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(b,"video_time_position")||(b.video_time_position=this._getVideoCurrentTime());b.time_ms||(b.time_ms=Date.now());b.time=Math.round(b.time_ms/1e3);if(this.getAdClientToken){var c=this.getAdClientToken();c&&(b.ad_client_token=c)}this.getPlayerFormat&&(b.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(b.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(b.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,b)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();this._didOverwriteVideoCurrentTimeProperty=!1;try{var b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!b)return;if(typeof b.get!=="function"||typeof b.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return b.get.call(this)},set:function(c){this._currentTimeAtSeekStart===g&&(this._currentTimeAtSeekStart=b.get.call(a)),b.set.call(a,c)}.bind(this),configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,c){"use strict";g.constructor.call(this),this.$MediaBufferingDetector1=a,this.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))(),this.$MediaBufferingDetector1.paused||this.$MediaBufferingDetector8(),this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"playing",function(){return this.$MediaBufferingDetector9()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"pause",function(){return this.$MediaBufferingDetector10()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"ended",function(){return this.$MediaBufferingDetector11()}.bind(this)),b("Event").listen(this.$MediaBufferingDetector1,"timeupdate",function(){return this.$MediaBufferingDetector12()}.bind(this))),this.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&this.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(this.$MediaBufferingDetector1,"waiting",function(){return this.$MediaBufferingDetector14()}.bind(this)))}a.prototype.$MediaBufferingDetector15=function(){"use strict";var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};a.prototype.$MediaBufferingDetector18=function(){"use strict";this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};a.prototype.$MediaBufferingDetector8=function(){"use strict";if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return this.$MediaBufferingDetector15()}.bind(this),500)};a.prototype.$MediaBufferingDetector19=function(){"use strict";b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};a.prototype.$MediaBufferingDetector16=function(){"use strict";if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};a.prototype.$MediaBufferingDetector17=function(){"use strict";if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};a.prototype.$MediaBufferingDetector9=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};a.prototype.$MediaBufferingDetector10=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector11=function(){"use strict";this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};a.prototype.$MediaBufferingDetector12=function(){"use strict";this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};a.prototype.$MediaBufferingDetector14=function(){"use strict";this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};a.prototype.$MediaBufferingDetector13=function(a,c){"use strict";return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};a.prototype.destroy=function(){"use strict";b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}a.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};a.prototype.getDOMNode=function(){"use strict";return this.$1};a.prototype.updateDimensions=function(a,b){"use strict";this.$4=a,this.$5=b};e.exports=a}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}e.exports={getDroppedFrames:a,getTotalFrames:b}}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OZ:"oz",REACT_OZ:"react_oz",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",HEROPLAYER2:"heroplayer2",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("classWithMixins",[],(function(a,b,c,d,e,f){function a(a,b){var c=function(){a.apply(this,arguments)};c.prototype=Object.assign(Object.create(a.prototype),b.prototype);return c}e.exports=a}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b={h264baseline:a(g,b(30),f),h264main30avc:a(g,c(30),f),h264main31avc:a(g,c(31),f),h264high50avc:a(g,d(50),f),h264high51avc:a(g,d(51),f)};e.exports=b}),null);
__d("canVideoPlayType",["DOM"],(function(a,b,c,d,e,f){var g=null;function a(a){g=g||b("DOM").create("video");return!("canPlayType"in g)?"":g.canPlayType(a)}e.exports=a}),null);
__d("supportsHTML5Video",["DOM","memoize"],(function(a,b,c,d,e,f){e.exports=b("memoize")(function(){return!!b("DOM").create("video").canPlayType})}),null);
__d("isHTML5VideoImplementationUnavailable",["VideoMimeTypes","canVideoPlayType","supportsHTML5Video"],(function(a,b,c,d,e,f){a=function(a){if(a){a=b("canVideoPlayType")(b("VideoMimeTypes").h264main30avc);return a!=="probably"}return!b("supportsHTML5Video")()};e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=i(a,function(){if(!c)return;c.remove();c=null;for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=h(a,function(){c.remove();for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];b.apply(this,d)}.bind(this))};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","Promise","regeneratorRuntime","AbstractVideoPlayerApi","Arbiter","Bootloader","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","FBLogger","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerVersions","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","clearTimeout","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getHTMLMediaElementMutedState","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=null;b("requireWeak")("TVViewerConfigsManager",function(a){return k=a});function l(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function m(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}var n=-1,o=.05,p=476,q=476;a=babelHelpers.inherits(r,b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));h=a&&a.prototype;function r(a,c){"use strict";__p&&__p();h.constructor.call(this);this.$VideoPlayerHTML5Api37=a;this.$VideoPlayerHTML5Api43=c?c.shakaConfig:null;this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api37.id;this.preventSeekLoggingInMixin=!0;this.$VideoPlayerHTML5Api62("allow_seek_logging_in_mixin",!1)&&(this.preventSeekLoggingInMixin=!1);a=this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api55=a.width;this.$VideoPlayerHTML5Api14=a.height;c?this.$VideoPlayerHTML5Api9=c:this.$VideoPlayerHTML5Api9=JSON.parse(this.$VideoPlayerHTML5Api37.getAttribute("data-config"));this.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(this.$VideoPlayerHTML5Api37,this.$VideoPlayerHTML5Api43);this.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));this.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));this.$VideoPlayerHTML5Api24=n;this.$VideoPlayerHTML5Api26=b("getHTMLMediaElementMutedState")(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume;this.$VideoPlayerHTML5Api25=!1;this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api30=!1;this.$VideoPlayerHTML5Api3=!1;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api37.getAttribute("preload")=="auto";this.$VideoPlayerHTML5Api33=null;this.$VideoPlayerHTML5Api39=new(b("StaleVideoMonitor"))(this.$VideoPlayerHTML5Api37);this.$VideoPlayerHTML5Api39.addListener("stale",function(a,b){return this.$VideoPlayerHTML5Api66(a,b)}.bind(this));this.$VideoPlayerHTML5Api12=!1;this.$VideoPlayerHTML5Api42=!1;this.$VideoPlayerHTML5Api9.lazyPreload&&(this.$VideoPlayerHTML5Api9.onafterloadRegister?b("Run").onAfterLoad(function(){return this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload)}.bind(this)):this.$VideoPlayerHTML5Api37.setAttribute("preload",this.$VideoPlayerHTML5Api9.lazyPreload));this.$VideoPlayerHTML5Api11=this.$VideoPlayerHTML5Api9.disableNativeControls;this.$VideoPlayerHTML5Api46=this.$VideoPlayerHTML5Api9.subtitlesActive;this.$VideoPlayerHTML5Api67();this.preventPauseLoggingInMixin=!1;this.$VideoPlayerHTML5Api44=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api9.useRateLimited;this.$VideoPlayerHTML5Api69(!1);a=b("VideoQualityClasses").indexOf("hd");this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api9.minQuality!==null&&b("VideoQualityClasses").indexOf(this.$VideoPlayerHTML5Api9.minQuality)>=a;this.$VideoPlayerHTML5Api27=this.$VideoPlayerHTML5Api9.minQuality;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api9.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api9.accessToken;this.$VideoPlayerHTML5Api40=this.$VideoPlayerHTML5Api9.startTimestamp;this.$VideoPlayerHTML5Api34=o;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api9.autoFullscreenHD;this.$VideoPlayerHTML5Api31=null;this.$VideoPlayerHTML5Api56=!1;this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api58=this.$VideoPlayerHTML5Api9.unloadShouldCancelPendingRequest;this.$VideoPlayerHTML5Api52=this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(this.$VideoPlayerHTML5Api9.playerInstanceKey,this.$VideoPlayerHTML5Api37):null:null}r.prototype.setup=function(){"use strict";this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api70.bind(this),this.$VideoPlayerHTML5Api9.useEventTime,this.$VideoPlayerHTML5Api62("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api62("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api62("fire_seek_events",!1),this.$VideoPlayerHTML5Api62("fix_pause_current_time_in_mixin",!1)),this.$VideoPlayerHTML5Api71()};r.prototype.getAdClientToken=function(){"use strict";this.$VideoPlayerHTML5Api9.ad_client_token};r.prototype.$VideoPlayerHTML5Api66=function(a,c){"use strict";this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api9.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api9.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};r.prototype.$VideoPlayerHTML5Api64=function(){"use strict";this.emit("buffering"),this.$VideoPlayerHTML5Api39.notifyBuffering(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingStart(Date.now())};r.prototype.$VideoPlayerHTML5Api65=function(){"use strict";this.emit("buffered"),this.$VideoPlayerHTML5Api39.notifyBuffered(),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.bufferingEnd(Date.now())};r.prototype.$VideoPlayerHTML5Api72=function(a){"use strict";this.emit("bufferingProgress",a)};r.prototype.$VideoPlayerHTML5Api73=function(a){"use strict";this.emit("switchReplica",a)};r.prototype.$VideoPlayerHTML5Api74=function(){"use strict";this.emit("networkInterrupted")};r.prototype.$VideoPlayerHTML5Api75=function(){"use strict";this.emit("networkResumed")};r.prototype.$VideoPlayerHTML5Api76=function(){"use strict";this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api56=!0};r.prototype.$VideoPlayerHTML5Api77=function(){"use strict";this.emit("seekRangeChanged")};r.prototype.$VideoPlayerHTML5Api78=function(){"use strict";this.emit("streamResumed"),this.$VideoPlayerHTML5Api56=!1};r.prototype.$VideoPlayerHTML5Api62=function(a,c){"use strict";return this.$VideoPlayerHTML5Api43?this.$VideoPlayerHTML5Api43.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};r.prototype.getVideoPlayerShakaConfig=function(){"use strict";return this.$VideoPlayerHTML5Api43||b("VideoPlayerShakaGlobalConfig")};r.prototype.isStreamInterrupted=function(){"use strict";return this.$VideoPlayerHTML5Api56};r.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerHTML5Api10?this.$VideoPlayerHTML5Api10.getVideoID():this.$VideoPlayerHTML5Api9.video_id};r.prototype.getDroppedFrames=function(){"use strict";return i(this.$VideoPlayerHTML5Api37)};r.prototype.getTotalFrames=function(){"use strict";return j(this.$VideoPlayerHTML5Api37)};r.prototype.isDrm=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isDrm():!1};r.prototype.getDebug=function(){"use strict";return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api38}};r.prototype.getDOMElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerHTML5Api37};r.prototype.getSubscriptions=function(){"use strict";return this.$VideoPlayerHTML5Api44};r.onImplementationReady=function(a,b){"use strict";b()};r.prototype.destroy=function(a){"use strict";if(this.$VideoPlayerHTML5Api12)return;a=a||{};this.$VideoPlayerHTML5Api12=!0;this.$VideoPlayerHTML5Api79();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api80(),this.$VideoPlayerHTML5Api81&&b("DOM").remove(this.$VideoPlayerHTML5Api81));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api44.release()};r.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerHTML5Api10)return null;var a=this.getAvailableVideoQualities();return{isHD:a&&this.getSelectedVideoQuality()==a[a.length-1],streamType:this.$VideoPlayerHTML5Api10.getStreamType(),hasHD:a&&a.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api18,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api38?"DASH manifest":this.$VideoPlayerHTML5Api82(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api10.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api20,projection:this.getVideoProjection(),tagSD:this.$VideoPlayerHTML5Api10.getSDTag(),tagHD:this.$VideoPlayerHTML5Api10.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api10.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api10.isLiveStream()?this.$VideoPlayerHTML5Api10.getLiveManifestUrl():null,isEnabledForCVCv3:this.$VideoPlayerHTML5Api10.isEnabledForCVCv3()}};r.isImplementationUnavailable=function(a){"use strict";return b("isHTML5VideoImplementationUnavailable")(a)};r.prototype.pause=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api22=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api58||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api17?this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api57=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api83();this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.pause():this.$VideoPlayerHTML5Api37.pause()};r.prototype.$VideoPlayerHTML5Api69=function(a){"use strict";this.$VideoPlayerHTML5Api17=a};r.prototype.preload=function(){"use strict";this.$VideoPlayerHTML5Api32||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api84(),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"))};r.prototype.isPreloading=function(){"use strict";return this.$VideoPlayerHTML5Api32};r.prototype.play=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api51||(this.$VideoPlayerHTML5Api51=a);this.$VideoPlayerHTML5Api23=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play"),b("setTimeout")(function(){return b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"playing")}.bind(this),0)):this.$VideoPlayerHTML5Api85();return}this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");this.$VideoPlayerHTML5Api84();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api86()};r.prototype.$VideoPlayerHTML5Api83=function(){"use strict";this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause"),this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api87()};r.prototype.$VideoPlayerHTML5Api87=function(){"use strict";this.$VideoPlayerHTML5Api30=!1,this.$VideoPlayerHTML5Api3=!1};r.prototype.$VideoPlayerHTML5Api88=function(){"use strict";this.$VideoPlayerHTML5Api37.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api32=!0,this.$VideoPlayerHTML5Api37.load(),this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api26};r.prototype.seek=function(a){"use strict";__p&&__p();var b=this.$VideoPlayerHTML5Api62("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api38&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api37.currentTime-a>=c&&this.$VideoPlayerHTML5Api38.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api62("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api37.readyState!==0&&(this.$VideoPlayerHTML5Api37.currentTime=a);else try{this.$VideoPlayerHTML5Api37.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.seekEnd()};r.prototype.removeRotation=function(){"use strict";b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api37,"_56jt"),this.$VideoPlayerHTML5Api37.style.marginLeft="",this.$VideoPlayerHTML5Api37.style.marginTop="",this.$VideoPlayerHTML5Api37.style.width="",this.$VideoPlayerHTML5Api37.style.height=""};r.prototype.applyRotation=function(a){"use strict";__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api37,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api14;var c=this.$VideoPlayerHTML5Api55,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api37.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api37.style.marginTop=d+"px";this.$VideoPlayerHTML5Api37.style.height=c+"px";this.$VideoPlayerHTML5Api37.style.width=a+"px"};r.prototype.$VideoPlayerHTML5Api89=function(a){"use strict";this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api43&&a.isLowLatency()?this.$VideoPlayerHTML5Api43.setContext("latency_level","low"):this.$VideoPlayerHTML5Api43&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api43.setContext("latency_level","predictive"),this.$VideoPlayerHTML5Api43&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api43.setContext("servable_via_fmbs",a.isServableViaFbms())};r.prototype.switchVideo=function(a){"use strict";__p&&__p();if(!this.$VideoPlayerHTML5Api9.videoData||this.$VideoPlayerHTML5Api9.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api9.videoData[a]);this.$VideoPlayerHTML5Api10=a;a.getOverrideConfig()&&this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api89(a);if((a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api9.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var c,d;this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api9.isHighlightEnabled&&a.hasHighlightsManifest();c=a.getDashManifest();a.isLiveStream()&&(d=a.getLiveManifestUrl());var e=a.getDashPrefetchedRepresentationIDs(),f=this.$VideoPlayerHTML5Api9.seekHandler,g=f;f&&(g=function(a){!this.getCurrentTimePosition()?this.$VideoPlayerHTML5Api37.currentTime=a:this.$VideoPlayerHTML5Api17?this.seek(a):f(a)}.bind(this));e=new this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api37,e,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api9.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api27,maxPlayQuality:this.$VideoPlayerHTML5Api28,width:this.$VideoPlayerHTML5Api55,height:this.$VideoPlayerHTML5Api14,manifest:c,manifestUrl:d,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api40,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api9.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api9.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api9.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api9.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api9.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api9.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api9.isSpherical,getSource:this.$VideoPlayerHTML5Api9.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api9.vpcPlayingStateEmitter,seekHandler:g,streamPriorityAdjuster:this.$VideoPlayerHTML5Api9.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api9.videoLiveTrace?this.$VideoPlayerHTML5Api9.videoLiveTrace:null,videoLicenseUri:this.$VideoPlayerHTML5Api9.videoLicenseUri?this.$VideoPlayerHTML5Api9.videoLicenseUri:null,prefetchCache:a.getPrefetchCache(),isGraphApiVideoLicenseUri:this.$VideoPlayerHTML5Api9.isGraphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),videoWatchTimeTracker:this.$VideoPlayerHTML5Api52,desiredLatencyMs:a.getDesiredLatencyMs()});e.addListener("seekRangeChanged",function(){return this.$VideoPlayerHTML5Api77()}.bind(this));e.addListener("bufferingStart",function(){return this.$VideoPlayerHTML5Api64()}.bind(this));e.addListener("bufferingEnd",function(){return this.$VideoPlayerHTML5Api65()}.bind(this));e.addListener("bufferingProgress",this.$VideoPlayerHTML5Api72.bind(this));e.addListener("tracksChanged",function(){return this.emit("qualityChange")}.bind(this));e.addListener("streamInterrupted",function(){return this.$VideoPlayerHTML5Api76()}.bind(this));e.addListener("streamResumed",function(){return this.$VideoPlayerHTML5Api78()}.bind(this));e.addListener("switchReplica",this.$VideoPlayerHTML5Api73.bind(this));e.addListener("networkInterrupted",function(){return this.$VideoPlayerHTML5Api74()}.bind(this));e.addListener("networkResumed",function(){return this.$VideoPlayerHTML5Api75()}.bind(this));e.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});this.emit("qualityChange")}.bind(this));e.addListener("representation_ended",function(a){this.logRepresentationEnded(a)}.bind(this));e.addListener("blocked_paused_representation_ended",function(){this.onBlockedPausedRepresentationEnded()}.bind(this));e.addListener("debug/dashPlayerEvent",function(a){return this.emit("debug/dashPlayerEvent",a)}.bind(this));e.addListener("error",function(a){return this.$VideoPlayerHTML5Api90(a)}.bind(this));e.addListener("cea608AvailabilityChanged",function(){this.$VideoPlayerHTML5Api91()}.bind(this));e.addListener("cea608CaptionsParsed",function(a){this.$VideoPlayerHTML5Api61||(this.$VideoPlayerHTML5Api61=this.$VideoPlayerHTML5Api92()),this.$VideoPlayerHTML5Api61.then(function(b){b.appendFragments(a),this.$VideoPlayerHTML5Api91()}.bind(this))["catch"](function(a){return b("FBLogger")("video").catching(a).mustfix("Caught error in cea608 stream")})}.bind(this));e.setup();this.$VideoPlayerHTML5Api38=e}else{c=this.$VideoPlayerHTML5Api82();c&&(this.$VideoPlayerHTML5Api37.src=c);this.$VideoPlayerHTML5Api40&&this.seek(this.$VideoPlayerHTML5Api40)}this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();a.hasSubtitles()&&this.$VideoPlayerHTML5Api93(this.$VideoPlayerHTML5Api10.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};r.prototype.switchToStreamType=function(a){"use strict"};r.prototype.replaceVideoDataFromURL=function(a){"use strict"};r.prototype.getDashAudioConfiguration=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getDashAudioConfiguration():"none"};r.prototype.getAudioStreamInfoIDDebug=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};r.prototype.getVideoTracksDebug=function(){"use strict";if(this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api38.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};r.prototype.getCurrentlyPlayingVideoStreamInfoID=function(){"use strict";var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api38)return a!=null?this.$VideoPlayerHTML5Api38.getVideoStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api19?this.$VideoPlayerHTML5Api10.getHDTag():this.$VideoPlayerHTML5Api10.getSDTag()};r.prototype.getCurrentlyPlayingAudioStreamInfoID=function(){"use strict";var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api38&&a!=null?this.$VideoPlayerHTML5Api38.getAudioStreamInfoIDForTimePosition(a):null};r.prototype.getLocalEstimator=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getLocalEstimator():null};r.prototype.unmute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api26=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api37.muted=!1};r.prototype.mute=function(){"use strict";if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api26=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api37.muted=!0};r.prototype.setRotation=function(a){"use strict";this.removeRotation(),this.applyRotation(a)};r.prototype.setDimensions=function(a,b){"use strict";this.removeRotation(),this.$VideoPlayerHTML5Api55=a,this.$VideoPlayerHTML5Api14=b,this.applyRotation(this.$VideoPlayerHTML5Api10.getRotation()),this.$VideoPlayerHTML5Api41&&this.$VideoPlayerHTML5Api41.updateDimensions(a,b),this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setDimensions(a,b),this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.setDimensions(a),this.emit("dimensionsChange",a,b)};r.prototype.setVideoStreamOffset=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setVideoStreamOffset(a)};r.prototype.$VideoPlayerHTML5Api94=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api67=function(){"use strict";this.$VideoPlayerHTML5Api37.controls=this.$VideoPlayerHTML5Api37.controls&&!this.$VideoPlayerHTML5Api11};r.prototype.$VideoPlayerHTML5Api68=function(){"use strict";this.$VideoPlayerHTML5Api13=b("EventListener").listen(this.$VideoPlayerHTML5Api37,"error",this.$VideoPlayerHTML5Api95.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api44.addSubscriptions(this.$VideoPlayerHTML5Api13),this.$VideoPlayerHTML5Api44.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api37,"playing",this.$VideoPlayerHTML5Api96.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"play",this.$VideoPlayerHTML5Api85.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"ended",this.$VideoPlayerHTML5Api97.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"waiting",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"pause",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"volumechange",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mousedown",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"mouseup",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"timeupdate",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"click",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"loadedmetadata",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"progress",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api37,"seeked",this.$VideoPlayerHTML5Api107.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"pause",this.$VideoPlayerHTML5Api108.bind(this)))};r.prototype.$VideoPlayerHTML5Api109=function(a){"use strict";this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};r.prototype.$VideoPlayerHTML5Api108=function(a){"use strict";if(a.target!==this.$VideoPlayerHTML5Api37)return;this.$VideoPlayerHTML5Api37.ended||(this.$VideoPlayerHTML5Api57&&this.$VideoPlayerHTML5Api109(a),a.lastPauseReason=this.$VideoPlayerHTML5Api22);this.$VideoPlayerHTML5Api57=!1;this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.pause()};r.prototype.$VideoPlayerHTML5Api106=function(){"use strict";__p&&__p();var a=this.$VideoPlayerHTML5Api37.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api37.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api71();this.$VideoPlayerHTML5Api110("flash/updateBuffer",{duration:b,offset:c})};r.prototype.$VideoPlayerHTML5Api79=function(){"use strict";b("clearTimeout")(this.$VideoPlayerHTML5Api29)};r.prototype.$VideoPlayerHTML5Api71=function(){"use strict";this.$VideoPlayerHTML5Api79(),this.$VideoPlayerHTML5Api37.networkState===this.$VideoPlayerHTML5Api37.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api29=b("setTimeout")(function(){return this.$VideoPlayerHTML5Api111()}.bind(this),r.networkTimeout))};r.prototype.$VideoPlayerHTML5Api111=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};r.prototype.$VideoPlayerHTML5Api103=function(){"use strict";var a;this.$VideoPlayerHTML5Api1?a=this.$VideoPlayerHTML5Api1.currentTime:a=this.$VideoPlayerHTML5Api37.currentTime;this.$VideoPlayerHTML5Api110("flash/updateStatus",{position:+a.toFixed(3)})};r.prototype.$VideoPlayerHTML5Api104=function(a){"use strict";if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};r.prototype.isPaused=function(){"use strict";return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api37.paused||this.$VideoPlayerHTML5Api37.ended:this.$VideoPlayerHTML5Api37.paused};r.prototype.$VideoPlayerHTML5Api112=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api37.duration};r.prototype.$VideoPlayerHTML5Api98=function(){"use strict";if(this.$VideoPlayerHTML5Api62("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api112()||(this.$VideoPlayerHTML5Api54=!0,this.$VideoPlayerHTML5Api110("flash/buffering"))};r.prototype.setVolume=function(a){"use strict";this.$VideoPlayerHTML5Api37.volume=a};r.prototype.$VideoPlayerHTML5Api100=function(){"use strict";this.$VideoPlayerHTML5Api37.muted!==this.$VideoPlayerHTML5Api26&&this.$VideoPlayerHTML5Api37.volume===this.$VideoPlayerHTML5Api53&&this.$VideoPlayerHTML5Api37.volume>0?(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,!this.$VideoPlayerHTML5Api37.muted?this.$VideoPlayerHTML5Api110("flash/unmuteVideo"):this.$VideoPlayerHTML5Api110("flash/muteVideo")):(this.$VideoPlayerHTML5Api26=this.$VideoPlayerHTML5Api37.muted,this.$VideoPlayerHTML5Api53=this.$VideoPlayerHTML5Api37.volume,this.$VideoPlayerHTML5Api110("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api37.volume})),this.$VideoPlayerHTML5Api37.muted||this.$VideoPlayerHTML5Api110("flash/turnOffAutoplay",{reason:"unmuted"})};r.prototype.$VideoPlayerHTML5Api101=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!0)};r.prototype.$VideoPlayerHTML5Api102=function(a){"use strict";a.button===0&&(this.$VideoPlayerHTML5Api25=!1)};r.prototype.$VideoPlayerHTML5Api96=function(){"use strict";this.$VideoPlayerHTML5Api69(!1),this.$VideoPlayerHTML5Api54&&(this.$VideoPlayerHTML5Api54=!1,this.$VideoPlayerHTML5Api110("flash/buffered")),this.$VideoPlayerHTML5Api52&&this.$VideoPlayerHTML5Api52.playing()};r.prototype.$VideoPlayerHTML5Api85=function(){"use strict";this.$VideoPlayerHTML5Api18=!0,this.$VideoPlayerHTML5Api94(),this.$VideoPlayerHTML5Api91(),this.$VideoPlayerHTML5Api110("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api23}),this.$VideoPlayerHTML5Api71()};r.prototype.$VideoPlayerHTML5Api99=function(a){"use strict";__p&&__p();var c=this.$VideoPlayerHTML5Api62("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api37.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);return}if(this.$VideoPlayerHTML5Api37.seeking&&this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api62("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api25)return;if(this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api22=null;return}(this.$VideoPlayerHTML5Api22===null||this.$VideoPlayerHTML5Api22===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api110("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api22=null;this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api110("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api37.currentTime.toFixed(2)})};r.prototype.$VideoPlayerHTML5Api97=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api18=!1;this.$VideoPlayerHTML5Api69(!1);this.$VideoPlayerHTML5Api110("flash/finishPlayback");this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api107=function(){"use strict";this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api37.currentTime.toFixed(3)})};r.prototype.getEstimatedBandwidth=function(){"use strict";return this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api9.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};r.prototype.$VideoPlayerHTML5Api105=function(){"use strict";this.$VideoPlayerHTML5Api110("flash/updateMetadata")};r.prototype.$VideoPlayerHTML5Api90=function(a){"use strict";this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api30}))};r.prototype.$VideoPlayerHTML5Api95=function(){"use strict";if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api37.error)return;var a=this.$VideoPlayerHTML5Api37.error,b=a.message;b||(b=l(a.code));this.emit("error",{error:m(a.code),isPlayback:this.$VideoPlayerHTML5Api30,message:b})};r.prototype.$VideoPlayerHTML5Api70=function(a,c){"use strict";a===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api38&&(c.longest_init_response_time=this.$VideoPlayerHTML5Api38.getLongestInitResponseTime()),c.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api110("flash/logEvent",{logData:babelHelpers["extends"]({event:a},c)})};r.prototype.$VideoPlayerHTML5Api110=function(a,c){"use strict";b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api15},c)),this.emit(a.substr("flash/".length),c)};r.prototype.getLastPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api23};r.prototype.getVideoPlayReason=function(){"use strict";return this.$VideoPlayerHTML5Api51};r.prototype.isMuted=function(){"use strict";return this.$VideoPlayerHTML5Api26};r.prototype.setPlaybackRate=function(a){"use strict";this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.setPlaybackRate(a):this.$VideoPlayerHTML5Api37.playbackRate=a};r.prototype.getPlaybackRate=function(){"use strict";if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getPlaybackRate();else return this.$VideoPlayerHTML5Api37.playbackRate};r.prototype.getPlaybackDuration=function(){"use strict";return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api37.duration||0};r.prototype.getVolume=function(){"use strict";return this.$VideoPlayerHTML5Api37.volume};r.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerHTML5Api37.currentTime};r.prototype.getBufferEndPosition=function(){"use strict";var a=this.$VideoPlayerHTML5Api37.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};r.prototype.$VideoPlayerHTML5Api82=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api9.fallbackSources.HD?this.$VideoPlayerHTML5Api9.fallbackSources.HD:this.$VideoPlayerHTML5Api9.fallbackSources.SD;if(this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api10.hasHD())return this.$VideoPlayerHTML5Api113();else return this.$VideoPlayerHTML5Api114()};r.prototype.$VideoPlayerHTML5Api113=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcHD()};r.prototype.$VideoPlayerHTML5Api114=function(){"use strict";if(this.$VideoPlayerHTML5Api20)return this.$VideoPlayerHTML5Api10.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api10.getPlayableSrcSD()};r.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerHTML5Api46=!this.$VideoPlayerHTML5Api46,this.$VideoPlayerHTML5Api91(),this.emit("toggleSubtitles")};r.prototype.hasSubtitles=function(){"use strict";return this.$VideoPlayerHTML5Api10.hasSubtitles()||!!this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()};r.prototype.areSubtitlesActive=function(){"use strict";return this.$VideoPlayerHTML5Api46};r.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.areSubtitlesAutogenerated():!1};r.prototype.areHLSActive=function(){"use strict";return!1};r.prototype.isRTMP=function(){"use strict";return!1};r.prototype.setSubtitlesStyle=function(a,b,c,d){"use strict";this.$VideoPlayerHTML5Api47=a,this.$VideoPlayerHTML5Api48=b,this.$VideoPlayerHTML5Api49=c,this.$VideoPlayerHTML5Api50=d};r.prototype.$VideoPlayerHTML5Api91=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.hasSubtitles()&&this.$VideoPlayerHTML5Api38.enableSubtitles(this.$VideoPlayerHTML5Api46),this.$VideoPlayerHTML5Api46?this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.showSubtitles():this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.hideSubtitles()};r.prototype.$VideoPlayerHTML5Api115=function(){"use strict";this.$VideoPlayerHTML5Api18&&this.$VideoPlayerHTML5Api91(),this.emit("loadedSubtitles"),this.$VideoPlayerHTML5Api45.setSubtitlesStyle(this.$VideoPlayerHTML5Api47,this.$VideoPlayerHTML5Api48,this.$VideoPlayerHTML5Api49,this.$VideoPlayerHTML5Api50)};r.prototype.$VideoPlayerHTML5Api93=function(a){"use strict";__p&&__p();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(b,c){this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;c=new c(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api115()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api")};r.prototype.$VideoPlayerHTML5Api92=function(){"use strict";__p&&__p();var a=new(b("Deferred"))();b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(b,c){c=new c(this.$VideoPlayerHTML5Api37);a.resolve(c);this.$VideoPlayerHTML5Api45&&this.$VideoPlayerHTML5Api45.removeSubtitles();var d=this.$VideoPlayerHTML5Api9.subtitleDrawer;this.$VideoPlayerHTML5Api45=new b(this.$VideoPlayerHTML5Api37,c);this.$VideoPlayerHTML5Api45.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api115()}.bind(this));this.$VideoPlayerHTML5Api45.registerDrawer(d);this.$VideoPlayerHTML5Api45.loadSubtitles()}.bind(this),"VideoPlayerHTML5Api");return a.getPromise()};r.prototype.setStillFrameEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api42=!a};r.prototype.$VideoPlayerHTML5Api63=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api62("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api37.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api37.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api37.width||p,height:Number(c)||this.$VideoPlayerHTML5Api37.height||q}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api37)};r.prototype.getDimensionsForDevice=function(){"use strict";var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api63();return{width:b.width*a,height:b.height*a}};r.prototype.$VideoPlayerHTML5Api116=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api42)return;if(!this.$VideoPlayerHTML5Api41){var a=this.$VideoPlayerHTML5Api63();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api37,a);this.$VideoPlayerHTML5Api41=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api37)}else a=this.$VideoPlayerHTML5Api41;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api80=function(){"use strict";if(!this.$VideoPlayerHTML5Api41)return;b("CSS").hide(this.$VideoPlayerHTML5Api41.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api37)};r.prototype.$VideoPlayerHTML5Api84=function(a){__p&&__p();a===void 0&&(a=null);var c=this.$VideoPlayerHTML5Api1;if(!c)return;if(this.$VideoPlayerHTML5Api21)return;this.$VideoPlayerHTML5Api21=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();a=a==null?c.currentTime:a;if(this.$VideoPlayerHTML5Api38)this.$VideoPlayerHTML5Api38.reload(a);else{var d=this.$VideoPlayerHTML5Api82();d&&(this.$VideoPlayerHTML5Api37.src=d);this.$VideoPlayerHTML5Api37.preload=c.preload}b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api37,a,function(){this.$VideoPlayerHTML5Api80(),this.$VideoPlayerHTML5Api1&&(this.$VideoPlayerHTML5Api37.muted=this.$VideoPlayerHTML5Api1.mutedState,this.$VideoPlayerHTML5Api1=null,this.emit("restoredAfterAbort")),this.$VideoPlayerHTML5Api21=!1,b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){return this.$VideoPlayerHTML5Api86()}.bind(this))}.bind(this))};r.prototype.abortLoadingWithoutStillFrame=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api1)return;var a=this.$VideoPlayerHTML5Api37.currentTime,c=this.isMuted(),d=this.$VideoPlayerHTML5Api37.duration,e=this.isPaused(),f=this.$VideoPlayerHTML5Api37.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api10&&this.$VideoPlayerHTML5Api10.isLiveStream()){var g=this.getSeekableRanges();if(g){var h=g.length()-1;g=g.end(h);a=g}}this.$VideoPlayerHTML5Api32=!1;this.$VideoPlayerHTML5Api1={mutedState:c,currentTime:a,playbackDuration:d,preload:f};e&&this.$VideoPlayerHTML5Api18&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"pause");this.emit("abortedLoading");if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.unload();return}this.$VideoPlayerHTML5Api37.preload="none";this.$VideoPlayerHTML5Api37.removeAttribute("src");this.$VideoPlayerHTML5Api37.load()};r.prototype.abortLoading=function(a){"use strict";if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api116();this.abortLoadingWithoutStillFrame()};r.prototype.setPreferredVideoQuality=function(a){"use strict";__p&&__p();this.$VideoPlayerHTML5Api31=a;if(!this.$VideoPlayerHTML5Api10)return;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api38.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api19=!this.$VideoPlayerHTML5Api19;var c=this.$VideoPlayerHTML5Api37.currentTime,d=this.$VideoPlayerHTML5Api37.muted,e=this.$VideoPlayerHTML5Api37.volume;a=this.$VideoPlayerHTML5Api82();a&&(this.$VideoPlayerHTML5Api37.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api37,function(){this.$VideoPlayerHTML5Api37.currentTime=c,this.$VideoPlayerHTML5Api37.muted=d,this.$VideoPlayerHTML5Api37.volume=e,this.$VideoPlayerHTML5Api86(),this.emit("qualityChange")}.bind(this));this.$VideoPlayerHTML5Api30=!0;this.$VideoPlayerHTML5Api69(!0);this.$VideoPlayerHTML5Api88()};r.prototype.unsetPreferredVideoQuality=function(){"use strict";this.$VideoPlayerHTML5Api31=null,this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.unsetPreferredVideoQuality()};r.prototype.getPreferredVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api31};r.prototype.getSelectedVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getSelectedVideoQuality():this.$VideoPlayerHTML5Api19?"HD":"SD"};r.prototype.getAvailableVideoQualities=function(){"use strict";if(this.$VideoPlayerHTML5Api9.fallbackSources)return this.$VideoPlayerHTML5Api9.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api10)return[];return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getAvailableVideoQualities():this.$VideoPlayerHTML5Api10.hasHD()?["SD","HD"]:["SD"]};r.prototype.getIsAbrEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getIsAbrEnabled():!1};r.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.canAutoSelectVideoQuality():!1};r.prototype.setPreloadDisabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setPreloadDisabled(a)};r.prototype.restoreStreamBufferSize=function(){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.restoreStreamBufferSize()};r.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setSmartBufferAdjustmentEnabled(a)};r.getPlayerVersion=function(){"use strict";return b("VideoPlayerVersions").PLEASANTVILLE};r.prototype.getUpdatedPlayerVersion=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.getPlayerVersion()||r.getPlayerVersion():r.getPlayerVersion()};r.prototype.getVideoNodeSource=function(){"use strict";return this.$VideoPlayerHTML5Api37.src||""};r.prototype.getVideoProjection=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33;if(this.$VideoPlayerHTML5Api38){this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api38.getVideoProjection();if(this.$VideoPlayerHTML5Api33)return this.$VideoPlayerHTML5Api33}this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api10.getProjection();return this.$VideoPlayerHTML5Api33};r.prototype.$VideoPlayerHTML5Api117=function(){"use strict";this.$VideoPlayerHTML5Api7=this.getCurrentTimePosition()};r.prototype.$VideoPlayerHTML5Api118=function(){"use strict";this.$VideoPlayerHTML5Api7?(this.$VideoPlayerHTML5Api34=this.$VideoPlayerHTML5Api7,this.$VideoPlayerHTML5Api7=null):this.$VideoPlayerHTML5Api34=o};r.prototype.$VideoPlayerHTML5Api119=function(){"use strict";this.$VideoPlayerHTML5Api8=this.getVolume(),this.$VideoPlayerHTML5Api6=this.isMuted()};r.prototype.$VideoPlayerHTML5Api120=function(){"use strict";this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api6&&(this.setVolume(this.$VideoPlayerHTML5Api8),this.$VideoPlayerHTML5Api6?this.mute():this.unmute(),this.$VideoPlayerHTML5Api8=null,this.$VideoPlayerHTML5Api6=null)};r.prototype.reloadDashManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api117();this.abortLoading();return this.$VideoPlayerHTML5Api121(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.reloadLiveVODHighlightsManifest=function(){"use strict";var a=this.$VideoPlayerHTML5Api38;if(a){this.$VideoPlayerHTML5Api117();this.abortLoading();return this.$VideoPlayerHTML5Api121(function(){return a.refreshLiveVODHighlightsManifest()},this.$VideoPlayerHTML5Api34)}return b("Promise").reject()};r.prototype.$VideoPlayerHTML5Api121=function(a,b){"use strict";return a().then(function(){this.$VideoPlayerHTML5Api84(b),this.$VideoPlayerHTML5Api118()}.bind(this))};r.prototype.switchReplicaSet=function(a){"use strict";var b=this.$VideoPlayerHTML5Api38;b&&(this.abortLoading(),b.switchReplicaSet(a),this.$VideoPlayerHTML5Api84())};r.prototype.isPlayingVODHighlights=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isPlayingLiveVODHighlights():!1};r.prototype.$VideoPlayerHTML5Api86=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api30){if(this.$VideoPlayerHTML5Api3)var a=b("EventListener").capture(this.$VideoPlayerHTML5Api37.parentNode,"play",function(c){b("Event").kill(c),a.remove()});this.$VideoPlayerHTML5Api37.ended&&!this.$VideoPlayerHTML5Api37.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api37,"play");if(this.$VideoPlayerHTML5Api38){var c=this.$VideoPlayerHTML5Api38,d=k&&k.isReady()&&k.get("www_videos_shaka_wait_for_buffered");d=d?this.$VideoPlayerHTML5Api122():c.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api37.preload="auto"),d=this.$VideoPlayerHTML5Api37.play();d&&d["catch"]&&d["catch"](function(a){a.name==="NotAllowedError"&&(this.$VideoPlayerHTML5Api70(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),this.$VideoPlayerHTML5Api110("flash/playbackNotAllowed")),this.$VideoPlayerHTML5Api69(!1)}.bind(this))}this.$VideoPlayerHTML5Api87()};r.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.$VideoPlayerHTML5Api16};r.prototype.setEnableLiveheadCatchup=function(a){"use strict";this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.setEnableLiveheadCatchup(a)};r.prototype.isFBWasLive=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBWasLive())};r.prototype.isFBIsLiveTemplated=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBIsLiveTemplated())};r.prototype.isFBMS=function(){"use strict";return!!(this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.isFBMS())};r.prototype.isLiveheadCatchupEnabled=function(){"use strict";return this.$VideoPlayerHTML5Api38?this.$VideoPlayerHTML5Api38.isLiveheadCatchupEnabled():!1};r.prototype.getSeekableRanges=function(){"use strict";__p&&__p();if(this.$VideoPlayerHTML5Api38)return this.$VideoPlayerHTML5Api38.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api37){var c=this.$VideoPlayerHTML5Api37.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};r.prototype.$VideoPlayerHTML5Api122=function(){"use strict";__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api38)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api37.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api37.buffered.start(0);d=this.$VideoPlayerHTML5Api37.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api38)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api38.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};r.getStartMutedFromConfig=function(a){"use strict";return a.muted};r.getStreamTypeFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};r.getIsServableViaFbmsFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};r.getIsPlayingLiveFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};r.getIsFacecastAudioFromConfig=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};r.getIsSpherical=function(a){"use strict";a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};r.networkTimeout=5e3;e.exports=r}),null);
__d("MosUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getQualityLabel:function(a,b){if(a===0||b===0)return 0;if(a<b){var c=a;a=b;b=c}c=a/b;return c>16/9?Math.round(a/(16/9)):b},getMosValue:function(a,b){__p&&__p();var c=null,d=null,e=null,f=null;for(var g=0;g<a.length;g++){var h=a[g].qualityLabel;if(h<=b)e=a[g].mosValue,c=h;else{f=a[g].mosValue;d=h;break}}if(c===null&&d===null)return 0;else if(c===null&&f!==null)return f;else if(d===null&&e!==null)return e;else if(f!==null&&e!==null&&c!==null&&d!==null){h=e+(b-c)*(f-e)/(d-c);return h<0?0:h>100?100:h}return 0},parsePlaybackMos:function(a){__p&&__p();a=a.split(",");var b=[];for(var c=0;c<a.length;c++){var d=a[c].split(":");if(d.length!==2)return null;var e=Number(d[0]);d=Number(d[1]);if(isNaN(e)||isNaN(d))return null;b.push({qualityLabel:e,mosValue:d})}return b},filterTracksWithExpensiveMos:function(a,b,c,d,e,f){__p&&__p();if(a.length<2)return a;var h=a.map(function(a){return{track:a,mosValue:a.playbackResolutionMos?g.getMosValue(a.playbackResolutionMos,g.getQualityLabel(b,c)):-1}}),i=[],j=e;for(var k=h.length-1;k>0;k--){if(h[k].mosValue===-1||h[k-1].mosValue===-1)return a;var l=h[k].track.bandwidth||-1,m=h[k-1].track.bandwidth||-1;if(l===-1||m===-1)return a;if(h[k].mosValue<h[k-1].mosValue&&l>=m)continue;l=h[k-1].track.bandwidth!==null?h[k].mosValue-h[k-1].mosValue:Infinity;if(l<=j&&h[k].track.bandwidth&&d/h[k].track.bandwidth<=f){j-=l;continue}else j=e;i.push(h[k].track)}i.push(h[0].track);i.reverse();return i}};e.exports=g}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(a){f.addSubscriptions(d.addListener(a,h))})}e.exports={operateAsync:a}}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a={evaluate:function(a){__p&&__p();if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b}};e.exports=a}),null);
__d("CoverVideoOffsetType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VERTICAL:0,HORIZONTAL:1})}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=function(){},this.$2=0}a.prototype.setOnPriorityChanged=function(a){this.$1=a};a.prototype.getPriorityAdjustment=function(){return this.$2};a.prototype.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};a.prototype.cleanup=function(){this.$1=function(){}};e.exports=a}),null);
__d("LiveCopyrightAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCK:"block",MUTE:"mute",UNMUTE:"unmute"})}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"2145232792194057"};c.getQueryID=function(){"use strict";return"2180375868916621"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("EventEmitter"));g&&g.prototype;a.prototype.getRootNode=function(){"use strict";return this.$MediaController1};a.prototype.setDimensions=function(a,c){"use strict";var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};a.prototype.getMediaID=function(){"use strict";return this.$MediaController2};a.prototype.isLiveVideo=function(){"use strict";return!1};a.prototype.isVideo=function(){"use strict";return!1};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){__p&&__p();function g(a){"use strict";this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}g.prototype.registerVideoID=function(a){"use strict";this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};g.prototype.getSessionID=function(){"use strict";return this.$1};g.prototype.getCurrentChainLength=function(){"use strict";return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};var h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter3=a}a.prototype.enable=function(){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var a=this.$VideoControllerPlayingStateEmitter2;this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();if(this.$VideoControllerPlayingStateEmitter2===a)return;this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)}.bind(this))),this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState(),this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};a.prototype.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};a.prototype.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};a.prototype.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};a.prototype.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};a.prototype.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};e.exports=a}),null);
__d("VideoLiveTrace",["VideosInfraLoapTypedLogger","gkx","guid"],(function(a,b,c,d,e,f){__p&&__p();var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i=/[\r\n]+/;function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=0}a.prototype.setStreamType=function(a){"use strict";this.$3=a};a.prototype.$4=function(a,c,d,e,f){"use strict";var g="PLY:WWW:",h=Date.now(),i=b("guid")();i=new(b("VideosInfraLoapTypedLogger"))().setStreamID(this.$1).setEventID(i).setStreamType(this.$3).setEventName(a).setEventSeverity(e).setEventCreationTime(h).setSource(g+this.$2).setTraceID(c).setParentSource(d).setMetadata(f);i.log()};a.prototype.handleHeaders=function(a){"use strict";__p&&__p();if(!b("gkx")("678910"))return;var c=[],d="";a=a.trim().split(i);a.forEach(function(a){a=a.split(": ");var b=a.shift().toLowerCase();a=a.shift();if(b===g&&a){var e=a.split(",");c.push.apply(c,e.map(function(a){return+a.split(":")[0]}))}b===h&&(d=a)});if(c.length&&d!==""){var e=d;c.forEach(function(a){return this.$4("SEGMENT",a,e,"SUCCESS")}.bind(this))}};a.prototype.handleXHR=function(a){"use strict";this.handleHeaders(a.getAllResponseHeaders())};e.exports=a}),null);
__d("VideoPlayerAbrEvaluation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IDEAL:"ideal",CONSERVATIVE:"conservative",AGGRESSIVE:"aggressive",CONSERVATIVE_RESOLUTION_CONSTRAINED:"conservative_resolution_constrained"})}),null);
__d("VideoPlayerABRQualityTracker",["VideoPlayerAbrEvaluation"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=null}a.prototype.setLastQualitySwitchReason=function(a){"use strict";this.$2=a};a.prototype.getABREvaluation=function(){"use strict";__p&&__p();var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var c=0,d=0,e=0,f=0,g=this.$2;for(var h=0;h<a.length;h++)switch(a[h]){case b("VideoPlayerAbrEvaluation").IDEAL:c++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE:d++;break;case b("VideoPlayerAbrEvaluation").AGGRESSIVE:e++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED:f++;break}return{idealSamples:c,conservativeSamples:d,aggressiveSamples:e,conservativeResolutionConstrainedSamples:f,lastQualitySwitchReason:g}};e.exports=a}),null);
__d("VideoPlayerFormats",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INLINE:"inline",SNOWLIFT:"snowlift",PERMALINK:"permalink",CHANNEL:"channel",FULL_SCREEN:"full_screen",SOCIAL_PLAYER:"social_player",TV:"tv",MISC:"misc",WATCH_SCROLL:"watch_scroll",WATCH_SCROLL_APP_BACKGROUND:"watch_scroll_app_background",WATCH_AND_GO:"watch_and_go",WATCH_AND_BROWSE:"watch_and_browse",CANVAS:"canvas",TAHOE:"tahoe",FB_STORIES:"fb_stories",UNKNOWN:"unknown"})}),null);
__d("VideoPlayerImmediatePlayReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WATCH_TIME_NOT_LOGGED:"watch_time_not_logged"})}),null);
__d("R2D2VideoMetadata",["uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=10;function a(a){"use strict";this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}a.prototype.toJSON=function(){"use strict";return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs()}};a.prototype.getVideoId=function(){"use strict";return this.$1};a.prototype.getDurationMs=function(){"use strict";return parseInt(this.$6,h)};a.prototype.setDurationMs=function(a){"use strict";this.$6=a};e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$2=0,this.$1=new Map()}a.prototype.addEvent=function(a){"use strict";this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};a.prototype.getEvents=function(){"use strict";return this.$1};a.prototype.getEventsCount=function(){"use strict";return this.$2};a.prototype.toJSON=function(){"use strict";var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b}a.prototype.getStartTimeMs=function(){"use strict";return this.$1};a.prototype.getEndTimeMs=function(){"use strict";return this.$2};e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.reset()}a.prototype.startPlaying=function(a){"use strict";this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};a.prototype.stopPlaying=function(a){"use strict";this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};a.prototype.addPlaySegmentHelper=function(a,c,d){"use strict";__p&&__p();if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};a.prototype.addPlaySegment=function(a,b){"use strict";this.addPlaySegmentHelper(this.$8,a,b)};a.prototype.addPlaySegmentWithSound=function(a,b){"use strict";this.addPlaySegmentHelper(this.$9,a,b)};a.prototype.setFinishedPlaying=function(){"use strict";this.$5=!0};a.prototype.getFinishedPlaying=function(){"use strict";return this.$5};a.prototype.setMuted=function(a){"use strict";this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};a.prototype.setUnmuted=function(a){"use strict";this.$4&&(this.$4=!1,this.$7=a)};a.prototype.getVideoId=function(){"use strict";return this.$1};a.prototype.getDurationMs=function(){"use strict";return this.$2};a.prototype.setDurationMs=function(a){"use strict";this.$2=a};a.prototype.getWatchedSegments=function(){"use strict";return this.$8};a.prototype.getWatchedSegmentsWithSound=function(){"use strict";return this.$9};a.prototype.reset=function(){"use strict";this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=90*60*1e3;function a(a,c,d){"use strict";this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}a.prototype.addEvent=function(a,b){"use strict";if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};a.prototype.$11=function(a){"use strict";a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};a.prototype.$12=function(a,b){"use strict";var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};a.prototype.$10=function(a,b){"use strict";if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};a.prototype.hasUpdates=function(){"use strict";return this.$3};a.prototype.hasExpired=function(){"use strict";return this.$2.getTime()<=Date.now()-h};a.prototype.recalculateDelta=function(){"use strict";var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};a.prototype.getMetadata=function(){"use strict";return this.$7};a.prototype.getDebugInfo=function(){"use strict";return this.$8};a.prototype.getEventValidationSummary=function(){"use strict";return this.$9};a.prototype.getStateVideoDurationMsForTesting=function(){"use strict";return this.$4.getDurationMs()};e.exports=a}),null);
__d("R2D2VideoStateMachine",["VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;function a(){"use strict"}a.prototype.processEvent=function(a,c,d){"use strict";__p&&__p();switch(a){case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:d.startPlaying(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:d.stopPlaying(c.video_time_position*g);d.setFinishedPlaying();break;case b("VideoPlayerLoggerEvent").PAUSED:d.stopPlaying(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").MUTED:d.setMuted(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").UNMUTED:d.setUnmuted(c.video_time_position*g);break}};e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a.prototype.compute=function(a){"use strict";return a.getFinishedPlaying()?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a.prototype.compute=function(a){"use strict";return this.$1(a)};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};a.prototype.$1=function(a){"use strict";__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};function a(){"use strict"}e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="play_count";a.prototype.compute=function(a){"use strict";var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a.prototype.compute=function(a){"use strict";__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};a.prototype.computeDelta=function(a,b){"use strict";var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$2=[],this.$1=new Map()}a.prototype.getMetricValue=function(a){"use strict";a=this.$1.get(a);return a===null||a===void 0?null:a};a.prototype.setMetricValue=function(a,b){"use strict";b!==null&&this.$1.set(a,b)};a.prototype.toJSON=function(){"use strict";var a={};this.$1.forEach(function(b,c){a[c]=this.$3(b)}.bind(this));if(this.$2.length>0){var b="debug_details";a[b]=JSON.stringify(this.$2)}return a};a.prototype.addDebugInfo=function(a){"use strict";this.$2.push(a)};a.prototype.$3=function(a){"use strict";return Array.isArray(a)?"["+a.toString()+"]":a};e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_";function a(a){"use strict";this.percentFactor=a}a.prototype.compute=function(a){"use strict";return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g+this.percentFactor};e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g,h=100;c=babelHelpers.inherits(a,b("R2D2ViewCountPercentage"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this,h)}e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="true_view_count",h=10*1e3,i=.97;a.prototype.compute=function(a){"use strict";var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g,h=25;c=babelHelpers.inherits(a,b("R2D2ViewCountPercentage"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this,h)}e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g,h=50;c=babelHelpers.inherits(a,b("R2D2ViewCountPercentage"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this,h)}e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g,h=75;c=babelHelpers.inherits(a,b("R2D2ViewCountPercentage"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this,h)}e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g,h=95;c=babelHelpers.inherits(a,b("R2D2ViewCountPercentage"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this,h)}e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count",h=3e3,i=.97;a.prototype.compute=function(a){"use strict";var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="retention_graph",h=4,i=40,j=1e3,k=10;a.prototype.computeDelta=function(a,b){"use strict";if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};a.prototype.getMetricName=function(){"use strict";return g};a.prototype.compute=function(a){"use strict";__p&&__p();var c=a.getDurationMs();if(isNaN(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};function a(){"use strict"}e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a.prototype.compute=function(a){"use strict";return this.$1(a)};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};a.prototype.$1=function(a){"use strict";__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};function a(){"use strict"}e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_with_sound_on",h=3e3,i=.97;a.prototype.compute=function(a){"use strict";var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};a.prototype.computeDelta=function(a,b){"use strict";return a-b};a.prototype.getMetricName=function(){"use strict";return g};function a(){"use strict"}e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}a.prototype.getVideoStateSummary=function(a){"use strict";var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};a.prototype.calculateDelta=function(a,c){"use strict";__p&&__p();var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";function a(a){"use strict";this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}a.prototype.setScriptPath=function(a){"use strict";this.$3=a};a.prototype.$5=function(a,b){"use strict";return a+":"+b};a.prototype.addEvent=function(a,c){"use strict";if(this.shouldNotLogEvent(a))return;var d=this.$5(c.player_instance_key,c.video_id),e=this.$1.get(d);e==null&&(e=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(d,e));e.addEvent(a,c);setTimeout(function(){return this.$6()}.bind(this),g)};a.prototype.$6=function(){"use strict";var a=[];this.$1.forEach(function(c,d){var e=null;c.hasUpdates()?e=this.createR2D2SummaryLoggingData(c.getMetadata(),c.recalculateDelta(),i):c.hasExpired()&&(a.push(d),e=this.createR2D2SummaryLoggingData(c.getMetadata(),c.getEventValidationSummary(),j));e!==null&&b("Banzai").post(h,e)}.bind(this));a.forEach(function(a){this.$1["delete"](a)}.bind(this))};a.prototype.createR2D2SummaryLoggingData=function(a,b,c){"use strict";a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};a.prototype.shouldLogForR2D2=function(){"use strict";return b("gkx")("676938")};a.prototype.shouldNotLogEvent=function(a){"use strict";var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",CIVIC_PROPOSAL:"civic_proposal",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp"})}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,i=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,j="video_player",k=5e3,l=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()};function a(a,c){this.$2=a,this.$3=null,this.$6={},this.$4=c,this.$8=0,this.$9=0,this.$10=0,this.$11=0,this.$7=[],this.$20=0,this.$21=0,this.$12=0,this.$28=!1,this.$17=!1,this.$30(),this.$31(),this.$29=new(b("R2D2Logger"))(this.$2)}a.prototype.updateSource=function(a){this.$2=a};a.prototype.getSource=function(){return this.$2};a.prototype.logEvent=function(a,c){__p&&__p();c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$6,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=l());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$32();c.error_user_info=this.$33(c.error_user_info);this.$3&&Object.assign(c,this.$3);switch(a){case b("VideoPlayerLoggerEvent").PAUSED:case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:if(this.$25){var d=this.$25,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$26==="function"&&this.$26();d=typeof this.$27==="function"&&this.$27();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:this.$28=!0;break;case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:case b("VideoPlayerLoggerEvent").ERROR:case b("VideoPlayerLoggerEvent").PAUSED:this.$28=!1;break}switch(a){case b("VideoPlayerLoggerEvent").REQUESTED_PLAYING:this.$30();this.$34();this.$6[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:case b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING:case b("VideoPlayerLoggerEvent").ERROR:case b("VideoPlayerLoggerEvent").PAUSED:case b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED:case b("VideoPlayerLoggerEvent").HEART_BEAT:if(a===b("VideoPlayerLoggerEvent").ERROR&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a==b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED&&!this.$6[b("VideoPlayerLoggerEvent").STARTED_PLAYING])break;if(a===b("VideoPlayerLoggerEvent").HEART_BEAT&&(!this.$6[b("VideoPlayerLoggerEvent").STARTED_PLAYING]||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$32()))break;a===b("VideoPlayerLoggerEvent").HEART_BEAT&&(c.v2_heart_beat=!0);(a===b("VideoPlayerLoggerEvent").STARTED_PLAYING||a===b("VideoPlayerLoggerEvent").UNPAUSED)&&(this.$12=c.time_ms,this.$35());if(a===b("VideoPlayerLoggerEvent").ERROR&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a===b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING&&(this.$6[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$36();this.$37();(a===b("VideoPlayerLoggerEvent").PAUSED||a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)&&(i&&a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&this.$35(),c.recent_stalls_count=this.$38());this.$39();this.$40(c);this.$41(c);this.$31();i&&this.$35();this.$30();break}e={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$6[a]=!0;if(this.$2===b("VideoPlayerLoggerSource").ANIMATED_IMAGE_SHARE)return null;c.ad_client_token||h&&c.playback_is_live_streaming?b("Banzai").post(j,e,b("Banzai").VITAL):b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a===b("VideoPlayerLoggerEvent").PAUSED||a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING||a===b("VideoPlayerLoggerEvent").HEART_BEAT)?b("Banzai").post(j,e,b("Banzai").VITAL):b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a===b("VideoPlayerLoggerEvent").UNPAUSED||a===b("VideoPlayerLoggerEvent").STARTED_PLAYING)?b("Banzai").post(j,e,b("Banzai").VITAL):b("Banzai").post(j,e);this.$29.shouldLogForR2D2()&&this.$29.addEvent(a,c);return e};a.prototype.setScriptPath=function(a){this.$1=a,this.$29.setScriptPath(a)};a.prototype.setFTData=function(a){this.$3=a};a.prototype.setABRQualityTracker=function(a){this.$25=a};a.prototype.setFrameCountGetters=function(a,b){this.$26=a,this.$27=b};a.prototype.startBuffering=function(a){this.$34(a)};a.prototype.endBuffering=function(){this.$37(),this.$42(),this.$36(),this.$39()};a.prototype.startInterrupt=function(){this.$43()};a.prototype.endInterrupt=function(){this.$37(),this.$42()};a.prototype.$32=function(){return this.$16>0};a.prototype.$34=function(a){if(this.$32())return;this.$17=this.$28;this.$16=Date.now();a!==void 0&&this.$6[b("VideoPlayerLoggerEvent").STARTED_PLAYING]&&(this.$18=a)};a.prototype.$43=function(){if(this.$44())return;this.$22=Date.now()};a.prototype.$44=function(){return this.$22>0};a.prototype.$45=function(){return!this.$44()?0:Date.now()-this.$22};a.prototype.$46=function(){return this.$32()?Date.now()-this.$16:0};a.prototype.$37=function(){if(this.$44()){var a=this.$45();this.$23+=a;this.$21+=a;this.$24+=1;this.$20+=1}};a.prototype.$42=function(){this.$44()&&(this.$22=0)};a.prototype.$31=function(){this.$23=0,this.$24=0,this.$42()};a.prototype.$36=function(){__p&&__p();if(this.$32()){var a=this.$46();this.$18!==null&&(this.$19=a);this.$15+=a;this.$9+=a;this.$13++;a>200&&this.$14++;this.$8++;this.$17&&(this.$11+=a,this.$10++,this.$17=!1);i&&this.$7.push(l())}};a.prototype.$39=function(){this.$32()&&(this.$16=0)};a.prototype.$33=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};a.prototype.getCumulativeStallCount=function(){return this.$8};a.prototype.getCumulativeInPlayStallCount=function(){return this.$10};a.prototype.getStallCount=function(){return this.$13};a.prototype.getCumulativeStallTime=function(){return this.$9+this.$46()};a.prototype.getCumulativeInPlayStallTime=function(){return this.$11+(this.$17?this.$46():0)};a.prototype.getCumulativeInterruptCount=function(){return this.$20};a.prototype.getCumulativeInterruptTime=function(){return this.$21+this.$45()};a.prototype.$40=function(a){a.stall_time=Math.max(0,this.$15),a.stall_count=this.$13,a.stall_count_200_ms=this.$14,this.$19&&(a.first_stall_time=this.$19,a.first_stall_start_position=this.$18)};a.prototype.$41=function(a){a.interrupt_time=Math.max(0,this.$23),a.interrupt_count=this.$24};a.prototype.$38=function(){var a=l(),b=a-k;this.$7=this.$7.filter(function(a){return a>=b});i||this.$13>0&&this.$7.push(a);return this.$7.length};a.prototype.$30=function(){this.$15=0,this.$16=0,this.$13=0,this.$14=0,this.$18=null,this.$19=0};a.prototype.$35=function(){this.$7=[]};a.prototype.getFTdata=function(){return this.$3};a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("VideoPlayerReasonTransitionHelper",["VideoPlayerReasonTransitionExperiment"],(function(a,b,c,d,e,f){function a(a){"use strict";this.$1=a}a.prototype.getReason=function(){"use strict";return!b("VideoPlayerReasonTransitionExperiment").provideReason?null:this.$1};e.exports=a}),null);
__d("VideoPlayerShakaBandwidthEstimator",["CacheStorage","Run","VideoPlayerShakaGlobalConfig","requireWeak"],(function(a,b,c,d,e,f){__p&&__p();var g;b("requireWeak")("Shaka",function(a){g=a.util.EWMACacheBandwidthEstimator});var h=null,i=!1;function j(){"use strict";var a=new(b("CacheStorage"))("localstorage","_video_"),c=a.get("bandwidthEstimate");this.$1={isMockObject:!0,getBandwidth:function(a){return c},getFastMovingBandwidth:function(){return c}};g&&(this.$1=new g(b("VideoPlayerShakaGlobalConfig").getNumber("cache_delay",30),b("VideoPlayerShakaGlobalConfig").getNumber("cache_bandwidth",2e6),c),this.$1.isMockObject=!1);b("Run").onUnload(function(){a.set("bandwidthEstimate",this.$1.getBandwidth())}.bind(this))}j.prototype.getEstimator=function(){"use strict";return this.$1};j.getInstance=function(){"use strict";(h===null||h.getEstimator().isMockObject&&g)&&(h=new j());return h};j.getEstimator=function(){"use strict";return j.getInstance().getEstimator()};j.getBandwidth=function(a){"use strict";var b=j.getEstimator();return b.getBandwidth(a)};j.getBandwidthByVideoType=function(a){"use strict";return j.getBandwidth(j.getBandwidthModel(a))};j.getBandwidthModel=function(a){"use strict";return a?"aggressive":"conservative"};j.isAutoplayBandwidthRestrained=function(a){"use strict";var c=j.getEstimator(),d;b("VideoPlayerShakaGlobalConfig").getBool("block_autoplay_use_fast_moving_average",!0)&&i?d=c.getFastMovingBandwidth():d=c.getBandwidth();c=a?b("VideoPlayerShakaGlobalConfig").getNumber("live_block_autoplay_bandwidth_threshold",25e4):b("VideoPlayerShakaGlobalConfig").getNumber("block_autoplay_bandwidth_threshold",123034);d===null||d>=c?i=!1:i=!0;return i};e.exports=j}),null);
__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;b=", ";c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f=[];var g=[],h=[],i={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},j=10,k=", ",l={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};e.exports={ANALYTICS_SAMPLE_RATE:a,BUCKET_DELIMITER:b,CONTEXT_BUCKET_STRATEGY:c,CONFIG_TYPE:d,EMPTY_RESOLVED_CONTEXTS:f,EMPTY_RESOLVED_MONITORS:g,EMPTY_RESULT_PARAMS:h,ERROR:i,JSON_SUB_SAMPLE_RATE:j,LIST_DELIMITER:k,TYPE:l}}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};b=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};var g=function(a){return a.name};c=function(a){return a.map(g)};d=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};e.exports={getBucketIndices:a,getBucketNames:b,getContextNames:c,getContextValues:d}}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE,h=b("ContextualConfigConstants").LIST_DELIMITER,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigResolvedContextsUtils").getContextNames,k=b("ContextualConfigResolvedContextsUtils").getContextValues,l=["cfg_ver_timestamp","policy_id","version","sample_rate"],m=function(a){return a.join(h)},n=function(a,b){for(var c=0;c<l.length;c++){var d=l[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},o=function(a,b){__p&&__p();var c=b[0],d=b[1],e=b[2];b=b[3];c!=null&&(a.exception=c.message);a.result=m(d.map(function(a){return a.value}))||"INVALID";a.context=m(j(e));a.context_value=m(k(e));a.bucket_name=m(i(e));a.monitor=m(j(b));a.monitor_value=m(k(b))};a=function(a,b,c){var d={sample_rate:g};n(d,a);o(d,b);c&&(d.config_contents=JSON.stringify(a));return d};e.exports=a}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}a.prototype.getData=function(){return this.$2};a.prototype.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};a.prototype.isSampled=function(){return this.$4};e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){this.$2=a,this.$1=b}g.prototype.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};a=function(a,b){return new g(a,b)};e.exports=a}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};e.exports=b("ContextualConfigExposureLoggerFactory")(a,c)}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){if(a===!1)throw new Error(b)};e.exports=a}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").TYPE;a=function(a){return Array.isArray(a)};c=function(a){return typeof a==="boolean"};d=function(a){return a!=null};f=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};b=function(a){return i(a)&&a%1===0};var h=function(a){return j(a)&&a.length>0},i=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity},j=function(a){return typeof a==="string"},k=function(a){switch(a){case g.BOOL:case g.FLOAT:case g.INT:case g.STRING:return!0;default:return!1}};e.exports={isArray:a,isBoolean:c,isDefined:d,isKey:f,isInteger:b,isNonEmptyString:h,isNumber:i,isString:j,isType:k}}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(g.BAD_BOOLEAN_FORMAT)}};e.exports=a}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR;a=function(a,c){__p&&__p();var d;switch(c){case g.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case g.NULL:d=function(a){return a==null};break;case g.NNULL:d=function(a){return a!=null};break;case g.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(h.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}};e.exports=a}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseFloat(a);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isNumber,i=/^[-\+]?([1-9]\d*|0)$/,j=function(a){return i.test(a)};a=function(a){b("ContextualConfigAssert")(j(a),g.BAD_NUMBER_FORMAT);a=parseInt(a,10);b("ContextualConfigAssert")(h(a),g.BAD_NUMBER_FORMAT);return a};e.exports=a}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR;a=function(a){return b("ContextualConfigAssert")(a>0,g.MISMATCH_NUMBER_OF_VALUES)};c=function(a,c){return b("ContextualConfigAssert")(a===c,g.MISMATCH_NUMBER_OF_VALUES)};d=function(a,c){return b("ContextualConfigAssert")(a<c,g.BAD_VALUE_ORDER)};e.exports={assertHasValues:a,assertNumberOfValues:c,assertValueOrder:d}}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertNumberOfValues,j=b("ContextualConfigPredAssertions").assertValueOrder,k=b("ContextualConfigValidators").isInteger;a=function(a,c,d,e){__p&&__p();var f=d.map(e?b("ContextualConfigParseInteger"):b("ContextualConfigParseFloat")),l;switch(c){case g.SAME:var m=e?b("ContextualConfigParseInteger")(a):b("ContextualConfigParseFloat")(a);l=function(a){return e&&!k(a)?!1:a===m};break;case g.NULL:l=function(a){return a==null};break;case g.NNULL:l=function(a){return a!=null};break;case g.CATCH_ALL:l=function(a){return!0};break;case g.COR:i(f.length,2);j(f[0],f[1]);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]&&a<f[1]};break;case g.LT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<f[0]};break;case g.LTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a<=f[0]};break;case g.EQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a===f[0]};break;case g.NEQ:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a!==f[0]};break;case g.GT:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>f[0]};break;case g.GTE:i(f.length,1);l=function(a){if(typeof a!=="number")return!1;return e&&!k(a)?!1:a>=f[0]};break;default:throw new Error(h.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return l(a)}};e.exports=a}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/^\/(.+)\/(.*)$/;a=b("ContextualConfigConstants").ERROR;c=function(b){try{var c=b.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(b)}catch(b){throw new Error(a.REGEX_SYNTAX_ERROR)}};e.exports=c}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigPredAssertions").assertHasValues,j=b("ContextualConfigPredAssertions").assertNumberOfValues,k=function(a){if(typeof a!=="string")throw new Error(h.INVALID_VALUE_TYPE);return a},l=function(a){__p&&__p();var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(k(e))}return b};a=function(a,c,d){__p&&__p();var e=l(d),f;switch(c){case g.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case g.NULL:f=function(a){return a==null};break;case g.NNULL:f=function(a){return a!=null};break;case g.CATCH_ALL:f=function(a){return!0};break;case g.IN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case g.NIN:i(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case g.CONTAINS:j(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case g.REGEX:j(e.length,1);var k=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:k.test(a)};break;default:throw new Error(h.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}};e.exports=a}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY;var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isArray,j=b("ContextualConfigValidators").isDefined;c=b("ContextualConfigValidators").isKey;var k=b("ContextualConfigValidators").isNonEmptyString,l=b("ContextualConfigValidators").isString,m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_BUCKETS)},n=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_BUCKETS)},o=c(a),p=function(a){return b("ContextualConfigAssert")(l(a)&&o(a.toUpperCase()),g.MISSING_BUCKET_STRATEGY)},q=function(a){return b("ContextualConfigAssert")(i(a),g.ILLEGAL_BUCKET_VALUES)},r=function(a){return b("ContextualConfigAssert")(k(a),g.MISSING_BUCKET_NAME)},s=function(a,c){__p&&__p();var d=c.name;r(d);var e=c.strategy;p(e);c=c.values||[];q(c);switch(a){case h.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case h.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case h.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case h.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(g.UNKNOWN_BUCKET_DEFINITION)}},t=function(a,b){m(b);var c=b.name;r(c);return{name:c,pred:s(a,b)}};d=function(a,b){n(b);return b.map(function(b){return t(a,b)})};e.exports=d}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray;b("ContextualConfigValidators").isBoolean;var i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a)&&a.length>0,g.MISSING_CONTEXT_IN_CONFIG)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var c=a.name,d=a.type;a=a.buckets;n(c);o(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0};e.exports=a}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigConstants").TYPE,i=b("ContextualConfigValidators").isString,j=function(a){return b("ContextualConfigAssert")(i(a),g.INVALID_STRING)};a=function(a,c){j(c);switch(a){case h.BOOL:return b("ContextualConfigParseBoolean")(c);case h.FLOAT:return b("ContextualConfigParseFloat")(c);case h.INT:return b("ContextualConfigParseInteger")(c);case h.STRING:return c;default:throw new Error(g.INVALID_VALUE_TYPE)}};e.exports=a}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_RESULTS)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_VALUE)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_VALUE)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_VALUE)},p=function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.name===b)return e.type}throw new Error(g.UNDECLARED_OUTPUT_PARAM)},q=function(a){return function(c){m(c);var d=c.name;n(d);var e=p(a,d);o(e);c=b("ContextualConfigParseResultParamValue")(e,c.value);return{name:d,type:e,value:c}}};a=function(a,b){l(b);return b.map(q(a))};e.exports=a}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.RESULTS_VECTOR_SIZE_MISMATCH)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";a=b("ContextualConfigConstants").ERROR;c=function(c,d){try{return b("ContextualConfigParseDenseResultParams")(c,d)}catch(b){throw new Error(a.MISSING_DEFAULT_VALUE)}};e.exports=c}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=b("ContextualConfigValidators").isType,l=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_CONTEXT_IDENTIFIER)},m=function(a){return b("ContextualConfigAssert")(h(a),g.BAD_MONITORED_CONTEXTS)},n=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_CONTEXT_IDENTIFIER)},o=function(a){return b("ContextualConfigAssert")(k(a),g.BAD_CONTEXT_IDENTIFIER)},p=function(a){l(a);var b=a.name;a=a.type;n(b);o(a);return{name:b,type:a}};a=function(a){m(a);return a.map(p)};e.exports=a}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isNonEmptyString,j=b("ContextualConfigValidators").isType,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_OUTPUTS_DEFINITION)},l=function(a){return b("ContextualConfigAssert")(j(a),g.BAD_OUTPUT_TYPE)},m=function(a){return b("ContextualConfigAssert")(i(a),g.BAD_OUTPUT_NAME)},n=function(a){return b("ContextualConfigAssert")(o(a),g.DUPLICATE_OUTPUT_NAME)},o=function(a){__p&&__p();var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},p=function(a){m(a.name);l(a.type);return a};a=function(a){k(a);a=a.map(p);n(a);return a};e.exports=a}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_VECTOR)},j=function(a,c){return b("ContextualConfigAssert")(a===c,g.RESULTS_VECTOR_SIZE_MISMATCH)},k=function(a,c){j(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];b("ContextualConfigParseResultParamValue")(e,f)}},l=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};a=function(a,b,c){i(c);b=l(b);var d=a.length;j(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;k(a,c.slice(f,f+d))}return c};e.exports=a}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};a=function(a,b,c){__p&&__p();var d=null;a=a.map(function(a){__p&&__p();var e=a.name,f={name:e};if(d!=null)return f;var i;c[e]!=null?i=c[e]:b[e]!=null?i=b[e]():i=null;f.value=i;if(a.buckets!=null){e=h(a.buckets,i);if(e==null){d=new Error(g.MISSING_BUCKET_MATCH);return f}a=e[0];i=e[1];f.bucketName=a;f.bucketIndex=i}return f});return[d,a]};e.exports=a}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;var g=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketIndices,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)},l=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},m=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},n=function(a,c,d){try{d=d.reduce(function(c,d,e){b("ContextualConfigAssert")(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};function a(a,c){__p&&__p();k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=l(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}a.prototype.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,c,g]}};a.prototype.unsafeResolve=function(a){__p&&__p();var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,h=this.monitors,j=this.outputs,k=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,g];l=n(c,j.length,i(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,g];c=m(j,k,l,f);j=c[0];k=c[1];if(j!=null)return[j,k,e,g];l=b("ContextualConfigResolveContexts")(h,d,a);f=l[0];c=l[1];return f!=null?[f,k,e,g]:[null,k,e,c]};e.exports=a}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").ERROR,j=b("ContextualConfigValidators").isDefined,k=function(a){return b("ContextualConfigAssert")(j(a),i.BAD_CONFIG)};function a(a,c){k(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}a.prototype.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,g,h]}};a.prototype.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,g,h]:[null,e,g,a]};e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){__p&&__p();var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f};e.exports=a}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").ERROR,h=function(a,c){return b("ContextualConfigAssert")(b("ContextualConfigIsEqualParams")(a,c),g.MISSING_DEFAULT_VALUE)};a=function(a,c){c=b("ContextualConfigParseResultParams")(a,c);h(a,c);return c};e.exports=a}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigParseResultParams","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").ERROR,h=b("ContextualConfigValidators").isArray,i=b("ContextualConfigValidators").isDefined,j=b("ContextualConfigValidators").isNonEmptyString,k=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE)},l=function(a){return b("ContextualConfigAssert")(i(a),g.MISSING_TABLE)},m=function(a){return b("ContextualConfigAssert")(j(a),g.MISSING_TABLE_ITEM_BUCKET)},n=function(a){return b("ContextualConfigAssert")(h(a),g.MISSING_TABLE_ITEM_VALUES)},o=function(a,c){l(c);var d=c.bucket;c=c.values;m(d);n(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};a=function(a,b){k(b);return b.reduce(function(b,c){c=o(a,c);b[c.bucket]=c.values;return b},{})};e.exports=a}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";a=function(a){};e.exports=a}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("ContextualConfigConstants").TYPE;var g=b("ContextualConfigConstants").ERROR;function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}a.prototype.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(g.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};a.prototype.getParams=function(){return this.$2};e.exports=a}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigResult","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").BUCKET_DELIMITER;c=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS;d=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS;var h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigResolvedContextsUtils").getBucketNames,j=b("ContextualConfigValidators").isDefined,k=[],l=function(a){return b("ContextualConfigAssert")(j(a),h.BAD_CONFIG)};function a(a,c){l(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}a.prototype.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,c,d]}};a.prototype.unsafeResolve=function(a){__p&&__p();var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,h=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var j=d[0];d=d[1];if(j!=null)return[j,e,d,[]];j=i(d).join(g);h=h[j]||k;j=b("ContextualConfigMergePartialResultParams")(e,h);e=b("ContextualConfigResolveContexts")(f,c,a);h=e[0];f=e[1];return h!=null?[h,j,d,[]]:[null,j,d,f]};e.exports=a}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ContextualConfigConstants").CONFIG_TYPE,h=b("ContextualConfigConstants").ERROR,i=b("ContextualConfigValidators").isDefined,j=[1],k=function(a){return b("ContextualConfigAssert")(i(a)&&i(a.version),h.BAD_CONFIG)},l=function(a){return b("ContextualConfigAssert")(j.indexOf(a)!==-1,h.UNSUPPORTED_CONFIG_VERSION)};a=function(a,c){k(a);l(a.version);switch(a.cctype){case g.DENSE:return new(b("DenseContextualConfig"))(a,c);case g.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case g.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(h.UNKNOWN_CONFIG_TYPE)}};e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,h=b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS,i=b("ContextualConfigConstants").EMPTY_RESULT_PARAMS;function a(a){this.error=a}a.prototype.resolve=function(a){return[this.error,i,g,h]};e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE;var g=1/c,h=1;function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}a.prototype.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};a.prototype.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};a.prototype.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};e.exports=a}),null);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=Object.assign({},this.$1,(c={},c[a]=b,c))}};a.prototype.setAllContexts=function(a){this.$1=a};a.prototype.getAllContexts=function(){return this.$1};e.exports=a}),null);
__d("VideoPlayerShakaConfig",["ContextualConfig","VideoPlayerShakaConfigContextProvider","VideoPlayerShakaExperimentsConfig","VideoPlayerShakaParsedContextualConfig","VideoPlayerShakaSessionConfigOverride"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerShakaParsedContextualConfig").getStaticConfig()||null,h;c=function(){var a=b("VideoPlayerShakaParsedContextualConfig").getRawContextualConfig();h=a?new(b("ContextualConfig"))(a):null};b("VideoPlayerShakaParsedContextualConfig").addListener("configChange",c);c();function a(a,c){"use strict";this.$1=new(b("VideoPlayerShakaConfigContextProvider"))(),this.$2=c||null,this.$3=null,a&&this.$1.setAllContexts(a),h!==null&&(this.$3=h.resolve(a||{}))}a.prototype.setContext=function(a,b){"use strict";if(h===null)return null;var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&(this.$3=h.resolve(a))};a.prototype.setOverrideConfig=function(a){"use strict";this.$2=a};a.prototype.getBool=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="boolean"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="boolean"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.getNumber=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="number"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="number"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.getString=function(a,c){"use strict";var d=this.$4(a,c);return typeof d==="string"?d:typeof b("VideoPlayerShakaExperimentsConfig")[a]==="string"?b("VideoPlayerShakaExperimentsConfig")[a]:c};a.prototype.$4=function(a,c){"use strict";if(!!this.$2&&typeof this.$2[a]===typeof c)return this.$2[a];if(b("VideoPlayerShakaSessionConfigOverride")&&typeof b("VideoPlayerShakaSessionConfigOverride")[a]===typeof c)return b("VideoPlayerShakaSessionConfigOverride")[a];if(g!==null&&typeof g[a]===typeof c)return g[a];return this.$3?this.$3.get(a,c):null};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawer",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a,b){g.constructor.call(this),this.$VideoPlayerUIComponentDrawer1=a,this.$VideoPlayerUIComponentDrawer2=b,this.$VideoPlayerUIComponentDrawer4=!1}a.prototype.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!0;this.emit("reserve")};a.prototype.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=!1;this.emit("release")};a.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1};a.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2};a.prototype.setHeight=function(a){this.$VideoPlayerUIComponentDrawer2=a,this.emit("heightChange")};a.prototype.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];a==="reposition"&&(this.$VideoPlayerUIComponentDrawer3=d[0]);(b=g.emit).call.apply(b,[this,a].concat(d))};a.prototype.reposition=function(){this.emit("reposition",this.$VideoPlayerUIComponentDrawer3)};a.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4};a.priorities={EmbeddedControls:0,AdBreakStartingIndicator:1,ClickForMore:2,Subtitles:3,SphericalMouseAnimation:4};e.exports=a}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a.getPriority()-b.getPriority()};function a(){this.$1=[]}a.prototype.register=function(a,c){__p&&__p();c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return this.$2(a)}.bind(this));c.addListener("release",function(){return this.$2(a)}.bind(this));c.addListener("heightChange",function(){return this.$2(a)}.bind(this));this.$1.push(c);this.$1.sort(g);return c};a.prototype.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=1,this.$2=1}a.prototype.getVolume=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};a.prototype.getSessionVolume=function(){"use strict";return this.$1};a.prototype.setSessionVolume=function(a){"use strict";this.$1=a};a.prototype.saveVolume=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};a.prototype.getLastVolumeBeforeMute=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};a.prototype.saveLastVolumeBeforeMute=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};c=new a();e.exports=c}),null);
__d("VideoViewabilityPercentage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","VideoPlayerExperiments","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=42;function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}a.prototype.feedViewabilityPercentage=function(){"use strict";var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};a.prototype.viewabilityPercentage=function(){"use strict";return this.$5(!1)};a.prototype.isTopElement=function(a,b,c){"use strict";b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};a.prototype.$6=function(a,c,d){"use strict";__p&&__p();var e=b("VideoPlayerExperiments").viewabilityMinBlockSize||200,f=a[0];a=a[1];var g=c[0];c=c[1];var h=a-f,i=c-g,j=h===0||i===0;j=Math.floor((j?Math.max:Math.min)(h,i)*e/1e3);j=Math.max(j,1);e=h>0?Math.ceil(j/2):0;h=i>0?Math.ceil(j/2):0;i=0;var k=0;if(d===null)return[0,1];for(var f=f+e;f<=a;f+=j)for(var e=g+h;e<=c;e+=j)i+=1,this.isTopElement(d,f,e)&&(k+=1);return i===0?[0,1]:[k,i]};a.prototype.$7=function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1,h=d+g;d=d+a-g;a=c+g;c=c+b-g;b=this.$6([h,d],[a,a],e);g=b[0];b=b[1];var i=this.$6([h,d],[c,c],e),j=i[0];i=i[1];var k=this.$6([h,h],[a,c],e),l=k[0];k=k[1];var m=this.$6([d,d],[a,c],e),n=m[0];m=m[1];var o=0,p=0;o=b+i+k+m;p=g+j+l+n;b=p/o;if(b===1||b===0)return f*b;else{i=this.$6([h,d],[a,c],e);k=i[0];m=i[1];o+=m;p+=k;return f*(p/o)}};a.prototype.$5=function(a){"use strict";__p&&__p();var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoViewabilityPercentage","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerExperiments").viewabilityPollingRate,h=new Map([[0,b("VideoViewabilityPercentage").VIEWABLE_0],[25,b("VideoViewabilityPercentage").VIEWABLE_25],[50,b("VideoViewabilityPercentage").VIEWABLE_50],[75,b("VideoViewabilityPercentage").VIEWABLE_75],[100,b("VideoViewabilityPercentage").VIEWABLE_100]]);function a(a,c,d,e){"use strict";this.$12=function(a){if(!this.$14())return;a=b("performanceNow")();a-this.$1>g&&(this.$10(),this.$1=a);this.$2=window.requestAnimationFrame(this.$12)}.bind(this),this.$9=function(){this.$13()}.bind(this),this.$8=function(){this.setLastLoggedViewability(this.getViewability()),this.$11()}.bind(this),this.$1=0,this.$4=a,this.$5=new(b("ViewabilityVideoElement"))(c,d,e,this.$4.isSpherical()),this.$6()}a.prototype.getViewability=function(){"use strict";var a;this.$4.isInline()?a=this.$5.feedViewabilityPercentage():a=this.$5.viewabilityPercentage();return this.$7(a)};a.prototype.setLastLoggedViewability=function(a){"use strict";this.$3=a};a.prototype.$6=function(){"use strict";this.$4.addListener("beginPlayback",this.$8),this.$4.addListener("pausePlayback",this.$9)};a.prototype.$10=function(){"use strict";var a=this.getViewability();a!=this.$3&&(this.$4.logEvent(b("VideoPlayerLoggerEvent").VIEWABILITY_CHANGED,{current_viewability_percentage:a,last_viewability_percentage:this.$3}),this.$3=a)};a.prototype.$11=function(){"use strict";this.$2=window.requestAnimationFrame(this.$12)};a.prototype.$13=function(){"use strict";window.cancelAnimationFrame(this.$2)};a.prototype.$14=function(){"use strict";return this.$4.getVideoAPI().isPaused()!==void 0?!this.$4.getVideoAPI().isPaused():this.$4.getState()==="playing"};a.prototype.$7=function(a){"use strict";__p&&__p();var c=b("VideoViewabilityPercentage").OFFSCREEN;if(a<=0)return c;for(var d=h,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var i=g[0];g=g[1];a>=i&&(c=g)}return c};e.exports=a}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);
__d("enumerate",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(b){return b.FB_enumerate}(a)}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","Bootloader","CoverVideoOffsetType","CSS","CurrentUser","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","JSLogger","JSResource","LiveCopyrightAction","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerImmediatePlayReason","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerStates","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVersions","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j,k=b("VideoAsyncLoggerHelper").operateAsync,l=b("VideoPlaybackQuality").getDroppedFrames,m=b("VideoPlaybackQuality").getTotalFrames,n=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return n=a});var o=5,p=1;function q(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()}c=babelHelpers.inherits(a,b("MediaController"));j=c&&c.prototype;function a(a,c){__p&&__p();var d=a.video_id,e=a.video_ids,f=a.video_url,g=a.video_urls,h=a.chaining_token,i=a.video_channel_id,k=a.reaction_video_channel_type,n=a.reaction_video_channel_subtype,o=a.source,p=a.ad_client_token,r=a.should_autoplay,s=a.immediateplay_reason,t=a.player_version,u=a.autoplay_setting,v=a.apiModule,w=a.apiConfig,x=a.useInlineFallback,y=a.accessToken,z=a.projection,A=a.playerOrigin,B=a.playerSuborigin,C=a.isBroadcast,D=a.isInstreamAd,E=a.components,F=a.trackingCodes,G=a.alwaysShowCaptions;a.disableLogging;var H=a.subtitleBackgroundColor,I=a.subtitleBackgroundOpacity,J=a.subtitleTextColor,K=a.subtitleTextSize,L=a.video_path,M=a.customLoggingProps,N=a.broadcasterOrigin,O=a.allowCrossPageTransition,P=a.isReactPlayer,Q=a.offsettype,R=a.offsetvalue,S=a.upstreamPlayerSource,T=a.shouldLogVideoViewability,U=a.livingRoomSessionID,V=a.broadcastId,W=a.isAdsPreview,X=a.isInjectedAds,Y=a.isBroadcaster,Z=a.keepPlayingOnDialog;a=a.isChainedLivingRoom;var $=c.root_element,aa=c.container_element;c=c.video_element;j.constructor.call(this);this.$VideoPlayerController21=!1;this.$VideoPlayerController39=!1;this.$VideoPlayerController77=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);this.$VideoPlayerController78=0;this.$VideoPlayerController109=[];this.$VideoPlayerController115=null;this.$VideoPlayerController116=null;this.$VideoPlayerController117=new(b("EventEmitter"))();this.emitHeartbeat=function(){if(!this.isState(b("VideoPlayerStates").PLAYING)||!this.getVideoNode()){this.stopHeartbeat();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&this.isBuffering())return;this.getVideoAPI().logHeartbeat()}.bind(this);this.$VideoPlayerController164=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){this.$VideoPlayerController163();this.$VideoPlayerController98=b("setTimeout")(this.$VideoPlayerController164,this.$VideoPlayerController104);return}var a=this.getVideoAPI().isPaused()!==void 0?!this.getVideoAPI().isPaused():this.getState()==="playing";a&&(this.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+this.$VideoPlayerController104+"ms.",isPlayback:this.isPlayRequestPending()}),this.$VideoPlayerController163(),this.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))}.bind(this);this.$VideoPlayerController113=b("guid")();this.$VideoPlayerController46=0;this.$VideoPlayerController25=0;this.$VideoPlayerController24=new Map();this.$VideoPlayerController80={};M&&this.setLogEntryPropertyGetters(M);if(r===void 0)throw new Error("Must pass should_autoplay to "+this.constructor.name+"!");this.$VideoPlayerController23=new(b("VideoPlayerUIComponentDrawerController"))();this.$VideoPlayerController13=new Map();this.$VideoPlayerController58=z;this.$VideoPlayerController1=y;this.$VideoPlayerController68=!!r;this.$VideoPlayerController69=s;this.$VideoPlayerController8=u;this.$VideoPlayerController2=p;this.$VideoPlayerController54=!1;this.$VideoPlayerController89=c;this.$VideoPlayerController67=$;this.$VideoPlayerController15=aa;this.$VideoPlayerController34=!1;this.$VideoPlayerController35=!1;this.$VideoPlayerController57=t;this.$VideoPlayerController88=d||e&&e[0]||"";this.$VideoPlayerController91=f||g&&g[0];this.$VideoPlayerController90=L;this.$VideoPlayerController11=h;this.$VideoPlayerController86=i;this.$VideoPlayerController55=A;this.$VideoPlayerController56=B||o;this.$VideoPlayerController32=C;this.$VideoPlayerController40=D;this.$VideoPlayerController82=F;this.$VideoPlayerController3=G;this.$VideoPlayerController72=H||"";this.$VideoPlayerController73=I==void 0?0:I;this.$VideoPlayerController74=J||"";this.$VideoPlayerController75=K==void 0?0:K;this.$VideoPlayerController30=b("uniqueID")();this.$VideoPlayerController64=k;this.$VideoPlayerController65=n;this.$VideoPlayerController116=V;this.$VideoPlayerController118=W;this.$VideoPlayerController119=X;this.$VideoPlayerController120=Z;this.$VideoPlayerController5=v;this.$VideoPlayerController4=w;this.$VideoPlayerController76=this.$VideoPlayerController5.getStartMutedFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController43=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController42=this.$VideoPlayerController5.getIsServableViaFbmsFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController41=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.isLiveVideo()&&this.$VideoPlayerController116&&(this.$VideoPlayerController115=new(b("VideoLiveTrace"))(this.$VideoPlayerController116,this.$VideoPlayerController113));this.$VideoPlayerController111=!!T;this.$VideoPlayerController37=this.$VideoPlayerController5.getIsSpherical(this.$VideoPlayerController4);this.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))({is_ad:this.isAd(),is_live:this.$VideoPlayerController41,player_format:this.$VideoPlayerController122(this.isFullscreen(),o)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:this.$VideoPlayerController37,content_category:"general",latency_level:"normal",servable_via_fmbs:!1});this.$VideoPlayerController112=U;this.$VideoPlayerController121=a;this.$VideoPlayerController43==="progressive"?this.$VideoPlayerController104=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:this.isLiveVideo()?this.$VideoPlayerController104=b("VideoPlayerExperiments").liveBufferingErrorTimeout:this.$VideoPlayerController104=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&this.$VideoPlayerController123();this.$VideoPlayerController36=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController84=!!x;this.$VideoPlayerController96=new Set();this.$VideoPlayerController97=N;this.$VideoPlayerController98=null;this.$VideoPlayerController99=!!O;this.$VideoPlayerController100=!!P;this.$VideoPlayerController101=this.getContainerNode().style.paddingBottom;this.$VideoPlayerController102=Q;this.$VideoPlayerController103=R;this.$VideoPlayerController105=!1;this.$VideoPlayerController106=!1;this.$VideoPlayerController83=S;this.$VideoPlayerController22=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(this.getVideoNode(),c))return;this.pause(b("VideoPlayerReason").UNLOADED);this.destroy()}.bind(this));this.$VideoPlayerController19=0;M=b("URI").getRequestURI();z=b("VideoPermalinkURI").parse(M);y=parseFloat(M.getQueryData().t);r=z?z.video_id==this.$VideoPlayerController88:!1;y&&r&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.startTimestamp=y);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(this));this.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.seekHandler=function(a){this.isState("playing")?(this.pause(),this.seek(a),this.play(b("VideoPlayerReason").SEEK)):this.seek(a)}.bind(this));this.$VideoPlayerController110=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoPlayerController4&&(this.$VideoPlayerController4.streamPriorityAdjuster=this.$VideoPlayerController110);this.$VideoPlayerController17=null;this.$VideoPlayerController52=null;this.$VideoPlayerController70=o;this.$VideoPlayerController48=new(b("VideoPlayerLogger"))(o);this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.focusOnContainerNode();this.collectFeedTrackingData();this.$VideoPlayerController48.setScriptPath(b("ScriptPath").getScriptPath());this.$VideoPlayerController48.setFrameCountGetters(function(){return this.$VideoPlayerController89!=null?l(this.$VideoPlayerController89):null}.bind(this),function(){return this.$VideoPlayerController89!=null?m(this.$VideoPlayerController89):null}.bind(this));this.$VideoPlayerController60=b("VideosRenderingInstrumentation").retrieveRenderTime(this.getRootNode());this.$VideoPlayerController59=q()-this.$VideoPlayerController60;w&&(w.subtitleDrawer=this.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));this.$VideoPlayerController71="loading";this.$VideoPlayerController124(!1);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84))if(this.$VideoPlayerController84)this.$VideoPlayerController125();else{this.$VideoPlayerController126();return}else this.$VideoPlayerController127();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this));this.$VideoPlayerController7=new(b("SubscriptionsHandler"))();this.$VideoPlayerController68&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?this.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return this.$VideoPlayerController128()}.bind(this))):this.$VideoPlayerController128());this.$VideoPlayerController20=0;this.$VideoPlayerController66=!1;this.$VideoPlayerController26=this.$VideoPlayerController129();this.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()}.bind(this)));this.$VideoPlayerController130()||this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight"){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController20=this.$VideoPlayerController20+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController20>0){a=this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TAHOE&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController120&&(this.pause(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!0)}}}.bind(this)),b("Arbiter").subscribe("layer_hidden",function(a,c){(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight")&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController20=Math.max(0,this.$VideoPlayerController20-1):this.$VideoPlayerController20=this.$VideoPlayerController20-1,this.$VideoPlayerController20===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController66&&(this.play(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController66=!1)))}.bind(this)));this.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){return this.$VideoPlayerController131(a,b)}.bind(this)));b("Run").onLeave(function(){if(this.$VideoPlayerController99||b("VideoPlayerExperiments").persistentWNSEnabled&&this.$VideoPlayerController70===b("VideoPlayerLoggerSource").WATCH_SCROLL)return;this.cleanOnLeave()}.bind(this));this.$VideoPlayerController12=E||[];this.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(a.enable,a,[this],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(this):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)}.bind(this));this.$VideoPlayerController51=1;this.$VideoPlayerController92=!1;this.$VideoPlayerController89&&(this.shouldCalculateViewability()?(this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111,this.isInstreamAd()&&(this.$VideoPlayerController92=this.$VideoPlayerController92&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!this.$VideoPlayerController111))):this.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);this.$VideoPlayerController92&&this.$VideoPlayerController89&&(this.$VideoPlayerController93=new(b("VideoViewabilityLogging"))(this,this.$VideoPlayerController89,this.$VideoPlayerController67,this.$VideoPlayerController15));this.$VideoPlayerController31=!1;this.$VideoPlayerController33=Y;this.isLiveVideo()&&(this.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(this.getVideoID(),function(a){__p&&__p();var c=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(c){case b("LiveCopyrightAction").BLOCK:if(this.$VideoPlayerController33)break;this.emit("blockVideo");this.destroy();break;case b("LiveCopyrightAction").MUTE:this.emit("blockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!0;this.$VideoPlayerController33||this.mute();break;case b("LiveCopyrightAction").UNMUTE:this.emit("unblockAudio",this.$VideoPlayerController33);this.$VideoPlayerController31=!1;this.$VideoPlayerController33||this.unmute();break}this.$VideoPlayerController132(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}.bind(this)))}a.prototype.setVideoPriorityAdjustment=function(a){"use strict";this.$VideoPlayerController110.notifyAdjustment(a)};a.prototype.addListener=function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=(a=j.addListener).call.apply(a,[this].concat(c));c[0]==="visibilityChanged"&&this.$VideoPlayerController123();return e};a.prototype.$VideoPlayerController123=function(){"use strict";if(this.$VideoPlayerController107)return;this.$VideoPlayerController89||i(0,3694);this.$VideoPlayerController107=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController89);this.$VideoPlayerController107.addListener("visibilityChanged",function(a){return this.emit("visibilityChanged",a)}.bind(this))};a.prototype.setAutoScrollIntoView=function(a){"use strict";this.$VideoPlayerController21=!a};a.prototype.setDetectionID=function(a){"use strict";this.$VideoPlayerController114=a};a.prototype.destroy=function(a){"use strict";__p&&__p();a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController35)return;this.$VideoPlayerController35=!0;this.$VideoPlayerController107&&(this.$VideoPlayerController107.destroy(),this.$VideoPlayerController107=null);var c=this.$VideoPlayerController12;for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController85&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController22&&(this.$VideoPlayerController22.unsubscribe(),this.$VideoPlayerController22=null);this.stopHeartbeat();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};a.prototype.$VideoPlayerController133=function(){"use strict";var a=b("DOMQuery").scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!a.length)return b("Promise").reject();b("DOM").replace(this.getVideoNode(),a[0]);this.$VideoPlayerController89=a[0];return b("JSResource")("VideoPlayerFlashApi").__setRef("VideoPlayerController").load()};a.prototype.$VideoPlayerController125=function(){"use strict";this.logEvent(b("VideoPlayerLoggerEvent").SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()}),b("promiseDone")(this.$VideoPlayerController133().then(function(a){if(a.isImplementationUnavailable())return b("Promise").reject();else return b("Promise").resolve(a)}),function(a){this.$VideoPlayerController5=a,this.$VideoPlayerController127()}.bind(this),function(a){return this.$VideoPlayerController126()}.bind(this))};a.prototype.collectFeedTrackingData=function(){"use strict";__p&&__p();if(this.$VideoPlayerController82){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController82.length;d++){var e=JSON.parse(this.$VideoPlayerController82[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController48.setFTData(e)};a.prototype.$VideoPlayerController131=function(a,c){"use strict";c.video_player_debug_info=c.video_player_debug_info||{hardware:this.$VideoPlayerController134(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!0),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!1)},c.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};a.prototype.$VideoPlayerController134=function(){"use strict";try{var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");var b=a.getExtension("WEBGL_debug_renderer_info");return b&&{vendor:a.getParameter(b.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(b.UNMASKED_RENDERER_WEBGL)}}catch(a){}return null};a.prototype.setStillFrameEnabled=function(a){"use strict";var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};a.prototype.isFallbackRecoverable=function(){"use strict";return!!this.$VideoPlayerController79};a.prototype.setFallbackSources=function(a){"use strict";this.$VideoPlayerController79=a};a.prototype.setRelativeSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalOrientation=function(a,c){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};a.prototype.setSphericalFieldOfView=function(a){"use strict";this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};a.prototype.isSpherical=function(){"use strict";return this.$VideoPlayerController37};a.prototype.getVideoPlayerID=function(){"use strict";return this.$VideoPlayerController30};a.prototype.focusOnContainerNode=function(){"use strict";this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};a.prototype.setLogEntryPropertyGetters=function(a){"use strict";Object.keys(a).forEach(function(b){var c=a[b];typeof c==="function"?this.$VideoPlayerController24.set(b,c):this.$VideoPlayerController80[b]=c}.bind(this))};a.prototype.removeLogEntryPropertyGetters=function(a){"use strict";typeof a==="string"&&(a=[a]),Array.isArray(a)||(a=Object.keys(a)),a.forEach(function(a){this.$VideoPlayerController24["delete"](a),delete this.$VideoPlayerController80[a]}.bind(this))};a.prototype.$VideoPlayerController127=function(){"use strict";this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady()}.bind(this))};a.prototype.isImplementationUnavailable=function(){"use strict";return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController84)&&!this.$VideoPlayerController84};a.prototype.getIsInChannel=function(){"use strict";return this.$VideoPlayerController70===b("VideoPlayerLoggerSource").CHANNEL};a.prototype.updateSource=function(a){"use strict";if(!this.$VideoPlayerController70)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController70],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController48.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController94&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState(b("VideoPlayerStates").PLAYING)&&!this.$VideoPlayerController38?(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=d):this.$VideoPlayerController45=c:this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED));this.$VideoPlayerController70=a};a.prototype.getSource=function(){"use strict";return this.$VideoPlayerController48.getSource()};a.prototype.getPlayerOrigin=function(){"use strict";return this.$VideoPlayerController55};a.prototype.getPlayerSuborigin=function(){"use strict";return this.$VideoPlayerController56};a.prototype.hasLooped=function(){"use strict";return this.$VideoPlayerController51>1};a.prototype.$VideoPlayerController126=function(){"use strict";var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController68=!1};a.prototype.logError=function(a){"use strict";__p&&__p();a=this.$VideoPlayerController44=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController47=this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController37&&Math.random()<.01&&b("gkx")("678900")&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController54&&this.$VideoPlayerController124(!1)};a.prototype.setRotation=function(a){"use strict";this.getVideoAPI().setRotation(a)};a.prototype.setDimensions=function(a,c){"use strict";__p&&__p();var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController61={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController38||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};a.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerController54};a.prototype.$VideoPlayerController124=function(a){"use strict";if(this.$VideoPlayerController54===a)return;this.$VideoPlayerController54=a;this.emit("pendingPlayRequestChanged")};a.prototype.updateAutoplayRestrained=function(){"use strict";b("ifRequired")("VideoPlayerHTML5Shaka",function(a){a=a.isAutoplayBandwidthRestrained(this.$VideoPlayerController41);this.$VideoPlayerController135(a)}.bind(this))};a.prototype.$VideoPlayerController135=function(a){"use strict";a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};a.prototype.restoreStreamBufferSize=function(){"use strict";if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};a.prototype.getDataInsertionPosition=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-insertion-position")};a.prototype.getDataFt=function(){"use strict";return this.$VideoPlayerController26&&this.$VideoPlayerController26.getAttribute("data-ft")};a.prototype.play=function(a){"use strict";__p&&__p();var c=null;a instanceof b("VideoPlayerReasonTransitionHelper")?c=a.getReason():c=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&c===b("VideoPlayerReason").USER&&!this.$VideoPlayerController21&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var d=this.getDOMPosition(),e=d.y>=0;d=d.y+d.height<=b("getViewportDimensions")().height;!e?a.scrollIntoView(!0):d||a.scrollIntoView(!1)}this.$VideoPlayerController136();this.$VideoPlayerController53||(this.$VideoPlayerController53=c);this.$VideoPlayerController108=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController108&&this.$VideoPlayerController108.shouldPlayPreRollAds(c)){this.$VideoPlayerController108.schedulePreRollAds();return}if(!this.$VideoPlayerController54){this.$VideoPlayerController52=this.$VideoPlayerController137();var f=this.$VideoPlayerController138({debug_reason:c});e=this.$VideoPlayerController70;b("VideoPlayerExperiments").delayFormatChangeEvent&&e&&this.$VideoPlayerController94&&this.$VideoPlayerController45&&b("VideoPlayerFormatsMap")[e]!==this.$VideoPlayerController45&&!this.$VideoPlayerController38&&(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=b("VideoPlayerFormatsMap")[e]);b("VideoPlayerExperiments").logRequestedPlayingAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,f);this.$VideoPlayerController94=!0}this.$VideoPlayerController139(c);this.emit("playRequested",c);this.sendPlayRequest(c);c===b("VideoPlayerReason").LOOP&&(this.$VideoPlayerController51++,this.$VideoPlayerController51>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController95=!0))};a.prototype.sendPlayRequest=function(a){"use strict";if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController48.endBuffering();return}this.$VideoPlayerController124(!0);this.isState("loading")?this.$VideoPlayerController62={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController50&&(b("VideoPlayerExperiments").logUnmutedAsync?k(function(){this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)}.bind(this),[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)),this.$VideoPlayerController50=!1,this.$VideoPlayerController140(),this.getVideoAPI().play(a))};a.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerController53};a.prototype.reset=function(){"use strict";if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController141();this.$VideoPlayerController85&&this.$VideoPlayerController85.destroy&&this.$VideoPlayerController85.destroy();this.$VideoPlayerController85=null;this.setState("loading");this.$VideoPlayerController127()};a.prototype.detachRootNode=function(){"use strict";if(!this.$VideoPlayerController67)return;b("DOM").remove(this.$VideoPlayerController67);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController142()}.bind(this))};a.prototype.getVideoAPI=function(){"use strict";this.$VideoPlayerController85||i(0,3695);return this.$VideoPlayerController85};a.prototype.getVideoNodeNullable=function(){"use strict";return this.$VideoPlayerController89};a.prototype.getVideoNode=function(){"use strict";var a=this.getVideoNodeNullable();return a};a.prototype.getRootNodeNullable=function(){"use strict";return this.$VideoPlayerController67};a.prototype.getRootNode=function(){"use strict";var a=this.getRootNodeNullable();return a};a.prototype.getContainerNodeNullable=function(){"use strict";return this.$VideoPlayerController15};a.prototype.getContainerNode=function(){"use strict";var a=this.getContainerNodeNullable();return a};a.prototype.getVideoResolution=function(){"use strict";var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};a.prototype.$VideoPlayerController142=function(){"use strict";this.setState("ready"),this.$VideoPlayerController50=!this.getVideoAPI().isMuted(),this.$VideoPlayerController81=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController72,this.$VideoPlayerController73,this.$VideoPlayerController74,this.$VideoPlayerController75),this.$VideoPlayerController62&&(this.sendPlayRequest(this.$VideoPlayerController62.reason),this.$VideoPlayerController62=null),this.$VideoPlayerController61&&(this.setDimensions(this.$VideoPlayerController61.width,this.$VideoPlayerController61.height),this.$VideoPlayerController61=null),this.$VideoPlayerController63&&(this.getVideoAPI().unmute(),this.$VideoPlayerController63=null)};a.prototype.onApiReady=function(){"use strict";__p&&__p();this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController30,this.$VideoPlayerController79&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController79),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController55,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController56,this.$VideoPlayerController4.getSource=function(){return this.getSource()}.bind(this),this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController113,this.$VideoPlayerController115&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController115));this.$VideoPlayerController85=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController143();this.getVideoAPI().setup();this.$VideoPlayerController142();var a={is_auto_played:this.isAutoplayable()};this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_LOADED,a);this.$VideoPlayerController85&&this.$VideoPlayerController48.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController85.getLocalEstimator()));a=this.getVideoProjection();a&&(this.$VideoPlayerController58=a);this.emit("apiReady")};a.prototype.getLocalEstimator=function(){"use strict";if(this.$VideoPlayerController85)return this.$VideoPlayerController85.getLocalEstimator();else return null};a.prototype.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};a.prototype.resetPositions=function(){"use strict";this.$VideoPlayerController19=0};a.prototype.getCurrentTimePosition=function(){"use strict";if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController19=a)}return this.$VideoPlayerController19};a.prototype.getBufferEndPosition=function(){"use strict";if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};a.prototype.$VideoPlayerController136=function(){"use strict";__p&&__p();if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};a.prototype.$VideoPlayerController144=function(a){"use strict";this.$VideoPlayerController124(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController19=a);this.setState("playing");this.areHLSActive()?this.$VideoPlayerController145():this.isRTMP_DEPRECATED()&&this.$VideoPlayerController146();this.startHeartbeat()};a.prototype.$VideoPlayerController147=function(a){"use strict";a=a.position;a!==void 0&&(this.$VideoPlayerController19=a);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};a.prototype.$VideoPlayerController148=function(a){"use strict";return this.$VideoPlayerController96.has(a)};a.prototype.runOnceOnApiEventLogged=function(a,b){"use strict";if(this.$VideoPlayerController148(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};a.prototype.$VideoPlayerController149=function(a){"use strict";var b=a.event;this.$VideoPlayerController96.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};a.prototype.$VideoPlayerController150=function(){"use strict";this.isState("finished")||this.setState("paused"),this.stopHeartbeat()};a.prototype.$VideoPlayerController151=function(a){"use strict";a=a.position;a!==void 0&&(this.$VideoPlayerController19=a)};a.prototype.$VideoPlayerController152=function(){"use strict";this.setState("finished"),this.$VideoPlayerController66=!1,this.stopHeartbeat()};a.prototype.getVolume=function(){"use strict";return this.getVideoAPI().getVolume()};a.prototype.$VideoPlayerController153=function(){"use strict";__p&&__p();this.$VideoPlayerController39=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController101);!c&&this.$VideoPlayerController27&&(this.$VideoPlayerController27.unsubscribe(),this.$VideoPlayerController27=null);if(this.$VideoPlayerController38!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController122(c,this.$VideoPlayerController70)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController38=c};a.prototype.$VideoPlayerController122=function(a,c){"use strict";return a?b("VideoPlayerFormats").FULL_SCREEN:c?b("VideoPlayerFormatsMap")[c]:b("VideoPlayerFormats").INLINE};a.prototype.logFullscreenChanged=function(a){"use strict";var c={player_format:this.$VideoPlayerController122(a,this.$VideoPlayerController70)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS,c):this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)};a.prototype.setVideoPlayerAPIDimensions=function(a,b){"use strict";this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};a.prototype.removeOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};a.prototype.addOffsetStylings=function(){"use strict";var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};a.prototype.isFullscreen=function(){"use strict";return this.$VideoPlayerController39||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};a.prototype.toggleFullscreen=function(){"use strict";var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController39=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController27=b("FullScreen").subscribe("changed",this.$VideoPlayerController153.bind(this)))};a.prototype.instreamVideoStart=function(){"use strict";b("CSS").addClass(this.getContainerNode(),"_24pm")};a.prototype.instreamVideoEnd=function(){"use strict";b("CSS").removeClass(this.getContainerNode(),"_24pm")};a.prototype.unmute=function(){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController81&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154()):this.$VideoPlayerController63=!0};a.prototype.isAudioBlocked=function(){"use strict";return this.$VideoPlayerController31};a.prototype.isMuted=function(){"use strict";return this.$VideoPlayerController85?this.getVideoAPI().isMuted():this.$VideoPlayerController76};a.prototype.mute=function(){"use strict";this.$VideoPlayerController81&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController154(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};a.prototype.getMediaID=function(){"use strict";return this.getVideoID()};a.prototype.getPlaybackDuration=function(){"use strict";return this.getVideoAPI().getPlaybackDuration()};a.prototype.getPlayerFormat=function(){"use strict";return this.$VideoPlayerController122(this.isFullscreen(),this.$VideoPlayerController70)};a.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerController88};a.prototype.getVideoChannelID=function(){"use strict";return this.$VideoPlayerController86};a.prototype.getVideoURL=function(){"use strict";return this.$VideoPlayerController91};a.prototype.$VideoPlayerController143=function(){"use strict";__p&&__p();var a=this.getVideoAPI(),c=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=c;var d={buffered:function(){return this.setBuffering(!1)}.bind(this),buffering:function(){return this.setBuffering(!0)}.bind(this),bufferingProgress:function(a){return this.$VideoPlayerController155(a)}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController48.startInterrupt()}.bind(this),streamResumed:function(){return this.$VideoPlayerController48.endInterrupt()}.bind(this),beginPlayback:function(a){return this.$VideoPlayerController144(a)}.bind(this),updateStatus:function(a){return this.$VideoPlayerController147(a)}.bind(this),logEvent:function(a){return this.$VideoPlayerController149(a.logData)}.bind(this),pausePlayback:function(){return this.$VideoPlayerController150()}.bind(this),seekEnd:function(a){return this.$VideoPlayerController151(a)}.bind(this),clickForTracking:function(){return b("logVideosClickTracking")(this.getVideoNode())}.bind(this),error:function(a){return this.logError(a)}.bind(this),finishPlayback:function(){return this.$VideoPlayerController152()}.bind(this),networkInterrupted:function(){return this.$VideoPlayerController156()}.bind(this),networkResumed:function(){return this.$VideoPlayerController157()}.bind(this),switchReplica:function(a){return this.switchReplicaSet(a)}.bind(this)};c.addSubscriptions.apply(c,Object.keys(d).map(function(b){return a.addListener(b,d[b])}));c.addSubscriptions.apply(c,b("VideoPlayerApiEvents").map(function(c){return b("forwardEvent")(a,this,c)}.bind(this)))};a.prototype.$VideoPlayerController141=function(){"use strict";this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};a.prototype.seek=function(a){"use strict";this.emit("seekRequested",a),this.getVideoAPI().seek(a)};a.prototype.pause=function(a){"use strict";this.isState("loading")?this.$VideoPlayerController62=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController54&&this.getVideoAPI().pause(a),this.$VideoPlayerController124(!1),this.$VideoPlayerController66=!1,this.$VideoPlayerController158(a),this.emit("pauseRequested",a)};a.prototype.stopHeartbeat=function(){"use strict";b("clearInterval")(this.$VideoPlayerController29),this.$VideoPlayerController29=null};a.prototype.startHeartbeat=function(){"use strict";if(this.$VideoPlayerController29||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController29=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};a.prototype.isPlayerVersion=function(a){"use strict";return this.getPlayerVersion()===a||this.$VideoPlayerController100&&this.$VideoPlayerController159(a)===this.getPlayerVersion()};a.prototype.isHtml5Player=function(){"use strict";return this.isPlayerVersion(b("VideoPlayerVersions").PLEASANTVILLE)||this.isPlayerVersion(b("VideoPlayerVersions").OZ)};a.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController68};a.prototype.$VideoPlayerController160=function(){"use strict";return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};a.prototype.$VideoPlayerController128=function(){"use strict";if(b("Visibility").isHidden()){var a=b("Visibility").once(b("Visibility").VISIBLE,function(){return this.$VideoPlayerController128()}.bind(this));b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(a)}else!this.$VideoPlayerController160()&&this.$VideoPlayerController69!==b("VideoPlayerImmediatePlayReason").WATCH_TIME_NOT_LOGGED&&b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath()),this.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController34};a.prototype.$VideoPlayerController161=function(){"use strict";__p&&__p();var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController109=this.$VideoPlayerController109.filter(function(b){return b.time+3>a});this.$VideoPlayerController109.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController109.push({time:a,count:1})};a.prototype.$VideoPlayerController162=function(){"use strict";var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController109.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};a.prototype.$VideoPlayerController155=function(a){"use strict";this.emit("bufferingProgress",a)};a.prototype.setBuffering=function(a){"use strict";__p&&__p();if(a!==this.$VideoPlayerController34){this.$VideoPlayerController34=a;if(this.$VideoPlayerController34){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController161();if(this.$VideoPlayerController162()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController48.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController104&&(this.$VideoPlayerController163(),this.$VideoPlayerController98=b("setTimeout")(this.$VideoPlayerController164,this.$VideoPlayerController104));this.$VideoPlayerController165()}else this.$VideoPlayerController48.endBuffering(),this.$VideoPlayerController163(),this.isState("paused")&&this.$VideoPlayerController166();this.emit("bufferingChanged")}};a.prototype.setSmartBufferAdjustmentEnabled=function(a){"use strict";var b=this.getVideoAPI();"setSmartBufferAdjustmentEnabled"in b&&b.setSmartBufferAdjustmentEnabled(a)};a.prototype.setVideoStreamOffset=function(a){"use strict";var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};a.prototype.$VideoPlayerController163=function(){"use strict";this.$VideoPlayerController98&&(b("clearTimeout")(this.$VideoPlayerController98),this.$VideoPlayerController98=null)};a.prototype.$VideoPlayerController166=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController106&&this.play(b("VideoPlayerReason").NETWORK_RESUMED)};a.prototype.$VideoPlayerController165=function(){"use strict";this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController34&&this.$VideoPlayerController105&&this.isState("playing")&&this.pause(b("VideoPlayerReason").NETWORK_INTERRUPTED)};a.prototype.$VideoPlayerController139=function(a){"use strict";this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController158=function(a){"use strict";a===b("VideoPlayerReason").NETWORK_INTERRUPTED?this.$VideoPlayerController106=!0:this.$VideoPlayerController106=!1};a.prototype.$VideoPlayerController156=function(){"use strict";this.$VideoPlayerController105=!0,this.$VideoPlayerController165()};a.prototype.$VideoPlayerController157=function(){"use strict";this.$VideoPlayerController105=!1,this.$VideoPlayerController166()};a.prototype.isLiveVideo=function(){"use strict";return this.$VideoPlayerController41};a.prototype.isVideo=function(){"use strict";return!0};a.prototype.isBroadcast=function(){"use strict";return!!this.$VideoPlayerController32};a.prototype.isInline=function(){"use strict";return!!this.$VideoPlayerController70&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController70]===b("VideoPlayerFormats").INLINE&&!this.isFullscreen()};a.prototype.isFacecastAudio=function(){"use strict";return this.$VideoPlayerController36};a.prototype.isStreamInterrupted=function(){"use strict";var a=this.$VideoPlayerController85;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};a.prototype.setVolume=function(a){"use strict";if(!this.$VideoPlayerController33&&this.$VideoPlayerController31)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};a.prototype.getDOMPosition=function(){"use strict";var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};a.prototype.clickVideo=function(){"use strict";this.emit("clickVideo"),this.$VideoPlayerController28=!0};a.prototype.mouseMove=function(a){"use strict";this.emit("mouseMove",a)};a.prototype.mouseUp=function(a){"use strict";this.emit("mouseUp",a)};a.prototype.mouseLeave=function(a){"use strict";this.emit("mouseLeave",a)};a.prototype.hasSeenClick=function(){"use strict";return!!this.$VideoPlayerController28};a.prototype.isAd=function(){"use strict";return!!this.$VideoPlayerController2};a.prototype.shouldCalculateViewability=function(){"use strict";if(this.isAd())return!0;var a=this.$VideoPlayerController48.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};a.prototype.isInstreamAd=function(){"use strict";return!!this.$VideoPlayerController40};a.prototype.getAdClientToken=function(){"use strict";return this.$VideoPlayerController2};a.prototype.getLastScrollDirection=function(){"use strict";return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};a.prototype.$VideoPlayerController167=function(){"use strict";__p&&__p();var a=null,c=null,d=!1,e=null,f=null,g=null,h=null,i=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());a=this.getVideoAPI().getEstimatedBandwidth();c=this.getVideoAPI().getAvailableVideoQualities().length;d=this.getVideoAPI().getIsAbrEnabled();e=this.getPlaybackDuration();i=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var j=this.getVideoAPI().getDimensionsForDevice();g=j&&j.height;f=j&&j.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(h=b("VideoPlayerConnectionQuality").evaluate(function(){return this.getVideoAPI().getEstimatedBandwidth()}.bind(this)))}var k=babelHelpers["extends"]({},this.$VideoPlayerController80);this.$VideoPlayerController24.forEach(function(a,b){k[b]=a(b,this)}.bind(this));j={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(j.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var l=this.isLiveVideo()&&!!n&&n.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:c,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController97,projection:this.$VideoPlayerController58,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController71,player_origin:this.$VideoPlayerController55,player_suborigin:this.$VideoPlayerController56,playback_is_broadcast:this.$VideoPlayerController32,player_instance_key:this.$VideoPlayerController113,playback_duration:e,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController85?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController42,playback_is_live_streaming:this.$VideoPlayerController41,is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_live_video_rewound:l,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController86,reaction_video_channel_type:this.$VideoPlayerController64,reaction_video_channel_subtype:this.$VideoPlayerController65,fbcdn_pop:this.$VideoPlayerController52,representation_id:this.$VideoPlayerController17,audio_representation_id:i,video_bandwidth:a,video_player_height:g,video_player_width:f,data_connection_quality:h,is_abr_enabled:d,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController83,should_log_video_viewability:this.$VideoPlayerController111,living_room_session_id:this.$VideoPlayerController112,detectionID:this.$VideoPlayerController114,is_ads_preview:this.$VideoPlayerController118,is_injected_ads:this.$VideoPlayerController119,is_chained_living_room:this.$VideoPlayerController121},this.$VideoPlayerController87,this.$VideoPlayerController9,k,j)};a.prototype.$VideoPlayerController137=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};a.prototype.getVideoInfo_DEPRECATED=function(){"use strict";return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};a.prototype.getDebugInfo=function(){"use strict";var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController59,initializationTimestamp:this.$VideoPlayerController60,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController48.getCumulativeStallCount(),stallTime:this.$VideoPlayerController48.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController48.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController48.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController48.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController48.getCumulativeInterruptTime(),state:this.$VideoPlayerController71,canPlayType:b("mapObject")(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController47,lastError:this.$VideoPlayerController44,droppedFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getTotalFrames(),videoSource:!!this.$VideoPlayerController85&&this.$VideoPlayerController85.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController93&&this.$VideoPlayerController93.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController85&&this.$VideoPlayerController85.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController58,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};a.prototype.getLastError=function(){"use strict";return this.$VideoPlayerController44};a.prototype.isAkamai=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};a.prototype.getLoggedError=function(){"use strict";return this.$VideoPlayerController47};a.prototype.getTotalFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getTotalFrames():0};a.prototype.getDroppedFrames=function(){"use strict";return this.$VideoPlayerController85?this.$VideoPlayerController85.getDroppedFrames():0};a.prototype.getInterruptCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptCount()};a.prototype.getInterruptTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeInterruptTime()};a.prototype.getVideoStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};a.prototype.getAudioStreamId=function(){"use strict";return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};a.prototype.getVideoTracks=function(){"use strict";return this.getVideoAPI().getVideoTracksDebug()};a.prototype.getAudioDashFormat=function(){"use strict";return this.getVideoAPI().getDashAudioConfigurationDebug()};a.prototype.getCumulativeStallCount=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallCount()};a.prototype.getCumulativeStallTime=function(){"use strict";return this.$VideoPlayerController48.getCumulativeStallTime()};a.prototype.getStallCount=function(){"use strict";return this.$VideoPlayerController48.getStallCount()};a.prototype.getStreamType=function(){"use strict";var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};a.prototype.hasSubtitles=function(){"use strict";return this.getVideoAPI().hasSubtitles()};a.prototype.getVideoState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.areSubtitlesActive=function(){"use strict";return this.getVideoAPI().areSubtitlesActive()};a.prototype.areSubtitlesAutogenerated=function(){"use strict";return this.getVideoAPI().areSubtitlesAutogenerated()};a.prototype.areHLSActive=function(){"use strict";return this.getVideoAPI().areHLSActive()};a.prototype.isRTMP_DEPRECATED=function(){"use strict";return this.getVideoAPI().isRTMP()};a.prototype.toggleSubtitles=function(){"use strict";this.$VideoPlayerController154(),this.logEvent(b("VideoPlayerLoggerEvent").CAPTION_CHANGE),this.$VideoPlayerController81=!1};a.prototype.$VideoPlayerController154=function(){"use strict";this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController140()};a.prototype.$VideoPlayerController140=function(){"use strict";this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};a.prototype.isHD=function(){"use strict";return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};a.prototype.hasHD=function(){"use strict";return this.getAvailableVideoQualities().length>1};a.prototype.toggleHD=function(){"use strict";this.isHD()?this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]):this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop())};a.prototype.setPreferredVideoQuality=function(a){"use strict";this.getVideoAPI().setPreferredVideoQuality(a)};a.prototype.unsetPreferredVideoQuality=function(){"use strict";this.getVideoAPI().unsetPreferredVideoQuality()};a.prototype.getPreferredVideoQuality=function(){"use strict";return this.getVideoAPI().getPreferredVideoQuality()};a.prototype.getSelectedVideoQuality=function(){"use strict";return this.getVideoAPI().getSelectedVideoQuality()};a.prototype.getAvailableVideoQualities=function(){"use strict";return this.getVideoAPI().getAvailableVideoQualities()};a.prototype.getVideoProjection=function(){"use strict";return this.getVideoAPI().getVideoProjection()};a.prototype.canAutoSelectVideoQuality=function(){"use strict";return this.getVideoAPI().canAutoSelectVideoQuality()};a.prototype.switchToStreamType=function(a){"use strict";this.getVideoAPI().switchToStreamType(a)};a.prototype.$VideoPlayerController146=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",o).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController145=function(){"use strict";this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",p).setString("source",this.$VideoPlayerController70).getURI().toString())};a.prototype.$VideoPlayerController138=function(a){"use strict";var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};a.prototype.$VideoPlayerController168=function(){"use strict";var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};a.prototype.logEvent=function(a,c){"use strict";__p&&__p();this.$VideoPlayerController46++;if(this.$VideoPlayerController95)return void 0;this.$VideoPlayerController117.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController46>d&&(this.$VideoPlayerController95=!0);d=++this.$VideoPlayerController25;c=Object.assign(this.$VideoPlayerController167(),c);var e=this.getOriginalPlayReason();e&&a!==b("VideoPlayerLoggerEvent").DISPLAYED&&(c.video_play_reason=e);a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&(c.viewport_distance=this.$VideoPlayerController168());(a===b("VideoPlayerLoggerEvent").MUTED||a===b("VideoPlayerLoggerEvent").UNMUTED||a===b("VideoPlayerLoggerEvent").STARTED_PLAYING||a===b("VideoPlayerLoggerEvent").CAPTION_CHANGE||a===b("VideoPlayerLoggerEvent").UNPAUSED)&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController92&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController93.getViewability(),this.$VideoPlayerController93.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController77.has(a)&&(c.seq_num=++this.$VideoPlayerController78):c.seq_num=d;a===b("VideoPlayerLoggerEvent").PLAYED_FOR_THREE_SECONDS&&(c.detection_id=this.$VideoPlayerController114,this.emit("videoView/runFraudDetector"));e=this.$VideoPlayerController48.logEvent(a,c);this.emit("debug/vpcLogEvent",e);return e};a.prototype.getState=function(){"use strict";return this.$VideoPlayerController71};a.prototype.getStreamingFormat=function(){"use strict";var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController43};a.prototype.setPlaybackRate=function(a){"use strict";this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};a.prototype.getPlaybackRate=function(){"use strict";return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};a.prototype.setState=function(a){"use strict";if(this.isState(b("VideoPlayerStates").DESTROYED)||this.isState(b("VideoPlayerStates").FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController71=a;this.$VideoPlayerController71==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController141());this.emit("stateChange")};a.prototype.isState=function(a){"use strict";return this.$VideoPlayerController71===a};a.prototype.isIntentionallyViewing=function(){"use strict";return this.isState("playing")&&!this.isMuted()};a.prototype.abortLoading=function(a){"use strict";if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController41)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat()};a.prototype.preload=function(){"use strict";if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};a.prototype.getPlayerVersion=function(){"use strict";var a;this.$VideoPlayerController85&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController57;return this.$VideoPlayerController100?this.$VideoPlayerController159(b):b};a.prototype.$VideoPlayerController159=function(a){"use strict";switch(a){case b("VideoPlayerVersions").SILVERCITY:return b("VideoPlayerVersions").REACT_SILVERCITY;case b("VideoPlayerVersions").PLEASANTVILLE:return b("VideoPlayerVersions").REACT_PLEASANTVILLE;case b("VideoPlayerVersions").OZ:return b("VideoPlayerVersions").REACT_OZ;default:return b("VideoPlayerVersions").REACT}};a.prototype.registerOption=function(a,b,c,d){"use strict";var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};a.prototype.unregisterOption=function(a,b){"use strict";var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};a.prototype.getComponents=function(){"use strict";return this.$VideoPlayerController13.keys()};a.prototype.getOptions=function(a){"use strict";a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};a.prototype.hasOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};a.prototype.getOption=function(a,b){"use strict";a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};a.prototype.setOption=function(a,b,c){"use strict";__p&&__p();a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};a.prototype.showDebugOverlayView=function(a){"use strict";this.emit("showDebugOverlay",a)};a.prototype.$VideoPlayerController129=function(){"use strict";var a=b("DOMQuery").scry(this.$VideoPlayerController67,"^._5pat");return a.length?a[0]:null};a.prototype.registerDrawer=function(a,b){"use strict";return this.$VideoPlayerController23.register(a,b)};a.prototype.getVideoPath=function(){"use strict";return this.$VideoPlayerController90};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this.$VideoPlayerController99=a};a.prototype.cleanOnLeave=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()};a.prototype.switchReplicaSet=function(a){"use strict";var c=this.isState("playing");this.getVideoAPI().switchReplicaSet(a);c&&this.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.switchToFullVideo=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadDashManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToFullVideo"),this.emit("playLiveVODHighlights/showUFI")}.bind(this))};a.prototype.switchToLiveVODHighlights=function(){"use strict";this.pause(b("VideoPlayerReason").UNLOADED),this.getVideoAPI().reloadLiveVODHighlightsManifest().done(function(){this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),this.emit("switchedToLiveVODHighlights"),this.emit("playLiveVODHighlights/hideUFI")}.bind(this))};a.prototype.isPlayingVODHighlights=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isPlayingVODHighlights()};a.prototype.isLiveVODHighlightsAvailable=function(){"use strict";return this.isState("loading")||this.isState("fallback")||this.isState("destroyed")?!1:this.getVideoAPI().isLiveVODHighlightsAvailable()};a.prototype.$VideoPlayerController130=function(){"use strict";return this.getIsInChannel()||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").LIVING_ROOM||this.$VideoPlayerController70===b("VideoPlayerLoggerSource").TOPIC_CHANNEL_LIVING_ROOM||this.$VideoPlayerController55===b("VideoPlayerOrigins").INTERN_CURATION||this.$VideoPlayerController55===b("VideoPlayerOrigins").GAMES_VIDEO_HUB};a.prototype.getDashAudioConfiguration=function(){"use strict";return this.getVideoAPI().getDashAudioConfiguration()};a.prototype.setEnableLiveheadCatchup=function(a){"use strict";var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};a.prototype.isFBWasLive=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};a.prototype.isFBIsLiveTemplated=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};a.prototype.isFBMS=function(){"use strict";var a=this.$VideoPlayerController85&&this.getVideoAPI();return!!(a&&a.isFBMS())};a.prototype.isLiveheadCatchupEnabled=function(){"use strict";var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};a.prototype.getSeekableRanges=function(){"use strict";var a=this.getVideoAPI();return a?a.getSeekableRanges():null};a.prototype.isBroadcaster=function(){"use strict";return this.$VideoPlayerController33||!1};a.prototype.$VideoPlayerController132=function(a,c){"use strict";var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController88+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController88,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};e.exports=a}),null);
__d("VideoCover",["invariant","Bootloader","CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d,e){__p&&__p();e===void 0&&(e=null),this.$7=new(b("SubscriptionsHandler"))(),this.$13=function(){this.$5&&b("CSS").show(this.$1)}.bind(this),this.$14=function(){this.$5&&b("CSS").hide(this.$1)}.bind(this),this.$9=function(){this.$3!=null&&this.$3.length>0?b("Bootloader").loadModules(["PhotoSnowlift"],function(a){return a.bootstrap(this.$3)}.bind(this),"VideoCover"):this.$8&&this.$8.clickVideo()}.bind(this),this.$10=function(){b("CSS").hide(this.$1)}.bind(this),this.$12=function(){if(this.$8){var a=this.$8.getOption("Looping","isLooping");if(this.$4||a)return;b("CSS").show(this.$1)}}.bind(this),this.$11=function(){this.$8&&this.$8.isState("fallback")&&this.$6&&b("CSS").show(this.$1)}.bind(this),a instanceof Element||g(0,4829),this.$1=a,c[0]instanceof Element||g(0,4830),this.$2=c[0],this.$3=d,e&&(this.$4=e.hiddenAfterFinish,this.$5=e.showWhileBuffering,this.$6=e.showAfterFallback),b("EventListener").listen(this.$1,"click",this.$9)}a.prototype.disable=function(){"use strict";this.$7.release(),this.$8&&this.$8.unregisterOption("VideoCover","coverElement"),this.$8=null};a.prototype.enable=function(a){"use strict";this.$8=a,a.getState()==="playing"&&this.$10(),this.$7.addSubscriptions(a.addListener("stateChange",this.$11),a.addListener("beginPlayback",this.$10),a.addListener("finishPlayback",this.$12),a.addListener("buffering",this.$13),a.addListener("buffered",this.$14)),a.registerOption("VideoCover","coverElement",function(){return this.$1}.bind(this))};a.prototype.getCurrentCover=function(){"use strict";return this.$2};a.prototype.setSnowLiftURI=function(a){"use strict";this.$3=a};e.exports=a}),null);
__d("VideoNodeStaledScreen",["CSS","EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$5=function(){b("CSS").show(this.$1)}.bind(this),this.$4=function(){b("CSS").hide(this.$1)}.bind(this),this.$1=a,this.$2=null,b("EventListener").listen(this.$1,"click",this.$4)}a.prototype.enable=function(a){"use strict";this.$2=a,this.$3.addSubscriptions(this.$2.addListener("videoNodeStaled",this.$5))};a.prototype.disable=function(){"use strict";this.$3.release(),this.$2=null};e.exports=a}),null);
__d("VideoUpdateStateDirectory",["VideoStateDirectory"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$2=function(){var a=this.$1,c=a.getVideoID(),d=a.getCurrentTimePosition();a=a.getPlaybackDuration();b("VideoStateDirectory").setPlaybackState(c,d,a)}.bind(this)}a.prototype.enable=function(a){this.$1=a,a.addListener("finishPlayback",this.$2),a.addListener("pausePlayback",this.$2)};a.prototype.disable=function(){};e.exports=a}),null);
__d("BlobFactory",["emptyFunction"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){try{new a.Blob(),g=!0}catch(a){g=!1}}var i=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder;a.Blob?c={getBlob:function(b,c){__p&&__p();b=b||[];c=c||{};g===void 0&&h();if(g)return new a.Blob(b,c);else{var d=new i();for(var e=0;e<b.length;e++)d.append(b[e]);return d.getBlob(c.type)}},isSupported:b("emptyFunction").thatReturnsTrue}:c={getBlob:function(){},isSupported:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("filterObject",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.prototype.hasOwnProperty;function a(a,b,c){if(!a)return null;var d={};for(var e in a)g.call(a,e)&&b.call(c,a[e],e,a)&&(d[e]=a[e]);return d}e.exports=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","destroyOnUnload","emptyFunction","filterObject","getCrossOriginTransport","memoize","performanceNow"],(function(a,b,c,d,e,f,g){__p&&__p();var h=a.URL||a.webkitURL;function i(a){"use strict";this.$1=!1,this.$2=null,this.$3=a,this.__worker=null,this.$4=b("emptyFunction"),this.$5=b("emptyFunction"),this.$6=[],this.$7=[],this.$8=!1,this.$9=new(b("SubscriptionsHandler"))(),this.$10=b("destroyOnUnload")(function(){this.$8||this.terminate()}.bind(this)),this.$11("constructed")}i.prototype.setMessageHandler=function(a){"use strict";this.$4=a||b("emptyFunction");return this};i.prototype.setErrorHandler=function(a){"use strict";this.$5=a||b("emptyFunction");return this};i.prototype.postMessage=function(a,b){"use strict";__p&&__p();this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$6.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};i.prototype.$12=function(){"use strict";this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$6=[],this.$7=[],this.$10&&this.$10.remove&&this.$10.remove())};i.prototype.terminate=function(){"use strict";this.isCurrentState("executing")&&this.__worker.terminate();this.$12();return this};i.prototype.execute=function(){"use strict";this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");i.prepareResource(this.$3,this.$14.bind(this));return this};i.prototype.setAllowCrossPageTransition=function(a){"use strict";this.$8=a;return this};i.prototype.isCurrentState=function(a){"use strict";i.states.includes(a)||g(0,5980,a);return a===this.$2};i.prototype.$14=function(){"use strict";__p&&__p();this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$3.sameOriginURL||this.$3.source||g(0,5982);this.$3.sameOriginURL?this.__worker=this.constructWorker(this.$3.sameOriginURL):(this.__worker=this.constructWorker(i.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$3.source));this.$15("ping",Date.now());if(this.$3.dynamicModules)try{this.$15("defineModules",this.$3.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$6.forEach(function(a){return a()});this.$6=null;this.$7.forEach(function(a){return a()});this.$7=null};i.prototype.$13=function(){"use strict";this.$9.release()};i.prototype.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};i.prototype.$16=function(a,b){"use strict";i.$16(a,this.$3.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$8,state:this.$2}))};i.$18=function(){"use strict";return Object.keys(b("filterObject")({object_url:i.$19(),eval_url:n(),data_url:i.$20(),worker:i.isSupported(),transferables:i.areTransferablesSupported()},function(a){return!!a}))};i.prototype.$17=function(){"use strict";this.$9.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.__worker,"error",this.$22.bind(this)))};i.prototype.$22=function(a){"use strict";var b=this.$5(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};i.prototype.$21=function(b){"use strict";__p&&__p();b=b.data;switch(b.type){case"message":this.$4(b.message);break;case"pong":this.$1=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$3.source?this.$3.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};i.prototype.$11=function(a){"use strict";i.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$2=a};i.prepareResource=function(c,d){"use strict";__p&&__p();d=d||b("emptyFunction");c.sameOriginURL||c.url||c.source||g(0,5985);!i.isSupported()&&g(0,5986);if(c.sameOriginURL)d();else if(c.url&&b("areSameOrigin")(new(b("URI"))(c.url),new(b("URI"))(a.location.href)))c.sameOriginURL=c.url,d();else if(c.source)i.$23()&&(c.sameOriginURL=i.$24(c.source)),d();else if(!c.loading){var e=b("performanceNow")();c.loading=[d];i.$25(c.url,function(a){a?(c.source=a,i.$23()&&(c.sameOriginURL=i.$24(a)),i.$16("prepared",c.name,{dt:Math.floor(b("performanceNow")()-e),bytes:a.length})):i.$16("failed",c.name,{dt:Math.floor(b("performanceNow")()-e),bytes:0}),c.loading.forEach(function(a){return a()}),c.loading=!1})}else c.loading.push(d);return c};i.releaseResource=function(a){"use strict";a.sameOriginURL.indexOf("blob:")===0&&(h.revokeObjectURL&&h.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};i.isSupported=function(){"use strict";return m&&(i.$23()||n())};i.isMessageChannelSupported=function(){"use strict";return i.areTransferablesSupported()&&!!a.MessageChannel};i.areTransferablesSupported=function(){"use strict";return i.isSupported()&&o()};i.$25=function(a,c){"use strict";new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};i.$24=function(a){"use strict";i.$23()||g(0,5987);if(i.$19()){var c=b("BlobFactory").getBlob([a],{type:"application/javascript"});return h.createObjectURL(c)}if(i.$20())return"data:application/javascript,"+encodeURIComponent(a)};i.$19=function(){"use strict";return b("BlobFactory").isSupported()&&k()};i.$20=function(){"use strict";return l()};i.$23=function(){"use strict";return i.$19()||i.$20()};i.$16=function(a,c,d){"use strict";if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(e){e.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},d,{features_array:i.$18(),event:a,resource:c}))},"WebWorker")};i.prototype.constructWorker=function(a){"use strict";return j(a)};i.prototype.$26=function(a,b){"use strict";if(this.isCurrentState("preparing")){this.$7.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};i.prototype.createMessageChannel=function(a,b){"use strict";var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};i.prototype.getInterfaceableWorker=function(){"use strict";return this.__worker};function j(b){return new a.Worker(b)}var k=b("memoize")(function(){__p&&__p();var a;if(!h||!h.createObjectURL)return!1;try{a=h.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=j(a);c.terminate();c=!0}catch(a){c=!1}finally{h.revokeObjectURL&&h.revokeObjectURL(a)}return c}),l=b("memoize")(function(){try{var a=j("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),m=!!a.Worker,n=b("memoize")(function(){try{var a=j(i.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),o=b("memoize")(function(){try{var a=j(i.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});i.states=["constructed","preparing","executing","terminated"];i.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;e.exports=i}),null);
__d("WebWorkerTransferPromise",["invariant","Promise"],(function(a,b,c,d,e,f,g){__p&&__p();a={expectPromise:function(a){__p&&__p();var c=new(b("Promise"))(function(b,c){__p&&__p();function d(e){__p&&__p();e instanceof MessageEvent||g(0,1465);e=e.data;e||g(0,1466);var f=e.type;e=e.data;switch(f){case"resolve":b(e);break;case"reject":c(e);break;default:throw new Error("Expected a WebWorkerTransferPromise, but didn't receive one.")}a.removeEventListener("message",d)}a.addEventListener("message",d)});return c},sendPromise:function(a,b){function c(b){a.postMessage({type:"resolve",data:b})}function d(b){a.postMessage({type:"reject",data:b})}b(c,d)}};e.exports=a}),null);
__d("CEA608ExtractorWebWorker",["CEA608ExtractorWorkerResource","WebWorker","WebWorkerTransferPromise"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){g||(g=new(b("WebWorker"))(b("CEA608ExtractorWorkerResource")).setAllowCrossPageTransition(!0).execute());return g}a={isSupported:function(){return b("WebWorker").isMessageChannelSupported()},extract:function(a,c){var d=h().createMessageChannel({timescale:c,data:a});return b("WebWorkerTransferPromise").expectPromise(d)["finally"](function(){return d.close()})},prepare:function(){h()}};e.exports=a}),null);
__d("VideoPlayerMainThreadAvailability",["VideoPlayerShakaGlobalConfig","Visibility","nativeRequestAnimationFrame","performanceNow","requestAnimationFrame","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.__fbNativeSetTimeout,h=a.__fbNativeClearTimeout,i=window.requestIdleCallback,j=window.cancelIdleCallback,k=function(a){var b=function b(){a(b)};return b},l=function(a,b){var c=function c(){a(c,b)};return c},m=function(a,b){var c=function c(){a(c,b)};return c};function c(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null,this.$5=null}c.prototype.enable=function(){if(this.$1||!this.$6())return;this.$7();this.$8();this.$1=!0};c.prototype.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?b("performanceNow")()-Number(this.$2):null};c.prototype.$9=function(){this.$2=b("Visibility").isHidden()?null:b("performanceNow")()};c.prototype.$10=function(){this.$2=null,typeof this.$5==="number"&&(j(this.$5),this.$5=null),typeof this.$4==="number"&&(h(this.$4),this.$4=null)};c.prototype.$8=function(){b("VideoPlayerShakaGlobalConfig").getBool("use_settimeout_for_main_thread_available",!1)?this.$11():this.$12()};c.prototype.$7=function(){b("Visibility").addListener(b("Visibility").VISIBLE,function(){this.$10(),this.$8()}.bind(this)),b("Visibility").addListener(b("Visibility").HIDDEN,function(){this.$10()}.bind(this))};c.prototype.$11=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("settimeout_polling_delay",-1);if(a>-1){var c=function(){this.$9(),this.$4=g(c,a)}.bind(this);g(c,a)}};c.prototype.$12=function(){var a=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1),c;a>-1&&(c={timeout:a});var d=function(a){this.$9(),this.$5=b("requestIdleCallback")(d,c)}.bind(this);b("requestIdleCallback")(d,c)};c.prototype.$6=function(){return b("Visibility").isSupported()&&typeof i==="function"&&typeof j==="function"&&typeof g==="function"&&typeof h==="function"};c.prototype.maybeEnablePerformanceTest=function(){var a,c,d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_ric_timeout",-1);d>-1&&(c={timeout:d});b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_raf",!1)&&(a=k(b("requestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_ric",!1)&&(a=l(b("requestIdleCallback"),c));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_raf",!1)&&typeof b("nativeRequestAnimationFrame")==="function"&&(a=k(b("nativeRequestAnimationFrame")));b("VideoPlayerShakaGlobalConfig").getBool("enable_recursive_native_ric",!1)&&typeof i==="function"&&(a=l(i,c));d=b("VideoPlayerShakaGlobalConfig").getNumber("recursive_native_settimeout_delay",-1);d>-1&&typeof g==="function"&&(a=m(g,d));a&&a()};e.exports=new c()}),null);
__d("VideoPlayerPlayLogger",["EventListener","SubscriptionsHandler"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){"use strict";this.$3=new(b("SubscriptionsHandler"))(),this.$1=a,this.$2=c,this.$3.addSubscriptions(b("EventListener").listen(this.$1,"playing",function(){return this.$5()}.bind(this)),b("EventListener").listen(this.$1,"pause",function(){return this.$6()}.bind(this)))}a.prototype.playStarted=function(){"use strict";(this.$1.paused||this.$1.ended)&&(this.$4=this.$2.getOperationLogger("play").setState("pending_play").start())};a.prototype.$6=function(){"use strict";this.$4&&(this.$4.setResult("aborted").log(),this.$4=null)};a.prototype.$5=function(){"use strict";this.$4&&(this.$4.log(),this.$4=null)};a.prototype.unload=function(){"use strict";this.$3.release()};e.exports=a}),null);
__d("extractCEA608",["CEA608ExtractorWebWorker","JSResource","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=b("gkx")("678908");function a(a,c){if(h&&b("CEA608ExtractorWebWorker").isSupported())return b("CEA608ExtractorWebWorker").extract(a,c);g||(g=b("JSResource")("CEA608Extractor").__setRef("extractCEA608").load().then(function(a){return new a(c)}));return g.then(function(b){return b.extract(a)})}a.prepare=function(){if(!h||!b("CEA608ExtractorWebWorker").isSupported())return;b("CEA608ExtractorWebWorker").prepare()};e.exports=a}),null);
__d("OzDashPrefetchCache",["VideoDashPrefetchCache"],(function(a,b,c,d,e,f){"use strict";a.prototype.hasCacheValue=function(a){return b("VideoDashPrefetchCache").hasCacheValue(a)};a.prototype.getCacheValue=function(a){return b("VideoDashPrefetchCache").getCacheValue(a)};a.prototype.getCachedRepresentations=function(a){return null};function a(){}e.exports=a}),null);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.applyRestriction=function(a,b){if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=this.$1}.bind(this));return b.length>0?b:[a[a.length-1]]};e.exports=a}),null);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){this.$4=new Map(),this.$1=a,this.$2=b,this.$3=c}a.prototype.$5=function(a,c){var d=null;if(this.$4.get(a))d=this.$4.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(d=b("MosUtils").parsePlaybackMos(String(e)),d&&this.$4.set(a,d))}return d!=null?b("MosUtils").getMosValue(d,b("MosUtils").getQualityLabel(c.width,c.height)):null};a.prototype.$6=function(a,b){var c=a.some(function(a){a=this.$5(a,b);return a!=null?a>this.$2&&a<this.$1:!1}.bind(this));return!c?a:a.filter(function(a){a=this.$5(a,b);return a!=null?a<=this.$1:!0}.bind(this))};a.prototype.$7=function(a,b){var c=null;a.forEach(function(a){a=this.$5(a,b);a!=null&&a>this.$1&&(c==null||c>a)&&(c=a)}.bind(this));return c==null?a:a.filter(function(a){a=this.$5(a,b);return a==null?!0:a<=this.$1||a===c}.bind(this))};a.prototype.applyRestriction=function(a,b){return a.length===0?[]:this.$3?this.$7(a,b):this.$6(a,b)};e.exports=a}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a={getBool:function(a,b){return g?g.getBool(a,b):b},getNumber:function(a,b){return g?g.getNumber(a,b):b},getString:function(a,b){return g?g.getString(a,b):b},setGlobalConfig:function(a){g=a}};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverage:i,getExponentiallyWeightedMovingAverageOfBandwidth:j,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:k}}),null);
__d("ReadableStream",[],(function(a,b,c,d,e,f){e.exports=self.ReadableStream}),null);
__d("WritableStream",[],(function(a,b,c,d,e,f){e.exports=self.WritableStream}),null);
__d("oz-player/shims/OzEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventEmitter")}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b=babelHelpers.inherits(a,Error);g=b&&b.prototype;function a(a){g.constructor.call(this,a.description),this.$OzError1=a,this.name=a.type}a.prototype.getExtra=function(){return this.$OzError1.extra||{}};a.prototype.getType=function(){return this.$OzError1.type};a.prototype.getDescription=function(){return this.$OzError1.description};e.exports=a}),null);
__d("oz-player/networks/OzTransformStream",["ReadableStream","WritableStream","oz-player/utils/OzError","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this);this.$OzTransformStream3=function(a){return a};a=a||{};a=a.errorTransform;(a===void 0||a===null)&&(a=this.$OzTransformStream3);var c=a||this.$OzTransformStream3;this.writable=new(b("WritableStream"))({start:function(a){this.$OzTransformStream2=a}.bind(this),write:function(a){this.emit("writableWrite",a);try{this.onDataWritten(a)}catch(a){this.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+this.constructor.name,extra:{originalError:a}}))}this.$OzTransformStream1.enqueue(a)}.bind(this),close:function(){this.emit("writableClose");try{this.onClose()}catch(a){this.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+this.constructor.name,extra:{originalError:a}}))}this.$OzTransformStream1.close()}.bind(this),abort:function(a){a=c(a);this.$OzTransformStream1.error(a)}.bind(this)});this.readable=new(b("ReadableStream"))({start:function(a){this.$OzTransformStream1=a}.bind(this),cancel:function(a){this.emit("readableCancel",a),this.$OzTransformStream2.error(a)}.bind(this)})}a.prototype.onDataWritten=function(a){};a.prototype.onClose=function(){};e.exports=a}),null);
__d("oz-player/utils/OzResourceTimingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){if(!performance.getEntriesByName)return null;a=performance.getEntriesByName(a,"resource");return a.reduce(function(a,b){if(a==null)return b;return typeof b.responseEnd==="number"&&typeof b.responseStart==="number"&&typeof b.startTime==="number"&&typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.startTime==="number"?b.responseEnd<a.responseEnd?a:b:null},null)};e.exports={getLatestResourceTimingEntry:a}}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry;function a(a){__p&&__p();this.$8=Date.now();this.$9=0;this.$10=0;this.$11=function(){};this.$12=function(){};this.$13=new(b("oz-player/networks/OzTransformStream"))();var c=a.stream,d=a.loggerProvider,e=a.byteCountPerSample,f=a.minimumBytesToSampleOnClose,g=a.minimumSampleDuration,h=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose;a=a.ignoreTimeToResponseStart;this.$1=c;this.$14=d;this.$2=e;this.$3=f;this.$4=g;this.$5=h;this.$6=i;this.$7=a;this.$13.addListener("writableWrite",this.$15.bind(this));this.$13.addListener("writableClose",this.$16.bind(this))}a.prototype.getTransformStream=function(){return this.$13};a.prototype.onBandwidthSample=function(a){this.$11=a};a.prototype.onTimeToFirstByteMsSample=function(a){this.$12=a};a.prototype.$17=function(a,b){if(this.$14){var c=Date.now();this.$14&&this.$14.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(c).setClientTimeBegin(c-b).log()}this.$11(a,b)};a.prototype.$15=function(a){a.length!=void 0&&(this.$10+=a.length),this.$18()};a.prototype.$16=function(){__p&&__p();var a=Date.now()-this.$8,b=this.$1.getLastRequestUrl();b=b!=null?g(b):null;b&&this.$12(b.responseStart-b.requestStart);if(this.$3>0&&a>0&&this.$9===0&&this.$10>=this.$3){if(this.$6&&b&&b.responseEnd&&b.startTime){b=this.$7?b.responseEnd-b.responseStart:b.responseEnd-b.startTime;a=b>0?b:a}this.$19(a)||this.$17(this.$10,a)}};a.prototype.$19=function(a){var b=this.$10*8/(a/1e3);return a<this.$4&&b>this.$5};a.prototype.$18=function(){var a=Date.now(),b=a-this.$8;this.$10*8/(b/1e3);this.$2>0&&this.$10>=this.$9+this.$2&&!this.$19(b)&&(this.$17(this.$10-this.$9,b),this.$8=a,this.$9=this.$10)};e.exports=a}),null);
__d("RoundRobinPriorityTaskQueue",["Deferred","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}a.prototype.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};a.prototype.enqueue=function(a,b){__p&&__p();b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};a.prototype.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};a.prototype.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};a.prototype.remove=function(a){__p&&__p();var b=this.$5.get(a);if(b===void 0)return;b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)};a.prototype.setOnTaskUpdated=function(a){this.$3=a};a.prototype.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};a.prototype.getLength=function(){return this.$5.size};a.prototype.$8=function(a){__p&&__p();var c=this.$6.get(a);if(!c){var d=new(b("Deferred"))(b("MaybeNativePromise"));c=d.getPromise();this.$6.set(a,c);var e=a.run;a.run=function(){return e.call(a).then(function(a){d.resolve(a);return a})["catch"](function(a){d.reject(a);throw a})}}return c};a.prototype.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};a.prototype.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};e.exports=a}),null);
__d("oz-player/shims/OzRoundRobinPriorityTaskQueue",["RoundRobinPriorityTaskQueue"],(function(a,b,c,d,e,f){"use strict";e.exports=b("RoundRobinPriorityTaskQueue")}),null);
__d("SequentialTaskScheduler",["MaybeNativePromise","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){this.$3=null;this.$4=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$5=b||0}a.prototype.start=function(){this.$1.setOnTaskUpdated(this.$6.bind(this));var a=this.$1.dequeue();a&&this.$7(a,"immediate")};a.prototype.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};a.prototype.$6=function(a,b){b=this.$7(a,b);b&&this.$1.remove(a)};a.prototype.$7=function(a,c){__p&&__p();if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$5>0&&(c=b("MaybeNativePromise").race([c,new(b("MaybeNativePromise"))(function(a,c){b("setTimeout")(a,this.$5)}.bind(this))]));this.$4++;this.$2=a;c=c.then(function(){this.$4--;this.$2===a&&(this.$2=null);if(this.$4===0){var b=this.$1.dequeue();b&&this.$7(b,"immediate")}}.bind(this));return!0};e.exports=a}),null);
__d("oz-player/shims/OzSequentialTaskScheduler",["SequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("SequentialTaskScheduler")}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/shims/OzRoundRobinPriorityTaskQueue","oz-player/shims/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map(),i=2,j=2,k=6e4;function a(a){var c=g.get(a);if(!c){c=new(b("oz-player/shims/OzRoundRobinPriorityTaskQueue"))(i,j);var d=new(b("oz-player/shims/OzSequentialTaskScheduler"))(c,{taskTimeout:k});d.start();g.set(a,c);h.set(a,d)}return c}e.exports={getQueue:a,OZ_QUEUE_MAX_PRIORITY:i}}),null);
__d("oz-player/shims/OzBandwidthCache",["CacheStorage","Run"],(function(a,b,c,d,e,f){function a(a){"use strict";this.$1=new(b("CacheStorage"))("localstorage","_video_"),b("Run").onUnload(function(){this.$1.set("bandwidthEstimate",a())}.bind(this))}a.prototype.getCachedBandwidth=function(){"use strict";return this.$1.get("bandwidthEstimate")};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzBandwidthCache","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/networks/OzBandwidthUtils").getBandwidthEstimate,i=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverage,j=b("oz-player/networks/OzBandwidthUtils").getExponentiallyWeightedMovingAverageOfBandwidth,k=b("oz-player/networks/OzBandwidthUtils").getStandardDeviationOfBandwidth,l=.9,m=5e5,n=2e4;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(){g.constructor.call(this),this.$OzBandwidthEstimator1=[],this.$OzBandwidthEstimator2=[],this.$OzBandwidthEstimator3=new(b("oz-player/shims/OzBandwidthCache"))(function(){return this.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))}.bind(this))}a.prototype.getBandwidth=function(a){var b=h(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};a.prototype.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?i(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};a.prototype.$OzBandwidthEstimator4=function(a){var b=m;if(a.getBool("use_cached_bandwidth",!1)){a=this.$OzBandwidthEstimator3.getCachedBandwidth();typeof a==="number"&&a>0&&(b=a)}return b};a.prototype.getStandardDeviationOfBandwidth=function(){return k(this.$OzBandwidthEstimator1)};a.prototype.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};a.prototype.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};a.prototype.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(l,d*a);return c*(1-d)};a.prototype.$OzBandwidthEstimator5=function(a){var b=j(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=j(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};a.prototype.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};a.prototype.pipeThroughReporter=function(a,c,d){return{startStream:function(e){var f=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",n),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1)});f.onBandwidthSample(this.$OzBandwidthEstimator8.bind(this));f.onTimeToFirstByteMsSample(this.$OzBandwidthEstimator9.bind(this));return c.startStream(e).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(f.getTransformStream())})}.bind(this)}};a.prototype.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.splice(0,1),this.emit("bandwidth_sampled")};a.prototype.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};e.exports=new a()}),null);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor",0);if(e===0)return b;a=b.filter(function(a){return a.getWidth()<=c.width*d*e||a.getHeight()<=c.height*d*e});return!a.length?[b[0]]:a};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval",0):a.getNumber("initial_switch_interval",0);d=d>=a.getNumber("abr_min_bandwidth_samples",0);var g=a.getNumber("abr_eval_buffer_threshold",0);c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval",1e3)>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};e.exports={excludeLargeRepresentations:a,getReasonToPreventEvaluation:b}}),null);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=.1;d=1;var g=.2;function a(a,b,c,d){__p&&__p();if(h(a,c,d))return!0;c=a.currentTime;d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function h(a,b,c){var d=a.currentTime,e=0;for(var f=0;f<a.buffered.length;f++){var h=a.buffered.start(f),i=a.buffered.end(f);if(h<=d&&i>=d){e=i;break}}return(!c.getBool("reach_end_only_when_video_ended",!1)||a.ended)&&(Math.abs(e-b)<=g||Math.abs(d-b)<=g)}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return i(b,a.getBufferedRanges())}function i(a,b){__p&&__p();var c=null;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.startTime<=a&&f.endTime>a&&(c=f)}return!c?0:c.endTime-a}e.exports={getBufferAheadFromCurrentTime:i,getBufferAheadFromPlaybackStates:b,hasEnoughBuffer:a,hasBufferedToOrReachedEnd:h,BUFFER_OVERFLOW_THRESHOLD:d,BUFFER_UNDERFLOW_THRESHOLD:c,BUFFER_FUDGE_FACTOR:g}}),null);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){if(c.length===0)return[];c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});return a.reduce(function(a,c){return c.applyRestriction(a,b)},c)};e.exports={applyVideoPlaybackRestrictions:a}}),null);
__d("RepomenAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;function a(a,b,c,d,e,f,g){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$12=null,this.$1=a,this.$5=b,this.$6=c,this.$7=d,this.$8=e,this.$10=f,this.$13=g}a.prototype.setSourceBuffer=function(a){this.$9=a};a.prototype.getBestRepresentation=function(){__p&&__p();var a=i(this.$9,this.$8),c=h(this.$1,this.$4,a,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!==null&&c!==void 0){this.$12=c;return this.$5}c=Date.now();this.$2=c;var d=this.$10.getDimensions(),e=g(this.$1,this.$6,d,this.$13);e=j(this.$7,d,e);d=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1);var f,k=this.$1.getNumber("bandwidth_abr_ratio",1),l=this.$1.getNumber("bandwidth_abr_bias",0),m=this.$1.getNumber("buffer_abr_ratio",1),n=this.$1.getNumber("buffer_abr_bias",0);k=k*(d/1e6-l)+m*(a-n);for(var d=0;d<e.length;d++)e[d].getBandwidth()/1e6<k&&(f=e[d]);f=f||e[0];this.$5!==f&&(this.$4=!0,this.$3=c,this.$5=f);this.$12="repomen";return f};a.prototype.getStreamSegmentsCountStrategy=function(){return null};a.prototype.getLastEvaluationReason=function(){return this.$12};e.exports=a}),null);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="oz_www_";function a(a){this.$1=a}a.prototype.getBool=function(a,b){return this.$1.getBool(g+a,b)};a.prototype.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};a.prototype.getString=function(a,b){return this.$1.getString(g+a,b)};a.prototype.setContext=function(a,b){this.$1.setContext(a,b)};e.exports=a}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a={getBool:function(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)},getNumber:function(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)},getString:function(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}};e.exports=a}),null);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerShakaPerformanceLoggerConfig","VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function i(a){typeof a==="number"&&(a=Math.floor(a));return a}var j=!1;g=babelHelpers.inherits(k,b("VideoPlayerShakaPerformanceTypedLogger"));h=g&&g.prototype;k.isEnabled=function(){return k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4()||k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5()};k.enable=function(){j=!0};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger4=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled};k.$ExtendableVideoPlayerShakaPerformanceTypedLogger5=function(){return j};k.prototype.log=function(){k.isEnabled()&&h.log.call(this)};k.prototype.setState=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=a;return h.setState.call(this,a)};k.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1};k.prototype.setSequentialID=function(a){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=a;h.setSequentialID.call(this,a);return this};k.prototype.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this};k.prototype.setSegmentEndTime=function(a){h.setSegmentEndTime.call(this,i(a));return this};k.prototype.setSegmentTimeGap=function(a){h.setSegmentTimeGap.call(this,i(a));return this};k.prototype.setSegmentStartTime=function(a){h.setSegmentStartTime.call(this,i(a));return this};function k(){g.apply(this,arguments)}e.exports=k}),null);
__d("VideoPlayerArtilleryOperationMarker",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d){this.$2=a,this.$3=b,this.$4=c,this.$5=d,this.$6=!1}a.prototype.markOperationStart=function(){return this.$7("Starting")};a.prototype.markOperationEnd=function(){return this.$7("Ending")};a.prototype.$7=function(a){var b=this.$4();b&&b.inform(a+" "+this.$2+" #"+this.$3,{pointGroup:this.$5.getGroupName(this.$2,this.$1),isPointOfInterest:!0,type:null}).addStringAnnotation("resource",this.$1||"").addStringAnnotation("wasPrefetchCacheHit",this.$6.toString());return this};a.prototype.setResource=function(a){this.$1=a;return this};a.prototype.setWasPrefetchCacheHit=function(a){this.$6=a;return this};e.exports=a}),null);
__d("VideoPlayerArtilleryPointGrouper",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=new Map(),this.$2=new Map()}a.prototype.getGroupName=function(a,b){"use strict";__p&&__p();if(!b){switch(a){case"start_streams":a="source_attach";break}return a}a=this.$1.get(b);if(a)return a;var c;if(b.indexOf("-init.m4v")!==-1)c="-init.m4v";else if(b.indexOf("-init.m4a")!==-1)c="-init.m4a";else if(b.indexOf(".mpd")!==-1)return"source_load";else b.indexOf(".m4v")!==-1?c=".m4v":b.indexOf(".m4a")!==-1?c=".m4a":c="unknown";var d=this.$2.get(c)+1||1;this.$2.set(c,d);a=c+" #"+d;this.$1.set(b,a);return a};e.exports=a}),null);
__d("VideoPlayerArtilleryTrace",["TimeSliceInteraction","UserAgentData","VideoPlayerArtilleryOperationMarker","VideoPlayerArtilleryPointGrouper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e4,h=3e3;function a(a,c){__p&&__p();this.$13=function(){var a=this.$2;if(a){var b=a.stallTrace,c=a.hasStalls;a=a.stallTraceTimeout;c?b.finish():b.disable();clearTimeout(a)}this.$2=null}.bind(this),this.$17=function(){return this.$1}.bind(this),this.$18=function(){var a=this.$2;return a?a.stallTrace:null}.bind(this),this.$4=c.videoID,this.$5=c.video,this.$6=a,this.$7=c.isLive,this.$9=c.playerOrigin,this.$10=c.playerSuborigin,this.$8=0,this.$11=new(b("VideoPlayerArtilleryPointGrouper"))()}a.prototype.updateBufferAhead=function(a){var c=this.$2;!c&&a<=h?this.$2={stallTrace:this.$12(b("TimeSliceInteraction").create("video_stall")),hasStalls:!1,stallTraceTimeout:setTimeout(this.$13,g)}:a>h&&this.$13()};a.prototype.enterState=function(a){switch(a){case"loading":this.$14();break;case"playing":this.$15();break;default:this.$16(a);break}return this};a.prototype.$16=function(a){var b=this.$1;b&&b.inform("State: "+a)};a.prototype.getMarkers=function(a){var c=[],d=(++this.$8).toString();this.$1&&c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$17,this.$11));var e=this.$2;e&&(a==="buffering"&&(e.hasStalls=!0),c.push(new(b("VideoPlayerArtilleryOperationMarker"))(a,d,this.$18,this.$11)));return c};a.prototype.$14=function(){var a=this.$12(b("TimeSliceInteraction").create("video_psr"));this.$1=a;this.$16("loading")};a.prototype.$15=function(){this.$16("playing");var a=this.$1;a&&(a.finish(),this.$1=null)};a.prototype.$12=function(a){a.trace().addStringAnnotation("videoID",this.$4).addStringAnnotation("sessionID",this.$6).addStringAnnotation("browserName",b("UserAgentData").browserName).addStringAnnotation("browserVersion",b("UserAgentData").browserVersion).addStringAnnotation("isLive",this.$7.toString()).addStringAnnotation("playerOrigin",this.$9||"").addStringAnnotation("playerSuborigin",this.$10||"");return a};e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.cloneContext=function(){var a=this.createLoggerProvider();this.$7(a);return a};a.prototype.setType=function(a){this.$1=a;return this};a.prototype.setInitiator=function(a){this.$2=a;return this};a.prototype.setResource=function(a){this.$4=a;return this};a.prototype.setRepresentationID=function(a){this.$3=a;return this};a.prototype.setSegmentStartTime=function(a){this.$5=a;return this};a.prototype.setSegmentEndTime=function(a){this.$6=a;return this};a.prototype.getType=function(){return this.$1};a.prototype.getInitiator=function(){return this.$2};a.prototype.getRepresentationID=function(){return this.$3};a.prototype.getResource=function(){return this.$4};a.prototype.getSegmentStartTime=function(){return this.$5};a.prototype.getSegmentEndTime=function(){return this.$6};a.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};a.prototype.setOperationContext=function(a){this.$7(a);return a};a.prototype.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};a.prototype.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};a.prototype.$7=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};function a(){}e.exports=a}),null);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerArtilleryTrace","VideoPlayerMainThreadAvailability","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","oz-player/utils/OzError","setTimeoutAcrossTransitions","clearTimeout","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("VideoPlaybackQuality").getDroppedFrames,i=b("VideoPlaybackQuality").getTotalFrames,j=9e4;b("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();a=babelHelpers.inherits(k,b("oz-player/loggings/OzPerfLoggerProviderBase"));g=a&&a.prototype;k.shouldInitialize=function(){return b("VideoPlayerShakaPerformanceLoggerConfig").isSampled||b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_when_unsampled",!1)};k.setVideoPlaybackExperienceIssue=function(a){k.$VideoPlayerShakaPerformanceLogger25=a,b("VideoPlayerShakaGlobalConfig").getBool("enable_spl_after_submitted_playback_issue",!1)&&(b("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable(),k.maybeEnableMainThreadAvailabilityLogging())};function k(a){g.constructor.call(this),this.$VideoPlayerShakaPerformanceLogger11=!1,this.$VideoPlayerShakaPerformanceLogger22=0,this.$VideoPlayerShakaPerformanceLogger23=0,this.$VideoPlayerShakaPerformanceLogger21=a,this.$VideoPlayerShakaPerformanceLogger2=a.videoID,this.$VideoPlayerShakaPerformanceLogger4=a.video,this.$VideoPlayerShakaPerformanceLogger1=a.uniqueID,this.$VideoPlayerShakaPerformanceLogger3=0,this.$VideoPlayerShakaPerformanceLogger9=a.isLive,this.$VideoPlayerShakaPerformanceLogger10=a.isServableViaFbms,this.$VideoPlayerShakaPerformanceLogger8=null,this.$VideoPlayerShakaPerformanceLogger12=a.accessToken,this.$VideoPlayerShakaPerformanceLogger14=a.playerOrigin,this.$VideoPlayerShakaPerformanceLogger15=a.playerSuborigin,this.$VideoPlayerShakaPerformanceLogger16=a.playerVersion,this.$VideoPlayerShakaPerformanceLogger24=a.getBandwidthEstimate,this.setRepresentationID(a.representationId),this.$VideoPlayerShakaPerformanceLogger13=new(b("VideoPlayerArtilleryTrace"))(this.$VideoPlayerShakaPerformanceLogger1,a),k.maybeEnableMainThreadAvailabilityLogging()}k.maybeEnableMainThreadAvailabilityLogging=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&b("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&b("VideoPlayerMainThreadAvailability").enable()};k.prototype.$VideoPlayerShakaPerformanceLogger26=function(a){__p&&__p();var b=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3));this.$VideoPlayerShakaPerformanceLogger13.updateBufferAhead((b.end(c)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3)}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};k.prototype.setType=function(a){this.$VideoPlayerShakaPerformanceLogger20=a;return this};k.prototype.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger21)};k.prototype.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger8?Math.round((this.$VideoPlayerShakaPerformanceLogger8-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1e3):null};k.prototype.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger2};k.prototype.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger11=a};k.prototype.$VideoPlayerShakaPerformanceLogger27=function(){return this.$VideoPlayerShakaPerformanceLogger11};k.prototype.getEventLogger=function(a){__p&&__p();var c=Date.now(),d=new(b("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),e=this.$VideoPlayerShakaPerformanceLogger4.currentTime,f=this.$VideoPlayerShakaPerformanceLogger4.duration;this.$VideoPlayerShakaPerformanceLogger26(d).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setDroppedFrames(h(this.$VideoPlayerShakaPerformanceLogger4)).setTotalFrames(i(this.$VideoPlayerShakaPerformanceLogger4)).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger19).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger14).setScriptPath(b("ScriptPath").getScriptPath()).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger15).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger16).setBandwidthEstimate(Math.round(this.$VideoPlayerShakaPerformanceLogger24(this.$VideoPlayerShakaPerformanceLogger9))).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger18).setPlayhead(Math.round(e*1e3)).setVideoDuration(Math.round(f*1e3)).setEnded(this.$VideoPlayerShakaPerformanceLogger4.ended).setIsLive(this.$VideoPlayerShakaPerformanceLogger9).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger10).setIsMuted(this.$VideoPlayerShakaPerformanceLogger4.muted).setIsPageVisible(!b("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger27()).setSession(this.$VideoPlayerShakaPerformanceLogger1).setDevicePixelRatio(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger17).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger5).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger12).setVideoPlaybackExperienceIssue(k.$VideoPlayerShakaPerformanceLogger25).setClientTimeBegin(c).setClientTimeEnd(c);var g=this,j=d.setState;d.setState=function(a){a!==this.$VideoPlayerShakaPerformanceLogger5&&a==="playing"?g.$VideoPlayerShakaPerformanceLogger6=Date.now():a!=="playing"&&(g.$VideoPlayerShakaPerformanceLogger6=null);g.$VideoPlayerShakaPerformanceLogger5=a;g.$VideoPlayerShakaPerformanceLogger13.enterState(a);return j.call(this,a)};d.updateState=function(a){if(this.getState()==g.$VideoPlayerShakaPerformanceLogger5){g.$VideoPlayerShakaPerformanceLogger13.enterState(a);return this.setState(a)}return this};var l=d.setError;d.setError=function(a){typeof a==="object"?a instanceof b("oz-player/utils/OzError")?(this.setResult("failed"),this.setCode(a.getExtra().code),l.call(this,a.getType())):(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),l.call(this,a.type)),this.setCode(a.status)):l.call(this,a);return this};var m=d.setManifestType;d.setManifestType=function(a){this.$VideoPlayerShakaPerformanceLogger17=a;return m.call(d,a)}.bind(this);return d};k.prototype.getArtilleryMarkers=function(a){return this.$VideoPlayerShakaPerformanceLogger13.getMarkers(a)};k.prototype.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};k.prototype.createOperationLogger=function(a){__p&&__p();var c=this.getEventLogger(a),d=this.getArtilleryMarkers(a),e=c.setResource;c.setResource=function(a){d.forEach(function(b){return b.setResource(a)});return e.call(c,a)};var f=c.log,g=this,h=!1,i=null;c.log=function(){__p&&__p();if(h)return;b("clearTimeout")(i);var c=Date.now();this.setClientTimeEnd(c);var e=b("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();this.setTimeSinceMainThreadAvailable(e!=null?Math.round(e):null);g.$VideoPlayerShakaPerformanceLogger28(e);g.$VideoPlayerShakaPerformanceLogger22=c;a==="buffering"&&(g.$VideoPlayerShakaPerformanceLogger7=Date.now());d.forEach(function(a){return a.markOperationEnd()});h=!0;return f.call(this)};c.start=function(){d.forEach(function(a){return a.markOperationStart()});i=b("setTimeoutAcrossTransitions")(function(){i=null,c.setResult("timeout"),c.log()},j);return c};c.setWasPrefetchCacheHit=function(a){d.forEach(function(b){return b.setWasPrefetchCacheHit(a)});return c};c.setLiveheadPosition=function(a){this.$VideoPlayerShakaPerformanceLogger8=a;c.setLiveheadDelta(this.getLiveheadDelta());return c}.bind(this);var k=c.setDynamicBitrate;c.setDynamicBitrate=function(a){a=Number(a)||null;this.setDynamicBitrate(a);return k.call(c,a)}.bind(this);var l=c.setLowestQualityRepresentationID;c.setLowestQualityRepresentationID=function(a){this.$VideoPlayerShakaPerformanceLogger18=a;return l.call(c,a)}.bind(this);return c};k.prototype.$VideoPlayerShakaPerformanceLogger28=function(a){var c=b("VideoPlayerShakaGlobalConfig").getNumber("main_thread_blocked_event_threshold",200);if(a==null||c===0||this.$VideoPlayerShakaPerformanceLogger22===0||a<c||this.$VideoPlayerShakaPerformanceLogger23<a){this.$VideoPlayerShakaPerformanceLogger23=Number(a);return}this.getEventLogger("main_thread_blocked").setClientTimeEnd(this.$VideoPlayerShakaPerformanceLogger22).setClientTimeBegin(Math.round(this.$VideoPlayerShakaPerformanceLogger22-this.$VideoPlayerShakaPerformanceLogger23)).log();this.$VideoPlayerShakaPerformanceLogger23=Number(a)};k.prototype.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger19=a!=null?Math.round(a):null};k.$VideoPlayerShakaPerformanceLogger25=null;e.exports=k}),null);
__d("VideoQualityClass",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UHD:"uhd",HD:"hd",SD:"sd"})}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};a.prototype.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};a.prototype.setError=function(a){this.$2=a;return this};a.prototype.setResult=function(a){this.$3=a;return this};a.prototype.setType=function(a){this.$4=a;return this};a.prototype.setClientTimeBegin=function(a){this.$5=a;return this};a.prototype.setClientTimeEnd=function(a){this.$6=a;return this};a.prototype.setSegmentCount=function(a){this.$13=a;return this};a.prototype.setTimeToFirstByte=function(a){this.$7=a;return this};a.prototype.setTimeToLastByte=function(a){this.$8=a;return this};a.prototype.setTimeToRequestStart=function(a){this.$9=a;return this};a.prototype.setTimeToRequestSent=function(a){this.$10=a;return this};a.prototype.setReason=function(a){this.$11=a;return this};a.prototype.setResource=function(a){this.$12=a;return this};a.prototype.setSegmentStartTime=function(a){this.$14=a;return this};a.prototype.setSegmentEndTime=function(a){this.$15=a;return this};a.prototype.setLength=function(a){this.$16=a;return this};a.prototype.setLiveheadPosition=function(a){this.$17=a;return this};a.prototype.setManifestType=function(a){this.$18=a;return this};a.prototype.setPriorityFloat=function(a){this.$19=a;return this};a.prototype.setAppendedBufferMs=function(a){this.$20=a;return this};a.prototype.setInitiator=function(a){this.$21=a;return this};a.prototype.setPreloadTime=function(a){this.$22=a;return this};a.prototype.setConcluder=function(a){this.$23=a;return this};a.prototype.setPreviousRepresentationID=function(a){this.$24=a;return this};a.prototype.setRepresentationID=function(a){this.$25=a;return this};a.prototype.setState=function(a){this.$26=a;return this};a.prototype.getError=function(){return this.$2};a.prototype.getResult=function(){return this.$3};a.prototype.getType=function(){return this.$4};a.prototype.getClientTimeBegin=function(){return this.$5};a.prototype.getClientTimeEnd=function(){return this.$6};a.prototype.getTimeToRequestStart=function(){return this.$9};a.prototype.getTimeToRequestSent=function(){return this.$10};a.prototype.getReason=function(){return this.$11};a.prototype.getResource=function(){return this.$12};a.prototype.getOperationName=function(){return this.$1};a.prototype.getSegmentStartTime=function(){return this.$14};a.prototype.getSegmentEndTime=function(){return this.$15};a.prototype.getLength=function(){return this.$16};a.prototype.getLiveheadPosition=function(){return this.$17};a.prototype.getManifestType=function(){return this.$18};a.prototype.getPriorityFloat=function(){return this.$19};a.prototype.getAppendedBufferMs=function(){return this.$20};a.prototype.getInitiator=function(){return this.$21};a.prototype.getPreloadTime=function(){return this.$22};a.prototype.getConcluder=function(){return this.$23};e.exports=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;function j(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function k(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function l(a,b){return Math.floor(a).toString().padStart(b,"0")}function m(a,b){b===void 0&&(b=null);var c=function(a){return l(a.getHours(),2)+":"+l(a.getMinutes(),2)+":"+l(a.getSeconds(),2)+" "+l(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function n(a){return a==="failed"?k:j}g=babelHelpers.inherits(o,b("oz-player/loggings/OzPerfLoggerProviderBase"));g&&g.prototype;o.prototype.createOperationLogger=function(a){return new p(a)};o.prototype.createLoggerProvider=function(){return new o()};function o(){g.apply(this,arguments)}h=babelHelpers.inherits(p,b("oz-player/loggings/OzOperationLoggerBase"));i=h&&h.prototype;p.prototype.log=function(){i.log.call(this);var a=this.getClientTimeBegin()||0,b=this.getClientTimeEnd();b=b?new Date(b):null;var c=this.getResult()||"success",d=this.getType(),e=this.getInitiator(),f=this.getResource();n(c)("["+c+"]",this.getOperationName()+": "+m(new Date(a),b),d?""+d:"",e||"",f||"")};function p(){h.apply(this,arguments)}e.exports={OzDevConsolePerfLoggerProvider:o,OzDevConsoleOperationLogger:p}}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){__p&&__p();d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){f.setError(a);e(f);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;a=babelHelpers.inherits(i,b("oz-player/loggings/OzPerfLoggerProviderBase"));g=a&&a.prototype;function i(a){g.constructor.call(this),this.$OzMultiDestinationPerfLoggerProvider1=a}i.prototype.createOperationLogger=function(a){var b=new j(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};i.prototype.createLoggerProvider=function(){return new i(this.$OzMultiDestinationPerfLoggerProvider1)};c=babelHelpers.inherits(j,b("oz-player/loggings/OzOperationLoggerBase"));h=c&&c.prototype;function j(a,b){h.constructor.call(this,a),this.$OzMultiDestinationOperationLogger1=b}j.prototype.start=function(){h.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};j.prototype.setResult=function(a){h.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};j.prototype.setError=function(a){h.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};j.prototype.setType=function(a){h.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};j.prototype.setClientTimeEnd=function(a){h.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};j.prototype.setClientTimeBegin=function(a){h.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};j.prototype.setSegmentCount=function(a){h.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};j.prototype.setTimeToFirstByte=function(a){h.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};j.prototype.setTimeToLastByte=function(a){h.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};j.prototype.setTimeToRequestStart=function(a){h.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};j.prototype.setTimeToRequestSent=function(a){h.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};j.prototype.setReason=function(a){h.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};j.prototype.setResource=function(a){h.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};j.prototype.setSegmentStartTime=function(a){h.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};j.prototype.setSegmentEndTime=function(a){h.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};j.prototype.setAppendedBufferMs=function(a){h.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};j.prototype.setLength=function(a){h.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};j.prototype.setLiveheadPosition=function(a){h.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};j.prototype.setManifestType=function(a){h.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};j.prototype.setPriorityFloat=function(a){h.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};j.prototype.setInitiator=function(a){h.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};j.prototype.setPreloadTime=function(a){h.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};j.prototype.setConcluder=function(a){h.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};j.prototype.setPreviousRepresentationID=function(a){h.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};j.prototype.setRepresentationID=function(a){h.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};j.prototype.setState=function(a){h.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};j.prototype.log=function(){h.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};e.exports={OzMultiDestinationPerfLoggerProvider:i}}),null);
__d("oz-player/shims/OzSubscriptionsHandler",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("SubscriptionsHandler")}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new(b("oz-player/shims/OzSubscriptionsHandler"))()}a.prototype.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};a.prototype.destroy=function(){this.$1.release()};e.exports=a}),null);
__d("oz-player/shims/ozvariant",["invariant"],(function(a,b,c,d,e,f){e.exports=b("invariant")}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d,e,f,g,h){this.$4=[],this.$1=a,this.$7=b,this.$2=c,this.$3=d,this.$5=e,this.$6=f,this.$8=g,this.$9=h}g.prototype.getID=function(){return this.$7};g.prototype.getBandwidth=function(){return this.$6};g.prototype.getMimeCodecs=function(){return this.$2};g.prototype.getInitSegment=function(){return this.$3};g.prototype.getCustomFieldFirstSegment=function(){return this.$8};g.prototype.getCustomField=function(a){if(this.$9==null||!this.$9[a])throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller"});a=this.$9[a];try{return a(this.$1)}catch(a){return null}};g.prototype.updateWith=function(a){a instanceof g||b("oz-player/shims/ozvariant")(0,229),this.$5.updateWith(a.$5)};g.prototype.getSegmentByTime=function(a){return this.$5.getSegmentByTime(a)};g.prototype.getSegment=function(a){return this.$5.getSegment(a)};g.prototype.getSegmentAfter=function(a){return this.$5.getSegmentAfter(a)};g.prototype.isEndingSegment=function(a){return this.$5.isEndingSegment(a)};g.prototype.addUpdateListener=function(a){return this.$5.addUpdateListener(a)};g.prototype.getTimeRanges=function(){return this.$5.getTimeRanges()};g.prototype.blockTimeRange=function(a){this.$5.blockTimeRange(a)};e.exports=g}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/manifests/OzRepresentation"));g=c&&c.prototype;function a(a,b,c,d,e,f,h,i,j,k){g.constructor.call(this,a,b,c,d,e,f,h,i),this.$OzVideoRepresentation5=null,this.$OzVideoRepresentation1=j,this.$OzVideoRepresentation2=k,this.$OzVideoRepresentation4=i,this.$OzVideoRepresentation3=a}a.prototype.getWidth=function(){return this.$OzVideoRepresentation1};a.prototype.getHeight=function(){return this.$OzVideoRepresentation2};a.prototype.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};e.exports=a}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=a}a.prototype.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};a.prototype.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};a.prototype.$2=function(a){a=a.split(":")[0];return a||""};e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzEventListener",["EventListener"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventListener")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";b("Promise").resolve(),e.exports=b("MOzExperiments").use_native_promise?b("MaybeNativePromise"):b("Promise")}),null);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$3=[],this.$4=function(){var a=[];for(var b=0;b<this.$1.buffered.length;b++)a.push({startTime:this.$1.buffered.start(b),endTime:this.$1.buffered.end(b)});this.$3=a}.bind(this),this.$1=a,this.$2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",this.$4),b("oz-player/shims/OzEventListener").listen(this.$1,"error",this.$4))}a.prototype.getBufferedRanges=function(){return this.$3};a.prototype.addEventListener=function(a,c){return b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",c)};a.prototype.destroy=function(){this.$2.release(),this.$2.engage()};e.exports=a}),null);
__d("oz-player/utils/OzSourceBufferUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.buffered.length;c++)b+=a.buffered.end(c)-a.buffered.start(c);return b}e.exports={getTotalBufferedTime:a}}),null);
__d("oz-player/utils/ozConcatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/utils/OzSourceBufferUtil","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/utils/OzError","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzSourceBufferUtil").getTotalBufferedTime,h=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation;function a(a,c,d){this.$2=null,this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$5=!1,this.$6=[],this.$10=function(){this.$2&&this.$2.resolve(),this.$2=null}.bind(this),this.$11=function(){var a=this.$2;a&&setTimeout(function(){var c=this.$8.getErrorCode(),d=this.$8.getMediaErrorName(),e={};c!==null&&c!==void 0&&(e.code=c.toString());c=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:d!==null&&d!==void 0?d:"Unknown SourceBuffer Append Error",extra:e});a.reject(c);this.$2=null}.bind(this),0)}.bind(this),this.$1=a,this.$9=c,this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"updateend",this.$10),b("oz-player/shims/OzEventListener").listen(this.$1,"error",this.$11)),this.$7=new(b("oz-player/states/OzObservedSourceBufferState"))(this.$1),this.$8=d}a.prototype.queueData=function(a,c,d){c===void 0&&(c=null);d===void 0&&(d=0);var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$6.push({data:a,deferred:e,loggerProvider:c,appendTarget:d});a=e.getPromise();this.$5||this.$12();return a};a.prototype.cancelOperationAndCleanQueue=function(){__p&&__p();var a=this.$13();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var c=b("oz-player/shims/OzMaybeNativePromise").resolve(),d=this.$2;d&&(d.reject(a),c=d.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(a),this.$4=null);return c};a.prototype.getSourceBufferState=function(){return this.$7};a.prototype.clearRange=function(a,b){this.$1.remove(a,b)};a.prototype.$14=function(a){var c=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));c=c.getPromise();a&&h(c,a,"wait_for_source_buffer");return c};a.prototype.$15=function(a,c){__p&&__p();if(this.$2!==null)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("cannot have concurrent appends"));var d=function(){__p&&__p();if(this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating)return this.$14(c).then(d)["catch"](function(a){if(this.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a}.bind(this));var e=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));try{this.$1.appendBuffer(a)}catch(a){var f=this.$8.getErrorCode();f=new(b("oz-player/utils/OzError"))({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:f!==null&&f!==void 0?f.toString():"0"}});this.$2=null;e.reject(f)}f=e.getPromise();c&&h(f,c,"append",function(b){b.setLength(a.byteLength)});var i=this.$9.getBool("log_appended_secs",!1)?g(this.$1):0;return f.then(function(){return this.$9.getBool("log_appended_secs",!1)?g(this.$1)-i:0}.bind(this))}.bind(this);if(!this.$9.getBool("sbm_waits_for_update_end",!1))return d();return!this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating?this.$14(c).then(d)["catch"](function(a){if(this.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a}.bind(this)):d()};a.prototype.$12=function(){__p&&__p();if(this.$5)return b("oz-player/shims/OzMaybeNativePromise").reject(this.$16("Another unit of queued data is being appended."));var a=this.$6.shift();if(!a){this.$5=!1;return b("oz-player/shims/OzMaybeNativePromise").resolve()}var c=a.data,d=a.deferred,e=a.loggerProvider;a=a.appendTarget;this.$5=!0;a=c instanceof ReadableStream?this.$17(c,e,a):this.$15(c,e);return a["catch"](function(a){d.reject(a);return 0}).then(function(a){d.resolve(a),this.$5=!1,this.$12()}.bind(this))};a.prototype.$17=function(a,c,d){__p&&__p();var e=new ArrayBuffer(0),f=a.getReader(),g=function(){__p&&__p();var a=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$4=a;f.read().then(function(b){a.resolve(b),this.$4=null}.bind(this))["catch"](function(b){a.reject(b),this.$4=null}.bind(this));return a.getPromise().then(function(a){__p&&__p();var f=a.done;a=a.value;if(f)return e.byteLength>0?this.$15(e,c):b("oz-player/shims/OzMaybeNativePromise").resolve(0);f=a;d>0&&(a instanceof Uint8Array&&(a=a.buffer),e=b("oz-player/utils/ozConcatArrayBuffer")(e,a),f=e);if(f&&f.byteLength>=d){e=new ArrayBuffer(0);return this.$15(f,c).then(function(a){return g().then(function(b){return b+a})})}return g()}.bind(this))}.bind(this);return g()};a.prototype.$16=function(a){a=new Error(a);a.name="invariant_violation";return a};a.prototype.$13=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};a.prototype.destroy=function(){this.$2&&this.$2.reject(this.$13()),this.$2=null,this.$3.release(),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$7.destroy()};a.prototype.getDebug=function(){return{SourceBuffer:this.$1}};e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider;function a(a,c,d){d===void 0&&(d=new h([])),this.$2=null,this.$4=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$6=[],this.$7=[],this.$9=!1,this.$12=function(){this.$13()||(this.$9=!1);if(!this.$14())return;var a=this.$7.shift();a&&(a(this.$3),this.$9=!0)}.bind(this),this.$5=d,this.$10=c,this.$1=a,this.$3=new MediaSource(),this.$1.src=window.URL.createObjectURL(this.$3),this.$8=new(b("oz-player/media_source/OzMediaErrorProvider"))(this.$1),g(this.$11(),this.$5,"media_source_open")}a.prototype.$11=function(){if(this.$3.readyState==="open")return b("oz-player/shims/OzMaybeNativePromise").resolve();var a=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$4.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$3,"sourceopen",function(){a.resolve(),this.$12()}.bind(this)));return a.getPromise()};a.prototype.createSourceBufferManager=function(a,c){c===void 0&&(c=!1);return this.$11().then(function(){var d=this.$3.addSourceBuffer(a);c&&!isNaN(this.$3.duration)&&(d.appendWindowEnd=this.$3.duration);this.$6.push(d);this.$4.addSubscriptions(b("oz-player/shims/OzEventListener").listen(d,"updateend",this.$12));return new(b("oz-player/media_source/SourceBufferManager"))(d,this.$10,this.$8)}.bind(this))};a.prototype.getMediaSource=function(){return this.$3};a.prototype.notifyEndOfStream=function(){this.$7.push(function(a){this.$5.getOperationLogger("end_of_stream").log(),a.endOfStream()}.bind(this)),this.$12()};a.prototype.updateDuration=function(a){this.$7.push(function(b){b.duration=a}),this.$12()};a.prototype.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$3.sourceBuffers.length;a++){var b=this.$3.sourceBuffers[a];this.$3.removeSourceBuffer(b)}this.$4.release();this.$4.engage();this.$7=[];this.$9=!1};a.prototype.$14=function(){return!this.$13()&&this.$3.readyState==="open"&&!this.$9};a.prototype.$13=function(){return this.$6.some(function(a){return a.updating})};e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();this.$5=function(){var a=this.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=this.$1.getMediaSource();this.$4.getBool("update_media_source_duration",!1)&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&this.$1.updateDuration(a.endTime)}.bind(this),this.$1=a,this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$4=c,this.$5()}a.prototype.setTimeRangeProvider=function(a){this.$3.release();this.$3.engage();this.$3.addSubscriptions(a.addUpdateListener(this.$5));this.$2=a;if(this.$4.getBool("update_duration_if_mpd_synchronously_has_timeline_info",!1)&&a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$1.updateDuration(a)}};a.prototype.listenToMediaStreamInitAppended=function(a){return a.addListener("initAppended",function(){if(this.$4.getBool("update_duration_when_init_appended",!1)){var a=this.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&this.$5()}}.bind(this))};a.prototype.destroy=function(){this.$3.release()};e.exports=a}),null);
__d("oz-player/shims/OzURI",["URI"],(function(a,b,c,d,e,f){"use strict";e.exports=b("URI")}),null);
__d("oz-player/mocks/MockRequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";a.prototype.createRequestParam=function(a,c){a=new(b("oz-player/shims/OzURI"))(a);var d=c.startByte,e=c.endByte;d===0&&(e===null||e===void 0)||(a=a.addQueryData({bytestart:c.startByte}),e!==null&&e!==void 0&&(a=a.addQueryData({byteend:e})));return{uri:a,http:{credentials:"same-origin"}}};function a(){}e.exports=a}),null);
__d("createErrorStream",["ReadableStream"],(function(a,b,c,d,e,f){"use strict";function a(a){return new(b("ReadableStream"))({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("oz-player/networks/OzFetchWithCache",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.fetch;function a(a,b,c,d){__p&&__p();d===void 0&&(d=null);if(!g)throw new Error("fetch api is missing");d=d?d.getCacheValue(b):null;var e=!1;d?(e=!0,d=d.then(function(a){var b=new ReadableStream({start:function(b){var c=new Uint8Array(a.response);b.enqueue(c);b.close()}});return{body:b,status:200,ok:!0}})["catch"](function(d){if(a.getBool("retry_fetch_on_prefetch_error",!1))return g(b,c);else throw new TypeError()})):d=g(b,c);return{promise:d,retrievedFromCache:e}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/utils/OzError","oz-player/shims/ozvariant","oz-player/networks/OzFetchWithCache","createErrorStream","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d){d===void 0&&(d=null),this.$4=!1,this.$1=b,this.$2=c,this.$5=d,this.$6=a}a.prototype.startStream=function(a){__p&&__p();a=this.$2.createRequestParam(this.$1,a);var c=a.uri;a=a.http;var d=c.toString();this.$3=d;c=b("oz-player/networks/OzFetchWithCache")(this.$6,d,a,this.$5);a=c.promise;c=c.retrievedFromCache;this.$4=c;return a.then(function(a){__p&&__p();var c=a.body,e=a.status;a=a.ok;if(!a)return b("createErrorStream")(this.$7(new Error("HTTP status not OK"),e,d,"HTTP error."));c.getReader||b("oz-player/shims/ozvariant")(0,3287);if(!this.$6.getBool("throw_network_error_during_stream",!1))return c;a=new(b("oz-player/networks/OzTransformStream"))({errorTransform:function(a){return a instanceof TypeError?this.$7(a,0,d,"Network failure."):a}.bind(this)});return c.pipeThrough(a)}.bind(this))["catch"](function(a){return a instanceof TypeError?b("createErrorStream")(this.$7(a,0,d,"Network failure.")):b("createErrorStream")({type:"stream_processing",status:0,url:d,message:"Stream processing error."+a})}.bind(this))};a.prototype.getLastRequestUrl=function(){return this.$3};a.prototype.retrievedFromCache=function(){return this.$4};a.prototype.$7=function(a,c,d,e){return this.$6.getBool("request_stream_throws_oz_network_error",!1)?new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:e,extra:{originalError:a,code:c.toString(),url:d}}):{type:"net",status:c,url:d,message:e}};e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}e.exports=a}),null);
__d("ByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("ProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,Error);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("DeferredBuffer",["Deferred","MaybeNativePromise","ProducerInterruptedError"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}a.prototype.produce=function(a){this.$7(a)};a.prototype.signalProducerInterruption=function(){this.$7(new(b("ProducerInterruptedError"))("producer interrupted"))};a.prototype.consume=function(a){__p&&__p();if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var c=b("MaybeNativePromise").resolve();this.isEmpty()&&(this.$5=this.$2?new(b("Deferred"))(b("MaybeNativePromise")):new(b("Deferred"))(),c=this.$5.getPromise());return c.then(function(){__p&&__p();if(this.$1){if(this.$3[this.$6]===void 0)throw new Error("buffer has no value at position "+this.$6)}else if(this.$3.length===0)throw new Error("buffer length must not be 0");this.$5=null;this.$4=!1;var b=this.$1?this.$8(a):this.$9(a);if(b instanceof Uint8Array)return b;throw b}.bind(this))};a.prototype.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};a.prototype.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};a.prototype.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};a.prototype.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};e.exports=a}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("PausableRangeStream",["ByteRange","Deferred","DeferredBuffer","MaybeNativePromise","ReadableStream","WritableStream","pipeErrorTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ByteRange").startsImmediateAfter;function h(){return new Error("Upstream has an inconsistent range")}function i(){this.$1=0}i.prototype.setBytesToSkip=function(a){this.$1=a};i.prototype.setBytesSkipped=function(a){this.$1-=a};i.prototype.getBytesToSkip=function(){return this.$1};i.prototype.hasMoreBytesToSkip=function(){return this.$1>0};function j(a,c,d){__p&&__p();this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new i();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=!1;this.$1=a;this.$2=c;a=d||{};c=a.fixStreamingUndefinedEndByte;d=a.disableDeferredBufferArrayShift;var e=a.useNativePromiseInDeferredBuffer,f=a.enablePausableStreamResumeFromStartDangerously,g=a.fixPausePreReadableStream,j=a.throwErrorOnUnexpectedException;a=a.throwErrorWhenAborted;this.$11=!!c;this.$16=!!f;this.$17=!!g;this.$18=!!j;this.$19=!!a;this.$3=new(b("DeferredBuffer"))({disableArrayShift:!!d,useNativePromise:!!e});this.$6=new(b("ReadableStream"))({start:function(a){this.$10=a}.bind(this),pull:function(a){__p&&__p();if((this.$11&&this.$1.endByte===null&&this.$5||this.$7===this.$20())&&this.$3.isEmpty()){a.close();return b("MaybeNativePromise").resolve()}var c=function(){__p&&__p();var d=this.$15.hasMoreBytesToSkip()?this.$15.getBytesToSkip():void 0;return this.$3.consume(d).then(function(d){if(this.$15.hasMoreBytesToSkip()){this.$15.setBytesSkipped(d.length);return c()}this.$7+=d.length;var e=this.$20();e!==null&&this.$7>(e||0)&&b("pipeErrorTo")(this.$10,h());a.enqueue(d)}.bind(this))["catch"](function(a){if(a==="skip_buffered_bytes"){this.$15.setBytesToSkip(this.$7);return c()}throw a}.bind(this))}.bind(this);return c()}.bind(this),cancel:function(a){this.$12&&this.$12.resolve("stream_cancelled"),b("pipeErrorTo")(this.$9,a)}.bind(this)});this.$21()}j.prototype.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};j.prototype.$21=function(){this.$4=new(b("WritableStream"))({start:function(a){this.$9=a}.bind(this),write:function(a){this.$3.produce(a),this.$8+=a.length}.bind(this),close:function(){this.$5=!0;var a=this.$1,c=a.endByte;a=a.startByte;this.$11&&c===null&&this.$3.produce(new Uint8Array([]));c!==null&&this.$8!==(c||0)-a+1&&b("pipeErrorTo")(this.$10,h())}.bind(this),abort:function(a){this.$12&&(this.$19?this.$12.reject(a):this.$12.resolve("stream_aborted")),b("pipeErrorTo")(this.$10,a)}.bind(this)})};j.prototype.getStream=function(){return this.$6};j.prototype.startStream=function(){__p&&__p();this.$13=!0;var a={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?a.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var c=this.$4;return this.$2.startStream(a).then(function(a){a.pipeTo(this.$17?c:this.$4).then(function(){this.$12&&this.$12.resolve("stream_done")}.bind(this))["catch"](function(a){this.$12&&!this.$12.isSettled()&&(this.$17&&a===j.STREAM_PAUSED?this.$12.resolve("stream_paused"):this.$18?this.$12.reject(a):this.$12.resolve("stream_unexpected"))}.bind(this));this.$12=new(b("Deferred"))(b("MaybeNativePromise"));return{statusPromise:this.$12.getPromise()}}.bind(this))};j.prototype.pauseStream=function(){b("pipeErrorTo")(this.$9,j.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$21()};j.prototype.getByteRange=function(){return this.$1};j.prototype.getBytesStreamed=function(){return this.$7};j.prototype.tryConcatByteRange=function(a){if(this.$13||!g(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};j.STREAM_PAUSED="streamPaused";e.exports=j}),null);
__d("oz-player/shims/OzPausableRangeStream",["PausableRangeStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("PausableRangeStream")}),null);
__d("oz-player/shims/ozPerformanceNow",["performanceNow"],(function(a,b,c,d,e,f){"use strict";e.exports=b("performanceNow")}),null);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/ozPerformanceNow","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry,h=function(a,b){b=g(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,c,d,e,f){e.length&&a.setSegmentCount(e.length),c&&h(a,c),a.setResource(c||null).setInitiator(d?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(b("oz-player/shims/ozPerformanceNow")()-f)))};e.exports={setFetchStreamLoggingAttributes:a,setPerformanceLoggingAttributes:h}}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/shims/ozPerformanceNow","oz-player/loggings/OzLoggingUtils","oz-player/mocks/MockRequestParamCreator","oz-player/shims/OzPausableRangeStream","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","oz-player/networks/getOzSegmentStreamableRange","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;function a(a,c){c===void 0&&(c=null),this.$1=a,this.$2=new(b("oz-player/mocks/MockRequestParamCreator"))(),this.$3=c}a.prototype.request=function(a,c){c===void 0&&(c=null);a.length>0||b("oz-player/shims/ozvariant")(0,212);var d=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},e=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),this.$2,this.$3);return this.$4(d,e,c,a)};a.prototype.createPausableStream=function(a,c){a.length>0||b("oz-player/shims/ozvariant")(0,212);var d=b("oz-player/networks/getOzSegmentStreamableRange")(a)||{startByte:0,endByte:null},e=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,a[0].getURI(),this.$2,this.$3);return{pausableRangeStream:this.$5(d,e,c),loggingPayloads:{getRequestUrl:function(){return e.getLastRequestUrl()||null},isPrefetch:function(){return e.retrievedFromCache()},segments:a}}};a.prototype.requestRawUrl=function(a,c,d){d===void 0&&(d=null);a=new(b("oz-player/networks/OzNetworkRequestStream"))(this.$1,new(b("oz-player/shims/OzURI"))(a),{createRequestParam:function(a,b){return{uri:a,http:c}}},this.$3);var e={startByte:0,endByte:null};return this.$4(e,a,d)};a.prototype.$5=function(a,c,d){c=b("oz-player/networks/OzBandwidthEstimator").pipeThroughReporter(this.$1,c,d);return new(b("oz-player/shims/OzPausableRangeStream"))(a,c,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,useNativePromiseInDeferredBuffer:this.$1.getBool("use_native_promise",!1),throwErrorOnUnexpectedException:this.$1.getBool("pausable_stream_throws_error_on_unexpected_exception",!1),throwErrorWhenAborted:this.$1.getBool("pausable_stream_throws_error_when_aborted",!1)})};a.prototype.$4=function(a,c,d,e){__p&&__p();e===void 0&&(e=[]);var f=this.$5(a,c,d);a=f.startStream();var i=this.$6(a);d&&g(i,d,"fetch_stream",function(){},function(a){h(a,c.getLastRequestUrl(),c.retrievedFromCache(),e,b("oz-player/shims/ozPerformanceNow")())});return{getStream:function(){return f.getStream()},cancel:function(){return f.pauseStream()},getStatusChangePromise:function(){return i}}};a.prototype.$6=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!this.$1.getBool("enable_network_manager_error",!1))return"done";throw new(b("oz-player/utils/OzError"))({description:a,type:"OZ_NETWORK"})}.bind(this))}.bind(this))};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!b("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};e.exports=a}),null);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}e.exports={lessThan:j,greaterThan:i,equalTo:h,lessThanOrEqual:a,greaterThanOrEqual:b}}),null);
__d("oz-player/utils/OzNumericalRangeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.01;function h(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a.rangeStart-b)>g&&a.rangeStart>b}function i(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a===null||a===void 0)return!0;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function j(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function k(a,b){return a>b-g}a.prototype.mergeSortedRanges=function(a){__p&&__p();if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!i(e,c))continue;else h(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b};a.prototype.diffSortedRanges=function(a,b){return a.reduceRight(function(a,c){j(c.rangeStart,b)||j(b.rangeStart,c)?a.push(c):(b.rangeEnd!=null&&(c.rangeEnd==null||j(c.rangeEnd,b))&&a.push({rangeStart:b.rangeEnd,rangeEnd:c.rangeEnd}),k(b.rangeStart,c.rangeStart)&&a.push({rangeStart:c.rangeStart,rangeEnd:b.rangeStart}));return a},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()};a.prototype.findCurrentRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.rangeStart;if(k(a,e)&&!j(a,d))return c}return-1};a.prototype.findNextRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!k(a,d))return c}return-1};a.prototype.findDiffCoveredByRanges=function(a,b,c){__p&&__p();return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)};function a(){}e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/utils/OzError","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan;b("oz-player/utils/OzNumericalHelper").lessThan;var i=b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual,j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;function l(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}l.prototype.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d*(d.r+1),a,this.$8))break;b=d}if(b===null)return null;if(this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8))return null;d=Math.max(0,Math.floor((a-b.t+this.$8)/b.d));return this.$12(b,d)};l.prototype.getSegment=function(a){__p&&__p();var b=0;a=a;while(a>=0&&b<this.$3.length){var c=this.$3[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$3[b];return!c?null:this.$12(c,a)};l.prototype.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};l.prototype.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$3[this.$3.length-1],c=b.r;b=this.$12(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};l.prototype.updateWith=function(a){a instanceof l||b("oz-player/shims/ozvariant")(0,646),this.$5=a.$5,this.$13(a.$3),this.$14(a.$3),this.$6.emit("segment_updated")};l.prototype.getTimeRanges=function(){return this.$4};l.prototype.blockTimeRange=function(a){this.$9=a,this.$4=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:a.startTime,rangeEnd:a.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};l.prototype.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};l.prototype.$15=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,d=b.t+b.d*b.r;return i(a.t,d,this.$8)||i(b.t,c,this.$8)?!1:Number.isInteger((a.t-b.t)/a.d)};l.prototype.$13=function(a){__p&&__p();var c=this.$3.length-1,d=a.length-1,e=c,f=d;while(c>=0&&d>=0){var i=this.$3[c],j=a[d];if(g(i.t,j.t,this.$8)){if(!(c===e&&d===f)&&i.r!==j.r)throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch'});i.r=Math.max(i.r,j.r);c--;d--}else if(h(j.t,i.t,this.$8))this.$3.splice(c+1,0,j),d--;else{if(this.$15(i,j))throw new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged"});c--}}if(d>=0){(i=this.$3).unshift.apply(i,a.slice(0,d+1))}};l.prototype.$14=function(a){a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}));this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.$10=function(a){__p&&__p();a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){var b=this.$12(a,0).getTimeRange().startTime;a=this.$12(a,a.r).getTimeRange().endTime;return{rangeStart:b,rangeEnd:a}}.bind(this)));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};l.prototype.$12=function(a,c){c===void 0&&(c=0);var d=a.t,e=a.d,f=d+e*c;return{getURI:function(){var a=this.$1.replace("$Time$",f.toString());return new(b("oz-player/shims/OzURI"))(a)}.bind(this),getTimeRange:function(){return{startTime:f/this.$2,endTime:(f+e)/this.$2}}.bind(this),getByteRange:function(){return null}}};e.exports=l}),null);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){__p&&__p();a=g(a);while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}a={normalize:function(){__p&&__p();for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}};e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}g.prototype.getTimeRange=function(){return{startTime:0,endTime:0}};g.prototype.getByteRange=function(){return this.$2};g.prototype.getURI=function(){return this.$1};function a(a,b,c){var d=c.baseUrl;c=c.isStaticMpd;this.$1=b;this.$2=d;this.$3=c;this.$4=a}a.prototype.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").normalize(this.$2,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};a.prototype.parseSegmentsContainer=function(){var a=[];(!this.$4.getBool("handle_missing_manifest_segment_timeline",!1)||this.$1.SegmentTimeline[0].S)&&(a=this.$1.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10)}}));return new(b("oz-player/manifests/SegmentTemplateSegmentsContainer"))(this.$4,b("oz-player/utils/OzUrlHelper").normalize(this.$2,this.$1.$.media),Number.parseInt(this.$1.$.timescale,10),a,this.$3)};e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzNumericalHelper").equalTo,h=b("oz-player/utils/OzNumericalHelper").greaterThan,i=b("oz-player/utils/OzNumericalHelper").lessThan;b("oz-player/utils/OzNumericalHelper").greaterThanOrEqual;var j=b("oz-player/utils/OzNumericalHelper").lessThanOrEqual,k=1e-4;function l(a,c,d,e,f){f===void 0&&(f=!1),this.$6=new(b("oz-player/shims/OzEventEmitter"))(),this.$9=null,this.$1=c,this.$2=d,this.$3=e,this.$4=this.$10(this.$3),this.$5=f,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}l.prototype.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;if(this.$7.getBool("live_segment_search_from_end",!1)){var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(j(d.t+d.d,a,this.$8))break;b=d}if(b===null)return null;return this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&h(b.t,a,this.$8)?null:this.$12(b)}for(var d=0;d<this.$3.length;d++){c=this.$3[d];if((this.$7.getBool("live_find_next_segment_with_gap",!1)||j(c.t,a,this.$8))&&h(c.t+c.d,a,this.$8))return this.$12(c)}return null};l.prototype.getSegment=function(a){a=this.$3[a];return!a?null:this.$12(a)};l.prototype.getSegmentAfter=function(a){var b=this.$3.findIndex(function(b){return g(b.t,a.getTimeRange().startTime*this.$2,this.$8)&&g(b.t+b.d,a.getTimeRange().endTime*this.$2,this.$8)}.bind(this));return b>=0&&b+1<this.$3.length?this.$12(this.$3[b+1]):null};l.prototype.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$12(this.$3[this.$3.length-1]);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<k};l.prototype.updateWith=function(a){a instanceof l||b("oz-player/shims/ozvariant")(0,646),this.$5=a.$5,this.$13(a.$3),this.$14(a.$3),this.$6.emit("segment_updated")};l.prototype.getTimeRanges=function(){return this.$4};l.prototype.blockTimeRange=function(a){this.$9=a,this.$4=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:a.startTime,rangeEnd:a.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};l.prototype.$11=function(a){var c=a,d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(d===-1){d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));d!==-1&&(c=this.getTimeRanges()[d].startTime)}return c};l.prototype.$13=function(a){var b=0,c=0;while(b<this.$3.length&&c<a.length){var d=this.$3[b],e=a[c];i(d.t,e.t,this.$8)?b++:h(d.t,e.t,this.$8)?(j(e.t+e.d,d.t,this.$8)&&this.$3.splice(b,0,e),c++):(b++,c++)}while(c<a.length)this.$3.push(a[c]),c++};l.prototype.$14=function(a){a=this.$10(a);a=new(b("oz-player/utils/OzNumericalRangeUtil"))().mergeSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));var c=this.$9;c!=null&&(a=new(b("oz-player/utils/OzNumericalRangeUtil"))().diffSortedRanges(a,{rangeStart:c.startTime,rangeEnd:c.endTime}));this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};l.prototype.$10=function(a){__p&&__p();a=new(b("oz-player/utils/OzNumericalRangeUtil"))();a=a.mergeSortedRanges(this.$3.map(function(a){a=this.$12(a).getTimeRange();var b=a.startTime;a=a.endTime;return{rangeStart:b,rangeEnd:a}}.bind(this)));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};l.prototype.$12=function(a){var c=a.t,d=a.d;return{getURI:function(){var a=this.$1.replace("$Time$",c.toString());return new(b("oz-player/shims/OzURI"))(a)}.bind(this),getTimeRange:function(){return{startTime:c/this.$2,endTime:(c+d)/this.$2}}.bind(this),getByteRange:function(){return null}}};e.exports=l}),null);
__d("oz-player/parsers/OzSegmentTemplateParserLegacy",["oz-player/manifests/SegmentTemplateSegmentsContainerLegacy","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}g.prototype.getTimeRange=function(){return{startTime:0,endTime:0}};g.prototype.getByteRange=function(){return this.$2};g.prototype.getURI=function(){return this.$1};function a(a,b,c){var d=c.baseUrl;c=c.isStaticMpd;this.$1=b;this.$2=d;this.$3=c;this.$4=a}a.prototype.parseInitializationSegment=function(){var a=b("oz-player/utils/OzUrlHelper").normalize(this.$2,this.$1.$.initialization);return new g(new(b("oz-player/shims/OzURI"))(a))};a.prototype.parseSegmentsContainer=function(){var a=[];(!this.$4.getBool("handle_missing_manifest_segment_timeline",!1)||this.$1.SegmentTimeline[0].S)&&(a=this.$1.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10)}}));return new(b("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy"))(this.$4,b("oz-player/utils/OzUrlHelper").normalize(this.$2,this.$1.$.media),Number.parseInt(this.$1.$.timescale,10),a,this.$3)};e.exports=a}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}a.prototype.getURI=function(){return this.$1};a.prototype.getTimeRange=function(){return{startTime:0,endTime:0}};a.prototype.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};e.exports=a}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=0,this.$2=a}a.prototype.seek=function(a){this.$1=a};a.prototype.skip=function(a){var b=this.$1;this.$1+=a;return b};a.prototype.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};a.prototype.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};a.prototype.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};a.prototype.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};a.prototype.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};a.prototype.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};a.prototype.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};a.prototype.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};a.prototype.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};a.prototype.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};a.prototype.getDataView=function(){return this.$2};a.prototype.getCursor=function(){return this.$1};a.prototype.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};e.exports=a}),null);
__d("oz-player/shims/OzDataViewReader",["DataViewReader"],(function(a,b,c,d,e,f){"use strict";e.exports=b("DataViewReader")}),null);
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/shims/OzDataViewReader","oz-player/shims/OzURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1936286840;a={parse:function(a,c,d){__p&&__p();var e=new(b("oz-player/shims/OzDataViewReader"))(new DataView(d.buffer));d=e.readUint32();var f=e.readUint32();if(f!==g)throw new Error('Invalid box type, expected "sidx".');d==1&&(d=e.readUint64());f=e.readUint8();e.skip(3);e.skip(4);var h=e.readUint32();if(!h)throw new Error("Invalid timescale.");var i;f==0?(f=e.readUint32(),i=e.readUint32()):(f=e.readUint64(),i=e.readUint64());e.skip(2);var j=e.readUint16(),k=f,l=c+d+i,m=0,n=[];f=function(c){__p&&__p();var d=e.readUint32(),f=(d&2147483648)>>>31;d=d&2147483647;var g=e.readUint32();e.readUint32();if(f==1)throw new Error("Heirarchical SIDXs are not supported.");var i=k/h,j=(k+g)/h;c===0&&(m=i);var o=l,p=o+d-1;n.push({getURI:function(){return new(b("oz-player/shims/OzURI"))(a)},getTimeRange:function(){return{startTime:i-m,endTime:j-m}},getByteRange:function(){return{startByte:o,endByte:p}}});k+=g;l+=d};for(var c=0;c<j;c++)f(c);return n}};e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}a.prototype.getURI=function(){return this.$1};a.prototype.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};a.prototype.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};e.exports=a}),null);
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/OzURI","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=440786851,h=408125543,i=357149030,j=2807729,k=17545,l=475249515,m=187,n=179,o=183,p=241,q=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function r(a,b){__p&&__p();if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}function s(a,b){this.id=a,this.$1=b}s.prototype.getOffset=function(){return this.$1.byteOffset};s.prototype.createParser=function(){return new t(this.$1)};s.prototype.getUint=function(){__p&&__p();if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};s.prototype.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};function t(a){this.$1=a,this.$2=new(b("oz-player/shims/OzDataViewReader"))(this.$1)}t.prototype.hasMoreData=function(){return this.$2.hasMoreData()};t.prototype.parseElement=function(){var a=this.$3(),b=this.$4(),c;t.$5(b)?c=this.$1.byteLength-this.$2.getCursor():c=t.$6(b);b=this.$2.getCursor()+c<=this.$1.byteLength?c:this.$1.byteLength-this.$2.getCursor();c=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),b);this.$2.skip(b);return new s(a,c)};t.prototype.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};t.prototype.$4=function(){__p&&__p();var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};t.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};t.$5=function(a){for(var b=0;b<q.length;b++)if(r(a,q[b]))return!0;return!1};function u(a){__p&&__p();a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==j?b=d.getUint():d.id==k&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function v(a,c,d,e,f){__p&&__p();var g=[];a=a.createParser();var h=-1,i=-1;while(a.hasMoreData()){var j=a.parseElement();if(j.id!=m)continue;j=w(j);if(!j)continue;var k=d*j.unscaledTime;j=c+j.relativeOffset;h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,k,i,j-1)));h=k;i=j}h>=0&&(i>=0||b("oz-player/shims/ozvariant")(0,4010),g.push(new(b("oz-player/manifests/OzDataSegment"))(f,h,e,i,null)));return g}function w(a){__p&&__p();a=a.createParser();var b=a.parseElement();if(b.id!=n)return null;b=b.getUint();a=a.parseElement();if(a.id!=o)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=p)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function x(a){__p&&__p();a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=i)continue;b=c;break}return!b?null:u(b)}function y(a){__p&&__p();a=new t(a);var b=a.parseElement();if(b.id!=g)return null;b=a.parseElement();if(b.id!=h)return null;a=b.getOffset();b=x(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=y(d);if(!d)return[];c=new t(c);c=c.parseElement();return c.id!=l?[]:v(c,d.segmentOffset,d.timecodeScale,d.duration,new(b("oz-player/shims/OzURI"))(a))}e.exports={parse:a}}),null);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$OzErrorEmitter1=!1,this.emitError=function(a){this.$OzErrorEmitter1||b("oz-player/shims/ozvariant")(0,4599),this.emit("error",a)}.bind(this),c}a.prototype.onError=function(a){this.$OzErrorEmitter1=!0;return this.addListener("error",a)};e.exports=a}),null);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return TextDecoder?new TextDecoder("utf-8").decode(new Uint8Array(a)):String.fromCharCode.apply(null,a)}function h(a){__p&&__p();var c=new ArrayBuffer(0),d=function d(){return a.read().then(function(a){var e=a.value;a=a.done;if(a)return null;if(!e)return null;c=b("oz-player/utils/ozConcatArrayBuffer")(c,e);return d()})};return d().then(function(){return new Uint8Array(c)})}function a(a){return h(a).then(function(a){return g(a)})}e.exports={pumpString:a,pumpAllData:h}}),null);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzWebmSidxParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzReadableStreamUtils").pumpAllData;function i(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}function j(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}j.prototype.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};j.prototype.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};j.prototype.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};j.prototype.getSegment=function(a){return this.$1()[a]||null};j.prototype.updateWith=function(a){throw new Error("Not implemented: updatedWith")};j.prototype.addUpdateListener=function(a){this.$3&&(this.$3(),this.$3=null);return this.$2.addListener("segment_updated",a)};j.prototype.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};j.prototype.blockTimeRange=function(){throw new Error("Not implemented: blockTimeRange")};function a(a,c,d,e,f,g){this.$5=new(b("oz-player/utils/OzErrorEmitter"))(),this.$6=[],this.$8=new(b("oz-player/shims/OzEventEmitter"))(),this.$1=c,this.$2=d,this.$3=e,this.$4=f,this.$7=g.cloneContext().setType("sidx"),this.$9=a}a.prototype.onError=function(a){return this.$5.onError(a)};a.prototype.parseInitializationSegment=function(){var a=this.$1.Initialization[0].$.range,c=i(a);a={getURI:function(){return new(b("oz-player/shims/OzURI"))(this.$2)}.bind(this),getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return c}};return a};a.prototype.parseSegmentsContainer=function(){var a=function(){g(this.$10(),this.$7,"process_sidx")["catch"](this.$5.emitError)}.bind(this),b=this.$9.getBool("lazy_parse_sidx",!1);b||a();b=new j(function(){return this.$6}.bind(this),this.$8,b?a:null);return b};a.prototype.$11=function(a,c){a=new(b("oz-player/manifests/OzZeroTimeRangeSegment"))(new(b("oz-player/shims/OzURI"))(a),c.startByte,c.endByte);c=this.$4.request([a],this.$7);a=c.getStream().getReader();return h(a)};a.prototype.$10=function(){__p&&__p();var a=this.$1.$.indexRange,c=i(a);a=[this.$11(this.$2,c)];if(this.$3==="webm"){var d=i(this.$1.Initialization[0].$.range);a.push(this.$11(this.$2,d));d=b("oz-player/shims/OzMaybeNativePromise").all(a).then(function(a){var c=a[0];a=a[1];this.$6=b("oz-player/parsers/OzWebmSidxParser").parse(this.$2,c,a)}.bind(this))}else d=a[0].then(function(a){this.$6=b("oz-player/parsers/OzMp4SidxParser").parse(this.$2,c.startByte,a)}.bind(this));return d.then(function(){this.$8.emit("segment_updated")}.bind(this))};e.exports=a}),null);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}e.exports={parse:a}}),null);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSegmentTemplateParserLegacy","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f,g){this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$1=c,this.$3=e,this.$4=f,this.$6=d,this.$7=a,this.$8=g}a.prototype.$9=function(){__p&&__p();if(this.$5)return this.$5;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],c=this.$1.BaseURL[0]._;this.$5=new(b("oz-player/parsers/OzSidxSegmentsParser"))(this.$7,a,c,b("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),this.$3,this.$4);this.$5.onError(this.$2.emitError)}else if(this.$1.SegmentTemplate){a=this.$6.mpdUrl;if(a===null||a===void 0){c=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest"});throw c}c=this.$1.SegmentTemplate[0];var d=this.$7.getBool("use_new_template_segment_parser",!1)?b("oz-player/parsers/OzSegmentTemplateParser"):b("oz-player/parsers/OzSegmentTemplateParserLegacy");this.$5=new d(this.$7,c,{baseUrl:a,isStaticMpd:this.$8==="static"})}else{d=new(b("oz-player/utils/OzError"))({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type"});throw d}return this.$5};a.prototype.onError=function(a){return this.$2.onError(a)};a.prototype.parseInitSegment=function(){return this.$9().parseInitializationSegment()};a.prototype.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};a.prototype.parseMimeCodecs=function(){return this.$1.$.mimeType+'; codecs="'+this.$1.$.codecs+'"'};a.prototype.parseSegmentsContainer=function(){return this.$9().parseSegmentsContainer()};a.prototype.parseID=function(){return""+this.$1.$.id};a.prototype.parseCustomFieldFirstSegment=function(){var a=this.$6.customRepresentationParsers?this.$6.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};a.prototype.parse=function(){return new(b("oz-player/manifests/OzRepresentation"))(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$6.customRepresentationParsers)};e.exports=a}),null);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/parsers/OzRepresentationParser"));g=c&&c.prototype;function a(a,b,c,d,e,f){g.constructor.call(this,a,b,c,d,e,f),this.$OzVideoRepresentationParser1=b,this.$OzVideoRepresentationParser2=c}a.prototype.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),c=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10);return new(b("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$OzVideoRepresentationParser2.customRepresentationParsers,c,a)};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){__p&&__p();(function(a){__p&&__p();a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){__p&&__p();if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){__p&&__p();var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){__p&&__p();a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){__p&&__p();if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){__p&&__p();if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){__p&&__p();var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){__p&&__p();var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){__p&&__p();var a=String.fromCharCode,b=Math.floor,c=function(){__p&&__p();var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/OzSax",["sax"],(function(a,b,c,d,e,f){e.exports=b("sax")}),null);
__d("oz-player/parsers/OzXmlParser",["oz-player/shims/OzSax","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){__p&&__p();function g(){return{$:{}}}function a(){"use strict";__p&&__p();this.$4=[];this.$6=function(a){a=a.name;var c=g(),d=this.$3||this.$2;d||b("oz-player/shims/ozvariant")(0,219);Object.prototype.hasOwnProperty.call(d,a)||(d[a]=[]);d[a].push(c);this.$4.push(d);this.$3=c}.bind(this);this.$8=function(){var a=this.$4.pop();this.$3=a}.bind(this);this.$9=function(a){a=a.trim();if(!a)return;var c=this.$3;c||b("oz-player/shims/ozvariant")(0,220);c._&&b("oz-player/shims/ozvariant")(0,221);c._=a}.bind(this);this.$7=function(a){var c=a.name;a=a.value;var d=this.$3;d||b("oz-player/shims/ozvariant")(0,222);d.$[c]=a}.bind(this);var a=!0;a=this.$1=b("oz-player/shims/OzSax").parser(a);a.onerror=this.$5;a.onopentagstart=this.$6;a.onattribute=this.$7;a.onclosetag=this.$8;a.ontext=this.$9}a.prototype.$5=function(a){"use strict";throw a};a.prototype.parse=function(a){"use strict";__p&&__p();var b=g();this.$2=b;try{this.$1.write(a).close()}catch(a){throw a}this.$3=null;this.$2=null;this.$4=[];return b};e.exports=a}),null);
__d("oz-player/parsers/OzMpdParser",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/parsers/OzXmlParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(h,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function h(a,b,c,d,e,f,h){g.constructor.call(this),this.$SimpleMpd1=a,this.$SimpleMpd4=e,this.$SimpleMpd2=b,this.$SimpleMpd3=c,this.$SimpleMpd5=d,this.$SimpleMpd6=f,this.$SimpleMpd7=h}h.prototype.getLocation=function(){return this.$SimpleMpd5};h.prototype.getMinimumUpdatePeriod=function(){return this.$SimpleMpd4};h.prototype.getVideoRepresentations=function(){return this.$SimpleMpd2};h.prototype.getAudioRepresentations=function(){return this.$SimpleMpd3};h.prototype.getCustomField=function(a){var b=this.$SimpleMpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$SimpleMpd1)}catch(a){return null}};h.prototype.isStaticMpd=function(){return this.$SimpleMpd7};h.prototype.updateWith=function(a){this.$SimpleMpd8(this.$SimpleMpd2,a.getVideoRepresentations()),this.$SimpleMpd8(this.$SimpleMpd3,a.getAudioRepresentations()),this.$SimpleMpd7=a.isStaticMpd(),this.$SimpleMpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};h.prototype.blockTimeRange=function(a){this.$SimpleMpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$SimpleMpd3.forEach(function(b){return b.blockTimeRange(a)})};h.prototype.$SimpleMpd8=function(a,b){__p&&__p();for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};function a(a,c,d,e){this.$2=new(b("oz-player/utils/OzErrorEmitter"))(),this.$5=a,this.$1=d,this.$3=e,this.$4=c}a.prototype.onError=function(a){return this.$2.onError(a)};a.prototype.parse=function(a){__p&&__p();var c=null;a=new(b("oz-player/parsers/OzXmlParser"))().parse(a);c=a.MPD[0];c||b("oz-player/shims/ozvariant")(0,3628);c.Period.length>0||b("oz-player/shims/ozvariant")(0,3629);a=c.Period[0].AdaptationSet||[];var d=this.$6(c),e=this.$7(a,d);e.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$8(a,"audio",d);var f=this.$4.mpdUrl;return new h(c,e,a,f,this.$9(c),this.$4.customParsers||new Map(),d==="static")};a.prototype.$9=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};a.prototype.$6=function(a){return a.$.type||"static"};a.prototype.$7=function(a,c){a=this.$10(a,"video");return a?a.Representation.map(function(a){a=new(b("oz-player/parsers/OzVideoRepresentationParser"))(this.$5,a,this.$4,this.$1,this.$3,c);a.onError(this.$2.emitError);return a.parse()}.bind(this)):[]};a.prototype.$10=function(a,b){return a.find(function(a){a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};a.prototype.$8=function(a,c,d){a=this.$10(a,c);return a?a.Representation.map(function(a){a=new(b("oz-player/parsers/OzRepresentationParser"))(this.$5,a,this.$4,this.$1,this.$3,d);a.onError(this.$2.emitError);return a.parse()}.bind(this)):[]};e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getTimeRanges();return a.length>0?a[a.length-1]:null}return null}e.exports={getMpdLastTimeRange:a}}),null);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,b){g.constructor.call(this),this.$OzStreamInterruptChecker3=0,this.$OzStreamInterruptChecker4=null,this.$OzStreamInterruptChecker5=!1,this.$OzStreamInterruptChecker1=a,this.$OzStreamInterruptChecker2=b}a.prototype.notifyMpdUpdated=function(){var a=h(this.$OzStreamInterruptChecker1),b=a?a.endTime:null;b!==null&&b===this.$OzStreamInterruptChecker4?this.$OzStreamInterruptChecker3++:(this.$OzStreamInterruptChecker3=0,this.$OzStreamInterruptChecker5&&this.$OzStreamInterruptChecker4!==null&&this.$OzStreamInterruptChecker4!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker5=!1);a=this.$OzStreamInterruptChecker2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0);!this.$OzStreamInterruptChecker5&&a>0&&this.$OzStreamInterruptChecker3>=a&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker5=!0);this.$OzStreamInterruptChecker4=b};e.exports=a}),null);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/shims/OzEventEmitter","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker","oz-player/parsers/OzMpdParser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/utils/OzMpdUtils").getMpdLastTimeRange,i=b("oz-player/utils/OzReadableStreamUtils").pumpString;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c,d,e,f){__p&&__p();g.constructor.call(this);this.$OzMpdUpdater8=new(b("oz-player/utils/OzErrorEmitter"))();this.$OzMpdUpdater10=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$OzMpdUpdater11=!1;this.$OzMpdUpdater13=function(){__p&&__p();var a=this.$OzMpdUpdater3.getLocation();if(!a)return;if(this.$OzMpdUpdater7.getBool("live_disable_mpd_updates_when_paused",!1)&&!this.$OzMpdUpdater12.isPlaying()){this.setupUpdateLoop();return}var c=this.$OzMpdUpdater6.getOperationLogger("update_manifest").start();this.$OzMpdUpdater14(a).then(function(d){__p&&__p();var e=new(b("oz-player/parsers/OzMpdParser"))(this.$OzMpdUpdater7,{mpdUrl:a},this.$OzMpdUpdater1,this.$OzMpdUpdater6);e.onError(function(a){this.$OzMpdUpdater8.emitError(a),c.setError(a).log()}.bind(this));e=e.parse(d);this.$OzMpdUpdater3.updateWith(e);e.isStaticMpd()&&!this.$OzMpdUpdater3.isStaticMpd()&&this.emit("streamTransitionToStatic");d=h(this.$OzMpdUpdater3);e=d?d.endTime:null;c.setLiveheadPosition(e).setManifestType(this.$OzMpdUpdater3.isStaticMpd()?"static":"dynamic").log();this.$OzMpdUpdater9.notifyMpdUpdated();this.setupUpdateLoop()}.bind(this))["catch"](function(a){__p&&__p();c.setError(a).log();if(this.$OzMpdUpdater7.getBool("live_gracefully_handle_mpd_errors",!1)){var d;a instanceof b("oz-player/utils/OzError")&&(d=a.getExtra().code||"");switch(d){case"410":this.$OzMpdUpdater11=!0,this.emit("streamGone");case"0":this.setupUpdateLoop();return}}this.$OzMpdUpdater8.emitError(a)}.bind(this))}.bind(this);var i=c.getMinimumUpdatePeriod();this.$OzMpdUpdater1=d;this.$OzMpdUpdater3=c;this.$OzMpdUpdater12=e;this.$OzMpdUpdater4=i;this.$OzMpdUpdater6=f.cloneContext().setType("manifest");this.$OzMpdUpdater7=a;this.$OzMpdUpdater9=new(b("oz-player/utils/OzStreamInterruptChecker"))(this.$OzMpdUpdater3,this.$OzMpdUpdater7);this.$OzMpdUpdater10.addSubscriptions(this.$OzMpdUpdater9.addListener("streamResumedAt",function(a){this.emit("streamResumedAt",a)}.bind(this)),this.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){this.emit("streamInterruptAt",a)}.bind(this)))}a.prototype.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater11;a&&this.$OzMpdUpdater7.getBool("stop_manifest_update_when_static",!1)&&(a=!this.$OzMpdUpdater3.isStaticMpd(),this.$OzMpdUpdater4=this.$OzMpdUpdater3.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater4&&this.$OzMpdUpdater3.getLocation()&&(this.$OzMpdUpdater5=b("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater13,this.$OzMpdUpdater4*1e3))};a.prototype.onError=function(a){return this.$OzMpdUpdater8.onError(a)};a.prototype.$OzMpdUpdater14=function(a){a=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},this.$OzMpdUpdater6);a=a.getStream().getReader();return i(a)};a.prototype.destroy=function(){this.$OzMpdUpdater5&&clearTimeout(this.$OzMpdUpdater5),this.$OzMpdUpdater10.release()};e.exports=a}),null);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime;function a(a,b,c){this.$3=null,this.$4=0,this.$5=0,this.$6=a,this.$1=b,this.$2=c}a.prototype.setTimeRangeProvider=function(a){this.$3!=null&&this.$3.remove(),this.$3=a.addUpdateListener(function(){var b=a.getTimeRanges(),c=0;if(b.length!==0){b=b[b.length-1];c=b.endTime}this.$7(c)}.bind(this))};a.prototype.$7=function(a){__p&&__p();if(this.$4===a)return;this.$4=a;if(this.$1.currentTime<=this.$5)return;a=this.$6.getNumber("livehead_fall_behind_block_threshold",0);var b=this.$6.getNumber("live_time_range_block_margin",0);if(b!==0&&a!==0&&this.$1.duration-this.$1.currentTime>a){a=[];for(var c=0;c<this.$1.buffered.length;c++)a.push({startTime:this.$1.buffered.start(c),endTime:this.$1.buffered.end(c)});c=g(this.$1.currentTime,a);this.$5=this.$1.currentTime+Math.min(c,b);a={startTime:this.$5,endTime:this.$1.duration-b};this.$2.blockTimeRange(a)}};a.prototype.destroy=function(){this.$3!=null&&(this.$3.remove(),this.$3=null)};e.exports=a}),null);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}e.exports={computeSeekAhead:a}}),null);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1.5;function a(a,c){c=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,c)===-1}function c(a,c){var d=c.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});d=new(b("oz-player/utils/OzNumericalRangeUtil"))().findCurrentRangeIndex(a,d);if(d!==-1){c=c[d];return b("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,c.endTime)&&c.endTime-a<g}return!1}e.exports={isNearGap:c,isInGap:a}}),null);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead,i=b("oz-player/utils/OzTimelineGapUtil").isInGap,j=b("oz-player/utils/OzTimelineGapUtil").isNearGap;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this);this.$OzPlayheadManager2=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$OzPlayheadManager3=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$OzPlayheadManager4=new Set();this.$OzPlayheadManager10=new Set();this.$OzPlayheadManager12=function(a){this.$OzPlayheadManager1.currentTime=a}.bind(this);this.$OzPlayheadManager14=!1;var c=a.video,d=a.mpd,e=a.playheadCatchup,f=a.playbackState,h=a.config,i=a.perfLoggerProvider,j=a.seekHandler;a=a.initialPlaybackPosition;this.$OzPlayheadManager1=c;this.$OzPlayheadManager6=h;this.$OzPlayheadManager7=f;this.$OzPlayheadManager8=d;this.$OzPlayheadManager9=e;this.$OzPlayheadManager11=i;j&&(this.$OzPlayheadManager12=j);this.$OzPlayheadManager13=a;this.$OzPlayheadManager2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadManager1,"durationchange",function(){this.$OzPlayheadManager15(),this.$OzPlayheadManager16("durationchange")}.bind(this)),b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadManager1,"pause",this.$OzPlayheadManager16.bind(this,"pause")),b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadManager1,"play",this.$OzPlayheadManager16.bind(this,"play")),b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadManager1,"playing",this.$OzPlayheadManager16.bind(this,"playing")),b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadManager1,"waiting",this.$OzPlayheadManager16.bind(this,"waiting")))}a.prototype.observeSourceBufferState=function(a,c){this.$OzPlayheadManager4.has(a)&&b("oz-player/shims/ozvariant")(0,4179),this.$OzPlayheadManager4.add(a),this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){return this.$OzPlayheadManager17(a,c)}.bind(this)))};a.prototype.$OzPlayheadManager17=function(a,b){__p&&__p();var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update",!1)&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time",!1)?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=h(a,c);a>0&&this.$OzPlayheadManager18(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};a.prototype.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager16.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager16("time_range_set")};a.prototype.$OzPlayheadManager15=function(){var a=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager14&&!isNaN(a)&&a!==Infinity){a=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:a+this.$OzPlayheadManager13;this.$OzPlayheadManager14=!0;this.$OzPlayheadManager18(a,"initial_playback_position","");this.emit("initialPlaybackPositionSet",a)}};a.prototype.$OzPlayheadManager16=function(a,c){__p&&__p();c===void 0&&(c=null);var d=this.$OzPlayheadManager9;if(d&&d.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){d=d.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof d==="number"){this.$OzPlayheadManager18(d,"live_catch_up_strategy",a,c);return}}d=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack",0);if(d===0)return;var e=this.$OzPlayheadManager5;if(!e)return;var f=this.$OzPlayheadManager7.getCurrentTime(),g=e.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),h=new(b("oz-player/utils/OzNumericalRangeUtil"))().findNextRangeIndex(f,g);if((j(f,e.getTimeRanges())||i(f,e.getTimeRanges()))&&h!==-1){f=g[h];this.$OzPlayheadManager18(f.rangeStart+d,"jump_over_timeline_gap",a,c)}};a.prototype.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};a.prototype.$OzPlayheadManager18=function(a,b,c,d){var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon",0);if(f>0&&e<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a)};e.exports=a}),null);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){this.$2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$3=null,this.$1=c,this.$4=a,this.$2.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"timeupdate",this.$5.bind(this)),b("oz-player/shims/OzEventListener").listen(this.$1,"playing",this.$6.bind(this)),b("oz-player/shims/OzEventListener").listen(this.$1,"pause",this.$7.bind(this)))}a.prototype.$5=function(){var a=this.$4.getNumber("playhead_nudge_slack",0);if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a),this.$3=null)};a.prototype.$6=function(){this.$3=this.$1.currentTime};a.prototype.$7=function(){this.$3=null};a.prototype.destroy=function(){this.$2.release()};e.exports=a}),null);
__d("oz-player/shims/ozThrottle",["throttle"],(function(a,b,c,d,e,f){"use strict";e.exports=b("throttle")}),null);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,h=150;function a(a,c){c===void 0&&(c=new g([])),this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$6=function(a){this.$4.getOperationLogger("pause").setState("paused").log()}.bind(this),this.$7=function(a){this.$5(),this.$4.getOperationLogger("playing").setState("playing").log()}.bind(this),this.$5=function(a){this.$2=this.$1.currentTime}.bind(this),this.$1=a,this.$4=c,this.$2=this.$1.currentTime,this.$3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$1,"seeked",this.$5),b("oz-player/shims/OzEventListener").listen(this.$1,"seeking",this.$5),b("oz-player/shims/OzEventListener").listen(this.$1,"timeupdate",b("oz-player/shims/ozThrottle")(this.$5,h)),b("oz-player/shims/OzEventListener").listen(this.$1,"pause",this.$6),b("oz-player/shims/OzEventListener").listen(this.$1,"playing",this.$7))}a.prototype.isPlaying=function(){return!this.$1.paused};a.prototype.getCurrentTime=function(){return this.$2};a.prototype.forceUpdateCurrentTime=function(){this.$5()};a.prototype.getDuration=function(){return this.$1.duration};a.prototype.addEventListener=function(a,c){return b("oz-player/shims/OzEventListener").listen(this.$1,a,c)};a.prototype.destroy=function(){this.$3.release()};e.exports=a}),null);
__d("oz-player/states/OzPlayerDimensions",[],(function(a,b,c,d,e,f){"use strict";function a(a){this.setDimensions(a)}a.prototype.setDimensions=function(a){this.$1=a.width,this.$2=a.height};a.prototype.getDimensions=function(){return{width:this.$1,height:this.$2}};e.exports=a}),null);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b}a.prototype.isActive=function(a){return!0};a.prototype.getSegmentsCount=function(a,c,d){var e=b("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1),f=b("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor",1);a=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g})?this.$1.getNumber("segments_to_stream_near_bandwidth_boundary",5):this.$1.getNumber("segments_to_stream",5);d=this.$3(c,e);return Math.min(a,d)};a.prototype.$3=function(a,b){__p&&__p();var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target",0);d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};e.exports=a}),null);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.8;function a(a,b,c,d,e,f,i,j){__p&&__p();c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}e.exports={getPlaybackConfidence:a,getEstimatedDownloadTimeBufferDeltaMs:h}}),null);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzPlaybackConfidenceUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzAbrUtils").excludeLargeRepresentations,h=b("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation,i=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates,j=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;function a(a,c,d,e,f,g,h){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$12=null,this.$1=a,this.$5=c,this.$6=this.$15(c,d),this.$7=e,this.$8=f,this.$10=g,this.$13=h,this.$14=new(b("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(a,d)}a.prototype.setSourceBuffer=function(a){this.$9=a};a.prototype.$15=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index",0),d=this.$1.getNumber("abr_restrict_to_index",0);if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};a.prototype.$16=function(a){a=g(this.$1,a,this.$10.getDimensions(),this.$13);a=j(this.$7,this.$10.getDimensions(),a);return a};a.prototype.getBestRepresentation=function(a){__p&&__p();a===void 0&&(a=null);var c=i(this.$9,this.$8),d=h(this.$1,this.$4,c,b("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(d!==null&&d!==void 0){this.$12=d;return this.$5}d=Date.now();this.$2=d;var e=b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1),f=this.$16(this.$6),g=null;this.$1.getBool("abr_use_download_time",!1)&&a!=null?g=this.$17(f,e,a.length)||this.$18(f,e,c,a):g=this.$18(f,e,c,a);g=g||this.$6[0];if(this.$19(c,g)){this.$12="high_buffer";return this.$5}this.$5!==g&&(this.$4=!0,this.$3=d,this.$5=g);this.$12="bandwidth";return g};a.prototype.$18=function(a,c,d,e){var f=null;for(var g=0;g<a.length;g++){var h=b("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],c,d,this.$1.getNumber("low_buffer_bandwidth_target_threshold",10),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor",0),e?e.length:null,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1),this.$1.getNumber("download_time_buffer_delta_penalty_factor",0));h>this.$1.getNumber("abr_confidence_threshold",.7)&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};a.prototype.$17=function(a,c,d){for(var e=a.length-1;e>=0;e--){var f=b("oz-player/strategies/OzPlaybackConfidenceUtils").getEstimatedDownloadTimeBufferDeltaMs(a[e],c,d,b("oz-player/networks/OzBandwidthEstimator").getEstimatedTimeToFirstByteMs(this.$1)||0);if(f!=null&&f+this.$1.getNumber("minimum_download_additional_buffer_ms",0)<0)return a[e]}return null};a.prototype.$19=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold",0);return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};a.prototype.getStreamSegmentsCountStrategy=function(){return this.$14};a.prototype.getLastEvaluationReason=function(){return this.$12};e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime,i=6,j=1e3;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$OzBufferAheadPriorityStrategy3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzBufferAheadPriorityStrategy4=function(){this.emit("state_changed")}.bind(this),this.$OzBufferAheadPriorityStrategy1=a,this.$OzBufferAheadPriorityStrategy3.addSubscriptions(this.$OzBufferAheadPriorityStrategy1.addEventListener("progress",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy4,j)),this.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy4,j)))}a.prototype.getName=function(){return"buffer_ahead"};a.prototype.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",b("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy4,j)))};a.prototype.isActive=function(){return!0};a.prototype.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=h(b,a);return b>=i?0:1};a.prototype.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a){this.$1=a}a.prototype.isActive=function(){return!0};a.prototype.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target",10)};e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b}a.prototype.isActive=function(a){return this.$2.getBool("only_bound_stream_segment_counts_when_paused",!1)?!a.isPlaying():!0};a.prototype.getSegmentsCount=function(a,b,c){__p&&__p();a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=0,this.$2=a}a.prototype.computeBufferTarget=function(){__p&&__p();for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.isActive()){d=d.getBufferTarget();this.$1=d;return d}}return this.$1};e.exports=a}),null);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$3=a}a.prototype.isEnabled=function(a,b){return(!this.$3.getBool("live_catch_up_only_when_paused",!1)||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};a.prototype.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$3.getNumber("live_catch_up_fall_behind_threshold",20)?b-this.$3.getNumber("live_catch_up_live_head_delta",6):null};e.exports=a}),null);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){this.$1=a,this.$2=b}a.prototype.isActive=function(){return!this.$1.isPlaying()};a.prototype.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count",0)};e.exports=a}),null);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=1;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$OzPlayheadAtInterruptionDetector2=null,this.$OzPlayheadAtInterruptionDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzPlayheadAtInterruptionDetector1=a,this.$OzPlayheadAtInterruptionDetector3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$OzPlayheadAtInterruptionDetector1,"waiting",this.$OzPlayheadAtInterruptionDetector4.bind(this)))}a.prototype.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector4()};a.prototype.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};a.prototype.$OzPlayheadAtInterruptionDetector4=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};a.prototype.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release()};e.exports=a}),null);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$OzPlayingStatePriorityStrategy1=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzPlayingStatePriorityStrategy3=function(){this.emit("state_changed")}.bind(this),this.$OzPlayingStatePriorityStrategy2=a,this.$OzPlayingStatePriorityStrategy1.addSubscriptions(this.$OzPlayingStatePriorityStrategy2.addEventListener("playing",this.$OzPlayingStatePriorityStrategy3),this.$OzPlayingStatePriorityStrategy2.addEventListener("play",this.$OzPlayingStatePriorityStrategy3),this.$OzPlayingStatePriorityStrategy2.addEventListener("pause",this.$OzPlayingStatePriorityStrategy3))}a.prototype.isActive=function(){return!0};a.prototype.getName=function(){return"playing_state"};a.prototype.setSourceBufferState=function(a){};a.prototype.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};a.prototype.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};e.exports=a}),null);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a){g.constructor.call(this);this.$OzPriorityCalculator2=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$OzPriorityCalculator1=a;(a=this.$OzPriorityCalculator2).addSubscriptions.apply(a,this.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){this.emit("state_changed",this.compute(),a.getName())}.bind(this))}.bind(this)))}a.prototype.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};a.prototype.compute=function(){return this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0)};a.prototype.destroy=function(){this.$OzPriorityCalculator2.release()};e.exports=a}),null);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$3=b}a.prototype.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};a.prototype.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target",10)};e.exports=a}),null);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a){this.$1=a}a.prototype.isActive=function(){return!0};a.prototype.getSegmentsCount=function(a,b,c){return this.$1.getNumber("segments_to_stream",5)};e.exports=a}),null);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;function a(a){this.$1=a}a.prototype.computeMin=function(a,b,c){__p&&__p();var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};e.exports=a}),null);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c){g.constructor.call(this),this.$OzEndOfStreamWatcher1=new Map(),this.$OzEndOfStreamWatcher2=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzEndOfStreamWatcher3=a,this.$OzEndOfStreamWatcher4=c}a.prototype.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&b("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};a.prototype.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher5()};a.prototype.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||b("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};a.prototype.$OzEndOfStreamWatcher5=function(){var a=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update",!1)||a.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher4.getBool("fix_end_of_stream_during_update",!1)?this.$OzEndOfStreamWatcher3.notifyEndOfStream():a.endOfStream(),this.emit("streamEnd"))};a.prototype.$OzEndOfStreamWatcher6=function(){__p&&__p();if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};a.prototype.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};e.exports=a}),null);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){this.$4=null,this.$5=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$1=a,this.$2=c,this.$3=d,this.$6=e,f.then(function(a){this.$4=a}.bind(this)),this.$5.addSubscriptions(e.addListener("switchRepresentation",this.$7.bind(this)))}a.prototype.cleanup=function(){this.$5.release(),this.$5.engage()};a.prototype.$7=function(a,b){__p&&__p();if(!this.$1.getBool("clear_buffer_on_user_quality_upgrade",!1)||a!=="user")return;a=this.$6.getRepresentationIDAtTime(this.$2.getCurrentTime());var c;if(this.$4){for(var d=0;d<this.$3.length;d++)this.$3[d].getID()===a&&(c=this.$3[d]);if(c&&b&&c.getBandwidth()<b.getBandwidth()){a=c.getSegmentByTime(this.$2.getCurrentTime());a&&(this.$4&&this.$4.clearRange(this.$2.getCurrentTime(),this.$2.getDuration()))}}};e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/utils/ozConcatArrayBuffer","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("oz-player/networks/OzTransformStream"));g=c&&c.prototype;function a(a){g.constructor.call(this),this.$OzReadableStreamDataReader1=new ArrayBuffer(0),this.$OzReadableStreamDataReader2=a}a.prototype.onDataWritten=function(a){this.$OzReadableStreamDataReader1=b("oz-player/utils/ozConcatArrayBuffer")(this.$OzReadableStreamDataReader1,a.buffer)};a.prototype.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};e.exports=a}),null);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozPerformanceNow","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,h=b("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes;function a(a,c){this.$3=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$1=this.$2=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),this.$6=this.$3.getPromise(),this.$7=b("oz-player/shims/ozPerformanceNow")(),this.$8=c,this.$9=a}a.prototype.run=function(){var a=this.$8;if(a){var c=b("oz-player/shims/ozPerformanceNow")()-this.$7;g(this.$6,a,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(c))})}this.$2.resolve();return this.$6};a.prototype.cancel=function(){this.$3.reject(new(b("oz-player/utils/OzError"))({type:"OZ_STREAMING_TASK",description:"task cancelled"})),this.$5=!0};a.prototype.finish=function(){this.$3.resolve()};a.prototype.isCancelled=function(){return this.$5};a.prototype.addStream=function(a,c,d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));this.$10({pausableStream:a,deferred:e,loggerProviderWithStreamContext:c,loggingPayloads:d});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return e.getPromise()}}};a.prototype.$10=function(a){__p&&__p();var c=a.pausableStream,d=a.deferred,e=a.loggerProviderWithStreamContext,f=a.loggingPayloads;a=this.$1.getPromise();var i=b("oz-player/shims/ozPerformanceNow")(),j=this.$1=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));a.then(function(){this.$4=c;var a=this.$11(c.startStream());e&&g(a,e,"fetch_stream",function(){},function(a){f&&h(a,f.getRequestUrl(),f.isPrefetch(),f.segments,i)});return a}.bind(this)).then(function(a){this.$4=null,j.resolve(),d.resolve(a)}.bind(this))["catch"](function(a){this.$4=null,this.$3.reject(a),this.$9.getBool("throw_network_error",!1)&&d.reject(a)}.bind(this))};a.prototype.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/shims/OzSubscriptionsHandler","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){this.$3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$4=0,this.$9=!1,this.$5=a,this.$1=c,this.$6=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5),this.$7=d,this.$8=e,this.$8.getBool("real_time_priority_update",!1)&&this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){this.$10(a,b),this.$2&&this.$6.updatePriority(this.$2,this.$4)}.bind(this)))}a.prototype.startStream=function(a){__p&&__p();var c=a.streamableSegments,d=a.networkManager;a=a.segmentsLoggerProvider;var e=this.$2;this.$10(this.$1.compute(),"start_stream");!e||e.isCancelled()?(e=this.$2=new(b("oz-player/networks/OzStreamingTask"))(this.$8,this.$7),this.$6.enqueue(e,this.$4)):this.$6.updatePriority(e,this.$4);d=d.createPausableStream(c);c=d.pausableRangeStream;d=d.loggingPayloads;this.$9=!0;var f=e.addStream(c,a,d);e={getStream:function(){return f.getStream()},cancel:function(){f.cancel()},getStatusChangePromise:function(){return f.getStatusChangePromise().then(function(a){this.$11();return a}.bind(this))["catch"](function(a){this.$11();return b("Promise").reject(a)}.bind(this))}.bind(this)};return e};a.prototype.finishTaskIfNoOngoingStream=function(){this.$9||this.$12()};a.prototype.destroy=function(){this.$3.release()};a.prototype.$11=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<b("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$12()};a.prototype.$12=function(){this.$2&&(this.$2.finish(),this.$2=null)};a.prototype.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};e.exports=a}),null);
__d("TaggedTimeRanges",["sprintf"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}a.prototype.add=function(a,b,c){"use strict";__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({start:a,end:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].start&&b===this.$1[f].end){d=f;e=f+1;break}a>=this.$1[f].start&&(d=f+1);b<=this.$1[f].end&&(e=f);if(b<this.$1[f].start)break}this.$1.splice(d,e-d,{start:a,end:b,tag:c});this.$5(d)};a.prototype.$5=function(a){"use strict";var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.end>=b.start&&(this.$1.splice(a-1,2,{start:c.start,end:Math.max(b.end,c.end),tag:b.tag}),a--):(c.end>b.start&&c.start===b.start?(this.$1.splice(a-1,1),a--):c.end>b.start&&this.$1.splice(a-1,1,{start:c.start,end:b.start,tag:c.tag}),c.end>b.end&&this.$1.splice(a+1,0,{start:b.end,end:c.end,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.start<=b.end&&this.$1.splice(a,2,{start:b.start,end:Math.max(c.end,b.end),tag:b.tag}):c.start<=b.end&&(c.end<b.end?(this.$1.splice(a,1,{start:b.start,end:c.start,tag:b.tag}),this.$1.push({start:c.end,end:b.end,tag:b.tag})):this.$1.splice(a+1,1,{start:b.end,end:c.end,tag:c.tag})))};a.prototype.get=function(a){"use strict";__p&&__p();var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].start<=a&&a<this.$1[b].end){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};a.prototype.getLength=function(){"use strict";return this.$1.length};e.exports=a}),null);
__d("oz-player/shims/OzTaggedTimeRanges",["TaggedTimeRanges"],(function(a,b,c,d,e,f){"use strict";function a(a){this.$1=new(b("TaggedTimeRanges"))(a)}a.prototype.add=function(a,b,c){this.$1.add(a,b,{id:c.id})};a.prototype.get=function(a){return this.$1.get(a)};e.exports=a}),null);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getStreamingSegments:function(a,b,c,d,e){__p&&__p();var f=a.getNumber("segments_to_stream_under_playhead_threshold",0);a=a.getNumber("low_segment_stream_playhead_threshold",0);f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}};e.exports=a}),null);
__d("oz-player/streams/OzMediaStreamLoopDriver",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();this.$2=null,this.$3=!1,this.$4=function(){__p&&__p();this.$5();if(this.$3)return;var a=this.$1.execute(),b=this.$1.getLoopInterval();b&&(this.$2=setTimeout(function(){this.$4()}.bind(this),b));a&&a.then(this.$4)["catch"](function(a){this.$5();a=this.$1.handleError(a);a?this.$2=setTimeout(this.$4,a):this.$3=!0}.bind(this))}.bind(this),this.$1=a}a.prototype.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$4()};a.prototype.stop=function(){this.$5(),this.$3=!0};a.prototype.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};e.exports=a}),null);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";a={getRangeForTime:function(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}};e.exports=a}),null);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzRangeUtils").getRangeForTime;a={getSegment:function(a,c,d,e,f,h,i,j){__p&&__p();var k=c.getCurrentTime();k=e?g(k,e.getBufferedRanges()):null;e=h?h.getTimeRange().endTime:0;if(i.getBool("use_stream_end_time_in_segment_locator",!1)&&k&&k.endTime===j)return null;h=c.getCurrentTime()||0;e?h=e:k&&(h=k.endTime);j=h-c.getCurrentTime();if(i.getBool("compute_buffer_ahead_with_timeline_gaps",!1)){e=f.getTimeRanges();j=new(b("oz-player/utils/OzNumericalRangeUtil"))().findDiffCoveredByRanges(c.getCurrentTime(),h,e.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}))}if(j>d)return null;k=a.getSegment(0);i.getNumber("auto_seek_playhead_slack",0)===0&&k&&k.getTimeRange().startTime>h&&(h=k.getTimeRange().startTime);f=a.getSegmentByTime(h);return f}};e.exports=a}),null);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}e.exports={getMimeType:a}}),null);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzNetworkManager","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/OzStreamingTaskStateManager","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzTaggedTimeRanges","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/utils/OzMimeUtil").getMimeType,i=b("oz-player/utils/OzRangeUtils").getRangeForTime,j=1e3,k=.2;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c,d,e,f,i,j,k,l,m,n,o,p,q){g.constructor.call(this),this.$OzMediaStream9=null,this.$OzMediaStream11=!1,this.$OzMediaStream12=null,this.$OzMediaStream13=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzMediaStream15=[],this.$OzMediaStream19=0,this.$OzMediaStream26=!0,this.$OzMediaStream28=!1,this.$OzMediaStream29=null,this.$OzMediaStream30=new(b("oz-player/utils/OzErrorEmitter"))(),this.$OzMediaStream1=a,this.$OzMediaStream2=c,this.$OzMediaStream2.then(function(a){this.$OzMediaStream3=a,this.$OzMediaStream12&&this.$OzMediaStream12.setSourceBuffer(a),this.$OzMediaStream24.setSourceBufferState(a.getSourceBufferState()),this.$OzMediaStream32()}.bind(this)),this.$OzMediaStream17=d,this.$OzMediaStream8=e,this.$OzMediaStream4=f,this.$OzMediaStream10=i,this.$OzMediaStream10.registerMediaStream(this),this.$OzMediaStream23=j,this.$OzMediaStream24=k,this.$OzMediaStream25=l,this.$OzMediaStream12=m,this.$OzMediaStream14=p.cloneContext(),this.$OzMediaStream22=new(b("oz-player/shims/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id}),this.$OzMediaStream13.addSubscriptions(this.$OzMediaStream4.addEventListener("seeking",function(){this.$OzMediaStream1.getBool("fix_seek_performance",!1)?this.$OzMediaStream33():((!this.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!this.$OzMediaStream34())&&(this.$OzMediaStream6=null),this.$OzMediaStream28=!1,this.$OzMediaStream21&&this.$OzMediaStream21.resolve())}.bind(this))),this.$OzMediaStream18=h(o.getMimeCodecs()),this.$OzMediaStream27=new(b("oz-player/networks/OzStreamingTaskStateManager"))(this.$OzMediaStream18,this.$OzMediaStream24,this.$OzMediaStream14,this.$OzMediaStream1),this.$OzMediaStream20=new(b("oz-player/streams/OzMediaStreamLoopDriver"))(this),n===o.getID()?this.$OzMediaStream5=o:this.$OzMediaStream35(o)}a.prototype.start=function(){this.$OzMediaStream20.start()};a.prototype.getCurrentRepresentation=function(){return this.$OzMediaStream5};a.prototype.switchRepresentation=function(a){this.$OzMediaStream35(a,"user")};a.prototype.onError=function(a){return this.$OzMediaStream30.onError(a)};a.prototype.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream31=a)};a.prototype.$OzMediaStream35=function(a,c){c===void 0&&(c="internal");this.$OzMediaStream1.getBool("clear_buffer_on_user_quality_upgrade",!1)&&(this.$OzMediaStream6=null);var d=this.$OzMediaStream14.cloneContext().setType(this.$OzMediaStream18+";init"),e=this.$OzMediaStream8.request([a.getInitSegment()],d),f=d.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream5?this.$OzMediaStream5.getID():null).setRepresentationID(a.getID()).setReason(this.$OzMediaStream12&&this.$OzMediaStream12.getLastEvaluationReason()).start();this.$OzMediaStream5=a;this.emit("switchRepresentation",c,a);this.$OzMediaStream36(e.getStream(),function(){f.log(),this.emit("initAppended"),this.$OzMediaStream10.notifyRepresentationSwitched(this)}.bind(this),function(a){f.setError(a).log(),this.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&a instanceof b("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&this.$OzMediaStream30.emitError(a)}.bind(this),d.cloneContext(),0)};a.prototype.getLoopInterval=function(){return this.$OzMediaStream19};a.prototype.execute=function(){var a=this.$OzMediaStream21=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise")),c=this.$OzMediaStream37();c.then(function(){return a.resolve()})["catch"](function(b){return a.reject(b)});return a.getPromise()};a.prototype.$OzMediaStream38=function(a){if(this.$OzMediaStream12&&this.$OzMediaStream26&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request",!1)||this.$OzMediaStream11||this.$OzMediaStream17>0)){a=this.$OzMediaStream12.getBestRepresentation(a);if(this.$OzMediaStream5!==a)return a}return null};a.prototype.$OzMediaStream37=function(){__p&&__p();var a=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null,c=this.$OzMediaStream17>0?this.$OzMediaStream5.getSegment(this.$OzMediaStream17-1):null,d;!this.$OzMediaStream11&&this.$OzMediaStream17===0&&(d=this.$OzMediaStream5.getCustomFieldFirstSegment());d||(d=b("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream5,this.$OzMediaStream4,this.$OzMediaStream23.computeBufferTarget(),a,this.$OzMediaStream5,this.$OzMediaStream6||c,this.$OzMediaStream1,this.$OzMediaStream29));c=this.$OzMediaStream28&&this.$OzMediaStream1.getBool("block_stream_on_ongoing_stream",!1);if(!d||c){this.$OzMediaStream19=j;this.$OzMediaStream28||this.$OzMediaStream27.finishTaskIfNoOngoingStream();return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){var c=this.getCurrentRepresentation().addUpdateListener(function(){a(),this.$OzMediaStream16=null,c.remove()}.bind(this));this.$OzMediaStream16=c}.bind(this))}this.$OzMediaStream19=0;var e=[];c=!1;if(!this.$OzMediaStream11&&this.$OzMediaStream17===0)e=[d],c=!0;else{var f=this.$OzMediaStream25.computeMin(this.$OzMediaStream4,d,this.$OzMediaStream5);f=b("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream1,f,this.$OzMediaStream5,this.$OzMediaStream4,d);e=b("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f)}f=this.$OzMediaStream38(e);if(f){this.$OzMediaStream35(f);return b("oz-player/shims/OzMaybeNativePromise").resolve()}this.$OzMediaStream11=!0;var g=e[e.length-1]||null;this.$OzMediaStream1.getBool("updates_stream_anchor_when_promise_resolved",!1)||(this.$OzMediaStream6=g);g&&(this.$OzMediaStream17=0);var h=!1;g&&(h=this.$OzMediaStream5.isEndingSegment(g));b("oz-player/shims/ozvariant")(e.length!==0,"There must be one or more segment");f=e[0];var i=f.getTimeRange().startTime,k=g.getTimeRange().endTime,l=this.$OzMediaStream14.cloneContext();l.setRepresentationID(this.$OzMediaStream5.getID()).setSegmentStartTime(i).setSegmentEndTime(k);var m=null;c=this.$OzMediaStream1.getBool("scheduler_ignore_prefetch",!1)&&c;var n=this.$OzMediaStream1.getBool("disable_audio_scheduler",!1)&&this.$OzMediaStream18.indexOf("audio")!==-1;if(this.$OzMediaStream1.getBool("use_scheduler",!1)&&!n&&!c)if(this.$OzMediaStream1.getBool("use_streaming_task_state_manager",!1))n=this.$OzMediaStream27.startStream({streamableSegments:e,networkManager:this.$OzMediaStream8,sourceBufferState:a,playbackState:this.$OzMediaStream4,segmentsLoggerProvider:l});else{c=b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$OzMediaStream18);a=this.$OzMediaStream8.createPausableStream(e,this.$OzMediaStream14);var o=a.pausableRangeStream;a=a.loggingPayloads;m=new(b("oz-player/networks/OzStreamingTask"))(this.$OzMediaStream1,this.$OzMediaStream14);var p=this.$OzMediaStream24.compute();n=m.addStream(o,l,a);c.enqueue(m,p)}else n=this.$OzMediaStream8.request(e,l);this.$OzMediaStream9=n;this.$OzMediaStream28=!0;o=0;a=null;o=this.$OzMediaStream39(f,g,e.length);a={startTime:i,endTime:k,tag:{id:this.$OzMediaStream5.getID()}};var q=l.getOperationLogger("queued_append");q.start().setReason(this.$OzMediaStream12&&this.$OzMediaStream12.getLastEvaluationReason());this.$OzMediaStream36(n.getStream(),function(a){q.setAppendedBufferMs(Math.round(a*1e3)).log(),e.forEach(function(a){this.emit("SegmentAppended",this.$OzMediaStream40(a))}.bind(this)),h&&this.endStream()}.bind(this),function(a){q.setError(a).log(),this.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&a instanceof b("oz-player/utils/OzError")&&a.getType()!=="OZ_NETWORK"&&this.$OzMediaStream30.emitError(a)}.bind(this),l,o,a);return n.getStatusChangePromise().then(function(a){this.$OzMediaStream1.getBool("updates_stream_anchor_when_promise_resolved",!1)&&(this.$OzMediaStream6=g),this.$OzMediaStream28=!1,m&&m.finish()}.bind(this))["catch"](function(a){__p&&__p();this.$OzMediaStream28=!1;if(this.$OzMediaStream1.getBool("throw_network_error",!1)){var c,d;a instanceof b("oz-player/utils/OzError")?(c=a.getExtra().code||"",d=a):(c=a.status.toString(),d=new(b("oz-player/utils/OzError"))({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:c,url:a.url}}));var e=JSON.parse(this.$OzMediaStream1.getString("network_retry_intervals_json","{}")),f=e[c];if(f){m&&m.finish();this.$OzMediaStream27.finishTaskIfNoOngoingStream();return this.$OzMediaStream1.getBool("retry_error_during_stream",!1)&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue().then(function(){return new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){setTimeout(a,f)})}):new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,b){setTimeout(a,f)})}this.$OzMediaStream30.emitError(d)}return a instanceof b("oz-player/utils/OzError")&&a.getType()==="OZ_NETWORK"&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue():b("oz-player/shims/OzMaybeNativePromise").resolve()}.bind(this))};a.prototype.handleError=function(a){return 0};a.prototype.$OzMediaStream36=function(a,b,c,d,e,f){f===void 0&&(f=null),this.$OzMediaStream15.push({stream:a,dataAppendedCallback:b,dataAppendedErrorCallback:c,loggerProvider:d,appendTarget:e,timeRange:f}),this.$OzMediaStream3&&this.$OzMediaStream32()};a.prototype.$OzMediaStream32=function(){this.$OzMediaStream15.forEach(function(a){var c=a.stream,d=a.dataAppendedCallback,e=a.dataAppendedErrorCallback,f=a.loggerProvider,g=a.appendTarget,h=a.timeRange;a=this.$OzMediaStream31==null?c:c.pipeThrough(new(b("oz-player/networks/OzReadableStreamDataReader"))(this.$OzMediaStream31.bind(this,this.$OzMediaStream5)));this.$OzMediaStream3&&this.$OzMediaStream3.queueData(a,f,g).then(function(a){d(a),h&&this.$OzMediaStream22.add(h.startTime,h.endTime,h.tag)}.bind(this))["catch"](function(a){e(a)})}.bind(this)),this.$OzMediaStream15=[]};a.prototype.$OzMediaStream39=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment",0);if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range",0));return d};a.prototype.enableAdaptation=function(){this.$OzMediaStream26=!0};a.prototype.disableAdaptation=function(){this.$OzMediaStream26=!1};a.prototype.cleanup=function(){this.$OzMediaStream2.then(function(a){a.destroy()}),this.$OzMediaStream27.destroy(),this.$OzMediaStream13.release(),this.$OzMediaStream13.engage(),this.$OzMediaStream16&&this.$OzMediaStream16.remove(),this.$OzMediaStream20.stop()};a.prototype.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream22.get(a);if(!b&&this.$OzMediaStream1.getBool("fix_tagged_range_at_end_of_stream",!1)){var c=this.$OzMediaStream5.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream4.getDuration()+d&&(b=this.$OzMediaStream22.get(c.endTime-d))}return b?b.id:null};a.prototype.endStream=function(){this.$OzMediaStream10.notifyMediaStreamEnded(this),this.$OzMediaStream41()};a.prototype.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream5.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream3){var b=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<k&&this.endStream())}}};a.prototype.$OzMediaStream40=function(a){return{type:this.$OzMediaStream18.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream3?this.$OzMediaStream3.getDebug().SourceBuffer:null}};a.prototype.$OzMediaStream33=function(){(!this.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!this.$OzMediaStream34())&&(this.$OzMediaStream6=null),this.$OzMediaStream28=!1,this.$OzMediaStream9&&this.$OzMediaStream9.cancel(),this.$OzMediaStream19!==0&&this.$OzMediaStream21&&this.$OzMediaStream21.resolve()};a.prototype.$OzMediaStream34=function(){var a=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null;a=a?i(this.$OzMediaStream4.getCurrentTime(),a.getBufferedRanges()):null;return this.$OzMediaStream6&&a?a.endTime>this.$OzMediaStream6.getTimeRange().startTime:!1};a.prototype.$OzMediaStream41=function(){if(this.$OzMediaStream3){var a=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream29=a[a.length-1].endTime)}};a.prototype.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream3,MediaStreamAbrManager:this.$OzMediaStream12}};e.exports=a}),null);
__d("oz-player/utils/getRepresentationInCache",["oz-player/mocks/MockRequestParamCreator"],(function(a,b,c,d,e,f){"use strict";var g=new(b("oz-player/mocks/MockRequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(g.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPlayerDimensions","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider,i=b("oz-player/loggings/OzLoggingUtils").executeOperationAndLog,j=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,k=b("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider,l=b("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c,d,e,f,h,i,j,l,m,n,o,p,q,r,s){__p&&__p();f===void 0&&(f=null);h===void 0&&(h={perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1});i===void 0&&(i=null);j===void 0&&(j=[]);l===void 0&&(l=new Map());m===void 0&&(m="");n===void 0&&(n=[]);o===void 0&&(o={});p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);g.constructor.call(this);this.$Player3=new Map();this.$Player4=new Map();this.$Player9=new(b("oz-player/shims/OzSubscriptionsHandler"))();this.$Player10=new(b("oz-player/utils/OzErrorEmitter"))();this.$Player24=[];this.$Player30=null;this.$Player31=null;this.$Player35=function(a){};var t=h,u=t.perfLoggerProviders;t=t.observedOperationLoggers;h=h;h=h.isOzDevConsoleEnabled;this.$Player15=h||!1;this.$Player14=new k(this.$Player39().concat(u));this.$Player2=c;this.$Player40();this.$Player21=new(b("oz-player/loggings/OzOperationLoggerObserver"))();this.$Player21.observe(t,this.$Player14);this.$Player23=i;h=i&&i.getCachedRepresentations(m);this.$Player24=h||j;this.$Player26=l;this.$Player29=n;this.$Player27=o;this.$Player33=p;this.$Player34=q;r&&(this.$Player35=r);this.$Player37=0;this.$Player38=s;a instanceof HTMLVideoElement?(this.$Player1=a,this.$Player5=new(b("oz-player/media_source/MediaSourceManager"))(this.$Player1,this.$Player2,this.$Player14)):(this.$Player1=a.getVideoNode(),this.$Player5=a.getMediaSourceManager(),this.$Player6=a);this.$Player11=new(b("oz-player/networks/OzNetworkManager"))(this.$Player2,this.$Player23);this.$Player16=f;this.$Player7=d;this.$Player12=new(b("oz-player/states/OzObservedPlaybackState"))(this.$Player1,this.$Player14);this.$Player28=new(b("oz-player/states/OzPlayerDimensions"))(e);this.$Player13=new(b("oz-player/streams/OzEndOfStreamWatcher"))(this.$Player5,this.$Player2);this.$Player9.addSubscriptions(this.$Player13.addListener("streamEnd",this.emit.bind(this,"streamEnd")));this.$Player22=new(b("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player5,this.$Player2);this.$Player25=this.$Player41()}a.prototype.setupPlayer=function(){__p&&__p();try{this.$Player8=i(this.$Player14,"parse_manifest",this.$Player42.bind(this,this.$Player7));if(this.$Player16!==null&&this.$Player16!==void 0){var a=new(b("oz-player/parsers/OzMpdUpdater"))(this.$Player2,this.$Player8,this.$Player11,this.$Player12,this.$Player14);this.$Player43(a);this.$Player9.addSubscriptions(a.onError(this.$Player10.emitError),a.addListener("streamGone",this.$Player44.bind(this)),a.addListener("streamTransitionToStatic",this.$Player45.bind(this)));a.setupUpdateLoop();this.$Player20=a}this.$Player37=this.$Player8.isStaticMpd()?this.$Player37:this.$Player38;this.$Player17=new(b("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player1,mpd:this.$Player8,playheadCatchup:this.$Player32,playbackState:this.$Player12,config:this.$Player2,perfLoggerProvider:this.$Player14,seekHandler:this.$Player34,initialPlaybackPosition:this.$Player37});this.$Player18=new(b("oz-player/playback_controls/OzPlayheadNudger"))(this.$Player2,this.$Player1);this.$Player19=new(b("oz-player/playback_controls/OzPlaybackTimeRangeManager"))(this.$Player2,this.$Player1,this.$Player8);this.setupStreamsAndFireDebugEvent()}catch(a){if(a instanceof b("oz-player/utils/OzError"))this.$Player10.emitError(a);else throw a}};a.prototype.updatePlayerRunTimeConfig=function(a){a=a.videoStreamDataHandler;if(a!==void 0){var b=this.$Player3.get("video");b&&b.updateRunTimeConfigs({videoStreamDataHandler:a})}};a.prototype.$Player46=function(a,b){var c=a.getMimeCodecs(),d,e=0,f=null,g=this.$Player6;g&&(d=g.getSourceBufferManagerPromise(c),e=g.getPrependedSegmentsCount(c),this.$Player2.getBool("fix_quick_starter_overhead",!1)&&(f=g.getRepresentationId(c)));d||(d=this.$Player5.createSourceBufferManager(c,this.$Player2.getBool("set_source_buffer_append_window_end",!1)));this.$Player47(d,b,f,a,e);return j(d,this.$Player14,"source_attach",function(a){a.setType(b)}).then(function(a){return this.$Player17.observeSourceBufferState(a.getSourceBufferState(),b)}.bind(this))};a.prototype.$Player48=function(a){a=[this.$Player2,a,this.$Player8.getVideoRepresentations(),this.$Player29,this.$Player12,this.$Player28,window.devicePixelRatio||1];return this.$Player33?this.$Player33.apply(this,a):new(Function.prototype.bind.apply(b("oz-player/strategies/OzAbrManager"),[null].concat(a)))()};a.prototype.$Player47=function(a,c,d,e,f){var g=this.$Player4.get(c),h=new(b("oz-player/streams/OzMediaStream"))(this.$Player2,a,f,this.$Player11,this.$Player12,this.$Player13,this.$Player25,this.$Player49(),this.$Player50(g),g,d,e,this.$Player14.cloneContext().setType(c));this.$Player37===0?h.start():this.$Player9.addSubscriptions(this.$Player17.addListener("initialPlaybackPositionSet",function(){this.$Player12.forceUpdateCurrentTime(),h.start()}.bind(this)));this.$Player9.addSubscriptions(h.onError(this.$Player10.emitError),this.$Player22.listenToMediaStreamInitAppended(h));c==="video"&&(this.$Player31=new(b("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player2,this.$Player12,l(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations()),h,a));this.$Player3.set(c,h);this.$Player9.addSubscriptions(h.addListener("switchRepresentation",function(){c==="video"&&this.emit("switchVideoRepresentation")}.bind(this)),h.addListener("SegmentAppended",function(a){this.$Player51("SegmentAppended",a)}.bind(this)))};a.prototype.$Player41=function(){return new(b("oz-player/strategies/OzBufferTargetCalculator"))([new(b("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player12,this.$Player2),new(b("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player2)])};a.prototype.$Player43=function(a){if(this.$Player2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0){var c=new(b("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player1);this.$Player9.addSubscriptions(c.addListener("playheadAtInterruption",function(a){return this.emit("streamInterruptAt",a)}.bind(this)),a.addListener("streamInterruptAt",function(a){return c.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){c.notifyStreamResumed(),this.emit("streamResumedAt",a)}.bind(this)));this.$Player30=c}};a.prototype.$Player49=function(){var a=[];this.$Player2.getBool("scheduler_with_priority_update",!1)&&(a=[new(b("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player12),new(b("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player12)]);return new(b("oz-player/strategies/OzPriorityCalculator"))(a)};a.prototype.$Player50=function(a){var c=[new(b("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player2)];this.$Player2.getBool("buffer_target_bounded_stream_count",!1)&&c.push(new(b("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player25,this.$Player2));this.$Player2.getNumber("paused_stream_segments_count",0)!==0&&c.push(new(b("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player12,this.$Player2));if(a){a=a.getStreamSegmentsCountStrategy();a&&c.push(a)}return new(b("oz-player/strategies/OzStreamSegmentsCountCalculator"))(c)};a.prototype.onError=function(a){return this.$Player10.onError(a)};a.prototype.getCurrentQuality=function(){var a=this.$Player3.get("video");a=a&&a.getCurrentRepresentation();return a instanceof b("oz-player/manifests/OzVideoRepresentation")?a.getQualityLabel():this.$Player8.getVideoRepresentations()[0].getQualityLabel()};a.prototype.switchToVideoQuality=function(a){var b=this.$Player8.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player3.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};a.prototype.enableVideoQualityAdaptation=function(){var a=this.$Player3.get("video");a&&a.enableAdaptation()};a.prototype.getVideoQualities=function(){return this.$Player8.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};a.prototype.setupStreamsAndFireDebugEvent=function(){var a=[this.setupVideoStream(),this.setupAudioStreamIfExist()],c=[];return b("Promise").all(a).then(function(){var a=this.$Player3.get("video"),b=this.$Player3.get("audio");a&&c.push(a.getCurrentRepresentation());b&&c.push(b.getCurrentRepresentation());c.forEach(function(a){this.$Player9.addSubscriptions(a.addUpdateListener(function(){this.$Player51("SegmentIndexesUpdated",c)}.bind(this)))}.bind(this));this.$Player51("InitialSegmentIndexes",c)}.bind(this))};a.prototype.setupVideoStream=function(){__p&&__p();var a=l(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations());if(!a.length)return b("oz-player/shims/OzMaybeNativePromise").reject(new Error("no representation available."));this.$Player22.setTimeRangeProvider(a[0]);this.$Player17.setTimeRangeProvider(a[0]);this.$Player19!=null&&this.$Player19.setTimeRangeProvider(a[0]);var c=this.$Player52("video",a);if(this.$Player2.getBool("enable_adaptation",!1)){var d=this.$Player48(c||a[0]);this.$Player4.set("video",d);this.$Player2.getBool("use_abr_for_missing_default_representation",!1)&&!c&&(c=d.getBestRepresentation())}return this.$Player46(c||a[0],"video")};a.prototype.setupAudioStreamIfExist=function(){var a=this.$Player8.getAudioRepresentations();return a.length?this.$Player46(this.$Player52("audio",a)||a[0],"audio"):b("oz-player/shims/OzMaybeNativePromise").resolve()};a.prototype.getMpd=function(){return this.$Player8};a.prototype.destroy=function(){__p&&__p();var a=this.$Player14.getOperationLogger("unload").start();this.$Player3.forEach(function(a){a.cleanup()});this.$Player31&&this.$Player31.cleanup();this.$Player3=new Map();this.$Player9.release();this.$Player9.engage();this.$Player12.destroy();this.$Player17.destroy();this.$Player18&&(this.$Player18.destroy(),this.$Player18=null);this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);this.$Player20&&this.$Player20.destroy();this.$Player30&&this.$Player30.destroy();this.$Player21.destroy();this.$Player22.destroy();a.log();this.emit("destroyed")};a.prototype.$Player52=function(a,c){__p&&__p();var d;d=c.find(function(a){return this.$Player24.indexOf(a.getID())!==-1}.bind(this));if(!d&&this.$Player6&&this.$Player2.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player6.getRepresentationId(a);e!==null&&e!==void 0&&(d=c.find(function(a){return a.getID()===e}))}d||(d=b("oz-player/utils/getRepresentationInCache")(c,this.$Player23));return d||null};a.prototype.$Player42=function(a){var c=new(b("oz-player/parsers/OzMpdParser"))(this.$Player2,{mpdUrl:this.$Player16,customParsers:this.$Player26,customRepresentationParsers:this.$Player27},this.$Player11,this.$Player14);this.$Player9.addSubscriptions(c.onError(this.$Player10.emitError));return c.parse(a)};a.prototype.$Player39=function(){var a=[];this.$Player15&&a.push(new h());return a};a.prototype.setDimensions=function(a){this.$Player28.setDimensions(a)};a.prototype.$Player53=function(a,b){b=this.$Player3.get(b);return b?b.getRepresentationIDAtTime(a):null};a.prototype.getAudioRepresentationIDAtTime=function(a){return this.$Player53(a,"audio")};a.prototype.getVideoRepresentationIDAtTime=function(a){return this.$Player53(a,"video")};a.prototype.$Player44=function(){this.$Player35!=null&&this.$Player35(Array.from(this.$Player3.values()))};a.prototype.$Player45=function(){this.$Player2.getBool("end_buffered_streams_on_transition_to_static",!1)&&this.$Player3.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};a.prototype.getDebug=function(){var a=this.$Player3.get("video"),b=this.$Player3.get("audio"),c,d,e,f,g;a&&(c=a.getDebug().MediaStreamAbrManager,d=a.getDebug().SourceBufferManager,d&&(e=d.getDebug().SourceBuffer));b&&(f=b.getDebug().SourceBufferManager,f&&(g=f.getDebug().SourceBuffer));return{getManifest:function(){return this.$Player8}.bind(this),indentifiersIntact:!0,VideoSourceStream:a,VideoAbrManager:c,VideoBufferManager:d,VideoSourceBuffer:e,AudioSourceStream:b,AudioBufferManager:f,AudioSourceBuffer:g}};a.prototype.$Player51=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};a.prototype.$Player40=function(){this.$Player2.getBool("live_playhead_catch_up",!1)&&(this.$Player32=new(b("oz-player/strategies/OzLiveheadDeltaCatchupStrategy"))(this.$Player2))};e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD,h=b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD,i=b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer;function j(a,b){this.$1=a,this.$2=b}j.prototype.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new k(this.$1);a=this.$2 instanceof l?this.$1.getNumber("in_play_buffer_overflow_target",g):this.$1.getNumber("start_buffer_underflow_target",g);return i(b,a,c,this.$1)?new l(this.$1):this};function k(a){this.$1=a}k.prototype.handleEvent=function(a,b,c){if(a.type==="play"||a.type==="playing"||!b.paused){a=this.$1.getNumber("start_buffer_underflow_target",h);return i(b,a,c,this.$1)?new l(this.$1):new j(this.$1,this)}return this};function l(a){this.$1=a}l.prototype.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new k(this.$1);a=this.$1.getNumber("in_play_buffer_underflow_target",h);return!i(b,a,c,this.$1)?new j(this.$1,this):this};e.exports={OzVideoBufferingState:j,OzVideoPausedState:k,OzVideoPlayingState:l}}),null);
__d("oz-player/shims/OzEvent",["Event"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Event")}),null);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzEvent","oz-player/shims/OzEventListener"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$2=new Map(),this.$1=a}a.prototype.capture=function(a,c){var d=this.$1.parentNode;return!d?{remove:function(){}}:b("oz-player/shims/OzEventListener").capture(d,a,function(a){if(a.target!==this.$1)return;var b=c(a);b&&this.$3(a)}.bind(this))};a.prototype.dispatchIfSuppressed=function(a){var b=this.$2.get(a);b&&this.$1.dispatchEvent(b);this.$2["delete"](a)};a.prototype.$3=function(a){b("oz-player/shims/OzEvent").kill(a),this.$2.set(a.type,a)};e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer","oz-player/strategies/OzBufferingDetectorStates"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD;var h=b("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD,i=b("oz-player/utils/OzBufferingUtils").hasEnoughBuffer,j=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,k=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState,l=b("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState,m=150;c=babelHelpers.inherits(a,b("oz-player/shims/OzEventEmitter"));g=c&&c.prototype;function a(a,c,d){__p&&__p();g.constructor.call(this),this.$OzBufferingDetector3=new(b("oz-player/shims/OzSubscriptionsHandler"))(),this.$OzBufferingDetector7=function(a){__p&&__p();a=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector6());var b=this.$OzBufferingDetector1;this.$OzBufferingDetector1=a;var c=a instanceof j,d=b instanceof j;if(a===b)return a;if(c){c=b instanceof l?"in_play":"start/unpause";this.emit("enter_buffering",c)}else d&&this.emit("leave_buffering");a instanceof l&&this.$OzBufferingDetector4.dispatchIfSuppressed("playing");return a}.bind(this),this.$OzBufferingDetector8=function(a){a=this.$OzBufferingDetector7(a)instanceof j;return this.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1}.bind(this),this.$OzBufferingDetector2=a,this.$OzBufferingDetector5=c,this.$OzBufferingDetector6=d,this.$OzBufferingDetector2.paused?this.$OzBufferingDetector1=new k(this.$OzBufferingDetector5):this.$OzBufferingDetector1=i(this.$OzBufferingDetector2,this.$OzBufferingDetector5.getNumber("in_play_buffer_underflow_target",h),this.$OzBufferingDetector6(),this.$OzBufferingDetector5)?new l(this.$OzBufferingDetector5):new j(this.$OzBufferingDetector5,null),this.$OzBufferingDetector4=new(b("oz-player/utils/OzDomEventCapturer"))(this.$OzBufferingDetector2),this.$OzBufferingDetector3.addSubscriptions(b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"pause",this.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"play",this.$OzBufferingDetector7),this.$OzBufferingDetector4.capture("playing",this.$OzBufferingDetector8),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"progress",b("oz-player/shims/ozThrottle")(this.$OzBufferingDetector7,m)),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"timeupdate",b("oz-player/shims/ozThrottle")(this.$OzBufferingDetector7,m)),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"seeked",this.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"seeking",this.$OzBufferingDetector7),b("oz-player/shims/OzEventListener").listen(this.$OzBufferingDetector2,"waiting",this.$OzBufferingDetector7))}a.prototype.destroy=function(){this.$OzBufferingDetector3.release()};e.exports=a}),null);
__d("VideoPlayerHTML5Oz",["invariant","Promise","BanzaiODS","Deferred","EventEmitter","EventListener","FBLogger","OzDashPrefetchCache","OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","RepomenAbrManager","SubscriptionsHandler","URI","VideoPlayerConnectionQuality","VideoPlayerOzWWWConfig","VideoPlayerOzWWWGlobalConfig","VideoPlayerPlayLogger","VideoPlayerShakaPerformanceLogger","VideoPlayerVersions","VideoQualityClass","XHRRequest","extractCEA608","getCrossOriginTransport","gkx","oz-player","oz-player/configs/OzGlobalConfig","oz-player/loggings/OzLoggingUtils","oz-player/networks/OzBandwidthEstimator","oz-player/shims/OzURI","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation,j=b("oz-player/utils/OzNetworkRequestLoggingUtils").setPerformanceLoggingAttributes;b("oz-player/configs/OzGlobalConfig").setGlobalConfig(b("VideoPlayerOzWWWGlobalConfig"));var k=720;a=babelHelpers.inherits(l,b("EventEmitter"));h=a&&a.prototype;l.isSupported=function(a){__p&&__p();var c,d=function(a){__p&&__p();if(!a||typeof a!=="string")return!1;var c=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,d;while(d=c.exec(a)){d=d[1]+'; codecs="'+d[2]+'"';if(!window.MediaSource.isTypeSupported(d)){b("FBLogger")("www_video_oz").warn("Unsupported DASH type: %s",d);return!0}}return!1};!a.hasDashManifest()&&!a.getLiveManifestUrl()?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!window.ReadableStream?c="noReadableStream":!window.WritableStream?c="noWritableStream":a.getDashManifest()&&d(a.getDashManifest())&&(c="codecNotSupported");if(c){b("BanzaiODS").bumpEntityKey("VideoPlayerHtml5Oz","fallback."+c);return!1}return!0};l.getEstimatedBandwidth=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))};function l(a,c,d){__p&&__p();var e=d.config,f=d.manifest,g=d.manifestUrl,i=d.videoID,j=d.isLive,k=d.isServableViaFbms,l=d.accessToken,m=d.playerOrigin,n=d.playerSuborigin,o=d.playerInstanceKey,p=d.prefetchCache,q=d.width,r=d.height,s=d.minPlayQuality,t=d.startTimestamp;d=d.seekHandler;h.constructor.call(this);this.$VideoPlayerHTML5Oz5=1;this.$VideoPlayerHTML5Oz6=!1;this.$VideoPlayerHTML5Oz8=null;this.$VideoPlayerHTML5Oz12=new(b("SubscriptionsHandler"))();this.$VideoPlayerHTML5Oz22=!1;this.$VideoPlayerHTML5Oz23=!1;this.$VideoPlayerHTML5Oz24=null;this.$VideoPlayerHTML5Oz25=null;this.$VideoPlayerHTML5Oz26=0;this.$VideoPlayerHTML5Oz27=null;this.$VideoPlayerHTML5Oz28=!1;this.$VideoPlayerHTML5Oz1=a;this.$VideoPlayerHTML5Oz2=f;this.$VideoPlayerHTML5Oz3=new(b("VideoPlayerOzWWWConfig"))(e);this.$VideoPlayerHTML5Oz16=c;this.$VideoPlayerHTML5Oz14=g;this.$VideoPlayerHTML5Oz15=p;this.$VideoPlayerHTML5Oz17=i;this.$VideoPlayerHTML5Oz18=q;this.$VideoPlayerHTML5Oz19=r;this.$VideoPlayerHTML5Oz20=t;this.$VideoPlayerHTML5Oz29=d;this.$VideoPlayerHTML5Oz9=b("VideoPlayerShakaPerformanceLogger").shouldInitialize()?new(b("VideoPlayerShakaPerformanceLogger"))({videoID:i,video:a,representationId:null,isLive:j,isServableViaFbms:k,accessToken:l,playerOrigin:m,playerSuborigin:n,playerVersion:this.getPlayerVersion(),uniqueID:o,getBandwidthEstimate:function(a){return b("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$VideoPlayerHTML5Oz3)}.bind(this)}):null;this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz21=new(b("VideoPlayerPlayLogger"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz9));this.$VideoPlayerHTML5Oz13=s;this.$VideoPlayerHTML5Oz30();(!this.$VideoPlayerHTML5Oz15||typeof this.$VideoPlayerHTML5Oz15.getCachedRepresentations!=="function")&&(this.$VideoPlayerHTML5Oz15=null);!this.$VideoPlayerHTML5Oz15&&this.$VideoPlayerHTML5Oz3.getBool("use_prefetch_cache",!1)&&(this.$VideoPlayerHTML5Oz15=new(b("OzDashPrefetchCache"))());var u=this.$VideoPlayerHTML5Oz3.getBool("fix_live_video_duration_buffering",!1);this.$VideoPlayerHTML5Oz7=new(b("oz-player/strategies/OzBufferingDetector"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,function(){return!u||this.$VideoPlayerHTML5Oz28?this.$VideoPlayerHTML5Oz1.duration:Infinity}.bind(this));this.$VideoPlayerHTML5Oz7.addListener("enter_buffering",this.$VideoPlayerHTML5Oz31.bind(this));this.$VideoPlayerHTML5Oz7.addListener("leave_buffering",this.$VideoPlayerHTML5Oz32.bind(this));this.$VideoPlayerHTML5Oz12.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Oz1,"timeupdate",function(a){this.$VideoPlayerHTML5Oz33(a.target.currentTime)}.bind(this)))}l.prototype.setup=function(){var a=[];this.$VideoPlayerHTML5Oz9&&a.push(this.$VideoPlayerHTML5Oz9);var b=[];this.$VideoPlayerHTML5Oz3.getBool("force_initial_representation",!1)&&(b=this.$VideoPlayerHTML5Oz16);this.$VideoPlayerHTML5Oz2?this.$VideoPlayerHTML5Oz34({manifest:this.$VideoPlayerHTML5Oz2,manifestUrl:this.$VideoPlayerHTML5Oz14,loggerProviders:a,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:b,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19}):(!this.$VideoPlayerHTML5Oz14&&g(0,1106),this.$VideoPlayerHTML5Oz35(this.$VideoPlayerHTML5Oz14,a,b))};l.prototype.$VideoPlayerHTML5Oz35=function(a,c,d){this.$VideoPlayerHTML5Oz36(a).then(function(b){this.$VideoPlayerHTML5Oz34({manifest:b,manifestUrl:a,loggerProviders:c,prefetchCache:this.$VideoPlayerHTML5Oz15,initialRepresentations:d,videoID:this.$VideoPlayerHTML5Oz17,width:this.$VideoPlayerHTML5Oz18,height:this.$VideoPlayerHTML5Oz19})}.bind(this))["catch"](function(e){if(e instanceof b("oz-player/utils/OzError")&&this.$VideoPlayerHTML5Oz26<this.$VideoPlayerHTML5Oz3.getNumber("initial_manifest_request_retry_count",0)){var f=JSON.parse(this.$VideoPlayerHTML5Oz3.getString("network_retry_intervals_json","{}"));f=f[e.getExtra().code];typeof f==="number"&&f>0?(this.$VideoPlayerHTML5Oz26++,b("setTimeout")(function(){this.$VideoPlayerHTML5Oz35(a,c,d)}.bind(this),f)):this.$VideoPlayerHTML5Oz37(e)}else this.$VideoPlayerHTML5Oz37(e)}.bind(this))};l.prototype.$VideoPlayerHTML5Oz36=function(a){var c=new(b("Deferred"))();this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz27=this.$VideoPlayerHTML5Oz9.getOperationLogger("request").setType("manifest").setResource(a).start());new(b("XHRRequest"))(new(b("URI"))(a)).setMethod("GET").setResponseType("text").setTransportBuilder(b("getCrossOriginTransport")).setErrorHandler(function(d){c.reject(d?new(b("oz-player/utils/OzError"))({type:d.errorCode,description:d.errorMsg,extra:{code:d.errorRawTransportStatus,url:a}}):d),this.$VideoPlayerHTML5Oz27&&(this.$VideoPlayerHTML5Oz27.setError(d).log(),this.$VideoPlayerHTML5Oz27=null)}.bind(this)).setResponseHandler(function(b){this.$VideoPlayerHTML5Oz27&&(j(this.$VideoPlayerHTML5Oz27,a),this.$VideoPlayerHTML5Oz27&&this.$VideoPlayerHTML5Oz27.log(),this.$VideoPlayerHTML5Oz27=null),c.resolve(b)}.bind(this)).send();return c.getPromise()};l.prototype.$VideoPlayerHTML5Oz34=function(a){__p&&__p();var c=a.manifest,d=a.manifestUrl,e=a.loggerProviders,f=a.prefetchCache,g=a.initialRepresentations,h=a.videoID,i=a.width;a=a.height;c=this.$VideoPlayerHTML5Oz4=new(b("oz-player"))(this.$VideoPlayerHTML5Oz1,this.$VideoPlayerHTML5Oz3,c,{width:i,height:a},d,{perfLoggerProviders:e,observedOperationLoggers:[],isOzDevConsoleEnabled:b("gkx")("722076")},f,g||[],this.$VideoPlayerHTML5Oz38(),h,this.$VideoPlayerHTML5Oz39(),this.$VideoPlayerHTML5Oz40(),this.$VideoPlayerHTML5Oz41(),this.$VideoPlayerHTML5Oz29,this.$VideoPlayerHTML5Oz42(),this.$VideoPlayerHTML5Oz3.getNumber("live_initial_playback_position",0));c.onError(this.$VideoPlayerHTML5Oz37.bind(this));c.addListener("destroyed",this.$VideoPlayerHTML5Oz43.bind(this));c.addListener("debug/dashPlayerEvent",this.$VideoPlayerHTML5Oz44.bind(this));c.addListener("streamEnd",this.$VideoPlayerHTML5Oz45.bind(this));c.setupPlayer();this.$VideoPlayerHTML5Oz46(c);this.$VideoPlayerHTML5Oz3.getBool("emit_cea_608_availability",!1)&&this.$VideoPlayerHTML5Oz47(c);this.$VideoPlayerHTML5Oz48()&&c.updatePlayerRunTimeConfig({videoStreamDataHandler:this.$VideoPlayerHTML5Oz49()})};l.prototype.$VideoPlayerHTML5Oz49=function(){__p&&__p();return this.$VideoPlayerHTML5Oz3.getBool("parse_cea_608",!1)?function(a,c){__p&&__p();if(!this.$VideoPlayerHTML5Oz48())return;try{a=a.getCustomField("timescale")||0;if(!a||typeof a!=="number")return;c=b("extractCEA608")(c,a).then(function(a){this.emit("cea608CaptionsParsed",a)}.bind(this));this.$VideoPlayerHTML5Oz9&&i(c,this.$VideoPlayerHTML5Oz9,"cea608_extraction")}catch(a){this.$VideoPlayerHTML5Oz37(a)}}.bind(this):null};l.prototype.$VideoPlayerHTML5Oz39=function(){var a=[];this.$VideoPlayerHTML5Oz3.getBool("respect_force_hd_prop",!1)&&this.$VideoPlayerHTML5Oz13===b("VideoQualityClass").HD&&a.push(new(b("OzMinimumSmallestDimensionRestriction"))(k));var c=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),d=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);c>d&&a.push(new(b("OzMosThresholdRestriction"))(c,d,this.$VideoPlayerHTML5Oz3.getBool("keep_lowest_mos_above_upper_thresold",!1)));return a};l.prototype.$VideoPlayerHTML5Oz33=function(a){__p&&__p();if(this.$VideoPlayerHTML5Oz3.getBool("fix_representation_ended_timing",!1)&&(this.$VideoPlayerHTML5Oz1.paused||this.$VideoPlayerHTML5Oz1.seeking))return;if(!this.$VideoPlayerHTML5Oz4)return;a=this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$VideoPlayerHTML5Oz8){var b=this.$VideoPlayerHTML5Oz8;this.$VideoPlayerHTML5Oz8=a;b!=null&&this.emit("representation_ended",{representationID:b,nextRepresentationID:a})}};l.prototype.$VideoPlayerHTML5Oz30=function(){var a=this.$VideoPlayerHTML5Oz3.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return;var c=function(){this.$VideoPlayerHTML5Oz3.setContext("connection_quality",b("VideoPlayerConnectionQuality").evaluate(l.getEstimatedBandwidth))}.bind(this);this.$VideoPlayerHTML5Oz12.addSubscriptions(b("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b("throttle")(c,a)));c()};l.prototype.$VideoPlayerHTML5Oz42=function(){return this.$VideoPlayerHTML5Oz3.getBool("end_all_streams_on_stream_gone",!1)?function(a){return a.forEach(function(a){return a.endStream()})}:null};l.prototype.$VideoPlayerHTML5Oz37=function(a){if(a instanceof b("oz-player/utils/OzError")){var c=a.getExtra();this.emit("error",{error:a.getType(),message:a.getDescription(),httpStatus:c.code,url:c.url,stack:a.stack});this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.destroy()}else this.emit("error",{error:"OZ_JAVASCRIPT_NATIVE",message:a.name+" "+a.message,httpStatus:null,url:null,stack:a.stack})};l.prototype.$VideoPlayerHTML5Oz45=function(){this.$VideoPlayerHTML5Oz28=!0};l.prototype.$VideoPlayerHTML5Oz43=function(){this.$VideoPlayerHTML5Oz4=null};l.prototype.$VideoPlayerHTML5Oz44=function(a){this.emit("debug/dashPlayerEvent",a.detail)};l.prototype.$VideoPlayerHTML5Oz50=function(){var a=1;return this.$VideoPlayerHTML5Oz24!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz24)<a||this.$VideoPlayerHTML5Oz25!=null&&Math.abs(this.$VideoPlayerHTML5Oz1.currentTime-this.$VideoPlayerHTML5Oz25)<a?!0:!1};l.prototype.$VideoPlayerHTML5Oz31=function(a){this.$VideoPlayerHTML5Oz50()||(this.$VideoPlayerHTML5Oz22=!0,this.emit("bufferingStart"),this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz10=this.$VideoPlayerHTML5Oz9.getOperationLogger("buffering").setType(a))),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz51()};l.prototype.$VideoPlayerHTML5Oz32=function(){(!this.$VideoPlayerHTML5Oz3.getBool("buffer_end_only_when_buffering",!1)||this.$VideoPlayerHTML5Oz22)&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null),this.$VideoPlayerHTML5Oz22=!1),this.$VideoPlayerHTML5Oz3.getBool("throttle_playback_rate_on_stall",!1)&&this.$VideoPlayerHTML5Oz52()};l.prototype.$VideoPlayerHTML5Oz51=function(){this.$VideoPlayerHTML5Oz5==null&&(this.$VideoPlayerHTML5Oz5=this.$VideoPlayerHTML5Oz1.playbackRate),this.$VideoPlayerHTML5Oz1.playbackRate=0};l.prototype.$VideoPlayerHTML5Oz52=function(){this.$VideoPlayerHTML5Oz5&&(this.$VideoPlayerHTML5Oz1.playbackRate=this.$VideoPlayerHTML5Oz5),this.$VideoPlayerHTML5Oz5=null};l.prototype.$VideoPlayerHTML5Oz47=function(a){var b=a.getMpd(),c=this.$VideoPlayerHTML5Oz3.getBool("enable_asr_captions",!1);a=function(){this.$VideoPlayerHTML5Oz53(!!b.getCustomField("hasInlinedSubtitles")||!!b.getCustomField("hasInlinedSubtitlesFromUsingASRCaptions")&&c)}.bind(this);a();this.$VideoPlayerHTML5Oz12.addSubscriptions(b.addListener("updated",a))};l.prototype.$VideoPlayerHTML5Oz53=function(a){if(this.$VideoPlayerHTML5Oz6===a)return;this.$VideoPlayerHTML5Oz6=a;this.emit("cea608AvailabilityChanged")};l.prototype.$VideoPlayerHTML5Oz48=function(){return this.$VideoPlayerHTML5Oz6};l.prototype.$VideoPlayerHTML5Oz46=function(a){a=a;if(!a)return;this.$VideoPlayerHTML5Oz3.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0&&this.$VideoPlayerHTML5Oz12.addSubscriptions(a.addListener("streamInterruptAt",function(a){this.$VideoPlayerHTML5Oz24=a,this.$VideoPlayerHTML5Oz22&&(this.emit("bufferingEnd"),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null)),this.$VideoPlayerHTML5Oz54()}.bind(this)),a.addListener("streamResumedAt",function(a){this.$VideoPlayerHTML5Oz25=a,this.$VideoPlayerHTML5Oz23&&this.$VideoPlayerHTML5Oz55()}.bind(this)))};l.prototype.$VideoPlayerHTML5Oz54=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Oz22=!1,this.$VideoPlayerHTML5Oz23=!0,this.$VideoPlayerHTML5Oz9&&(this.$VideoPlayerHTML5Oz11=this.$VideoPlayerHTML5Oz9.getOperationLogger("stream_interrupted"))};l.prototype.$VideoPlayerHTML5Oz55=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null),this.$VideoPlayerHTML5Oz23=!1};l.prototype.$VideoPlayerHTML5Oz38=function(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInlinedSubtitles",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInlinedSubtitlesFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return a!=0}]])};l.prototype.$VideoPlayerHTML5Oz40=function(){__p&&__p();var a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}},c=this.$VideoPlayerHTML5Oz3.getNumber("mos_upper_threshold",0),d=this.$VideoPlayerHTML5Oz3.getNumber("mos_lower_threshold",0);c>d&&(a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}});this.$VideoPlayerHTML5Oz3.getBool("parse_custom_quality_label",!1)&&(a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}});this.$VideoPlayerHTML5Oz3.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(this.$VideoPlayerHTML5Oz20!=null&&this.$VideoPlayerHTML5Oz20>0)return null;try{var c=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:c[0],endByte:c[1]},e=new(b("oz-player/shims/OzURI"))(a.BaseURL[0]._);return{getURI:function(){return e},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}}}}catch(a){return null}}.bind(this));return a};l.prototype.$VideoPlayerHTML5Oz41=function(){return this.$VideoPlayerHTML5Oz3.getBool("use_repomen_abr",!1)?function(a,c,d,e,f,g,h){return new(b("RepomenAbrManager"))(a,c,d,e,f,g,h)}:null};l.prototype.play=function(){this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.playStarted();return this.$VideoPlayerHTML5Oz1.play()};l.prototype.pause=function(){this.$VideoPlayerHTML5Oz1.pause()};l.prototype.reload=function(){return b("Promise").reject()};l.prototype.unload=function(){this.$VideoPlayerHTML5Oz12.release(),this.$VideoPlayerHTML5Oz10&&(this.$VideoPlayerHTML5Oz10.log(),this.$VideoPlayerHTML5Oz10=null),this.$VideoPlayerHTML5Oz11&&(this.$VideoPlayerHTML5Oz11.log(),this.$VideoPlayerHTML5Oz11=null),this.$VideoPlayerHTML5Oz21&&this.$VideoPlayerHTML5Oz21.unload(),this.$VideoPlayerHTML5Oz26=0};l.prototype.getVideoStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getVideoRepresentationIDAtTime(a)};l.prototype.getAudioStreamInfoIDForTimePosition=function(a){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getAudioRepresentationIDAtTime(a)};l.prototype.getDashAudioConfiguration=function(){return""};l.prototype.getLocalEstimator=function(){return null};l.prototype.setDimensions=function(a,b){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.setDimensions({width:a,height:b})};l.prototype.getLongestInitResponseTime=function(){return 0};l.prototype.setPlaybackRate=function(a){this.$VideoPlayerHTML5Oz5=a,this.$VideoPlayerHTML5Oz1.playbackRate=a};l.prototype.hasSubtitles=function(){return!1};l.prototype.areSubtitlesAutogenerated=function(){return!1};l.prototype.enableSubtitles=function(a){};l.prototype.setPreferredVideoQuality=function(a){if(!this.$VideoPlayerHTML5Oz4)return;this.$VideoPlayerHTML5Oz4.switchToVideoQuality(a)};l.prototype.setVideoStreamOffset=function(a){};l.prototype.getSelectedVideoQuality=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getCurrentQuality()};l.prototype.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Oz4&&this.$VideoPlayerHTML5Oz4.enableVideoQualityAdaptation()};l.prototype.getAvailableVideoQualities=function(){return!this.$VideoPlayerHTML5Oz4?[]:this.$VideoPlayerHTML5Oz4.getVideoQualities()};l.prototype.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Oz3.getBool("enable_adaptation",!1)};l.prototype.canAutoSelectVideoQuality=function(){return!0};l.prototype.isDrm=function(){return!1};l.prototype.setPreloadDisabled=function(a){};l.prototype.restoreStreamBufferSize=function(){};l.prototype.getDebug=function(){return{manifest:this.$VideoPlayerHTML5Oz2,DashPlayer:this.$VideoPlayerHTML5Oz4,AbrManager:this.$VideoPlayerHTML5Oz4?this.$VideoPlayerHTML5Oz4.getDebug().VideoAbrManager:null,BandwidthEstimator:b("oz-player/networks/OzBandwidthEstimator")}};l.prototype.setSmartBufferAdjustmentEnabled=function(a){};l.prototype.getVideoProjection=function(){return!this.$VideoPlayerHTML5Oz4?null:this.$VideoPlayerHTML5Oz4.getMpd().getCustomField("fbProjection")};l.prototype.isPlayingLiveVODHighlights=function(){return!1};l.prototype.setEnableLiveheadCatchup=function(a){};l.prototype.isFBWasLive=function(){return!1};l.prototype.clearBufferAfterSeekingIfLowerQuality=function(a){};l.prototype.isFBIsLiveTemplated=function(){return!1};l.prototype.isFBMS=function(){return!1};l.prototype.isLiveheadCatchupEnabled=function(){return!1};l.prototype.getSeekableRanges=function(){return null};l.prototype.refreshDashManifest=function(){return b("Promise").reject()};l.prototype.refreshLiveVODHighlightsManifest=function(){return b("Promise").reject()};l.prototype.switchReplicaSet=function(a){};l.prototype.getPlaybackRate=function(){return 1};l.prototype.getPlayerVersion=function(){return b("VideoPlayerVersions").OZ};l.prototype.$VideoPlayerHTML5Oz56=function(a){a=a.trim();var b=a[a.length-1];return b.toLowerCase()==="p"?a:a+"p"};l.prototype.$VideoPlayerHTML5Oz57=function(a){a=a.trim();var b=a[a.length-1];return b.toLowerCase()==="p"?a.substr(0,a.length-1):a};e.exports=l}),null);
__d("LiveVideoIndicator.react",["cx","fbt","DateConsts","Duration.react","React","VideoConcurrentViewerCount.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){if(this.props.isPreview)return this.$1();var a,c;this.props.inBeeper?(a="_60yg",c="_60yf"):this.props.isRewound?(a="_1dvf",c="_1dvg"):(a="_5pe-"+(this.props.isRehearsal?" _1dvf":""),c="_2wrk"+(this.props.isRehearsal?" _7bca":""));var d=!this.props.isRewound&&this.props.showElapsedTime&&this.props.startTime?b("React").createElement("span",{className:"_2nwf"},b("React").createElement(b("Duration.react"),{startTime:this.props.startTime*b("DateConsts").MS_PER_SEC,useLocalTime:!0})):null;return b("React").createElement("div",{className:(this.props.inline?"":"_3htz")+(this.props.inline?" _3qry":"")+(this.props.inline?"":" _2659")+(this.props.inline?"":" _530p")+" _4ubd _2lwf"+(this.props.isLive?" _3rno":"")+(this.props.compact?" _3eca":"")+(this.props.inline?"":" _6xrw")+(this.props.inline?" _6xrt":"")},b("React").createElement("div",{className:a,"data-testid":"live-indicator"},b("React").createElement("span",{className:c},this.$2(),d)),b("React").createElement(b("VideoConcurrentViewerCount.react"),{pageCount:this.props.pageCount,viewerCount:this.props.viewerCount}))};a.prototype.$2=function(){if(this.props.isBreakingNews)return h._("LIVE BREAKING");if(this.props.textOverride)return this.props.textOverride;return this.props.isPremiere?h._("PREMIERE"):h._("LIVE")};a.prototype.$1=function(){return b("React").createElement("div",{className:"_5vj"},b("React").createElement("div",{className:"_5vm"},b("React").createElement("span",{className:"_5vo"},h._("PREVIEW"))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerConstants",[],(function(a,b,c,d,e,f){"use strict";a={ACTIONS:{SET_IS_REWOUND:"SET_IS_REWOUND",DISMISS_REWIND_COMMENT_OVERLAY:"DISMISS_REWIND_COMMENT_OVERLAY"}};e.exports=a}),null);
__d("LiveVideoPlayerStore",["FluxReduceStore","LiveVideoPlayerConstants","LiveVideoPlayerDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("LiveVideoPlayerConstants").ACTIONS;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return b("immutable").Map({})};a.prototype.getIsRewound=function(a){return this.getState().getIn([a,"isRewound"],!1)};a.prototype.getIsRewindCommentOverlayDismissed=function(a){return this.getState().getIn([a,"isRewindCommentOverlayDismissed"],!1)};a.prototype.$LiveVideoPlayerStore1=function(a,b){a.hasOption("LivePlayer","isRewound")||a.registerOption("LivePlayer","isRewound",function(){return this.getIsRewound(a.getVideoPlayerID())}.bind(this)),a.emit("LivePlayer/isRewoundChanged")};a.prototype.reduce=function(a,b){__p&&__p();switch(b.type){case h.DISMISS_REWIND_COMMENT_OVERLAY:a=a.setIn([b.playerID,"isRewindCommentOverlayDismissed"],!0);break;case h.SET_IS_REWOUND:var c=b.vpc,d=b.isRewound;a=a.setIn([c.getVideoPlayerID(),"isRewound"],d);setTimeout(function(){return this.$LiveVideoPlayerStore1(c,d)}.bind(this),0);c.setEnableLiveheadCatchup(!d);break;default:break}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("LiveVideoPlayerDispatcher"))}),null);
__d("LiveVideoIndicatorContainer.react",["FluxContainer","LiveVideoIndicator.react","LiveVideoPlayerDispatcher","LiveVideoPlayerStore","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;a.getStores=function(){return[b("LiveVideoPlayerStore")]};a.calculateState=function(a,c){a=b("LiveVideoPlayerStore").getIsRewound(c.playerID);return{isRewound:a}};function a(a){g.constructor.call(this,a),b("LiveVideoPlayerDispatcher").explicitlyRegisterStores([b("LiveVideoPlayerStore")])}a.prototype.render=function(){return b("React").createElement(b("LiveVideoIndicator.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,isRewound:this.state.isRewound,pageCount:this.props.pageCount,showElapsedTime:this.props.showElapsedTime,startTime:this.props.startTime,textOverride:this.props.textOverride,viewerCount:this.props.viewerCount})};e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("LiveVideoIndicatorContainerServerCallable.react",["DateConsts","FBJSON","LiveVideoIndicatorContainer.react","React","SubscriptionsHandler","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=3*b("DateConsts").MS_PER_SEC;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={showElapsedTime:!1,viewerCount:this.props.viewerCount},b}a.prototype.componentDidMount=function(){this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("VideoWithLiveBroadcast/viewCountChange",function(a){a=a.getAttribute("data-store");a=a?b("FBJSON").parse(a).viewerCount:null;this.setState({viewerCount:a})}.bind(this))),this.props.showTimePop&&this.props.broadcastCreationTime&&this.subscriptions.addSubscriptions(this.props.videoPlayerController.addListener("beginPlayback",function(){this.setState({showElapsedTime:!0});var a=b("setInterval")(function(){this.setState({showElapsedTime:!1}),b("clearInterval")(a)}.bind(this),h)}.bind(this)))};a.prototype.componentWillUnmount=function(){this.subscriptions.release()};a.prototype.render=function(){return b("React").createElement(b("LiveVideoIndicatorContainer.react"),{compact:this.props.compact,inline:this.props.inline,inBeeper:this.props.inBeeper,isAudio:this.props.isAudio,isBreakingNews:this.props.isBreakingNews,isLive:this.props.isLive,isPremiere:this.props.isPremiere,isPreview:this.props.isPreview,isRehearsal:this.props.isRehearsal,pageCount:this.props.pageCount,playerID:this.props.videoPlayerController.getVideoPlayerID(),showElapsedTime:this.state.showElapsedTime,startTime:this.props.broadcastCreationTime,textOverride:this.props.textOverride,viewerCount:this.state.viewerCount})};e.exports=a}),null);