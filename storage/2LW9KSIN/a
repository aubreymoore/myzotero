!function u(i,f,c){function a(e,r){if(!f[e]){if(!i[e]){var n="function"==typeof require&&require;if(!r&&n)return n(e,!0);if(p)return p(e,!0);var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var o=f[e]={exports:{}};i[e][0].call(o.exports,function(r){return a(i[e][1][r]||r)},o,o.exports,u,i,f,c)}return f[e].exports}for(var p="function"==typeof require&&require,r=0;r<c.length;r++)a(c[r]);return a}({1:[function(r,e,n){},{}]},{},[1]);;
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

},{}]},{},[1]);
;
!function(I){I.fn.onScreen=function(Q){var w={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:!1};return"remove"!==Q&&I.extend(w,Q),this.each(function(){var n,o,a,r,i,l,c,s,u,d,f,A=this,p=!1,g=I(this),h=I.isWindow(w.container);function C(){return!p&&("horizontal"===w.direction?h?f<c-w.tolerance&&o<f+u-w.tolerance:f<i-w.tolerance&&f>-u+w.tolerance:h?d<l-w.tolerance&&n<d+s-w.tolerance:d<r-w.tolerance&&d>-s+w.tolerance)}function v(){return!!p&&("horizontal"===w.direction?h?f+(u-w.tolerance)<o||f>c-w.tolerance:f>i-w.tolerance||-u+w.tolerance>f:h?d+(s-w.tolerance)<n||d>l-w.tolerance:d>r-w.tolerance||-s+w.tolerance>d)}function e(A,e,t){var n,o,a;return function(){o=arguments,a=!0,t=t||this,n||function(){n=a?(A.apply(t,o),a=!1,setTimeout(arguments.callee,e)):null}()}}if("remove"===Q)return I(A).off("scroll.onScreen resize.onScreen"),void I(window).off("resize.onScreen");var t=function(){if(h||"static"!==I(w.container).css("position")||I(w.container).css("position","relative"),a=I(w.container),r=a.height(),i=a.width(),l=a.scrollTop()+r,c=a.scrollLeft()+i,s=g.outerHeight(!0),u=g.outerWidth(!0),h){var A=g.offset();d=A.top,f=A.left}else{var e=g.position();d=e.top,f=e.left}if(n=a.scrollTop(),o=a.scrollLeft(),w.debug&&(console.log("Container: "+w.container+"\nWidth: "+r+"\nHeight: "+i+"\nBottom: "+l+"\nRight: "+c),console.log("Matched element: "+(void 0!==g.attr("class")?g.prop("tagName").toLowerCase()+"."+g.attr("class"):g.prop("tagName").toLowerCase())+"\nLeft: "+f+"\nTop: "+d+"\nWidth: "+u+"\nHeight: "+s)),C()){if(w.toggleClass&&g.addClass(w.toggleClass),I.isFunction(w.doIn)&&w.doIn.call(g[0]),w.lazyAttr&&"IMG"===g.prop("tagName")){var t=g.attr(w.lazyAttr);t!==g.prop("src")&&(g.css({background:"url("+w.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"}),g.prop("src",t).on("load",function(){I(this).css({background:"none"})}))}p=!0}else v()&&(w.toggleClass&&g.removeClass(w.toggleClass),I.isFunction(w.doOut)&&w.doOut.call(g[0]),p=!1)};window.location.hash?e(t,50):t(),w.throttle&&(t=e(t,w.throttle)),I(w.container).on("scroll.onScreen resize.onScreen",t),h||I(window).on("resize.onScreen",t),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery-onscreen",[],function(){return jQuery})})}}(jQuery),function(d,f){"use strict";function A(){f("[data-animate]").each(function(){var u=f(this);if(u.parent().hasClass("gif-player"))return!1;u.one("load",function(){function e(A){var e,t,n=new Image;n.src=a,(e=f(A).parent()).hasClass("gif-playing")||(t=e.append(f('<span class="gif-loading"></span>')).find(".gif-loading"),e.append(s),f(n).load(function(){t.remove(),s.attr("src",n.src)}),e.addClass("gif-playing"),o&&o.remove())}var o,t,n,A=f(this),a=A.data("animate"),r=A.attr("src"),i=A.width(),l=A.height(),c=A.wrap('<span class="gif-player"></span>').parent(),s=f('<img class="gif-to-play">').attr("width",i).attr("height",l);1!==u.data("autoplay")&&(o=c.append(f('<div class="play-button"></div>')).find(".play-button")),A.data("src",r),1===u.data("autoplay")&&u.onScreen({container:d,direction:"vertical",doIn:function(){e(this)},doOut:function(){},tolerance:l/2,throttle:50,toggleClass:"onScreen",lazyAttr:null,debug:!1}),c.one("mouseenter",function(A){e(f(this).find("img")),A.stopPropagation(),A.preventDefault()}),c.on("click",function(A){e(f(this).find("img")),A.stopPropagation(),A.preventDefault()}),t=1,n=d.setInterval(function(){var A=f(".onScreen");0<A.length?(e(A),d.clearInterval(n)):3<++t&&d.clearInterval(n)},1e3)}).each(function(){this.complete&&f(this).load()})})}A(),d.checkGifAnimation=A}(this,jQuery);;
/*! This file is auto-generated */
window.wp=window.wp||{},function(i){var e="undefined"==typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(t){var n,s={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(e){return(n=n||_.template(i("#tmpl-"+t).html(),s))(e)}}),wp.ajax={settings:e.ajax||{},post:function(e,t){return wp.ajax.send({data:_.isObject(e)?e:_.extend(t||{},{action:e})})},send:function(e,n){var t,s;return _.isObject(e)?n=e:(n=n||{}).data=_.extend(n.data||{},{action:e}),n=_.defaults(n||{},{type:"POST",url:wp.ajax.settings.url,context:this}),(t=(s=i.Deferred(function(t){n.success&&t.done(n.success),n.error&&t.fail(n.error),delete n.success,delete n.error,t.jqXHR=i.ajax(n).done(function(e){"1"!==e&&1!==e||(e={success:!0}),_.isObject(e)&&!_.isUndefined(e.success)?t[e.success?"resolveWith":"rejectWith"](this,[e.data]):t.rejectWith(this,[e])}).fail(function(){t.rejectWith(this,arguments)})})).promise()).abort=function(){return s.jqXHR.abort(),this},t}}}(jQuery);;
/*! FiveThirtyEight - v1.0.0
 * https://fivethirtyeight.com/
 * Licensed GPLv2+ */

!function(t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t():window.pym=t.call(this)}(function(){function h(t){var e=document.createEvent("Event");e.initEvent("pym:"+t,!0,!0),document.dispatchEvent(e)}function n(t){var e=new RegExp("[\\?&]"+t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function o(t,e){if(("*"===e.xdomain||t.origin.match(new RegExp(e.xdomain+"$")))&&"string"==typeof t.data)return!0}function a(t,e,i){return["pym",t,e,i].join(r)}function u(){for(var t=p.autoInitInstances.length-1;0<=t;t--){var e=p.autoInitInstances[t];e.el.getElementsByTagName("iframe").length&&e.el.getElementsByTagName("iframe")[0].contentWindow||p.autoInitInstances.splice(t,1)}}var r="xPYMx",p={},m=Date.now||function(){return(new Date).getTime()};return p.autoInitInstances=[],p.autoInit=function(t){var e=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),i=e.length;u();for(var n=0;n<i;++n){var s=e[n];s.setAttribute("data-pym-auto-initialized",""),""===s.id&&(s.id="pym-"+n+"-"+Math.random().toString(36).substr(2,5));var o=s.getAttribute("data-pym-src"),a={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},r={};for(var l in a)if(null!==s.getAttribute("data-pym-"+l))switch(a[l]){case"boolean":r[l]=!("false"===s.getAttribute("data-pym-"+l));break;case"string":r[l]=s.getAttribute("data-pym-"+l);break;case"number":var c=Number(s.getAttribute("data-pym-"+l));isNaN(c)||(r[l]=c);break;default:console.err("unrecognized attribute type")}var d=new p.Parent(s.id,o,r);p.autoInitInstances.push(d)}return t||h("pym-initialized"),p.autoInitInstances},p.Parent=function(t,e,i){var n;for(var s in this.id=t,this.url=e,this.el=document.getElementById(t),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=(n=this.id,new RegExp("^"+["pym",n,"(\\S+)","(.*)"].join(r)+"$")),this.messageHandlers={},i=i||{},this._constructIframe=function(){var t=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var e="",i=this.url.indexOf("#");for(-1<i&&(e=this.url.substring(i,this.url.length),this.url=this.url.substring(0,i)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+t+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=e,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(t,e){if(t in this.messageHandlers)for(var i=0;i<this.messageHandlers[t].length;i++)this.messageHandlers[t][i].call(this,e)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),u()},this._processMessage=function(t){if(o(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(!e||3!==e.length)return!1;var i=e[1],n=e[2];this._fire(i,n)}}.bind(this),this._onHeightMessage=function(t){var e=parseInt(t);this.iframe.setAttribute("height",e+"px")},this._onNavigateToMessage=function(t){!function(t){if(t.match(/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi))return!0}(t)||(document.location.href=t)},this._onScrollToChildPosMessage=function(t){var e=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset+parseInt(t);window.scrollTo(0,e)},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this.sendMessage=function(t,e){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(a(this.id,t,e),"*"):this.remove())},this.sendWidth=function(){var t=this.el.offsetWidth.toString();this.sendMessage("width",t)},this.sendViewportAndIFramePosition=function(){var t=this.iframe.getBoundingClientRect(),e=(window.innerWidth||document.documentElement.clientWidth)+" "+(window.innerHeight||document.documentElement.clientHeight);e+=" "+t.top+" "+t.left,e+=" "+t.bottom+" "+t.right,this.sendMessage("viewport-iframe-position",e)},i)this.settings[s]=i[s];return this._throttleOnScroll=function(i,n,s){var o,a,r,l=null,c=0;s=s||{};function d(){c=!1===s.leading?0:m(),l=null,r=i.apply(o,a),l||(o=a=null)}return function(){var t=m();c||!1!==s.leading||(c=t);var e=n-(t-c);return o=this,a=arguments,e<=0||n<e?(l&&(clearTimeout(l),l=null),c=t,r=i.apply(o,a),l||(o=a=null)):l||!1===s.trailing||(l=setTimeout(d,e)),r}}(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},p.Child=function(t){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},t=t||{},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this._fire=function(t,e){if(t in this.messageHandlers)for(var i=0;i<this.messageHandlers[t].length;i++)this.messageHandlers[t][i].call(this,e)},this._processMessage=function(t){if(o(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(e&&3===e.length){var i=e[1],n=e[2];this._fire(i,n)}}}.bind(this),this._onWidthMessage=function(t){var e=parseInt(t);e!==this.parentWidth&&(this.parentWidth=e,this.settings.renderCallback&&this.settings.renderCallback(e),this.sendHeight())},this.sendMessage=function(t,e){window.parent.postMessage(a(this.id,t,e),"*")},this.sendHeight=function(){var t=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",t),t}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(t){this.sendMessage("navigateTo","#"+t)},this.navigateParentTo=function(t){this.sendMessage("navigateTo",t)},this.scrollParentToChildEl=function(t){var e=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(e)},this.scrollParentToChildPos=function(t){this.sendMessage("scrollToChildPos",t.toString())};for(var e in this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)},t)this.settings[e]=t[e];this.id=n("childId")||t.id,this.messageRegex=new RegExp("^pym"+r+this.id+r+"(\\S+)"+r+"(.*)$");var i=parseInt(n("initialWidth"));return this.parentUrl=n(this.settings.parenturlparam),this.parentTitle=n("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(i),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),function(t){var e,i=document.getElementsByTagName("html")[0],n=i.className;try{e=window.self!==window.top?"embedded":"not-embedded"}catch(t){e="embedded"}n.indexOf(e)<0&&(i.className=n?n+" "+e:e,t&&t(e),h("marked-embedded"))}(t.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&p.autoInit(!0),p}),function(t,e){"object"==typeof module&&module.exports?module.exports=e():t.timeago=e()}("undefined"!=typeof window?window:this,function(){var s=0,n="second_minute_hour_day_week_month_year".split("_"),o="秒_分钟_小时_天_周_月_年".split("_"),a={en:function(t,e){if(0===e)return["just now","right now"];var i=n[parseInt(e/2)];return 1<t&&(i+="s"),[t+" "+i+" ago","in "+t+" "+i]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var i=o[parseInt(e/2)];return[t+i+"前",t+i+"后"]}},c=[60,60,24,7,365/7/12,12],d=6,h="datetime";function i(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(r(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(r(t))}function r(t){return parseInt(t)}function u(t,e,i){e=a[e]?e:a[i]?i:"en";var n=0,s=t<0?1:0;for(t=Math.abs(t);t>=c[n]&&n<d;n++)t/=c[n];return(0===(n*=2)?9:1)<(t=r(t))&&(n+=1),a[e](t,n)[s].replace("%s",t)}function p(t,e){return((e=e?i(e):new Date)-i(t))/1e3}function l(o,a){var r={};function l(t,e,i,n){var s=p(e,o);t.innerHTML=u(s,i,a),r["k"+n]=setTimeout(function(){l(t,e,i,n)},1e3*function(t){for(var e=1,i=0,n=Math.abs(t);t>=c[i]&&i<d;i++)t/=c[i],e*=c[i];return n=(n%=e)?e-n:e,Math.ceil(n)}(s))}return a=a||"en",this.format=function(t,e){return u(p(t,o),e,a)},this.render=function(t,e){void 0===t.length&&(t=[t]);for(var i=0;i<t.length;i++)l(t[i],(n=t[i]).getAttribute?n.getAttribute(h):n.attr?n.attr(h):void 0,e,++s);var n},this.cancel=function(){for(var t in r)clearTimeout(r[t]);r={}},this.setLocale=function(t){a=t},this}function t(t,e){return new l(t,e)}return t.register=function(t,e){a[t]=e},t}),function(t){var e,r={},l={},c=Object.prototype.toString,d=Array.prototype.slice;t.espn||(t.espn={}),(e=t.espn).publish=function(t,e){var i;if(e&&"[object Array]"===c.call(e)||(e=[]),(l[t]||(l[t]=[])).push(e),r[t])for(i=r[t].length;0<=--i;)r[t][i].apply(this,e)},e.subscribe=function(t){var e,i,n,s,o,a=d.call(arguments,1);if(n="[object Object]"===c.call(a[0])?a[0]:{},s="[object Function]"===c.call(a[0])?a[0]:a[1],(r[t]||(r[t]=[])).push(s),n.catchup&&l[t]){for(o=l[t],n.first?o=d.call(o,0,n.first):n.last&&(o=d.call(o,-n.last)),i=-1,e=o.length;++i<e;)s.apply(this,o[i]);o=null}return[t,s]},e.unsubscribe=function(t){for(var e=t[0],i=r[e].length;0<=--i;)r[e][i]==t[1]&&r[e].splice(i,1)},t.jQuery&&(jQuery.publish=e.publish,jQuery.subscribe=e.subscribe,jQuery.unsubscribe=e.unsubscribe)}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(m){var n=/\+/g;function f(t){return y.raw?t:encodeURIComponent(t)}function g(t,e){var i=y.raw?t:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(n," ")),y.json?JSON.parse(t):t}catch(t){}}(t);return m.isFunction(e)?e(i):i}var y=m.cookie=function(t,e,i){if(void 0!==e&&!m.isFunction(e)){if("number"==typeof(i=m.extend({},y.defaults,i)).expires){var n=i.expires,s=i.expires=new Date;s.setDate(s.getDate()+n)}return document.cookie=[f(t),"=",(o=e,f(y.json?JSON.stringify(o):String(o))),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var o,a,r=t?void 0:{},l=document.cookie?document.cookie.split("; "):[],c=0,d=l.length;c<d;c++){var h=l[c].split("="),u=(a=h.shift(),y.raw?a:decodeURIComponent(a)),p=h.join("=");if(t&&t===u){r=g(p,e);break}t||void 0===(p=g(p))||(r[u]=p)}return r};y.defaults={},m.removeCookie=function(t,e){return void 0!==m.cookie(t)&&(m.cookie(t,"",m.extend({},e,{expires:-1})),!m.cookie(t))}}),function(t){var e=document.getElementById("header-global"),i=(document.getElementById("searchform"),document.getElementById("search-field")),n=document.getElementById("search-button"),s=document.getElementById("nav-global-toggle");document.getElementById("site-logo"),t.location.protocol,t.location.hostname;e&&(n&&n.addEventListener("click",function(t){e&&(i.value&&e.classList.contains("search-form-open")||(t.preventDefault(),e.classList.contains("search-form-open")?(e.classList.remove("search-form-open"),i.blur(),n.blur()):(e.classList.add("search-form-open"),i.focus())))}),s&&s.addEventListener("click",function(t){e&&s&&(t.preventDefault(),document.documentElement.classList.contains("nav-global-is-open")?(document.documentElement.classList.remove("nav-global-is-open"),s.textContent="Menu",s.blur()):(document.documentElement.classList.add("nav-global-is-open"),s.textContent="Close"))}),t.onpageshow=function(t){t.persisted&&document.documentElement.classList.contains("nav-global-is-open")&&(document.documentElement.classList.remove("nav-global-is-open"),s.textContent="Menu",s.blur())})}(window),function(o,a){var r=document.querySelector("#header-global"),l=a(r),c=l.find("nav.parts"),t=l.find("nav.parts a"),d=l.find("svg.fox-head"),h=l.find("svg.vertical"),u=l.find("svg.header-global-logo"),p=document.body.classList.contains("admin-bar");function m(){d.length&&(d.addClass("hide-desktop"),d.removeAttr("style")),h.length&&h.addClass("hide-mobile"),u.length&&u.addClass("hide-mobile")}function e(){var t,e,i,n,s=!1;if(p&&(o.innerWidth<600?o.scrollY<46?r.style.top=46-o.scrollY+"px":r.style.top=0:r.style.top=""),c){for(t=jQuery("nav.parts a").length,r.classList.remove("inverse"),l.find("nav a").removeClass("active"),e=t;0<e;e--)if(a(i="#part"+e).length&&a(o).scrollTop()>a(i).offset().top-120){n=e,d.removeClass("hide-desktop"),d.show(),h.css({visibility:"hidden"}),u.css({visibility:"hidden"}),a("#part"+n+"-link").addClass("active"),o.history.replaceState({},"","#part"+n),s=!0;break}s||(m(),"hidden"===a("header svg.vertical, header svg.header-global-logo").css("visibility")&&a("header svg.vertical, header svg.header-global-logo").css({opacity:0,visibility:"visible"}).animate({opacity:1},"slow"),r.classList.add("inverse"),l.find("nav a").removeClass("active"))}}if(r){if(document.querySelector(".single-fte_interactives"))return m();t.length&&t.on("click",function(t){var e=a(this).attr("href");a(o).scrollTop(a(e).offset().top-(45+jQuery("header").height()+jQuery("#wpadminbar").height())),t.preventDefault(),o.history.replaceState({},"",e)}),o.addEventListener("scroll",e,{passive:!0}),o.addEventListener("resize",e),e()}}(window,jQuery),function(o,a){var t,e,i,n,s,r,l,c,d=document.getElementById("header-global");function h(){var t=a(d).outerHeight(!0);document.querySelector(".header-global-wrapper")&&(document.querySelector(".header-global-wrapper").style.height=t+"px")}document.getElementById("header-global")&&(document.querySelector(".single-fte_liveblog")||document.body.classList.contains("single")&&(t=a(d),e=t.offset().top,i=t.outerHeight(!0),n=!1,r=a("body"),t.parent(".header-global-wrapper").length||t.wrapAll('<div class="header-global-wrapper" style="height: '+i+'px;"></div>'),c=_.debounce(h,50),o.addEventListener("resize",c),o.addEventListener("load",h),s=_.throttle(function(){n=a(o).scrollTop()>e+i?(!1===n&&(t.addClass("sticky"),t.find("a[name]").each(function(){var t=a(this),e=a(this).attr("name");t.attr("name",e+"-sticky")}),r.hasClass("home")&&r.on("click.fox",".header-global-logo-link",function(t){t.preventDefault(),a("html, body").animate({scrollTop:0},1e3)}),r.hasClass("tax-espn_verticals")&&r.on("click.vertical",".-current-vertical a",function(t){t.preventDefault(),a("html, body").animate({scrollTop:0},1e3)})),!0):(!0===n&&(t.removeClass("sticky"),t.find("a[name]").each(function(){var t=a(this),e=a(this).attr("name").replace("-sticky","");t.attr("name",e)}),r.hasClass("home")&&r.off("click.fox",".header-global-logo-link"),r.hasClass("tax-fte_verticals")&&r.off("click.vertical",".-current-vertical a")),h(),!1)},50),a(o).on("scroll.stickyNav",s),o.addEventListener("keydown",function(t){var e=t.keyCode,i=o.innerHeight,n=document.getElementById("wpadminbar"),s=n?n.offsetHeight:0;!d||33!==e&&34!==e||(t.preventDefault(),33===e?o.scrollBy(0,0-(i-60-s-10)):34===e&&o.scrollBy(0,i-60-s-10))}),a(".share-sticky, .share-shortform").on("click",function(t){var e=void 0!==o.screenLeft?o.screenLeft:screen.left,i=void 0!==o.screenTop?o.screenTop:screen.top,n=(o.innerWidth?o.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-300+e,s=(o.innerHeight?o.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-200+i;return void 0!==o.windowOpen&&o.windowOpen.close(),o.open(a(this).attr("href"),"wpcomfacebook","menubar=1,resizable=1,width=600,height=400,top="+s+",left="+n),!1}),a(function(){r.hasClass("single")&&t.find(".-current-vertical").length&&(l=t.find(".-current-vertical a").clone(),a(".single-sticky-vertical").append(l))})))}(window,jQuery),function(i,t){var e=document.getElementById("js-series-nav-toggle"),n="js-series-menu-active",s=t("html");function o(t){s.removeClass(n),abcn&&abcn.track&&abcn.track.trackLink({link:t.target,linkPos:i.s_omni.prop4,linkId:"seriesnav:close",site:"fivethirtyeight",pageName:i.s_omni.pageName,section:i.s_omni.channel})}e&&(e.addEventListener("click",function(t){var e;t.preventDefault(),t.stopPropagation(),s.hasClass(n)?o(t):(e=t,s.addClass(n),abcn&&abcn.track&&abcn.track.trackLink({link:e.target,linkPos:i.s_omni.prop4,linkId:"seriesnav:open",site:"fivethirtyeight",pageName:i.s_omni.pageName,section:i.s_omni.channel}))}),i.addEventListener("click",o))}(window,jQuery),function(r,l){"use strict";var t;function e(t,e){this.element=t,this.options=r.extend({},{title:".fte-expandable-title",body:".fte-expandable-content",onOpen:function(){},onClose:function(){},onInit:function(){}},e),this.init()}function i(t,e){this.element=t,this.options=r.extend({},{container:".fte-sameheightcol",cells:".col-ab"},e),this.init()}function n(t,e){this.element=t,this.options=r.extend({},{marginTop:20,fullHeight:!1},e),this.init()}t=function(){return"ontouchstart"in l||l.navigator.msMaxTouchPoints},e.prototype={currentBaseUrl:l.location.href,init:function(){var e=this,i=r(e.element).children(e.options.title);i.on("click",function(t){t.preventDefault(),e.fteToggle(this)}).append('<span class="fte-expandable-icon"></span>'),r(e.element).find(".metadata").length&&(i.on("click",function(t){i.stop().fadeTo(100,.4).fadeTo(300,1)}),i.on("click",".topic a",function(t){t.stopPropagation()}),i.on("click",".metadata a",function(t){t.stopPropagation()}),i.on("click",".fte-expandable-icon",function(t){t.stopPropagation(),t.preventDefault(),i.find(".article-title a").trigger("click")}),i.on("click",".metadata span.share a",function(t){var e=r(this).position().left+r(this).width()+5,i=r(this).parents(".metadata").next("div.share");t.preventDefault(),r("div.share").not(i).hide(),i.css("left",e+"px").toggle()})),r('[data-expandable="'+this.element.id+'"]').on("click",function(t){e.fteOpen(this,0)}),e.options.onInit.call(e)},fteOpen:function(t,e){var i=this,n=r(t).data("close-text");e=void 0!==e?e:600,n&&r(t).html(n+'<span class="fte-expandable-icon"></span>'),r(this.element).addClass("fte-expandable-open").children(this.options.body).animate({opacity:"show",height:"show"},e,function(){r(l).trigger("resize"),i.options.onOpen.call(i)}),r(this.element).parents(".single-col").length?r(this.element).parents(".single-col").css("height","auto"):r(l).trigger("resize")},fteClose:function(t,e){var i=this,n=r(t).data("open-text");e=void 0!==e?e:600,n&&r(t).html(n+'<span class="fte-expandable-icon"></span>'),r(this.element).removeClass("fte-expandable-open").children(this.options.body).animate({opacity:"hide",height:"hide"},e,function(){r(l).trigger("resize"),i.options.onClose.call(i)})},fteToggle:function(t){r(this.element).hasClass("fte-expandable-open")?this.fteClose(t):this.fteOpen(t)}},i.prototype={init:function(){var t=this;t.fteMakeRow(),r(l).on("resize.col load.col",function(){t.fteMakeRow()})},fteMakeRow:function(){var t,e,i,n=r(this.element).find(this.options.cells),s=r(this.element).data("col");if(n.css("min-height","0"),768<r(l).width())for(t=0;t<n.length;t++)if(0==t%s){for(i=r(n[t]),e=1;e<s;e++)i=i.add(n[t+e]);this.fteEqualize(i),t===n.length-2&&i.addClass("last-row")}},fteEqualize:function(t){var i,n,s=[];r.each(t,function(t,e){i=r(e),n=i.height(),s.push(n)}),t.css("min-height",Math.max.apply(l,s))}},n.prototype={init:function(){var e,i,n,s,o=this,a=r(o.element);r(l).on("resize.col load.col",function(){e=a.parent().offset().top,o.options.fullHeight&&a.height(r(l).height()-r("#wpadminbar").height())}),r(l).on("scroll.sticky load.sticky",function(t){768<r(l).width()&&(n=r(l).scrollTop(),s=r(l).scrollTop()+a.height()+o.options.marginTop,i=r(".single-navigation-bottom").length?r(".single-navigation-bottom").offset().top:r("#colophon").offset().top,n>e-o.options.marginTop?(a.addClass("fte-fixed"),o.options.fullHeight&&a.height("100%"),i<=s&&!o.options.fullHeight?a.addClass("fte-fixed-bottom"):i<=s&&o.options.fullHeight?(a.height(i-n),a.css("top",0),a.css("bottom","auto")):r(l.document).height()-(n+r(l).height())<r("#colophon").outerHeight()&&o.options.fullHeight?a.height(r(l).height()-(r("#colophon").outerHeight()-(r(l.document).height()-(n+r(l).height())))-r("#wpadminbar").height()):a.removeClass("fte-fixed-bottom")):(a.removeClass("fte-fixed"),o.options.fullHeight&&(a.attr("style",""),a.height(r(l).height()-r("#wpadminbar").height()))))})}},r.extend(r.fn,{expandable:function(t){return this.each(function(){r.data(this,"fte_expandable")||r.data(this,"fte_expandable",new e(this,t))})},sameheightcol:function(t){return this.each(function(){r.data(this,"fte_sameheightcol")?new i(this,t):r.data(this,"fte_sameheightcol",new i(this,t))})},sticky:function(t){return this.each(function(){r.data(this,"fte_sticky")||r.data(this,"fte_sticky",new n(this,t))})}}),r(".fte-expandable").expandable(),r(".vertical #main").sameheightcol({container:"#main",cells:".vertical-col"}),r(".home .row-ab").sameheightcol({container:".row-ab",cells:".home-col"}),r(".archive").find("#content").sameheightcol({container:"#content",cells:".single-col"}),r("#social-widget").sticky(),r(".post-thumbnail").length&&r(".post-thumbnail").on("mouseenter",function(t){r(this).parents(".hentry").addClass("hovered")}).on("mouseleave",function(t){r(this).parents(".hentry").removeClass("hovered")}),r(l).on("load",function(){var t=r(".fivethirtyeight-sidebar-ad");t.height()<20&&t.addClass("ad-not-loaded")}),t()?r("body").addClass("touch"):r("html").addClass("no-touch"),r(".single-fte_features .byline.secondary").detach().attr("class","single-metadata single-byline").insertAfter(".single-byline"),r(".has-bugs").each(function(t){r(this).addClass("has-bugs-loaded")}),r("a.fte-email-share").removeAttr("target"),0===document.referrer.indexOf("https://t.co/")&&r("body").addClass("via-twitter"),r(".recirc.tease").each(function(t){r(this).on("click",function(t){l.location=r(this).find("a").attr("href")})}),void 0!==r.scrollDepth&&(r("body").hasClass("home")||r("body").hasClass("single"))&&r.scrollDepth(),void 0!==l.espn.trackTaboola&&l.espn.trackTaboola(".widget.espn-taboola","fivethirtyeight")}(jQuery,this),function(t,i){i(t.document).on("click",".entry-content a:not(.new-window):not(.ob-dynamic-rec-link), .entry-footnotes a",function(t){var e=i(this).attr("href");e&&0!==e.indexOf("mailto:")&&(e.match(/^[#/]+|(https?:)?\/\/(projects\.)?fivethirtyeight\.com/)?i(this).removeAttr("target"):i(this).attr("target","_blank").attr("rel","noopener noreferrer"))})}(window,jQuery),function(t,e){jQuery(".widget.embed iframe").hover(function(){e(this).parent().find("h3 a").addClass("underlined")},function(){e(this).parent().find("h3 a").removeClass("underlined")})}(window,jQuery);var retina=window.devicePixelRatio,PI=Math.PI,sqrt=Math.sqrt,round=Math.round,random=Math.random,cos=Math.cos,sin=Math.sin,rAF=window.requestAnimationFrame,cAF=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,_now=Date.now||function(){return(new Date).getTime()};function updateLiveblogTimestamp(t){var e=document.getElementById("updated-at-time"),i=document.getElementById("updated-at-date"),n=luxon.DateTime.fromSeconds(t);"undefined"!==liveblog_settings.timezone_string&&(n=n.setZone(liveblog_settings.timezone_string)),e&&(e.innerText=n.toLocaleString(luxon.DateTime.TIME_SIMPLE)),i&&(i.innerText=n.toFormat("MMM. d, yyyy"))}!function(e){var i,s=_now();i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.clearTimeout,rAF=e.requestAnimationFrame||e.webkitRequestAnimationFrame||function(t){var e=_now(),i=Math.max(0,16-(e-s)),n=setTimeout(t,i);return s=e,n},cAF=function(t){i.call(e,t)}}(window),document.addEventListener("DOMContentLoaded",function(){var c,t,e,d=PI/180,h=[["#FF0000","#FFFFFF"],["#FFFFFF","#FFFFFF"]];function u(t,e){this.x=t,this.y=e,this.Length=function(){return sqrt(this.SqrLength())},this.SqrLength=function(){return this.x*this.x+this.y*this.y},this.Add=function(t){this.x+=t.x,this.y+=t.y},this.Sub=function(t){this.x-=t.x,this.y-=t.y},this.Div=function(t){this.x/=t,this.y/=t},this.Mul=function(t){this.x*=t,this.y*=t},this.Normalize=function(){var t,e=this.SqrLength();0!==e&&(t=1/sqrt(e),this.x*=t,this.y*=t)},this.Normalized=function(){var t,e=this.SqrLength();return 0!==e?(t=1/sqrt(e),new u(this.x*t,this.y*t)):new u(0,0)}}function p(t,e,i,n){var s,o;this.position=new u(t,e),this.mass=i,this.drag=n,this.force=new u(0,0),this.velocity=new u(0,0),this.AddForce=function(t){this.force.Add(t)},this.Integrate=function(t){(s=this.CurrentForce(this.position)).Div(this.mass),(o=new u(this.velocity.x,this.velocity.y)).Mul(t),this.position.Add(o),s.Mul(t),this.velocity.Add(s),this.force=new u(0,0)},this.CurrentForce=function(t,e){var i=new u(this.force.x,this.force.y),n=this.velocity.Length(),s=new u(this.velocity.x,this.velocity.y);return s.Mul(this.drag*this.mass*n),i.Sub(s),i}}function m(t,e){var i,n,s,o=round(random()*(h.length-1));for(this.pos=new u(t,e),this.rotationSpeed=600*random()+800,this.angle=d*random()*360,this.rotation=d*random()*360,this.cosA=1,this.size=5,this.oscillationSpeed=1.5*random()+.5,this.xSpeed=40,this.ySpeed=60*random()+50,this.corners=[],this.time=random(),this.frontColor=h[o][0],this.backColor=h[o][1],i=0;i<4;i++)n=cos(this.angle+d*(90*i+45)),s=sin(this.angle+d*(90*i+45)),this.corners[i]=new u(n,s);this.Update=function(t){this.time+=t,this.rotation+=this.rotationSpeed*t,this.cosA=cos(d*this.rotation),this.pos.x+=cos(this.time*this.oscillationSpeed)*this.xSpeed*t,this.pos.y+=this.ySpeed*t,this.pos.y>m.bounds.y&&(this.pos.x=random()*m.bounds.x,this.pos.y=0)},this.Draw=function(t){var e;for(0<this.cosA?t.fillStyle=this.frontColor:t.fillStyle=this.backColor,t.beginPath(),t.moveTo((this.pos.x+this.corners[0].x*this.size)*retina,(this.pos.y+this.corners[0].y*this.size*this.cosA)*retina),e=1;e<4;e++)t.lineTo((this.pos.x+this.corners[e].x*this.size)*retina,(this.pos.y+this.corners[e].y*this.size*this.cosA)*retina);t.closePath(),t.fill()}}function f(t,e,i,n,s,o,a,r){var l,c=round(random()*(h.length-1));for(this.particleDist=n,this.particleCount=i,this.particleMass=a,this.particleDrag=r,this.particles=[],this.frontColor=h[c][0],this.backColor=h[c][1],this.xOff=cos(d*o)*s,this.yOff=sin(d*o)*s,this.position=new u(t,e),this.prevPosition=new u(t,e),this.velocityInherit=2*random()+4,this.time=100*random(),this.oscillationSpeed=2*random()+2,this.oscillationDistance=40*random()+40,this.ySpeed=40*random()+80,l=0;l<this.particleCount;l++)this.particles[l]=new p(t,e-l*this.particleDist,this.particleMass,this.particleDrag);this.Update=function(t){var e,i,n,s,o,a=0;for(this.time+=t*this.oscillationSpeed,this.position.y+=this.ySpeed*t,this.position.x+=cos(this.time)*this.oscillationDistance*t,this.particles[0].position=this.position,s=this.prevPosition.x-this.position.x,o=this.prevPosition.y-this.position.y,i=sqrt(s*s+o*o),this.prevPosition=new u(this.position.x,this.position.y),a=1;a<this.particleCount;a++)(n=u.Sub(this.particles[a-1].position,this.particles[a].position)).Normalize(),n.Mul(i/t*this.velocityInherit),this.particles[a].AddForce(n);for(a=1;a<this.particleCount;a++)this.particles[a].Integrate(t);for(a=1;a<this.particleCount;a++)(e=new u(this.particles[a].position.x,this.particles[a].position.y)).Sub(this.particles[a-1].position),e.Normalize(),e.Mul(this.particleDist),e.Add(this.particles[a-1].position),this.particles[a].position=e;this.position.y>f.bounds.y+this.particleDist*this.particleCount&&this.Reset()},this.Reset=function(){var t,e=round(random()*(h.length-1));for(this.position.y=-random()*f.bounds.y,this.position.x=random()*f.bounds.x,this.prevPosition=new u(this.position.x,this.position.y),this.velocityInherit=2*random()+4,this.time=100*random(),this.oscillationSpeed=2*random()+1.5,this.oscillationDistance=40*random()+40,this.ySpeed=40*random()+80,this.frontColor=h[e][0],this.backColor=h[e][1],this.particles=[],t=0;t<this.particleCount;t++)this.particles[t]=new p(this.position.x,this.position.y-t*this.particleDist,this.particleMass,this.particleDrag)},this.Draw=function(t){var e,i,n;for(e=0;e<this.particleCount-1;e++)i=new u(this.particles[e].position.x+this.xOff,this.particles[e].position.y+this.yOff),n=new u(this.particles[e+1].position.x+this.xOff,this.particles[e+1].position.y+this.yOff),this.Side(this.particles[e].position.x,this.particles[e].position.y,this.particles[e+1].position.x,this.particles[e+1].position.y,n.x,n.y)<0?(t.fillStyle=this.frontColor,t.strokeStyle=this.frontColor):(t.fillStyle=this.backColor,t.strokeStyle=this.backColor),0===e?(t.beginPath(),t.moveTo(this.particles[e].position.x*retina,this.particles[e].position.y*retina),t.lineTo(this.particles[e+1].position.x*retina,this.particles[e+1].position.y*retina),t.lineTo(.5*(this.particles[e+1].position.x+n.x)*retina,.5*(this.particles[e+1].position.y+n.y)*retina),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.moveTo(n.x*retina,n.y*retina),t.lineTo(i.x*retina,i.y*retina),t.lineTo(.5*(this.particles[e+1].position.x+n.x)*retina,.5*(this.particles[e+1].position.y+n.y)*retina)):e===this.particleCount-2?(t.beginPath(),t.moveTo(this.particles[e].position.x*retina,this.particles[e].position.y*retina),t.lineTo(this.particles[e+1].position.x*retina,this.particles[e+1].position.y*retina),t.lineTo(.5*(this.particles[e].position.x+i.x)*retina,.5*(this.particles[e].position.y+i.y)*retina),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.moveTo(n.x*retina,n.y*retina),t.lineTo(i.x*retina,i.y*retina),t.lineTo(.5*(this.particles[e].position.x+i.x)*retina,.5*(this.particles[e].position.y+i.y)*retina)):(t.beginPath(),t.moveTo(this.particles[e].position.x*retina,this.particles[e].position.y*retina),t.lineTo(this.particles[e+1].position.x*retina,this.particles[e+1].position.y*retina),t.lineTo(n.x*retina,n.y*retina),t.lineTo(i.x*retina,i.y*retina)),t.closePath(),t.stroke(),t.fill()},this.Side=function(t,e,i,n,s,o){return(t-i)*(o-n)-(e-n)*(s-i)}}u.Lerp=function(t,e,i){return new u((e.x-t.x)*i+t.x,(e.y-t.y)*i+t.y)},u.Distance=function(t,e){return sqrt(u.SqrDistance(t,e))},u.SqrDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},u.Scale=function(t,e){return new u(t.x*e.x,t.y*e.y)},u.Min=function(t,e){return new u(Math.min(t.x,e.x),Math.min(t.y,e.y))},u.Max=function(t,e){return new u(Math.max(t.x,e.x),Math.max(t.y,e.y))},u.ClampMagnitude=function(t,e){var i=t.Normalized;return new u(i.x*e,i.y*e)},u.Sub=function(t,e){return new u(t.x-e.x,t.y-e.y,t.z-e.z)},m.bounds=new u(0,0),f.bounds=new u(0,0),c={Context:function(t){var e=0,i=document.getElementById(t),n=i.parentNode,s=n.offsetWidth,o=n.offsetHeight,a=i.getContext("2d"),r=[],l=[];for(f.bounds=new u(s,o),i.width=s*retina,i.height=o*retina,e=0;e<11;e++)l[e]=new f(random()*s,-random()*o*2,30,8,8,45,1,.05);for(m.bounds=new u(s,o),e=0;e<95;e++)r[e]=new m(random()*s,random()*o);this.resize=function(){s=n.offsetWidth,o=n.offsetHeight,i.width=s*retina,i.height=o*retina,m.bounds=new u(s,o),f.bounds=new u(s,o)},this.start=function(){this.stop(),this.update()},this.stop=function(){cAF(this.interval)},this.update=function(){var t=0;for(a.clearRect(0,0,i.width,i.height),t=0;t<95;t++)r[t].Update(.02),r[t].Draw(a);for(t=0;t<11;t++)l[t].Update(.02);this.interval=rAF(function(){c.update()})}}},(t=document.getElementsByClassName("canvas-banner")).length&&(e=t[0].getAttribute("id"),(c=new c.Context(e)).start(),window.addEventListener("resize",function(t){c.resize()}))}),function(i){jQuery(i.document).on("liveblog-post-update",function(t,e){void 0!==i.createVizTables&&i.createVizTables()})}(this),jQuery(window.document).on("liveblog-loaded",function(t,e){window.createVizTables()}),function(e,t){var i,n,s,o,a,r=document.getElementById("js-toggle-drawer-iframe");function l(){e.innerHeight<screen.height&&o.css("height",e.innerHeight)}r&&void 0!==e.ESPNDrawer.url&&"none"!==document.getElementById("js-toggle-drawer-wrap").style.display&&(s=new pym.Parent("js-liveblog-drawer-iframe",e.ESPNDrawer.url,{}),i=r.querySelector("span"),o=t(document.getElementById("js-liveblog-drawer-iframe")),t(document.body),a=t("html"),document.querySelector(".liveblog-drawer-iframe iframe").setAttribute("scrolling","no"),r.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),o.hasClass("expanded")?(clearInterval(n),s.sendMessage("iframeClosed",{}),a.removeClass("js-drawer-expanded"),o.removeClass("expanded"),o.css("height",e.ESPNDrawer.height),o.scrollTop(0),i.textContent=r.getAttribute("data-open-text")):(s.sendMessage("iframeExpanded",{}),a.addClass("js-drawer-expanded"),o.addClass("expanded"),l(),n=setInterval(l,50),i.textContent=r.getAttribute("data-close-text"))}),a.addClass("js-has-drawer-iframe"))}(this,jQuery),function(i,t){var n;i.refreshAdCount=0,t(i.document).on("liveblog-post-update",function(t,e){void 0!==i.dtci&&void 0!==i.dtci.ads&&"function"==typeof i.dtci.ads.refreshAd&&9==i.refreshAdCount++%10&&(document.querySelectorAll(".ad-a9incontent").length&&(n=i.dtci.ads.a9.getSlots(),i.dtci.ads.a9.display(n)),document.querySelectorAll(".ad-incontent").length&&i.dtci.ads.refreshAd("InContent"))})}(this,jQuery),function(t){jQuery(t.document).on("liveblog-post-update",function(t,e){var i,n,s=document.getElementById("updated-at-date");e&&e.entries&&e.entries.length&&(i=e.entries.filter(function(t){return"new"===t.type}),n=i[i.length-1],i&&i.length&&"new"===n.type&&n.entry_time?updateLiveblogTimestamp(n.entry_time):setTimeout(function(){(n=document.querySelector(".liveblog-feed .liveblog-timestamp:first-child"))&&n.title?updateLiveblogTimestamp(new Date(n.getAttribute("data-entry-time")).getTime()/1e3):s&&s.title&&updateLiveblogTimestamp(new Date(s.getAttribute("data-entry-time")).getTime()/1e3)},250))})}(this),function(){var n,s,o,a,t,e=document.getElementById("js-large-promo-banner");e&&(n=new XMLHttpRequest,s=document.getElementById("js-large-promo-post-count")||"",o=document.getElementById("js-large-promo-post-timestamp")||"",a=new timeago,t=e.dataset.api,n.open("GET",t,!0),n.onload=function(){var t,e,i;200<=n.status&&n.status<400&&(t=JSON.parse(n.responseText).data,""!==s&&(s.textContent=t.count),""!==o&&(e=new Date(1e3*t.last_updated),i=a.format(e),o.textContent=i))},n.send())}(window),document.addEventListener("DOMContentLoaded",function(){document.querySelector(".custom-liveblog-social")&&document.addEventListener("click",function(t){var e,i,n,s,o,a=t.target.matches(".custom-liveblog-social .share-twitter"),r=t.target.matches(".custom-liveblog-social .share-facebook");(a||r)&&(t.preventDefault(),e=document.getElementById("liveblog-container").getAttribute("class"),i=document.querySelector('meta[property="og:url"]').getAttribute("content"),n=document.querySelector('meta[property="og:title"]').getAttribute("content"),s=screen.width/2-300,o="width=600,height=350,location=yes,status=yes,top="+(screen.height/2-175)+",left="+s,140<n.length&&(n=n.substr(0,140)+"…"),r?shareUrl="https://www.facebook.com/sharer.php?u="+encodeURIComponent(i):a&&(shareUrl="https://twitter.com/intent/tweet?text="+encodeURIComponent(n)+"&url="+encodeURIComponent(i)),window.open(shareUrl,e,o))})}),jQuery,jQuery(".interactives:last").addClass("last-interactive"),function(t,e){e(".sponsored-disclaimer").length&&(e(".sponsored-heading span").on("mouseenter",function(t){e(".sponsored-disclaimer").toggleClass("shown")}),e(".sponsored-heading span, .sponsored-disclaimer").on("mouseleave",function(t){e(".sponsored-disclaimer").removeClass("shown")}))}(window,jQuery),function(t,e){var i=document.getElementById("additional-info-toggle"),n=document.getElementById("close-additional-info"),s=document.getElementById("footer-additional-info"),o=document.getElementById("colophon");i&&s&&n&&o&&(i.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),o.classList.contains("additional-info-opened")?o.classList.remove("additional-info-opened"):(o.classList.add("additional-info-opened"),e("html, body").animate({scrollTop:e(s).offset().top},1e3)),i.blur()},!1),n.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault(),o.classList.remove("additional-info-opened")},!1))}(window,jQuery),function(i){var t=document.querySelectorAll(".js-link, .js-link .post-info");function e(t){var e=t.target.getAttribute("data-href")||t.target.parentNode.getAttribute("data-href");t.target.classList.contains("js-link-desktop-only")&&i.innerWidth<768||e&&(i.location=e)}t&&_.each(t,function(t){t.addEventListener("click",e)})}(window),function(i){var t,n,e,s=document.querySelectorAll(".js-podcast-player"),o=!1,a=-1!==navigator.userAgent.indexOf("Android");function r(t){t&&(this.podcastContainer=t,this.playButton=t.querySelector(".play"),this.progressBar=t.querySelector(".progressbar"),this.progress=t.querySelector(".progress"),this.counter=t.querySelector(".counter"),this.audio=t.querySelector(".audio"),t.classList.contains("gerrymandering-tag-archive")?(this.embedButton=t.parentElement.parentElement.parentElement.querySelector(".embed-player-button"),this.embedContainer=t.parentElement.parentElement.parentElement.querySelector(".podcast-embed-code")):t.parentElement.nextElementSibling&&t.parentElement.nextElementSibling.classList.contains("podcast-subscribe")&&(this.embedButton=t.parentElement.nextElementSibling.querySelector(".embed-player-button"),this.embedContainer=t.parentElement.nextElementSibling.querySelector(".podcast-embed-code")),this.audio&&(this.audio.addEventListener("loadedmetadata",_.bind(this.setInitialCounter,this)),this.setInitialCounter(),this.audio.addEventListener("timeupdate",_.bind(this.updateTime,this)),this.audio.addEventListener("ended",_.bind(this.ended,this)),this.playButton&&this.togglePlay&&this.playButton.addEventListener("click",_.bind(this.togglePlay,this)),this.progressBar&&(this.progressBar.addEventListener("mousedown",_.bind(this.seek,this)),this.progressBar.addEventListener("touchstart",_.bind(this.seek,this),{passive:!0}),this.progressBar.addEventListener("mousemove",_.bind(this.scrub,this)),this.progressBar.addEventListener("mouseup",_.bind(this.seekEnd,this)),this.progressBar.addEventListener("touchend",_.bind(this.seekEnd,this))),this.embedButton&&this.embedContainer&&this.embedButton.addEventListener("click",function(t){t.preventDefault(),this.embedContainer.classList.toggle("hidden")}.bind(this))))}r.prototype={constructor:r,duration:0,currentTime:0,togglePlay:function(){this.audio&&(t=this.audio.paused?(this.audio.play(),this.podcastContainer.classList.add("-playing"),new Event("playing")):(this.audio.pause(),this.podcastContainer.classList.remove("-playing"),new Event("paused")),this.podcastContainer.dispatchEvent(t))},secondsToHMS:function(t){var e,i,n,s;return t?(e=Number(t),i=Math.floor(e/3600),n=Math.floor(e%3600/60),(0<i?i+":"+(n<10?"0":""):"")+n+":"+((s=Math.floor(e%3600%60))<10?"0":"")+s):""},updateProgressBar:function(t){var e;this.progress&&this.audio&&t&&((e=t/this.duration*100)<1&&(e=1),this.progress.style.width=e+"%")},setCounter:function(t){var e;this.counter&&this.audio&&t&&(e=document.createTextNode(this.secondsToHMS(t)),this.counter.innerHTML="",this.counter.appendChild(e))},updateCounter:function(){this.setCounter(this.duration-this.audio.currentTime)},updateTime:function(){this.audio&&!this.isScrubbing&&(!o&&300<this.audio.currentTime&&(t=new Event("5min"),this.podcastContainer.dispatchEvent(t),o=!0),this.updateProgressBar(this.audio.currentTime),this.updateCounter())},ended:function(){this.audio&&(t=new Event("ended"),this.podcastContainer.dispatchEvent(t))},setInitialCounter:function(){this.duration=this.audio.duration,this.setCounter(this.duration),null!==this.counter&&this.counter.classList.add("-loaded")},setAudioTime:function(t){t&&this.audio&&(this.audio.currentTime=t)},seek:function(t){this.isScrubbing=!0},scrub:function(t){var e;this.isScrubbing&&this.audio&&this.progressBar&&(n=this.progressBar.getBoundingClientRect(),e=(t.pageX-n.left)/this.progressBar.offsetWidth*this.duration,this.updateProgressBar(e),this.setCounter(this.duration-e))},seekEnd:function(t){var e;this.audio&&this.progressBar&&(n=this.progressBar.getBoundingClientRect(),e=(t.pageX-n.left)/this.progressBar.offsetWidth*this.duration,this.updateProgressBar(e),this.setAudioTime(e),this.isScrubbing=!1)}},_.each(s,function(t){new r(t)}),a&&(e=document.querySelectorAll("[data-android-url]"),_.each(e,function(e){e.addEventListener("click",function(t){i.location=e.getAttribute("data-android-url"),t.preventDefault()})}))}(window),function(d,h){var t=h("ol.footnotes");function i(t){var e,i,n,s,o,a,r=h(t),l=parseInt(r.data("footnote-id"),10),c=parseInt(r.find("sup").text(),10);r.toggleClass("espn-footnote-item-expanded"),c===l?(r.find("sup").text("x"),(e=r.next(".espn-footnote-item")).length||(i=r.data("wrap"),n=h("<span />",{class:"espn-footnote-item "+(i?"footnote-wrap":"")}),s=h("<span />",{class:"espn-footnote-item-inner"}),o=h("<span />",{html:r.attr("data-footnote-content")}),s.append(o),a=n.append(s),r.after(a),e=r.next(".espn-footnote-item")),e.length&&(e.addClass("espn-footnote-item-displayed"),d.setTimeout(function(){e.addClass("espn-footnote-item-expanded")},50)),abcn&&abcn.track&&abcn.track.trackLink({link:"#"+l,linkPos:d.s_omni.prop4,linkId:"footnote:open:"+l,site:"fivethirtyeight",pageName:d.s_omni.pageName,section:d.s_omni.channel})):(r.find("sup").text(l),r.next(".espn-footnote-item").removeClass("espn-footnote-item-expanded"),d.setTimeout(function(){r.next(".espn-footnote-item").removeClass("espn-footnote-item-displayed")},300),abcn&&abcn.track&&abcn.track.trackLink({link:"#"+l,linkPos:d.s_omni.prop4,linkId:"footnote:close:"+l,site:"fivethirtyeight",pageName:d.s_omni.pageName,section:d.s_omni.channel}))}function n(t){var e=h(t),i=e.prev("a.espn-footnote-link"),n=parseInt(i.data("footnote-id"),10);parseInt(i.find("sup").text(),10);d.getSelection&&""!==d.getSelection().toString()||document.selection&&""!==document.selection.createRange().text||(e.removeClass("espn-footnote-item-expanded"),d.setTimeout(function(){e.removeClass("espn-footnote-item-displayed")},300),i.removeClass("espn-footnote-item-expanded").find("sup").text(n),abcn&&abcn.track&&abcn.track.trackLink({link:"#"+n,linkPos:d.s_omni.prop4,linkId:"footnote:close:"+n,site:"fivethirtyeight",pageName:d.s_omni.pageName,section:d.s_omni.channel}))}t.length&&t.find("> li").each(function(t){var e=h(this),i=e.attr("id"),n=e.data("wrap")?"footnote-wrap":"",s=h('.espn-footnote-link[href="#'+i+'"]'),o=e.clone().wrapInner('<span class="espn-footnote-item-inner"></span>').wrapInner('<span class="espn-footnote-item '+n+' "></span>').children(0).unwrap();s.after(o)}),h(d.document).on("click",".espn-footnote-link",function(t){t.preventDefault(),t.altKey?jQuery(".espn-footnote-link").each(function(t,e){i(e)}):i(this)}),h(d.document).on("click",".espn-footnote-item.espn-footnote-item-expanded",function(t){t.altKey?jQuery(".espn-footnote-link").each(function(t,e){n(e)}):n(this)}),h(d.document).on("click",".espn-footnote-item.espn-footnote-item-expanded a, .espn-footnote-item.espn-footnote-item-expanded button",function(t){t.stopPropagation()})}(window,jQuery),jQuery(document).ready(function(){var t=document.querySelectorAll("[data-pym-width]"),e=document.querySelectorAll("[data-pym-embed]");window.espn.pymContainers=window.espn.pymContainers||{},_.each(t,function(t){var e=t.getAttribute("id"),i=t.getAttribute("data-pym-url");window.espn.pymContainers[e]=new pym.Parent(e,i,{}),window.addEventListener("resize",function(){window.espn.pymContainers[e].sendMessage("width",!1)})}),_.each(e,function(t){var e=t.getAttribute("id"),i=t.getAttribute("data-pym-url")+window.location.search+window.location.hash;window.espn.pymContainers[e]=new pym.Parent(e,i,{}),jQuery(".fte-expandable").on("click",function(){window.espn.pymContainers[e].sendMessage("width",!1)}),window.espn.pymContainers[e].onMessage("urlHash",function(t){window.location.hash=t}),window.espn.pymContainers[e].onMessage("urlSearch",function(t){window.location.hash=t}),window.espn.pymContainers[e].onMessage("toggle",function(t){"tall"===t?window.scrollPos=jQuery(window).scrollTop():jQuery(window).scrollTop(window.scrollPos)})})}),window.espn.recircGetHeight=function(){var t=[".entry-content","article.hentry .post-info","article.hentry .post-thumbnail"],e=[".entry-footnotes",".mini-bio","#secondary .taboola-recommendations","p.tags","#entry-comments h3"],i=0;for(window.espn.recircTopHeight=49,window.espn.recircBottomHeight=132,i=0;i<t.length;i++)window.espn.recircTopHeight+=jQuery(t[i]).height();for(i=0;i<e.length;i++)window.espn.recircBottomHeight+=jQuery(e[i]).height();return window.espn.recircTopHeight},window.espn.showSidebar=function(){jQuery(".sidebar-feature").removeClass("visually-hidden")},window.espn.recircSetHeights=function(){var t,e,i,n=0,s=jQuery(".header-espn-link").is(":hidden");jQuery("#secondary .filler").remove(),s?jQuery("#secondary").css("height",""):(window.espn.recircGetHeight(),t=window.espn.recircTopHeight<1300,e=2600<window.espn.recircTopHeight,i=3900<window.espn.recircTopHeight,n=window.espn.recircTopHeight+window.espn.recircBottomHeight,t&&(n-=49),jQuery("#secondary").height(n).css("min-height",""),t?jQuery("#secondary").addClass("short"):(i?jQuery("#secondary").addClass("extralong"):e?jQuery("#secondary").addClass("long"):jQuery("#secondary").addClass("medium"),jQuery("#secondary").append('<div class="filler"></div>'),jQuery("#secondary .filler").height(window.espn.recircBottomHeight)),window.espn.showSidebar())},jQuery(document).ready(function(){document.getElementById("secondary")&&jQuery(".single-fte_features").length&&(jQuery("body.touch").length?window.espn.showSidebar():(window.espn.recircSetHeights(),window.addEventListener("resize",window.espn.recircSetHeights)))}),window.espn.displayAnnotation=function(){var t,e=document.querySelectorAll(".annotated");if(0===e.length)return!1;for(t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active")})},window.addEventListener("DOMContentLoaded",window.espn.displayAnnotation),function(t,i){i(".large-featured-video-play, .large-featured-video-poster").on("click",function(){var t=i(this)[0].closest(".large-featured-video"),e=t.querySelector(".abc-player");t&&e&&e.contentWindow&&(t.classList.add("is-playing"),e.contentWindow.postMessage({eventType:"player_play"},"*"))}),i(".button--play-orange").on("click",function(){var t=i(this)[0].closest(".large-featured-video"),e=t.querySelector(".video-placeholder .abc-player");e&&(t.classList.add("is-playing"),e.contentWindow.postMessage({eventType:"player_play"},"*"))})}(window,jQuery);;
/*! This file is auto-generated */
!function(d,l){"use strict";var e=!1,o=!1;if(l.querySelector)if(d.addEventListener)e=!0;if(d.wp=d.wp||{},!d.wp.receiveEmbedMessage)if(d.wp.receiveEmbedMessage=function(e){var t=e.data;if(t)if(t.secret||t.message||t.value)if(!/[^a-zA-Z0-9]/.test(t.secret)){var r,a,i,s,n,o=l.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),c=l.querySelectorAll('blockquote[data-secret="'+t.secret+'"]');for(r=0;r<c.length;r++)c[r].style.display="none";for(r=0;r<o.length;r++)if(a=o[r],e.source===a.contentWindow){if(a.removeAttribute("style"),"height"===t.message){if(1e3<(i=parseInt(t.value,10)))i=1e3;else if(~~i<200)i=200;a.height=i}if("link"===t.message)if(s=l.createElement("a"),n=l.createElement("a"),s.href=a.getAttribute("src"),n.href=t.value,n.host===s.host)if(l.activeElement===a)d.top.location.href=t.value}}},e)d.addEventListener("message",d.wp.receiveEmbedMessage,!1),l.addEventListener("DOMContentLoaded",t,!1),d.addEventListener("load",t,!1);function t(){if(!o){o=!0;var e,t,r,a,i=-1!==navigator.appVersion.indexOf("MSIE 10"),s=!!navigator.userAgent.match(/Trident.*rv:11\./),n=l.querySelectorAll("iframe.wp-embedded-content");for(t=0;t<n.length;t++){if(!(r=n[t]).getAttribute("data-secret"))a=Math.random().toString(36).substr(2,10),r.src+="#?secret="+a,r.setAttribute("data-secret",a);if(i||s)(e=r.cloneNode(!0)).removeAttribute("security"),r.parentNode.replaceChild(e,r)}}}}(window,document);;
String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,o){return o=!o||o<0?0:+o,this.substring(o,o+e.length)===e}}),window.dtci=window.dtci||{},window.dtci.cache=window.dtci.cache||{},window.dtci.ads={previousBreakpoint:!1,referringDocument:document.referrer,refreshTimeoutHook:!1,initialRefresh:!0,fakejQuerySubscribe:function(e,o){return window.dtci.cache[e]||(window.dtci.cache[e]=[]),window.dtci.cache[e].push(o),[e,o]},fakejQueryPublish:function(e,o){var i;if(window.dtci.cache[e])for(e in i=window.dtci.cache[e])i[e].apply()},throttledScroll:function(){requestAnimationFrame(window.dtci.ads.loadDeferredAds)},getViewport:function(){var e=window,o="inner";return"innerWidth"in window||(o="client",e=document.documentElement||document.body),{width:e[o+"Width"],height:e[o+"Height"]}},getCurrentBreakpoint:function(){var e=window.dtci.ads.getViewport().width;return 1280<e?"xl":1024<e?"l":768<e?"m":"s"},doNotTrackEnabled:function(){return window.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack||void 0!==window.external&&"msTrackingProtectionEnabled"in window.external?"1"===window.doNotTrack||"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack||void 0!==window.external&&void 0!==window.external.msTrackingProtectionEnabled&&window.external.msTrackingProtectionEnabled()?1:0:null},refreshAd:function(e){var o=[e];window.dtci.ads.refreshAds(o)},refreshAds:function(e){var o=!1,i=!1,d=!1,t=[],n=e.map(function(e){return DTCIAdConfig.slots[e]});if(DTCIAdConfig.usePrebid&&pbjs)for(d in e)t=d.split("-"),(i=window.dtci.ads.getPrebidSlotCode(t[0]))&&(pbjs.que.push(function(){pbjs.requestBids({timeout:DTCIAdConfig.prebidTimeout,adUnitCodes:[i],bidsBackHandler:function(){pbjs.setTargetingForGPTAsync([i]),googletag.pubads().refresh(n)}})}),o=!0);o||window.googletag.cmd.push(function(){window.googletag.pubads().refresh(n)})},refreshSlots:function(){var e=[];if(slotCodes=[],prebidAds=[],nonPrebidAds=[],index=0,adCode=!1,needsRefresh=!0,DTCIAdConfig.refreshSimulatenously){for(index=0;index<DTCIAdConfig.adSlotsToRefresh.length;index++)e.push(DTCIAdConfig.slots[DTCIAdConfig.adSlotsToRefresh[index]]);if(DTCIAdConfig.usePrebid)for(index=0;index<DTCIAdConfig.adSlotsToRefresh.length;index++)adCode=window.dtci.ads.getPrebidSlotCode(DTCIAdConfig.adSlotsToRefresh[index]),adCode&&slotCodes.push(adCode);!window.dtci.ads.initialRefresh&&DTCIAdConfig.usePrebid&&pbjs?pbjs.que.push(function(){pbjs.requestBids({timeout:DTCIAdConfig.prebidTimeout,adUnitCodes:slotCodes,bidsBackHandler:function(){pbjs.setTargetingForGPTAsync(slotCodes),googletag.pubads().refresh(e)}})}):window.googletag.cmd.push(function(){window.googletag.pubads().refresh(e)})}else for(index=0;index<DTCIAdConfig.adSlotsToRefresh.length;index++)!window.dtci.ads.initialRefresh&&DTCIAdConfig.usePrebid&&pbjs&&(adCode=window.dtci.ads.getPrebidSlotCode(DTCIAdConfig.adSlotsToRefresh[index]),adCode&&(pbjs.que.push(function(){pbjs.requestBids({timeout:DTCIAdConfig.prebidTimeout,adUnitCodes:[adCode],bidsBackHandler:function(){pbjs.setTargetingForGPTAsync([adCode]),googletag.pubads().refresh([DTCIAdConfig.slots[DTCIAdConfig.adSlotsToRefresh[index]]],{changeCorrelator:!1})}})}),needsRefresh=!1)),needsRefresh&&window.googletag.cmd.push(function(){window.googletag.pubads().refresh([DTCIAdConfig.slots[DTCIAdConfig.adSlotsToRefresh[index]]],{changeCorrelator:!1})});window.dtci.ads.initialRefresh=!1},refreshForBreakpointChange:function(){var e=window.dtci.ads.getCurrentBreakpoint();e!==window.dtci.ads.previousBreakpoint&&(window.dtci.ads.previousBreakpoint=e,clearTimeout(window.dtci.ads.refreshTimeoutHook),window.dtci.ads.refreshTimeoutHook=setTimeout(window.dtci.ads.refreshSlots,250))},slotToPosName:function(e){return e.toLowerCase().replace("overlay","outofpage")},loadDeferredAds:function(){document.querySelectorAll("[data-defer=scroll], [data-defer=visible]").forEach(function(d){var t=d.getAttribute("data-defer"),e="scroll"===t&&window.pageYOffset>d.getBoundingClientRect().top+document.body.scrollTop-300,o="visible"===t&&(0<d.offsetWidth||0<d.offsetHeight);(e||o)&&window.googletag.cmd.push(function(){var e=d.getAttribute("id"),o=e.replace("ad-",""),i=o.replace(/-[0-9]+/,"");void 0===DTCIAdConfig.slots[o]&&(DTCIAdConfig.slots[o]=window.googletag.defineSlot(DTCIAdConfig.adUnitPath,DTCIAdConfig.placements[i].sizes,e).addService(window.googletag.pubads()).setTargeting("pos",window.dtci.ads.slotToPosName(o)).setCollapseEmptyDiv(!0,!0)),window.googletag.display(e),window.googletag.pubads().refresh([DTCIAdConfig.slots[o]]),"scroll"===t&&d.setAttribute("data-defer","none"),DTCIAdConfig.adSlotsToRefresh.push(o)})}),0===document.querySelectorAll("[data-defer=scroll]").length&&window.removeEventListener("scroll",window.dtci.ads.throttledScroll)},buildSlots:function(){var e,o,i,d,t=[];for(e in DTCIAdConfig.placements)if(DTCIAdConfig.placements.hasOwnProperty(e)){if(o="ad-"+e,i=DTCIAdConfig.placements[e]["out-of-page"])DTCIAdConfig.slots[e]=window.googletag.defineOutOfPageSlot(DTCIAdConfig.adUnitPath,o);else if(DTCIAdConfig.slots[e]=window.googletag.defineSlot(DTCIAdConfig.adUnitPath,DTCIAdConfig.placements[e].sizes,o),void 0!==DTCIAdConfig.mappings[e]){for(t=window.googletag.sizeMapping(),d=0;d<DTCIAdConfig.mappings[e].length;d++)t=t.addSize(DTCIAdConfig.mappings[e][d][0],DTCIAdConfig.mappings[e][d][1]);t=t.build(),DTCIAdConfig.slots[e].defineSizeMapping(t)}if(DTCIAdConfig.slots[e]=DTCIAdConfig.slots[e].addService(window.googletag.pubads()).setTargeting("pos",window.dtci.ads.slotToPosName(e)).setCollapseEmptyDiv(!0,!0),DTCIAdConfig.usePrebid){if(void 0!==DTCIAdConfig.placements[e].includeInPrebid&&!1===DTCIAdConfig.placements[e].includeInPrebid)continue;DTCIAdConfig.prebidSlots.push({id:o,type:e.toLowerCase(),typeName:e,defaultSize:DTCIAdConfig.placements[e].sizes,mappings:t,isOutOfPage:i})}}},createSlot:function(e,o,i,d){var t,n,r,s,a,g,l=e.replace("ad-",""),c=[],f=typeof d,u=window.pbjs||{};if(u.que=u.que||[],d)if("string"==f)try{t=JSON.parse(d)}catch(e){console.error("Failed to parse "+d)}else"object"==f&&(t=d);DTCIAdConfig.usePrebid&&(n=l.split("-")[0],(r=DTCIAdConfig.placements[n]["out-of-page"])||DTCIAdConfig.prebidSlots.forEach(function(e){e.typeName===n&&(c=e.mappings)}),g={id:e,type:n.toLowerCase(),typeName:n,defaultSize:DTCIAdConfig.placements[n].sizes,mappings:c,isOutOfPage:r},DTCIAdConfig.prebidSlots.push(g),a=g.type.startsWith("incontent")?[300,250]:window.dtci.ads.getBannerSizes(g,window.dtci.ads.getCurrentBreakpoint()),s={code:g.id,mediaTypes:{banner:{sizes:a}},bids:window.dtci.ads.getPrebidBidders(g.type)},u.que.push(function(){u.addAdUnits([s])})),window.googletag.cmd.push(function(){if(DTCIAdConfig.slots[l]=window.googletag.defineSlot(i,o,e),t)for(key in t)DTCIAdConfig.slots[l].setTargeting(key,t[key]);DTCIAdConfig.slots[l].addService(window.googletag.pubads()).setTargeting("pos",window.dtci.ads.slotToPosName(l)),DTCIAdConfig.slots[l].setCollapseEmptyDiv(!0,!0)})},deleteSlot:function(e){var o=e.replace("ad-","");window.DTCIAdConfig.slots[o],window.googletag.destroySlots([window.DTCIAdConfig.slots[o]])},getReferringSite:function(){var e;for(e in DTCIAdConfig.referralMap)if(DTCIAdConfig.referralMap.hasOwnProperty(e)&&window.dtci.ads.referringDocument.match(new RegExp("^https?:\\/\\/(?:(?:[a-zA-Z0-9]+\\.)+)?"+e.replace(/\./g,"\\.")+"(?:$|\\/$|\\/.*|\\?.*)","i")))return void(DTCIAdConfig.referringSite=DTCIAdConfig.referralMap[e])},getPrebidSlotCode:function(o){var i=!1;return window.dtci.ads.getPrebidAds().forEach(function(e){o!==e.id.replace("ad-","")&&o!==e.typeName||(i=e.id)}),i},getPrebidBidders:function(e){var o,i=DTCIAdConfig.prebidPlacementIds,d=[],t=DTCIAdConfig.country,n=DTCIAdConfig.prebidIncludedCountries,r=DTCIAdConfig.prebidExcludedCountries;if(void 0!==n&&n.length){if(-1!==n.indexOf(t))for(o in i)d.push({bidder:o,params:window.dtci.ads.getPrebidParams(o,i[o],e,t)})}else if(void 0!==r&&-1===r.indexOf(t))for(o in i)void 0!==i[o].excludedCountries&&0!==i[o].excludedCountries.length&&-1!==i[o].excludedCountries.indexOf(t)||d.push({bidder:o,params:window.dtci.ads.getPrebidParams(o,i[o],e,t)});return d},getPrebidParams:function(e,o,i,d){var t,n,r,s,a,g,l={},c=DTCIAdConfig.deviceType;return"tablet"===c&&(c="mobile"),i.startsWith("incontent")?i="incontent":i.startsWith("banner")&&(i="banner"),"rubicon"===e?(c&&(t=(r=o[c]||{})&&r.zoneId||"",n=r&&r.siteId||""),t&&n&&(l.zoneId=t,l.siteId=n,l.accountId=o.accountId)):"aol"===e?("incontent"===i?s=o[i]||"":"banner"===i&&c&&(s=(a=o[i])&&a[c]||""),s&&(l.placement=s,l.network=o.accountId)):"appnexus"===e?(DTCIAdConfig.regionMap&&d&&DTCIAdConfig.regionMap[d]&&(g=DTCIAdConfig.regionMap[d]),i&&g&&(s=(a=o[i]||{})&&a[g]||""),s&&(l.placementId=s)):"pubmatic"===e?o[i]&&(l.adSlot=o[i],l.publisherId=o.accountId):"trustx"===e?o[i]&&("number"==typeof(a=o[i])?l.uid=a:c&&(l.uid=a[c])):"criteo"===e?o[i]&&(l.zoneId=o[i]):"audienceNetwork"===e&&(l.placementId=o.placementId,l.format=o.format),l},getBannerSizes:function(e,o){var i=[],d=DTCIAdConfig.mappings,t={xl:0,l:1,m:2,s:3}[o]||1;return d[e.typeName]&&d[e.typeName][t]&&d[e.typeName][t].forEach(function(e){Array.isArray(e[0])?i=i.concat(e):i.push(e)}),i},setupGoogleTagWithCountryData:function(){var i,e,d;null===(d=window.localStorage.getItem("country"))?(newsletterData={},i=document.createElement("script"),e=document.getElementsByTagName("script")[0],i.type="text/javascript",i.async=!0,i.src="https://tredir.espn.com/capmon/GetDE?set=j&param=countryisoalpha2code",i.onload=i.onreadystatechange=function(e,o){!o&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.parentNode&&i.parentNode.removeChild(i),i=null,o||(d=window.countryisoalpha2code.toUpperCase(),window.localStorage.setItem("country",d),window.dtci.ads.setupGoogleTag(d)))},e.parentNode.insertBefore(i,e)):window.dtci.ads.setupGoogleTag(d)},getPrebidAds:function(){return DTCIAdConfig.prebidSlots.filter(function(e){return e.type.startsWith("banner")||e.type.startsWith("incontent")})},setupPrebid:function(){var e,o,i,d=window.pbjs||{};d.que=d.que||[],e=window.dtci.ads.getPrebidAds(),o=e.map(function(e){var o=e.type.startsWith("incontent")?[300,250]:window.dtci.ads.getBannerSizes(e,window.dtci.ads.getCurrentBreakpoint());return{code:e.id,mediaTypes:{banner:{sizes:o}},bids:window.dtci.ads.getPrebidBidders(e.type)}}),i=o.map(function(e){return e.code}),d.que.push(function(){d.setConfig({bidderTimeout:1500,priceGranularity:"high",userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}},debug:DTCIAdConfig.prebidDebug,enableSendAllBids:DTCIAdConfig.enableSendAllBids}),d.adUnits=[],d.addAdUnits(o),d.requestBids({bidsBackHandler:function(e){googletag.cmd.push(function(){d.que.push(function(){d.setTargetingForGPTAsync(i)})})},timeout:DTCIAdConfig.prebidTimeout})})},setupGoogleTag:function(i){googletag.cmd.push(function(){var e,o=window.dtci.ads.doNotTrackEnabled();for(e in window.dtci.ads.previousBreakpoint=window.dtci.ads.getCurrentBreakpoint(),window.dtci.ads.buildSlots(),DTCIAdConfig.usePrebid&&(i&&(DTCIAdConfig.country=i),window.dtci.ads.setupPrebid()),window.dtci.ads.getReferringSite(),DTCIAdConfig.referringSite&&window.googletag.pubads().setTargeting("ref",DTCIAdConfig.referringSite),DTCIAdConfig.targeting)DTCIAdConfig.targeting.hasOwnProperty(e)&&window.googletag.pubads().setTargeting(e,DTCIAdConfig.targeting[e]);window.googletag.pubads().setTargeting("prof",window.dtci.ads.getCurrentBreakpoint()),window.googletag.pubads().setTargeting("devOS",navigator.userAgent),null!==o&&window.googletag.pubads().setTargeting("isDnt",window.dtci.ads.doNotTrackEnabled()),window.DTCIAdConfig.useOverlay&&window.googletag.pubads().disableInitialLoad(),window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.pubads().enableVideoAds(),window.googletag.enableServices(),window.DTCIAdConfig.useOverlay?(window.googletag.display("ad-Overlay"),window.googletag.pubads().refresh([DTCIAdConfig.slots.Overlay]),!0!==self.initialized&&window.googletag.pubads().addEventListener("slotRenderEnded",function(e){void 0===DTCIAdConfig.loaded&&void 0!==DTCIAdConfig.slots.Overlay&&e.slot===DTCIAdConfig.slots.Overlay&&e.isEmpty&&(DTCIAdConfig.loaded=!0,DTCIAdConfig.usePrebid||window.dtci.ads.refreshSlots())}),jQuery.subscribe("ad.overlay.close",window.dtci.ads.refreshSlots),window.addEventListener("resize",window.dtci.ads.refreshForBreakpointChange)):setTimeout(window.dtci.ads.refreshSlots,250),0<document.querySelectorAll("[data-defer=scroll]").length&&window.addEventListener("scroll",window.dtci.ads.throttledScroll,!1)})},init:function(){var e,o;"undefined"!=typeof DTCIAdConfig&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.DTCIAdConfig.usePrebid=parseInt(window.DTCIAdConfig.usePrebid,10)||0,window.DTCIAdConfig.refreshSimulatenously=parseInt(window.DTCIAdConfig.refreshSimulatenously,10)||0,window.DTCIAdConfig.useOverlay=parseInt(window.DTCIAdConfig.useOverlay,10)||0,window.DTCIAdConfig.usePrebid&&(window.DTCIAdConfig.prebidDebug=parseInt(window.DTCIAdConfig.prebidDebug,10)||0,window.DTCIAdConfig.enableSendAllBids=parseInt(window.DTCIAdConfig.enableSendAllBids,10)||0,window.DTCIAdConfig.prebidTimeout=parseInt(window.DTCIAdConfig.prebidTimeout,10)||1e3),window.DTCIAdConfig.useOverlay&&(window.jQuery=window.jQuery||{},window.jQuery.subscribe=window.jQuery.subscribe||window.dtci.ads.fakejQuerySubscribe,window.jQuery.publish=window.jQuery.publish||window.dtci.ads.fakejQueryPublish),e=document.createElement("script"),o=document.getElementsByTagName("script")[0],e.async=!0,e.type="text/javascript",e.src="https://www.googletagservices.com/tag/js/gpt.js",o.parentNode.insertBefore(e,o),DTCIAdConfig.usePrebid?(e=document.createElement("script"),o=document.getElementsByTagName("script")[0],e.type="text/javascript",e.src=DTCIAdConfig.prebidScript,o.parentNode.insertBefore(e,o),window.dtci.ads.setupGoogleTagWithCountryData()):window.dtci.ads.setupGoogleTag())}},document.addEventListener("DOMContentLoaded",function(e){window.dtci.ads.init()}),googleAdsInit=function(){window.dtci.ads.init()},"undefined"!=typeof module&&(module.exports=googleAdsInit);;
