(window.webpackJsonp=window.webpackJsonp||[]).push([[28,5],{"./node_modules/@babel/runtime/helpers/construct.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js");function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},"./node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},"./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js":function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),i=n("./node_modules/@babel/runtime/helpers/isNativeFunction.js"),a=n("./node_modules/@babel/runtime/helpers/construct.js");function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},"./node_modules/lodash/_arrayEach.js":function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&r(t,o(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&r(t,o(t),e)}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/lodash/_Stack.js"),o=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_baseAssign.js"),s=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),c=n("./node_modules/lodash/_copyArray.js"),u=n("./node_modules/lodash/_copySymbols.js"),m=n("./node_modules/lodash/_copySymbolsIn.js"),d=n("./node_modules/lodash/_getAllKeys.js"),p=n("./node_modules/lodash/_getAllKeysIn.js"),f=n("./node_modules/lodash/_getTag.js"),g=n("./node_modules/lodash/_initCloneArray.js"),b=n("./node_modules/lodash/_initCloneByTag.js"),h=n("./node_modules/lodash/_initCloneObject.js"),x=n("./node_modules/lodash/isArray.js"),y=n("./node_modules/lodash/isBuffer.js"),v=n("./node_modules/lodash/isMap.js"),E=n("./node_modules/lodash/isObject.js"),S=n("./node_modules/lodash/isSet.js"),C=n("./node_modules/lodash/keys.js"),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,j,O,_,L){var k,I=1&n,M=2&n,P=4&n;if(j&&(k=_?j(t,O,_,L):j(t)),void 0!==k)return k;if(!E(t))return t;var T=x(t);if(T){if(k=g(t),!I)return c(t,k)}else{var A=f(t),B="[object Function]"==A||"[object GeneratorFunction]"==A;if(y(t))return l(t,I);if("[object Object]"==A||"[object Arguments]"==A||B&&!_){if(k=M||B?{}:h(t),!I)return M?m(t,s(k,t)):u(t,a(k,t))}else{if(!w[A])return _?t:{};k=b(t,A,I)}}L||(L=new r);var R=L.get(t);if(R)return R;L.set(t,k),S(t)?t.forEach((function(r){k.add(e(r,n,j,r,t,L))})):v(t)&&t.forEach((function(r,o){k.set(o,e(r,n,j,o,t,L))}));var D=P?M?p:d:M?keysIn:C,z=T?void 0:D(t);return o(z||t,(function(r,o){z&&(r=t[o=r]),i(k,o,e(r,n,j,o,t,L))})),k}},"./node_modules/lodash/_baseIsMap.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},"./node_modules/lodash/_baseIsSet.js":function(e,t,n){var r=n("./node_modules/lodash/_getTag.js"),o=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},"./node_modules/lodash/_cloneDataView.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},"./node_modules/lodash/_cloneSymbol.js":function(e,t,n){var r=n("./node_modules/lodash/_Symbol.js"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return r(e,o(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/lodash/_copyObject.js"),o=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return r(e,o(e),t)}},"./node_modules/lodash/_initCloneArray.js":function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},"./node_modules/lodash/_initCloneByTag.js":function(e,t,n){var r=n("./node_modules/lodash/_cloneArrayBuffer.js"),o=n("./node_modules/lodash/_cloneDataView.js"),i=n("./node_modules/lodash/_cloneRegExp.js"),a=n("./node_modules/lodash/_cloneSymbol.js"),s=n("./node_modules/lodash/_cloneTypedArray.js");e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Set]":return new l;case"[object Symbol]":return a(e)}}},"./node_modules/lodash/cloneDeep.js":function(e,t,n){var r=n("./node_modules/lodash/_baseClone.js");e.exports=function(e){return r(e,5)}},"./node_modules/lodash/isMap.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsMap.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isMap,s=a?o(a):r;e.exports=s},"./node_modules/lodash/isSet.js":function(e,t,n){var r=n("./node_modules/lodash/_baseIsSet.js"),o=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isSet,s=a?o(a):r;e.exports=s},"./node_modules/serialize-javascript/index.js":function(e,t,n){"use strict";var r=Math.floor(1099511627776*Math.random()).toString(16),o=new RegExp('"@__(F|R|D|M|S|U)-'+r+'-(\\d+)__@"',"g"),i=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,s=/.*?=>.*?/,l=/[<>\/\u2028\u2029]/g,c=["*","async"],u={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function m(e){return u[e]}e.exports=function e(t,n){n||(n={}),"number"!=typeof n&&"string"!=typeof n||(n={space:n});var u,d=[],p=[],f=[],g=[],b=[],h=[];return n.ignoreFunction&&"function"==typeof t&&(t=void 0),void 0===t?String(t):"string"!=typeof(u=n.isJSON&&!n.space?JSON.stringify(t):JSON.stringify(t,n.isJSON?null:function(e,t){if(n.ignoreFunction&&function(e){var t=[];for(var n in e)"function"==typeof e[n]&&t.push(n);for(var r=0;r<t.length;r++)delete e[t[r]]}(t),!t&&void 0!==t)return t;var o=this[e],i=typeof o;if("object"===i){if(o instanceof RegExp)return"@__R-"+r+"-"+(p.push(o)-1)+"__@";if(o instanceof Date)return"@__D-"+r+"-"+(f.push(o)-1)+"__@";if(o instanceof Map)return"@__M-"+r+"-"+(g.push(o)-1)+"__@";if(o instanceof Set)return"@__S-"+r+"-"+(b.push(o)-1)+"__@"}return"function"===i?"@__F-"+r+"-"+(d.push(o)-1)+"__@":"undefined"===i?"@__U-"+r+"-"+(h.push(o)-1)+"__@":t},n.space))?String(u):(!0!==n.unsafe&&(u=u.replace(l,m)),0===d.length&&0===p.length&&0===f.length&&0===g.length&&0===b.length&&0===h.length?u:u.replace(o,(function(t,r,o){return"D"===r?'new Date("'+f[o].toISOString()+'")':"R"===r?"new RegExp("+e(p[o].source)+', "'+p[o].flags+'")':"M"===r?"new Map("+e(Array.from(g[o].entries()),n)+")":"S"===r?"new Set("+e(Array.from(b[o].values()),n)+")":"U"===r?"undefined":function(e){var t=e.toString();if(i.test(t))throw new TypeError("Serializing native function: "+e.name);if(a.test(t))return t;if(s.test(t))return t;var n=t.indexOf("("),r=t.substr(0,n).trim().split(" ").filter((function(e){return e.length>0}));return r.filter((function(e){return-1===c.indexOf(e)})).length>0?(r.indexOf("async")>-1?"async ":"")+"function"+(r.join("").indexOf("*")>-1?"*":"")+t.substr(n):t}(d[o])})))}},"./src/components/analytics/ParselyReporter.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/session/RequireFlag.tsx"),d=n("./src/components/session/WithFlag.tsx"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/framework/source/SourceContext.tsx"),g=n("./src/util/hooks/useScript.tsx"),b=n("./src/util/hooks/useTimer.tsx");function h(){var e=Object(b.a)();return function(t){var n=t.resource,r=t.callback,o=t.max,i=t.ms;return function t(n){var r=n.resource,o=n.callback,i=n.max,a=n.ms,s=n.tries;if(s<i)try{o(r())}catch(n){e((function(){return t({resource:r,callback:o,max:i,ms:2*a,tries:s+1})}),a)}}({resource:n,callback:r,max:o||Number.POSITIVE_INFINITY,ms:i||1,tries:0})}}n.d(t,"a",(function(){return E}));function x(e){var t=e.currentLocation,n=e.referrer,r=e.referrerSource,o=function(e){return e?e.mediumMemberAt?"member":"user":"visitor"}(e.viewer);return y(t,n,r,o),null}var y=function(e,t,n,r){var i=Object(g.a)("//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js",{id:"parsely-cf"}),a=o()(i,2),s=a[0],l=a[1],u=h();c.useEffect((function(){s&&!l&&u({resource:function(){return window.PARSELY.beacon},callback:function(){return window.PARSELY.beacon.trackPageView({url:v(e,n),urlref:t,js:1,data:{viewerStatus:r}})},max:10})}),[e,t,s,l])};function v(e,t){if(!e)return"";if(!t)return e;var n=new URL(e),r=Object(f.c)(t),i=r.name,a=r.dimension;if(i&&n.searchParams.set("utm_medium",i),a){var s=a.split("."),l=o()(s,3),c=l[0],u=l[1],m=l[2];c&&n.searchParams.set("utm_source",c),u&&n.searchParams.set("utm_term",u),m&&n.searchParams.set("utm_content",m)}return n.toString()}var E=Object(u.c)((function(e){var t=e.config.isAmp,n=e.client.isBot,r=e.navigation;return{isAmp:t,isBot:n,currentLocation:r.currentLocation,referrer:r.referrer,referrerSource:r.referrerSource}}))((function(e){var t=e.isBot,n=e.isAmp,r=l()(e,["isBot","isAmp"]);return t||n?null:c.createElement(m.a,{name:"enable_parsely"},c.createElement(d.a,{name:"dont_track_user"},(function(e){return e?null:c.createElement(c.Fragment,null,c.createElement("script",null,"window.PARSELY = window.PARSELY || {autotrack: false}"),c.createElement(p.b,null,(function(e){return c.createElement(x,a()({},r,{viewer:e}))})))})))}))},"./src/components/audio/AudioPlayback.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n.n(m),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/upsell/UpsellClickable.tsx"),g=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/index.ts"),h=n("./src/framework/reporter/index.ts"),x=n("./src/framework/source/index.ts"),y=n("./src/framework/style/index.ts"),v=n("./src/framework/track/UpsellPresentationTracker.tsx"),E=n("./src/styles/font.ts"),S=n("./src/svg/audio-21px.svg");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=d.a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},d.a.createElement("rect",{width:6,height:17,rx:2}),d.a.createElement("rect",{x:9,width:6,height:17,rx:2})),j=function(e){return d.a.createElement("svg",C({width:25,height:25},e),w)};function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=d.a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"}),L=function(e){return d.a.createElement("svg",O({width:25,height:25},e),_)};function k(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return k=function(){return e},e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return U}));var P={duration:0,elapsed:0,playing:!1},T=function(e,t){switch(t.type){case"load":return M({},e,{duration:t.duration});case"play":return M({},e,{playing:!0});case"pause":return M({},e,{playing:!1});case"seek":return M({},e,{elapsed:t.clickedTime});case"progress":return M({},e,{elapsed:t.elapsed});case"end":return M({},e,{playing:!1});default:return e}},A={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:"0"},"100%":{opacity:"1"}},B={"0%":{opacity:"1",visibility:"visible"},"99%":{opacity:"0"},"100%":{visibility:"hidden"}},R=function(e){var t=e.postId,n=e.audioVersionUrl,r=Object(y.useCx)(),o=m.useReducer(T,P),i=a()(o,2),s=i[0],l=i[1],c=s.duration,u=s.elapsed,d=s.playing,p=Object(y.useKeyframes)({fadeInKeyframesName:A,fadeOutKeyframesName:B}),f=p.fadeInKeyframesName,x=p.fadeOutKeyframesName,v=m.useState(!1),E=a()(v,2),S=E[0],C=E[1],w=m.useState(!1),O=a()(w,2),_=O[0],k=O[1],I=m.useCallback((function(){C((function(e){return k(!!e),!1}))}),[]),M=m.useCallback((function(){C((function(e){return k(!e),!0}))}),[]),R=Object(h.c)();m.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),m.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]);var D=function(e){var t=e.children,n=e.onClick,r=Object(y.useCx)();return m.createElement("button",{onMouseUp:n,className:r((function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",":focus":{outline:"none"},color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}}))},t)};return m.createElement(g.b,{display:"flex",justifyContent:"center",margin:"20px 0"},m.createElement("audio",{id:"audio-player"},m.createElement("source",{src:n})),m.createElement(g.b,{display:"flex",alignItems:"center",flexGrow:"1"},m.createElement(g.b,{marginRight:"16px"},m.createElement((function(e){var n=e.playing,r=m.useCallback((function(){var e=document.getElementById("audio-player");n?(R.event("audio.end",{postId:t}),e.pause(),l({type:"pause"})):(R.event("audio.start",{postId:t}),e.play(),l({type:"play"}))}),[n]);return m.createElement(D,{onClick:r},n?m.createElement(j,null):m.createElement(L,null))}),{playing:d})),m.createElement(g.b,{display:"flex",flexDirection:"column",flexGrow:"1"},m.createElement(b.a,{scale:"M",color:"DARKER"},"Listen to this story"),m.createElement((function(e){var t=e.duration,n=e.elapsed,o=e.isProgressBeanVisible,i=e.onMouseEnterProgressBar,a=e.onMouseLeaveProgressBar,s=e.onTimeUpdate,l=n&&t?Math.max(0,Math.min(n/t*100,100)):0;function c(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}function u(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}var d=[function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",left:"".concat(l,"%"),cursor:"pointer",opacity:o?1:0}}];return _&&d.push({animation:"".concat(o?f:x," .2s ease-in-out forwards")}),m.createElement(g.b,{display:"flex",alignItems:"center"},m.createElement(g.b,{width:"28px",marginRight:"12px",textAlign:"left"},m.createElement(b.a,{scale:"M"},n?c(n):"--:--")),m.createElement("div",{className:r((function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(l,"%, ").concat(e.baseColor.background.normal," 0)")}})),id:"audio-player-progress-bar",onMouseDown:function(e){function t(e){s(u(e))}s(u(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t),a()}))},onMouseEnter:i,onMouseLeave:a},m.createElement("div",{className:r(d),onAnimationEnd:function(){return k(!1)}})),m.createElement(g.b,{width:"28px",marginLeft:"12px",textAlign:"right"},m.createElement(b.a,{scale:"M"},t?c(t):"--:--")))}),{elapsed:u,duration:c,isProgressBeanVisible:S,onMouseEnterProgressBar:M,onMouseLeaveProgressBar:I,onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})}}))))},D=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},z=function(e){return{color:e.baseColor.text.light,fontSize:"14px"}},N=function(e){var t=e.post,n=Object(y.useCx)();return m.createElement(g.B,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},m.createElement(S.a,{className:n(D)}),m.createElement(g.d,{className:n([Object(E.g)(),z])},"Psst... there’s an audio version of this story."," ",m.createElement(f.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function F(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return m.createElement(g.b,{marginTop:"30px"},m.createElement(p.b,null,(function(e){return e&&!!e.mediumMemberAt||!o?m.createElement(R,{postId:n,audioVersionUrl:r}):m.createElement(x.b,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},m.createElement(v.a,null,m.createElement(N,{post:t})))})))}var U=u()(k(),f.b)},"./src/components/broadcast-banner/BroadcastBanner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/lodash/cloneDeep.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./src/components/broadcast-banner/useCdcMessaging.tsx"),p=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/index.ts"),g=n("./src/svg/exclamation-25px.svg");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.tier,n=e.topics,r=e.tags,o=e.isLocked,i=e.omitTopMargin,s=e.postId,c=e.isTopicPage,b=Object(d.a)({tier:t,topics:n,tags:r,flag:"covid_19_cdc_banner",isLocked:o,postId:s,isTopicPage:c}),x=b.shouldShowCdcMessaging,y=b.message,v=m.useCallback((function(){return function(e){for(var t=u()(e),n=t.markups,r=t.text,o=[r],i=0,s=Object.entries(n);i<s.length;i++){var c=l()(s[i],2),m=c[0],d=c[1],p=o.pop();if(!p||"string"!=typeof p){o=[r];break}var f=p.substring(0,d.start),g=p.substring(d.start,d.end),b=p.substring(d.end);o=[].concat(a()(o),[f,h({text:g},d),b]);for(var x=Number(m)+1;x<n.length;x++)n[x].start=n[x].start-d.end,n[x].end=n[x].end-d.end}return o}(y)}),[y]);if(!x)return null;var E=v();return m.createElement(p.b,{border:"BASE_LIGHTER",borderRadius:"4px",backgroundColor:"BASE_LIGHT",position:"relative",marginTop:i?void 0:"24px",marginBottom:"15px",display:"flex",flexDirection:"row",padding:"24px",maxWidth:"100%"},m.createElement(p.b,{marginRight:"8px",position:"relative",left:"-4px",top:"-4px",marginBottom:"-10px"},m.createElement(g.a,null)),m.createElement(p.b,{flexGrow:"1",position:"relative",top:"-3px",maxWidth:"calc(100% - 33px)",marginBottom:"-6px"},m.createElement(f.a,{scale:"L",color:"DARKER",tag:"p"},E.map((function(e,t){return"string"==typeof e?m.createElement(m.Fragment,{key:"parsedBroadcastMessage-".concat(t)},e):m.createElement(p.u,{key:"parsedBroadcastMessage-".concat(t),linkStyle:"OBVIOUS",href:e.href,target:"_blank"},e.text)})))))}},"./src/components/broadcast-banner/useCdcMessaging.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/components/session/useFlag.tsx"),i={1:"tierA",2:"tierA",other:"tierA"},a=function(e){var t=e.tags,n=void 0===t?[]:t,a=e.topics,s=void 0===a?[]:a,l=e.tier,c=e.flag,u=e.isLocked,m=e.isTopicPage,d=e.postId,p=Boolean(Object(o.a)(c)),f=Object(r.f)((function(e){return{sharedCdcMessaging:e.config.sharedCdcMessaging}}),r.d).sharedCdcMessaging,g=f.COVID_APPLICABLE_TAG_SLUGS,b=f.COVID_APPLICABLE_TOPIC_NAMES,h=f.COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE,x=f.COVID_MESSAGES;if(f.COVID_BANNER_POST_ID_OVERRIDE_WHITELIST.includes(d||""))return{shouldShowCdcMessaging:!1,message:x[i.other]};var y=g.map((function(e){return e.toLowerCase()})),v=(m?h:b).map((function(e){return e.toLowerCase()})),E=n.map((function(e){return y.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),S=s.map((function(e){return v.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowCdcMessaging:p&&!(!E&&!S),message:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,a=r.some((function(e){return t.includes(e?e.toLowerCase():"")}));return a&&o&&[1,2].includes(n||0)?e.paywall:null==n?e[i.other]:e[i[n]||"tierB"]}(x,v,l,s,u)}}},"./src/components/collection/CollectionFollowButton.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return V}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),u=n.n(c),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d=n("./node_modules/graphql-tag/src/index.js"),p=n.n(d),f=n("./node_modules/react/index.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./src/components/session/WithViewer.tsx"),h=n("./src/components/style/BaseThemeProvider.tsx"),x=n("./src/components/susi/SusiClickable.tsx"),y=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),E=n("./src/framework/design-system/type/index.ts"),S=n("./src/framework/reporter/index.ts"),C=n("./src/framework/source/index.ts"),w=n("./src/framework/style/index.ts"),j=n("./src/framework/track/index.ts"),O=n("./src/styles/theme.ts"),_=n("./src/svg/arrow-down-21px.svg"),L=n("./src/util/routes.ts");function k(){var e=u()(["\n  mutation UnsubscribeCollectionEmailsMutation($id: ID!) {\n    unsubscribeCollectionEmails(collectionId: $id) {\n      __typename\n      id\n      isUserSubscribedToCollectionEmails\n    }\n  }\n"]);return k=function(){return e},e}function I(){var e=u()(["\n  mutation SubscribeCollectionEmailsMutation($id: ID!) {\n    subscribeCollectionEmails(collectionId: $id) {\n      __typename\n      id\n      isUserSubscribedToCollectionEmails\n    }\n  }\n"]);return I=function(){return e},e}function M(){var e=u()(["\n  mutation UnfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerIsFollowing\n    }\n  }\n"]);return M=function(){return e},e}function P(){var e=u()(["\n  mutation FollowCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      __typename\n      id\n      viewerIsFollowing\n    }\n  }\n"]);return P=function(){return e},e}function T(){var e=u()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    canToggleEmail\n    slug\n    isUserSubscribedToCollectionEmails\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return T=function(){return e},e}function A(){var e=u()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return A=function(){return e},e}var B=p()(A()),R=p()(T(),L.D,x.b),D=function(e){var t=e.children,n=e.extraTopPadding,r=e.extraBottomPadding,o=e.padding,i=e.margin,a=e.borderTop;return f.createElement(y.b,{padding:o||"".concat(n?"20px":"5px"," 20px ").concat(r?"20px":"5px"," 20px"),margin:i,borderTop:a?"BASE_LIGHTER":"NONE"},t)},z=p()(P()),N=p()(M()),F=p()(I()),U=p()(k()),H={position:"relative",left:"6px"},X=function(e){return{followCollectionMutation:function(e){var t=Object(m.d)(z),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,viewerIsFollowing:!0}}})}),[e])}(e),unfollowCollectionMutation:function(e){var t=Object(m.d)(N),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,viewerIsFollowing:!1}}})}),[e])}(e),subscribeCollectionEmailsMutation:function(e){var t=Object(m.d)(F),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{subscribeCollectionEmails:{__typename:"Collection",id:e.id,isUserSubscribedToCollectionEmails:!0}}})}),[e])}(e),unsubscribeCollectionEmailsMutation:function(e){var t=Object(m.d)(U),n=l()(t,1)[0];return f.useCallback((function(){return n({variables:{id:e.id},optimisticResponse:{unsubscribeCollectionEmails:{__typename:"Collection",id:e.id,isUserSubscribedToCollectionEmails:!1}}})}),[e])}(e)}},V=function(e){var t=Object(w.useCx)(),n=Object(g.f)((function(e){return e.config.isAmp})),r=e.collection,i=e.post,s=r&&r.name?r.name:"",c=Object(S.c)(),u=Object(C.d)(),m=f.useState(!!e.isPopoverVisible),d=l()(m,2),p=d[0],L=d[1],k=f.useState(!!e.isToastVisible),I=l()(k,2),M=I[0],P=I[1],T=X(r),A=T.followCollectionMutation,B=T.unfollowCollectionMutation,R=T.subscribeCollectionEmailsMutation,z=T.unsubscribeCollectionEmailsMutation,N=f.useCallback((function(){L(!1)}),[]);f.useEffect((function(){return j.a.on("scroll",N),function(){j.a.off("scroll",N)}}),[N]);var F=f.useCallback((function(){r.viewerIsFollowing||(c.event("collection.followed",{collectionId:r.id,followSource:u}),A()),L(!0)}),[r]),U=f.useCallback((function(){c.event("collection.unfollowed",{collectionId:r.id,followSource:u}),B(),L(!1)}),[]),V=f.useCallback((function(){L(!1)}),[]),G=f.useCallback((function(e){c.event("client.action",{action:"toggle-subscribe-collection-emails",eventType:"click",classAttribute:"checkbox"}),e.target.checked?R():z(),P(!0)}),[]),$=f.useCallback((function(){P(!1)}),[]);if(n)return null;if(e.simpleButton)return W(r,e,F,U);var K=!!r.isUserSubscribedToCollectionEmails;return f.createElement(f.Fragment,null,f.createElement(y.x,{isVisible:!!p,hide:V,popoverTheme:O.a,popoverRenderFn:function(){return f.createElement(y.b,{width:"280px",display:"flex",flexDirection:"column"},f.createElement(D,{extraTopPadding:!0},f.createElement(E.b,{scale:"XS"},"You‘re following ",s)),f.createElement(D,null,f.createElement(y.d,null,"You‘ll now see more stories from ",s," across Medium.")),r.canToggleEmail&&f.createElement(D,null,f.createElement(y.d,null,f.createElement("label",null,f.createElement(y.b,{display:"inline",marginRight:"5px"},f.createElement("input",{type:"checkbox",onChange:G,checked:K})),"Receive emails from this publication"))),f.createElement(D,{extraBottomPadding:!0},f.createElement(y.d,null,f.createElement(y.u,{onClick:U,linkStyle:"OBVIOUS",inline:!0},"Unfollow publication"))))}},f.createElement((function(e){var t=e.buttonSize,n=void 0===t?"SMALL":t,s=a()(e,["buttonSize"]);return f.createElement(b.b,null,(function(t){return t?f.createElement(y.c,o()({size:n,onClick:F},s),e.children):f.createElement(x.a,o()({collection:r,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:n,operation:"register",actionUrl:q(r,i)},s),e.children)}))}),{buttonSize:e.buttonSize,buttonStyle:r.viewerIsFollowing?"STRONG":"OBVIOUS"},r.viewerIsFollowing?"Following":"Follow",r.viewerIsFollowing&&f.createElement("span",{className:t(H)},f.createElement(_.a,null)))),f.createElement(h.b,null,f.createElement(v.a,{isVisible:!!M,hide:$,duration:2e3},f.createElement(y.d,null,K?"You‘ll now receive emails from ".concat(s,"."):"You‘ll no longer receive emails from ".concat(s,".")))))},q=function(e,t){return e.slug&&(t&&t.id?Object(L.Ib)(e.slug,t.id):Object(L.Hb)(e.slug))},W=function(e,t,n,r){return f.createElement(b.b,null,(function(o){return o?f.createElement(y.c,{size:"REGULAR",onClick:e.viewerIsFollowing?r:n,buttonStyle:e.viewerIsFollowing?"STRONG":"OBVIOUS"},e.viewerIsFollowing?"Following":"Follow"):f.createElement(x.a,{collection:e,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:q(e,t)},e.viewerIsFollowing?"Following":"Follow")}))}},"./src/components/collection/CollectionLogo.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/components/ui/image/index.ts"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/type/Type.tsx"),m=n("./src/framework/style/index.ts"),d=n("./src/util/miroImage.ts");function p(){var e=o()(["\n  fragment CollectionLogo_collection on Collection {\n    name\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n"]);return p=function(){return e},e}function f(e){var t,n=e.clamp,r=void 0===n?1:n,o=e.collection,i=e.maxWidth,a=e.maxHeight,p=e.textScale,f=void 0===p?"S":p,g=e.withTextColorSubtle,b=void 0!==g&&g,h=Object(m.useTheme)();if(!o.logo||!o.logo.id)return s.createElement(u.a,{fontConfig:h.newFonts.heading,scale:f,tag:"span",additionalRules:(t=b?"normal":"dark",function(e){return{color:e.baseColor.text[t]}}),clamp:r},o.name||"");var x=o.logo,y=x.id,v=x.originalWidth||100,E=x.originalHeight||100;if(i&&v>i){var S=v/i;v=Math.floor(v/S),E=Math.floor(E/S)}if(a&&E>a){var C=E/a;v=Math.floor(v/C),E=Math.floor(E/C)}return s.createElement(c.b,{width:"".concat(v,"px"),height:"".concat(E,"px")},s.createElement(l.b,{miroId:y,alt:o.name||"Publication logo",width:v,height:E,strategy:d.a.Resample}))}var g=a()(p())},"./src/components/collection/CollectionMetabar.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/@babel/runtime/helpers/extends.js"),f=n.n(p),g=n("./src/components/collection/CollectionLogo.tsx"),b=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/Type.tsx"),x=n("./src/framework/style/index.ts"),y=n("./src/styles/breakpoints.ts");function v(){var e=o()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return v=function(){return e},e}var E=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},a()(t,y.sm(e),{display:"none"}),a()(t,"marginTop","".concat(20,"px")),a()(t,"paddingTop","".concat(20,"px")),a()(t,"height","".concat(80,"px")),t},S={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},C=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function w(e){var t=e.navItems,n=e.withTextColorSubtle,r=Object(x.useCx)(),o=Object(x.useTheme)();return t?m.createElement("ul",{className:r(E)},t.map((function(e,t){return e.url&&m.createElement(m.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&m.createElement("span",{className:r(C)}),m.createElement("li",{className:r(S)},m.createElement(h.a,{fontConfig:o.newFonts.detail,scale:"S",tag:"span",additionalRules:(i=n?"lighter":"normal",function(e){return{color:e.baseColor.text[i],textTransform:"uppercase",letterSpacing:"1px"}})},m.createElement(b.u,{href:e.url},e.title))));var i}))):null}var j=u()(v()),O=n("./src/components/navigation/Anchor.tsx"),_=n("./src/framework/design-system/typedefs/responsiveStyles.ts"),L=n("./src/util/routes.ts"),k=n("./src/util/theme.ts");function I(){var e=o()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var M=u()(I(),j,g.b,L.D,k.b),P=Object(d.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.collection,n=e.currentLocation,r=e.shouldShowCollectionLogo,o=void 0===r||r,i=e.withBorderTop,s=void 0!==i&&i,l=e.withTextColorSubtle,c=void 0!==l&&l,u=e.breakpoint,d=void 0===u?_.a.sm:u,p=t.navItems.slice().length>0;return m.createElement(b.b,f()({backgroundColor:"BACKGROUND",display:p?"block":"none",borderTop:s?"BASE_LIGHTER":"NONE"},a()({},d,{display:"block"})),m.createElement(b.w,null,m.createElement(b.b,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},o?m.createElement(b.b,{flexShrink:"0",marginRight:"40px"},m.createElement(O.a,{href:Object(L.C)(t,n)},m.createElement(g.a,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:c}))):null,m.createElement(b.b,{flexShrink:"1",overflow:"auto"},m.createElement(w,{navItems:t.navItems,withTextColorSubtle:c})))))})),T=n("./src/components/metabar/Logo.tsx"),A=n("./src/components/metabar/MetabarActions.tsx"),B=n("./src/components/metabar/MetabarActionsLO.tsx"),R=n("./src/components/metabar/OpenInAppLink.tsx"),D=n("./src/components/metabar/constants.ts"),z=n("./src/components/session/WithViewer.tsx"),N=n("./src/components/session/useFlag.tsx"),F=n("./src/styles/zIndex.ts");function U(){var e=o()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_collection\n  }\n  ","\n  ","\n  ","\n"]);return U=function(){return e},e}var H=u()(U(),g.b,L.D,A.a),X=Object(d.c)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.authDomain,n=e.collection,r=e.currentLocation,o=e.isAmp,i=e.post,s=e.searchWidgetReplacement,l=e.shouldShowCollectionLogo,c=e.withMonogramDark,u=e.setIsMetabarLocked,d=e.breakpoint,p=void 0===d?_.a.sm:d,h=!!Object(N.a)("enable_li_open_in_app");return m.createElement(b.b,{backgroundColor:"BACKGROUND"},m.createElement(b.w,null,m.createElement(b.b,f()({display:"flex",alignItems:"center",height:"".concat(D.a,"px")},a()({},p,{display:"flex",height:"".concat(D.c,"px")})),m.createElement(b.b,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:F.a.metabar},m.createElement(O.a,{href:"https://".concat(t,"/"),"aria-label":"Homepage"},m.createElement(T.a,{dark:c})),l&&m.createElement(m.Fragment,null,m.createElement(b.b,f()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},a()({},p,{display:"none"}))),m.createElement(b.b,a()({},p,{display:"none"}),m.createElement(O.a,{href:Object(L.C)(n,r)},m.createElement(g.a,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"})))),m.createElement(z.b,null,(function(e){return h&&e?m.createElement(R.a,{postId:i&&i.id,viewer:e}):m.createElement(m.Fragment,null)}))),m.createElement(b.b,{flexGrow:"0",zIndex:F.a.metabar},o?m.createElement(B.a,{withoutConversionButton:!0,post:i}):m.createElement(A.c,{post:i,collection:n,searchWidgetReplacement:s,withoutConversionButton:!0,setIsMetabarLocked:u})))))})),V=n("./src/components/metabar/MetabarLayout.tsx"),q=n("./src/components/ui/banners/AlternateUserTopBanner.tsx"),W=n("./src/metadata/Favicon.tsx");function G(){var e=o()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    colorBehavior\n    isAuroraVisible\n    favicon {\n      id\n    }\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...ThemeUtilTintBackground_collection\n    ...ThemeUtilAccent_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return G=function(){return e},e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){return D.a+(e?D.b:0)}function Y(e){return D.c+(e?D.b:0)}function Q(e,t){return Object(k.k)(e.colorPalette.tintBackgroundSpectrum,t)}function J(e,t){return Object(k.c)(e.colorPalette.defaultBackgroundSpectrum,e.colorPalette.highlightSpectrum,t)}function Z(e){var t,n=Object(x.useTheme)(),r=e.post,o=e.collection,i=e.isAmp,a=e.isFixed,s=e.behavior,c=e.shouldShowBottomMetabar,u=void 0===c||c,p=o.navItems&&o.navItems.length>0,f=m.useState(!1),g=l()(f,2),h=g[0],y=g[1],v=m.useState(!1),E=l()(v,2),S=E[0],C=E[1],w=!!Object(N.a)("make_nav_sticky")&&S,j="ACCENT_COLOR"===o.colorBehavior,O=Object(d.f)((function(e){return e.client.isNativeMedium}));if(m.useEffect((function(){window.innerWidth<n.breakpoints.sm&&C(!0)}),[]),O)return null;var _=u&&m.createElement(b.G,{theme:j?J(o,n):Q(o,n)},m.createElement(P,{collection:o,withBorderTop:j,withTextColorSubtle:j}));return m.createElement(m.Fragment,null,m.createElement(V.a,{height:K(p&&u),heightSm:Y(!w&&u),isFixed:w||a,isLocked:w||h,behavior:s,marginBottom:0,marginBottomSm:0},m.createElement(W.a,{faviconImageId:null==o||null===(t=o.favicon)||void 0===t?void 0:t.id}),j||p?m.createElement(b.G,{theme:J(o,n)},m.createElement(X,{post:r,collection:o,isAmp:i,shouldShowCollectionLogo:!p||!u,withMonogramDark:!1,setIsMetabarLocked:y})):m.createElement(m.Fragment,null,m.createElement(b.G,{theme:Q(o,n)},m.createElement(b.b,{display:"block",sm:{display:"none"}},m.createElement(X,{post:r,collection:o,isAmp:i,shouldShowCollectionLogo:!0,withMonogramDark:!0,setIsMetabarLocked:y}))),m.createElement(b.G,{theme:J(o,n)},m.createElement(b.b,{display:"none",sm:{display:"block"}},m.createElement(X,{post:r,collection:o,isAmp:i,shouldShowCollectionLogo:!1,withMonogramDark:!1,setIsMetabarLocked:y})))),!w&&_),m.createElement(q.a,null),w&&_)}function ee(e){var t,n=e.post,r=e.collection,o=e.isAmp,i=e.isFixed,s=e.behavior,c=e.searchWidgetReplacement,u=e.shouldShowCollectionLogo,p=void 0===u||u,f=e.shouldShowBottomMetabar,g=void 0===f||f,h=Object(x.useTheme)(),y="ACCENT_COLOR"===r.colorBehavior,v=y?J(r,h):Q(r,h),E=m.useState(!1),S=l()(E,2),C=S[0],w=S[1],j=Object(N.a)("enable_new_pub_header"),O=!!Object(N.a)("make_nav_sticky")&&C,L=y?"#E5E5E5":v.baseColor.border.light,k=m.useState(!1),I=l()(k,2),M=I[0],T=I[1],A=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{navItems:[]}),B=A.navItems&&A.navItems.length>0,R=g&&(p||B),D=Object(d.f)((function(e){return e.client.isNativeMedium}));if(m.useEffect((function(){window.innerWidth<h.breakpoints.sm&&w(!0)}),[]),D)return null;var z=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:".4"}},F=m.createElement(P,{collection:A,shouldShowCollectionLogo:p,withBorderTop:y,withTextColorSubtle:y,breakpoint:_.a.xs});return m.createElement(m.Fragment,null,m.createElement(V.a,{borderColor:j?L:void 0,height:K(B&&g),heightSm:Y(!O&&p&&g),isFixed:O||i,isLocked:O||M,behavior:s,marginBottom:0,marginBottomSm:0,breakpoint:_.a.xs},m.createElement(W.a,{faviconImageId:null==r||null===(t=r.favicon)||void 0===t?void 0:t.id}),m.createElement(b.G,{theme:v},m.createElement(b.b,{backgroundColor:"BACKGROUND"},m.createElement(X,{post:n,collection:A,isAmp:o,searchWidgetReplacement:c,shouldShowCollectionLogo:p&&(!B||!g),withMonogramDark:!y,setIsMetabarLocked:T,breakpoint:_.a.xs}),R&&!y?m.createElement(x.WithCx,null,(function(e){return m.createElement("div",{className:e(z)})})):null,!O&&R&&F))),m.createElement(q.a,null),O&&R&&m.createElement(b.G,{theme:v},m.createElement(b.b,{backgroundColor:"BACKGROUND"},F)))}function te(e){return e.collection.isAuroraVisible?m.createElement(ee,e):m.createElement(Z,e)}n.d(t,"b",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return ne}));var ne=u()(G(),H,M,k.b,k.a)},"./src/components/collection/ShortformDialogEditor/ShortformDialogEditorLauncher.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/react-loadable/lib/index.js"),p=n.n(d),f=n("./src/components/style/BaseThemeProvider.tsx"),g=n("./src/framework/design-system/components/index.ts"),b=function(e){var t=e.resetEditor,n=e.back;return m.createElement(f.b,null,m.createElement(g.h,{buttonStyle:"OBVIOUS",isVisible:!0,hide:n,withCloseButton:!1,titleText:"Delete this story?",confirmText:"Yes, delete my story",cancelText:"No, keep editing",showCancelButton:!0,onConfirm:t},"Your story will be deleted permanently."))},h=n("./src/util/routes.ts");function x(){var e=o()(["\n  fragment ShortformDialogEditor_post on Post {\n    id\n    isShortform\n    shortformType\n  }\n"]);return x=function(){return e},e}function y(){var e=o()(["\n  fragment ShortformDialogEditor_collection on Collection {\n    id\n    ...ShortformDialogEditorUI_collection\n  }\n  ","\n"]);return y=function(){return e},e}function v(){var e=o()(["\n  fragment ShortformDialogEditorUI_collection on Collection {\n    id\n    ...collectionUrl_collection\n  }\n  ","\n"]);return v=function(){return e},e}var E=u()(v(),h.D),S=u()(y(),E),C=u()(x()),w=n("./src/components/collection/ShortformDialogEditor/ShortformDialogEditorLauncherContext.tsx"),j=n("./src/screens/ErrorScreen.tsx"),O=n("./src/screens/LoadingScreen.tsx");function _(){var e=o()(["\n  fragment ShortformDialogEditorLauncher_post on Post {\n    id\n    isShortform\n    shortformType\n    collection {\n      ...ShortformDialogEditorLauncher_collection\n    }\n    ...ShortformDialogEditor_post\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}function L(){var e=o()(["\n  fragment ShortformDialogEditorLauncher_collection on Collection {\n    id\n    viewerIsEditor\n    ...ShortformDialogEditor_collection\n  }\n  ","\n"]);return L=function(){return e},e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return A}));var I={delay:300,timeout:2e4,loading:function(e){return e.error?m.createElement(j.a,{error:e.error}):e.timedOut?m.createElement(j.a,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?m.createElement(O.a,null):null}},M=p()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},I,{loader:function(){return Promise.all([n.e(7),n.e(40)]).then(n.bind(null,"./src/components/collection/ShortformDialogEditor/ShortformDialogEditor.tsx"))},modules:["src/components/collection/ShortformDialogEditor/ShortformDialogEditor"],webpack:function(){return["./src/components/collection/ShortformDialogEditor/ShortformDialogEditor.tsx"]},render:function(e,t){var n=e.ShortformDialogEditor;return m.createElement(n,t)}}));function P(e){var t=e.children,n=e.collection,r=e.post,o=e.visible,i=m.useState(null),s=a()(i,2),l=s[0],c=s[1],u=m.useState(!1),d=a()(u,2),p=d[0],f=d[1],h=m.useState(!1),x=a()(h,2),y=x[0],v=x[1],E=l&&!p?"block":"none",S=m.useState(!1),C=a()(S,2),j=C[0],O=C[1],_=m.useState(0),L=a()(_,2),k=L[0],I=L[1],P=m.useCallback((function(){y||f(!0)}),[y,f]),T=m.useCallback((function(){c(null),f(!1),I(Date.now())}),[c]),A=!r,B=r&&r.isShortform&&r.collection,R=m.useCallback((function(){r&&B&&c(r.shortformType)}),[r]);if(!o||!A&&!B)return t;var D=r?r.collection:n;if(!(null==D?void 0:D.viewerIsEditor))return t;l&&!j&&O(!0);var z={openShortformEditorForType:c,openCancelDialog:f,lastResetTime:k,requestReset:I,setCancelPaused:v,cancelPaused:y};return r&&(z.openShortformEditorForPost=R),m.createElement(w.a.Provider,{value:z},t,p&&m.createElement(b,{back:function(){return f(!1)},resetEditor:T}),j&&l&&m.createElement(g.b,{display:E},m.createElement(g.j,{noPortal:!0,isVisible:!0,hide:P,withCloseButton:!1},m.createElement(M,{collection:n,post:r,shortformType:l}))))}var T=u()(L(),S),A=u()(_(),T,C)},"./src/components/collection/ShortformDialogEditor/ShortformDialogEditorLauncherContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n("./node_modules/react/index.js"),o=r.createContext({});function i(){return r.useContext(o)}},"./src/components/collection/package/collectionIdToNameMaps.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={"standard.dev:8080":{"62cd982de8d4":"gen","504c53fa76fb":"level",fa6fc47570d7:"onezero","1cc8061583f5":"zora","9a23b344dad1":"vanilla"},"hatch.dm":{"9d578d280b62":"level",a5430dacbfe:"gen","920465cb4905":"onezero",c30162111b49:"zora",f622191829f2:"vanilla"},"medium.com":{ae2a65f35510:"gen","88d9857e584e":"level","444d13b52878":"onezero","8ccfed20cbb2":"zora","8a9336e5bb4":"vanilla"}},o=function(e,t){return r[e][t]||"vanilla"}},"./src/components/collection/package/interim-components/CollectionFontController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-helmet-async/lib/index.module.js"),i=n("./node_modules/react-redux/es/index.js"),a=n("./src/components/collection/package/packageTheme.ts"),s=n("./src/util/glyph.ts"),l=Object(i.c)((function(e){var t=e.config;return{isAmp:t.isAmp,glyphUrl:t.glyphUrl}}))((function(e){var t=e.isAmp,n=e.isPostScreen,i=e.glyphUrl,l=e.pubName,c=n?a.d[l].glyphPath:Object(a.c)(l).glyphPath;return r.createElement(o.a,null,r.createElement("link",{id:"glyph_publication_link",rel:"stylesheet",type:"text/css",href:Object(s.a)({fontFamilyPath:c,glyphUrl:i,glyphFontSet:l,isAmp:t})}))}))},"./src/components/collection/package/packageTheme.ts":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/components/collection/package/themes/gen.ts"),c=n("./src/styles/colors.ts"),u="#03A87C",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{glyphPath:"/e/vfr/latin/e/vsb/latin/e/vssb/latin",colors:{subtleColor:c.e,verySubtleColor:c.d,primaryBackgroundColor:c.F,primaryTextAccentColor:e.accentColor||u,primaryTextMainColor:c.c,secondaryBackgroundColor:c.F,secondaryTextAccentColor:e.accentColor||u,secondaryTextMainColor:"#292929",tertiaryBackgroundColor:c.F,tertiaryTextAccentColor:e.accentColor||u,tertiaryTextMainColor:c.c,quoteBackgroundColor:"#F2F2F2",quoteTextAccentColor:e.accentColor||u,quoteTextMainColor:c.c},headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:14,M:18,L:20},lineHeight:{S:18,M:24,L:26},cropTop:0,cropBottom:0},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"vanilla-sohne, serif",weight:400,fontSize:{XS:14,S:14,M:18,L:20,XL:20},lineHeight:{XS:18,S:18,M:24,L:26,XL:26},cropTop:0,cropBottom:0},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:15,M:15,L:15},lineHeight:{S:21,M:21,L:21}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:22,S:22,M:22,L:26,XL:26},lineHeight:{XS:28,S:28,M:28,L:32,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"16px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"4px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},tertiary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:16,M:16,L:16},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:26,S:26,M:26,L:30,XL:30},lineHeight:{XS:32,S:32,M:32,L:36,XL:36}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"16px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"4px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"flex-start",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:24,M:32},lineHeight:{S:30,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:20,S:20,M:20,L:20,XL:20},lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"6px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16},cropTop:0,cropBottom:0},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16},cropTop:0,cropBottom:0},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:18,M:20,L:20},lineHeight:{S:22,M:24,L:24},cropBottom:0,cropTop:0},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:26,S:26,M:26,L:26,XL:28},lineHeight:{XS:30,S:30,M:30,L:30,XL:32},cropBottom:0,cropTop:0},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}}},d=n("./src/util/theme.ts");function p(){var e=o()(["\n  fragment PackageTheme_collection on Collection {\n    id\n    ...ThemeUtilAccent_collection\n  }\n  ","\n"]);return p=function(){return e},e}n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return x})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return v}));var f={gen:l.b,level:function(){return{glyphPath:"/e/gr/latin/e/gnm/latin",colors:{subtleColor:c.e,verySubtleColor:c.d,primaryBackgroundColor:c.F,primaryTextAccentColor:"#46908F",primaryTextMainColor:"#2E2A27",secondaryBackgroundColor:"#192545",secondaryTextAccentColor:"#D49BE8",secondaryTextMainColor:"#E5E6E1",tertiaryBackgroundColor:"#2E2A27",tertiaryTextAccentColor:"#F0BA40",tertiaryTextMainColor:"#E5E6E1",quoteBackgroundColor:"#E5E6E1",quoteTextAccentColor:"#2E2A27",quoteTextMainColor:"#2E2A27"},headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"secondaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},subtitle:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{S:12,M:14,L:18},lineHeight:{S:16,M:18,L:22}},subtitleScale:{xs:"S",sm:"S",md:"S",lg:"M",xl:"L"},title:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{XS:12,S:12,M:12,L:14,XL:18},lineHeight:{XS:16,S:16,M:16,L:18,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:17},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:18,S:18,M:20,L:20,XL:22},letterSpacing:-.2,lineHeight:{XS:22,S:22,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:30,S:30,M:30,L:30,XL:30},letterSpacing:-.2,lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:16,S:16,M:16,L:16},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"xs",sm:"s",md:"m",lg:"m",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:22,S:22,M:24,L:24,XL:24},letterSpacing:-.2,lineHeight:{XS:28,S:28,M:30,L:30,XL:30}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{S:22,M:24},lineHeight:{S:26,M:30}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:19,S:19,M:19,L:19,XL:19},letterSpacing:-.2,lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"16px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},hangingQuote:{left:"-18px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}}},detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:24,S:24,M:24,L:30,XL:30},letterSpacing:-.2,lineHeight:{XS:30,S:30,M:30,L:38,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}}},onezero:function(){return{glyphPath:"/e/yr/latin/e/ym/latin/e/yam/latin",colors:{subtleColor:c.e,verySubtleColor:c.d,primaryBackgroundColor:"#E5E9F2",primaryTextAccentColor:"#6A0BFF",primaryTextMainColor:c.c,secondaryBackgroundColor:"#6A0BFF",secondaryTextAccentColor:"#DAF832",secondaryTextMainColor:c.F,tertiaryBackgroundColor:c.F,tertiaryTextAccentColor:"#6A0BFF",tertiaryTextMainColor:c.c,quoteBackgroundColor:"#DAF832",quoteTextAccentColor:c.c,quoteTextMainColor:c.c},headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},subtitle:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{S:14,M:14,L:20},lineHeight:{S:18,M:18,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14,XL:20},lineHeight:{XS:18,S:18,M:18,L:18,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:18,S:18,M:20,L:20,XL:22},lineHeight:{XS:22,S:22,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:30,S:30,M:30,L:30,XL:30},lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"M",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:26,S:26,M:26,L:26,XL:30},lineHeight:{XS:32,S:32,M:32,L:32,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{S:22,M:30},lineHeight:{S:28,M:38}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:18,S:18,M:18,L:18,XL:18},lineHeight:{XS:22,S:22,M:22,L:22,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"16px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:18,M:18,L:18},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:26,S:26,M:26,L:26,XL:30},lineHeight:{XS:32,S:32,M:32,L:32,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}}},vanilla:m,zora:function(){return{glyphPath:"/e/zsr/latin/e/zsb/latin/e/tb/latin",colors:{subtleColor:c.e,verySubtleColor:c.d,primaryBackgroundColor:"#F8E2E7",primaryTextAccentColor:"#960564",primaryTextMainColor:c.c,secondaryBackgroundColor:"#650343",secondaryTextAccentColor:"#FACC3D",secondaryTextMainColor:c.F,tertiaryBackgroundColor:c.F,tertiaryTextAccentColor:"#960564",tertiaryTextMainColor:c.c,quoteBackgroundColor:"#FACC3D",quoteTextAccentColor:"#650343",quoteTextMainColor:"#650343"},headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:14,M:14,L:20},lineHeight:{S:18,M:18,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14,XL:20},lineHeight:{XS:18,S:18,M:18,L:18,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:16,M:18,L:20},lineHeight:{S:20,M:22,L:24}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:20,S:22,M:22,L:22,XL:24},letterSpacing:-.5,lineHeight:{XS:24,S:26,M:26,L:26,XL:28}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextMainColor"}},textAlign:"center",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:30,S:30,M:30,L:30,XL:30},letterSpacing:-.5,lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:18,M:18,L:20},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:26,S:26,M:26,L:28,XL:28},letterSpacing:-.5,lineHeight:{XS:30,S:30,M:30,L:32,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:24,M:32},lineHeight:{S:30,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:20,S:20,M:20,L:20,XL:20},letterSpacing:-.5,lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"6px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:18,M:20,L:20},lineHeight:{S:22,M:24,L:24}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:26,S:26,M:26,L:26,XL:28},letterSpacing:-.5,lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}}}},g={gen:l.a,level:{glyphPath:"/e/gr/latin/e/gnm/latin",newFonts:{overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:26,S:26,M:34,L:34,XL:34},letterSpacing:-.2,lineHeight:{XS:34,S:34,M:42,L:42,XL:42}}}},onezero:{glyphPath:"/e/yr/latin/e/ym/latin/e/yam/latin",newFonts:{overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:20},lineHeight:{S:22,M:22,L:26}},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:28,S:28,M:36,L:36,XL:36},lineHeight:{XS:34,S:34,M:42,L:42,XL:42}}}},vanilla:{newFonts:{}},zora:{glyphPath:"/e/zsr/latin/e/zsb/latin/e/tb/latin",newFonts:{overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:22,M:22,L:26}},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:30,S:30,M:40,L:40,XL:40},letterSpacing:-.5,lineHeight:{XS:34,S:34,M:44,L:44,XL:44}}}}},b="#E5E5E5",h=s.createContext(null),x=function(){return s.useContext(h)},y=function(e,t){var n;if(!e&&!t)return m();var r=null==t||null===(n=t.colorPalette)||void 0===n?void 0:n.defaultBackgroundSpectrum,o={accentColor:r?Object(d.g)(r).text.normal:void 0};return e&&f[e]?f[e](o):m(o)},v=a()(p(),d.a)},"./src/components/collection/package/themes/gen.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./src/styles/colors.ts"),o=function(){return{glyphPath:"/e/ggl/latin/e/ggb/latin/e/ggd/latin/e/ggmb/latin/e/rnd/latin",colors:{subtleColor:r.e,verySubtleColor:r.d,primaryBackgroundColor:"#F1F1F1",primaryTextAccentColor:"#FB524C",primaryTextMainColor:r.c,secondaryBackgroundColor:"#FB524C",secondaryTextAccentColor:r.c,secondaryTextMainColor:r.F,tertiaryBackgroundColor:r.c,tertiaryTextAccentColor:"#FB524C",tertiaryTextMainColor:r.F,quoteBackgroundColor:"#C1A160",quoteTextAccentColor:r.c,quoteTextMainColor:r.c},headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"tertiaryBackgroundColor",accentColor:"tertiaryTextMainColor"}},subtitle:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{S:14,M:20,L:26},lineHeight:{S:18,M:24,L:30}},subtitleScale:{xs:"S",sm:"S",md:"S",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:14,S:14,M:14,L:20,XL:26},lineHeight:{XS:18,S:18,M:18,L:24,XL:30}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:18,S:20,M:20,L:20,XL:22},lineHeight:{XS:22,S:24,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{M:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:28,S:28,M:28,L:28,XL:28},lineHeight:{XS:32,S:32,M:32,L:32,XL:32}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"16px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:24,S:24,M:24,L:24,XL:26},lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"18px",padding:"0 8px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"gen-rando, serif",weight:400,fontSize:{S:22,M:32},lineHeight:{S:28,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:18,S:18,M:18,L:18,XL:18},lineHeight:{XS:22,S:22,M:22,L:22,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"32px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},captionCredit:{detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:18,M:18,L:18},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:24,S:24,M:24,L:24,XL:26},lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}}},i={glyphPath:"/e/ggd/latin/e/ggmb/latin/e/rnd/latin",newFonts:{overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:18,M:18,L:20},lineHeight:{S:24,M:24,L:28}},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:28,S:28,M:36,L:36,XL:36},lineHeight:{XS:32,S:32,M:42,L:42,XL:42}}}}},"./src/components/collection/theming/CustomStyleWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/useFlag.tsx"),i=n("./src/framework/style/index.ts"),a=function(e){var t=e.children,n=e.styles,a=Object(i.useCx)();return Object(o.a)("enable_theme_editor")?r.createElement("div",{className:a(n)},t):r.createElement(r.Fragment,null,t)}},"./src/components/error/PostResultError.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/components/susi/RedirectToSignIn.tsx"),c=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(p),g=n("./node_modules/@babel/runtime/helpers/inherits.js"),b=n.n(g),h=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),x=function(e){function t(){return u()(this,t),d()(this,f()(t).call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id."))}return b()(t,e),t}(n.n(h)()(Error)),y=n("./src/screens/ContentErrorScreen.tsx"),v=n("./src/screens/ErrorScreen.tsx"),E=n("./src/screens/NotFoundScreen.tsx"),S=n("./src/screens/SuspendedScreen.tsx");function C(){var e=o()(["\n  fragment UnavailableForLegalReasonsScreen_unavailableForLegalReasons on UnavailableForLegalReasons {\n    lumenId\n  }\n"]);return C=function(){return e},e}function w(e){var t=e.errorData;return s.createElement(y.a,{code:451,title:"451 Not available — Medium",description:"This story is subject to a DMCA copyright or other legal or government claim.",lumenId:t.lumenId})}var j=a()(C());function O(){var e=o()(["\n  fragment WithheldInCountryScreen_withheldInCountry on WithheldInCountry {\n    lumenId\n  }\n"]);return O=function(){return e},e}function _(e){var t=e.errorData;return s.createElement(y.a,{code:451,title:"451 Not available in your country — Medium",description:"This page is not available in your country.",lumenId:t.lumenId})}var L=a()(O());function k(){var e=o()(["\n  fragment PostResultError_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n    }\n    ... on UnavailableForLegalReasons {\n      ...UnavailableForLegalReasonsScreen_unavailableForLegalReasons\n    }\n    ... on WithheldInCountry {\n      ...WithheldInCountryScreen_withheldInCountry\n    }\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return P}));var I=function(e){return!e||"Post"!==e.__typename},M=function(e){var t=e.postResult;if(!t)return s.createElement(v.a,{error:new x});switch(t.__typename){case"Unauthorized":return s.createElement(l.a,{opt_isDraft:!0});case"NotFound":return s.createElement(E.a,null);case"AccountDeleted":return s.createElement(y.a,{code:410,title:"410 Deleted by author — Medium",description:"User deactivated or deleted their account."});case"AccountSuspended":return s.createElement(S.a,{suspension:"account"});case"PostSuspended":return s.createElement(S.a,{suspension:"post"});case"RemovedByUser":return s.createElement(y.a,{code:410,title:"410 Deleted by author — Medium",description:"The author deleted this Medium story."});case"UnavailableForLegalReasons":return s.createElement(w,{errorData:t});case"WithheldInCountry":return s.createElement(_,{errorData:t});default:return s.createElement(v.a,{error:new Error("Unsupported postResult: ".concat(t.__typename))})}},P=a()(k(),j,L)},"./src/components/footer/GlobalFooter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),s=n("./src/components/metabar/Logo.tsx"),l=n("./src/components/session/WithViewer.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/styles/colors.ts"),m=n("./src/util/routes.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.authDomain,n=e.productName;return i.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.b,{paddingBottom:"12px"},i.createElement(c.u,{href:Object(m.eb)(t)},i.createElement(c.p,null,"Become a member"))),i.createElement(c.d,null,"Get unlimited access to the best stories on ",n," — and support writers while you’re at it. Just $5/month."," ",i.createElement(c.u,{href:Object(m.eb)(t),inline:!0,linkStyle:"OBVIOUS"},"Upgrade")))}function g(e){var t=e.authDomain,n=e.productName;return i.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.b,{paddingBottom:"12px"},i.createElement(c.u,{href:Object(m.Ob)(t,"members")},i.createElement(c.p,null,"Explore your membership"))),i.createElement(c.d,null,"Thank you for being a member of ",n,". You get unlimited access to insightful stories from amazing thinkers and storytellers."," ",i.createElement(c.u,{href:Object(m.Ob)(t,"members"),inline:!0,linkStyle:"OBVIOUS"},"Browse")))}var b=Object(a.c)((function(e){var t=e.config;return{authDomain:t.authDomain,productName:t.productName}}))((function(e){var t=e.authDomain,n=e.productName;return i.createElement(c.M,null,(function(e){var r=p({},e,{baseColor:p({},e.baseColor,{background:{light:u.A(.76),normal:u.A(.84),dark:u.A(.9)},border:{lighter:u.D(.1),light:u.D(.2),normal:u.D(.34),dark:u.D(.54),darker:u.D(.84)},fill:{lighter:u.D(.7),light:u.D(.8),normal:u.D(.98),dark:u.D(.99)},text:{lighter:u.D(.7),light:u.D(.8),normal:u.D(.98),dark:u.D(.99)}})});return(i.createElement(c.G,{theme:r},i.createElement(c.b,{backgroundColor:"BASE_DARK",padding:"60px 0",sm:{padding:"32px 0"}},i.createElement(c.B,null,i.createElement(c.b,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},i.createElement(c.b,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},i.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.b,{paddingBottom:"12px"},i.createElement(c.u,{href:Object(m.a)({authDomain:t,autoplay:!0})},i.createElement(c.p,null,"Discover ",n))),i.createElement(c.d,null,"Welcome to a place where words matter. On ",n,", smart voices and original ideas take center stage - with no ads in sight."," ",i.createElement(c.u,{href:Object(m.a)({authDomain:t,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Watch"))),i.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},i.createElement(c.b,{paddingBottom:"8px"},i.createElement(c.u,{href:Object(m.Pb)(t)},i.createElement(c.p,null,"Make ",n," yours"))),i.createElement(c.d,null,"Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox."," ",i.createElement(c.u,{href:Object(m.Pb)(t),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),i.createElement(l.b,null,(function(e){return e&&e.mediumMemberAt?i.createElement(g,{authDomain:t,productName:n}):i.createElement(f,{authDomain:t,productName:n})})))),i.createElement(c.b,{alignItems:"center",display:"flex",justifyContent:"space-between"},i.createElement(c.u,{href:"https://".concat(t,"/")},i.createElement(s.c,null)),i.createElement(c.d,null,i.createElement(c.b,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},i.createElement(c.u,{href:Object(m.a)({authDomain:t}),inline:!0},"About"),i.createElement(c.u,{href:Object(m.T)(),inline:!0},"Help"),i.createElement(c.u,{href:Object(m.Z)(),inline:!0},"Legal"))))))))}))}))},"./src/components/meter/ContentWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),i=n("./src/styles/colors.ts");function a(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-140px",background:"linear-gradient(".concat(Object(i.D)(0),", ").concat(Object(i.D)(1),")"),height:"150px",position:"relative",width:"100%",marginBottom:"10px"}),r.createElement(o.b,{margin:"auto",borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(i.A)(.15)),maxWidth:"760px",sm:{margin:"0 18px 0"}},t))}function s(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-240px",background:"linear-gradient(".concat(Object(i.D)(0),",").concat(Object(i.D)(.5),", ").concat(Object(i.D)(1),")"),height:"250px",position:"relative",width:"100%",marginBottom:"10px"}),r.createElement(o.b,{margin:"auto",borderRadius:"4px",maxWidth:"760px",sm:{margin:"0 18px 0"}},t))}},"./src/components/meter/MeterController.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(c),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),d=n("./node_modules/graphql-tag/src/index.js"),p=n.n(d),f=n("./node_modules/react/index.js"),g=n("./node_modules/react-redux/es/index.js"),b=n("./src/components/optimizely/OptimizelyWrapper.tsx"),h=n("./src/components/style/BaseThemeProvider.tsx"),x=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/style/index.ts"),v=n("./src/styles/colors.ts"),E=n("./src/styles/zIndex.ts"),S=function(){return{"0%":{transform:"translateY(100%)"},"90%":{transform:"translateY(-5%)"},"100%":{transform:"translateY(0%)"}}},C=function(e,t){return function(n){return{position:"fixed",bottom:"0",width:"100%",transform:t?"translateY(0%)":"translateY(100%)",transition:"max-height 800ms ease-in",animation:"".concat(e," ").concat(t?800:550,"ms ease-in-out"),zIndex:E.a.metabarCenter}}},w=function(e){var t,n,r,o=e.children,i=e.hide,a=e.isVisible,s=e.responsiveRules,l=e.timeOut,c=e.width,m=e.bannerType,d=f.useState(!1),p=u()(d,2),g=p[0],E=p[1],w=f.useState(null),j=u()(w,2),O=j[0],_=j[1],L=Object(y.useCx)();return l&&!O?_(setTimeout(i,l)):l||clearTimeout(O),a||setTimeout((function(){E(!0)}),800),g?null:f.createElement(h.b,null,f.createElement(x.L,{keyframes:{shiftUp:S,shiftDown:(t={fadeOut:!0},n=t.fadeOut,r=void 0===n||n,function(){return{"0%":{transform:"translateY(0%)",opacity:1},"10%":{transform:"translateY(-5%)",opacity:1},"100%":{transform:"translateY(100%)",opacity:r?0:1}}})}},(function(e){var t=e.shiftUp,n=e.shiftDown;return f.createElement("div",{className:L(a?[C(t,a)]:[C(n,a)])},f.createElement(x.M,null,(function(e){return f.createElement(b.a,{featureString:"".concat(m,"-meter-banner"),target:"background-color"},f.createElement(x.b,{boxShadow:"0px 2px 10px ".concat(e.baseColor.border.lighter),width:c||"100%",background:v.F,borderRadius:"4px 4px 0 0",position:"relative",margin:"0 auto",sm:{margin:"0 8px 8px 8px",width:"initial",borderRadius:"4px"},md:s&&s.md||{}},o))})))})))},j=n("./node_modules/pluralize/pluralize.js"),O=n.n(j),_=n("./src/util/numbers.ts"),L=function(e){return e<1||e>9?"".concat(e):Object(_.e)(e)},k=function(e,t){switch(e){case 1:return"You have two free stories left this month.";case 2:return"You have one free story left this month.";case 3:return"This is your last free story.";case 6:return"Smart stories. New ideas. No ads. $5/month.";case 7:case 11:return"Read smarter, not harder.";case 8:return"Some thoughts are worth more than a penny.";case 4:case 9:return"Know more. Upgrade today.";case 5:case 10:default:return"This is the only ad on ".concat(t,". You can make it go away.")}},I=function(e,t,n){var r=t-e,o=L(r),i=O()("story",r);switch(e){case 1:return{lg:"Members get unlimited access to the best stories on ".concat(n," — but you can read ").concat(L(t)," for free this month. Upgrade for $5/month."),sm:"Welcome to your free member preview for this month. Upgrade for unlimited access."};case 5:case 10:return{lg:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(i," left in your free member preview this month, so upgrade today for more big ideas and insightful stories."),sm:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(i," left in your free member preview this month.")};default:return{lg:"Unlock the best of ".concat(n," when you upgrade for $5/month."),sm:"Unlock the best of ".concat(n," when you upgrade for $5/month.")}}},M=function(e){return{marginTop:"1px",fontStyle:"normal",fontWeight:500,fontFamily:e.font.marketing.family,display:"flex",justifyContent:"center",height:"100px",flexDirection:"column",textAlign:"center"}},P={height:"100px",overflow:"hidden",position:"relative",":after":{position:"absolute",bottom:"0",height:"100%",width:"100%",content:'""',background:"linear-gradient(to bottom, ".concat(v.F," 0%, ").concat(Object(v.D)(0)," 25%, ").concat(Object(v.D)(0)," 75%, ").concat(v.F," 100% )")}},T=function(){return{"25%":{opacity:"1.0"},"50%":{opacity:"0.2"},"75%":{opacity:"1.0"},"100%":{transform:"translateY(calc(-100% + 100px))"}}},A=function(e){var t=e.maxNumber,n=e.minNumber,r=Object(y.useCx)();return f.createElement(x.L,{keyframes:{rollUp:T}},(function(e){var o,i=e.rollUp;return f.createElement("div",{className:r(P)},f.createElement("div",{className:r((o=i,function(e){return{fontSize:"42px",color:e.accentColor.fill.normal,fill:e.accentColor.fill.normal,animation:"".concat(o," 1.5s cubic-bezier(.68, 0, .15,1) forwards 800ms")}}))},Array.from(Array(t-n+1)).map((function(e,n){return f.createElement("div",{className:r(M),key:"number".concat(t-n)},t-n)}))))}))},B=n("./src/components/session/WithViewer.tsx"),R=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),D=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),z=n("./src/components/susi/alternate-user/NotYou.tsx"),N=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),F=n("./src/components/upsell/UpsellClickable.tsx"),U=n("./src/framework/design-system/type/index.ts"),H=n("./src/framework/design-system/util/style/responsiveStyles.ts"),X=n("./src/framework/reporter/index.ts"),V=n("./src/framework/source/index.ts"),q=n("./src/framework/track/UpsellPresentationTracker.tsx"),W=n("./src/screens/helpers/users.ts"),G=n("./src/store/actions/navigation.ts"),$=n("./src/svg/arrow-down-19px.svg");function K(){var e=o()(["\n  fragment LIMeterBanner_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return K=function(){return e},e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=function(e){return function(t){var n=e?"solid 1px ".concat(t.baseColor.border.lighter):"none";return Object(H.a)(t,{maxHeight:e?"200px":0,overflow:"hidden",animationDelay:"200ms",transition:"max-height 250ms ease-in",borderTop:{xs:n,sm:n,md:"none",lg:"none",xl:"none"},paddingTop:{xs:e?"12px":"0",sm:e?"12px":"0",md:"0",lg:"0",xl:"0"}})}},J=function(e){return function(t){var n=e?"none":"block",r="block";return Object(H.a)(t,{visibility:e?"hidden":"visible",fill:t.baseColor.text.lighter,":hover":{fill:t.baseColor.text.normal},display:{xs:n,sm:n,md:r,lg:r,xl:r}})}},Z=function(e){var t=e.userSocialLogins,n=e.declineSuggestedAccount,r=Object(g.e)();return f.createElement(x.b,{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"normal",alignItems:"center"},f.createElement(x.b,{display:"flex",flexDirection:"row",marginRight:"20px"},t&&(t.facebook||t.google||t.twitter)?f.createElement(D.a,{userSocialLogins:t}):f.createElement(R.a,{onSuccess:function(){return r(Object(G.q)({step:"CHECK_YOUR_INBOX",operation:"login"}))},redactedEmailAddress:t&&t.redactedEmailAddress||"",userId:t&&t.userId||""},(function(e){var t=e.handleSubmit;return f.createElement("div",{style:{whiteSpace:"nowrap"}},f.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link"))}))),n&&f.createElement(x.b,{display:"flex"},f.createElement(U.a,{scale:"M"},f.createElement(z.a,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},ee=function(e){var t=e.optimizelyFeatureString,n=e.post;return f.createElement(V.b,{source:{name:"upgrade_membership",dimension:"post_counter"}},f.createElement(q.a,null,f.createElement(x.b,{marginTop:"28px",paddingBottom:"36px",sm:{display:"none"},display:"inline-block",textAlign:"center"},f.createElement(b.a,{featureString:t,target:"desktop-upsell-button"},f.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"REGULAR",post:n},f.createElement(B.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"}))))),f.createElement(x.b,{display:"none",paddingBottom:"20px",sm:{margin:"12px 0 0",display:"block"},textAlign:"center"},f.createElement(b.a,{featureString:t,target:"mobile-upsell-button"},f.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"SMALL",post:n},f.createElement(B.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"})))))))},te=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=e.reportEventInfo,i=f.useState(!1),a=u()(i,2),s=a[0],c=a[1],m=Object(y.useTheme)(),d=Object(y.useCx)(),p=Object(X.c)(),v=Object(g.f)((function(e){return e.config.productName})),E=Object(g.f)((function(e){return e.session.user.id})),S=function(e,t,n,r){var o=e>1||document.body.offsetWidth<=r.breakpoints.md;return{headlineCopy:k(e,n),isTimer:o,microCopy:I(e,t,n)}}(t,n,v,m),C=S.headlineCopy,j=S.microCopy,O=S.isTimer,_="li-meter-banner-"+t,L=function(e,t,n){o.data.type=t?6:1,p.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(W.a)(n),alternateUserSuggestionTargetUserId:n.userId,alternateUserSuggestionSourceUserId:e?e.id:E}))};return f.createElement(h.b,null,f.createElement(x.J,{initialVisibility:!0},(function(e){var o=e.isVisible,i=e.hide;return f.createElement(N.a,{postRenderCallback:L},(function(e){var a=e.loading,l=e.showSuggestedAccount,u=e.declineSuggestedAccount,m=e.userSocialLogins;if(a)return f.createElement(f.Fragment,null);var p=O&&!s?6e3:null,g=t>1?"1024px":"100%",h=1===t?void 0:{md:{width:"740px"}};return l&&(c(!1),p=null,g="100%"),f.createElement(w,{hide:i,isVisible:o,timeOut:p,width:g,bannerType:"li",responsiveRules:h},f.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 40px",maxWidth:"1040px",margin:"0 auto",sm:{padding:"0"}},f.createElement(x.b,{display:"flex"},f.createElement(b.a,{featureString:_,target:"meter-count-slot-machine"},f.createElement(x.b,{sm:{padding:"0 20px"}},f.createElement(A,{minNumber:n-t,maxNumber:n}))),f.createElement(x.b,{display:"flex",flexDirection:"column",paddingLeft:"40px",flexShrink:"1",flexGrow:"1",sm:{padding:"0",margin:"0",justifyContent:"center"},marginTop:"34px"},f.createElement(b.a,{featureString:_,target:"header"},l?f.createElement(f.Fragment,null,f.createElement(x.b,{paddingBottom:"16px",display:"block",sm:{paddingBottom:"0",display:"none",marginTop:"20px"}},f.createElement(U.c,{scale:"L"},"Switch to your member account for unlimited reading.")),f.createElement(x.b,{marginTop:"-5px",paddingBottom:"0",display:"none",sm:{display:"block"}},f.createElement(U.a,{color:"DARKER",scale:"L"},"Switch to your member account for unlimited reading."))):f.createElement(x.b,{paddingBottom:"16px",sm:{paddingBottom:"0",marginTop:"0"}},f.createElement(U.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},C))),f.createElement(b.a,{featureString:_,target:"desktop-expandable-section"},f.createElement(x.b,{sm:{display:"none"}},f.createElement("div",{className:d(Q(s||l))},f.createElement(b.a,{featureString:_,target:"desktop-expanded-copy"},f.createElement(U.a,{scale:"L"},l&&m?"Looks like you're already a Medium member. Sign in to keep reading without interruptions.":j.lg)),l?null:f.createElement(ee,{optimizelyFeatureString:_,post:r})))),f.createElement(x.b,{display:"block",sm:{display:"none"},marginTop:"20px",marginBottom:"20px"},l&&m?f.createElement(Z,{userSocialLogins:m,declineSuggestedAccount:u}):null)),f.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:"33px",sm:{justifyContent:"center",margin:"0"}},f.createElement(x.b,{display:"flex",padding:"12px"},!l&&f.createElement(b.a,{featureString:_,target:"details-button"},f.createElement("div",{className:d(J(!!s))},f.createElement(U.a,{scale:"M"},f.createElement(x.u,{onClick:function(){return c(!0)},linkStyle:"SUBTLE"},f.createElement(x.b,{display:"inline",md:{display:"none",marginRight:"0"},marginRight:"4px"},"Details"),f.createElement(x.b,{display:"inline",sm:{margin:"0",display:"block"}},f.createElement($.a,null)))))),f.createElement(b.a,{featureString:_,target:"".concat(O?"timer":"close","-button")},f.createElement(x.b,{marginLeft:"24px",sm:{display:s||l?"block":"none",margin:"0"}},l||!O||s?f.createElement(x.g,{onClick:i,isPositionAbsolute:!1,size:"SMALL"}):f.createElement(x.i,{delay:800,duration:5200,radius:8,strokeWidth:4})))))),f.createElement(b.a,{featureString:_,target:"mobile-expandable-section"},f.createElement(x.b,{display:"none",sm:{padding:"0 12px",textAlign:"center",display:"block"}},f.createElement("div",{className:d(Q(s))},f.createElement(b.a,{featureString:_,target:"mobile-expanded-copy"},f.createElement(U.a,{scale:"L"},j.sm)),f.createElement(ee,{optimizelyFeatureString:_,post:r}))))),f.createElement(x.b,{marginLeft:"20px",display:"none",sm:{display:"block"},paddingBottom:"20px"},l&&m?f.createElement(Z,{userSocialLogins:m,declineSuggestedAccount:u}):null))}))})))},ne=p()(K(),F.b),re=n("./node_modules/@babel/runtime/helpers/extends.js"),oe=n.n(re),ie=n("./src/components/session/useFlag.tsx"),ae=n("./src/components/susi/SusiClickable.tsx"),se=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),le=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),ce=n("./src/framework/track/index.ts"),ue=n("./src/util/miroImage.ts");function me(){var e=o()(["\n  fragment LOMeterBanner_post on Post {\n    id\n  }\n"]);return me=function(){return e},e}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe="smart_meter",fe=function(e){var t=e.unlockCount,n=Object(ue.d)({miroId:"1*LyzKW5k0VC763U3vP6udTQ.png",height:128,width:227,strategy:ue.a.Resample}),r="url(".concat(n,")");return f.createElement(b.a,{featureString:"lo-meter-banner-".concat(t),target:"left-image",tag:"span"},f.createElement(x.b,{display:"flex",minWidth:"227px",height:"100%",flexBasis:"227px",backgroundImage:r,backgroundPosition:"right center",backgroundSize:"cover",md:{display:"none"}}))},ge=function(e){var t=e.showSuggestedAccount,n=e.userSocialLogins,r=e.unlockCount,o=Object(g.e)(),i={operation:"register"},a=f.createElement(f.Fragment,null,f.createElement(b.a,{featureString:"lo-meter-banner-".concat(r),target:"google-button"},f.createElement(x.b,{marginRight:"12px",sm:{marginRight:"0px",marginBottom:"12px"}},f.createElement(le.a,i))),f.createElement(b.a,{featureString:"lo-meter-banner-".concat(r),target:"facebook-button"},f.createElement(se.a,i)));return t&&n&&(a=f.createElement(x.b,{display:"flex",justifyContent:"center"},n.facebook||n.google||n.twitter?f.createElement(D.a,{userSocialLogins:n}):f.createElement(R.a,{onSuccess:function(){return o(Object(G.q)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:pe}))},redactedEmailAddress:n.redactedEmailAddress||"",userId:n.userId},(function(e){var t=e.handleSubmit;return f.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),f.createElement(x.b,{display:"flex",marginTop:"12px",textAlign:"center",sm:{flexDirection:"column",marginBottom:"12px"}},a)},be=function(e){var t=e.post,n=e.reportEventInfo,r=f.useState(window.innerWidth),o=u()(r,2),i=o[0],a=o[1],s=Object(g.f)((function(e){return e.config.productName})),c=Object(g.f)((function(e){return e.session.user.id})),m=Object(ie.a)("enable_lo_meter_swap"),d=n.data.unlockCount,p=m&&2===d,h=m&&3===d,v=Object(X.c)(),E=Object(y.useTheme)();pe=p||h?p?"metered_view_2":"metered_view_3":"smart_meter";var S=function(e,t,r){v.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(W.a)(r),alternateUserSuggestionTargetUserId:r.userId,alternateUserSuggestionSourceUserId:e?e.id:c}))};return f.useEffect((function(){window.innerWidth<E.breakpoints.md&&(v.event("experiment.eligible",{experimentId:"273cb0ef6bb1"}),v.event("susi.viewed",{entryPoint:pe,operation:"register"}));var e=function(){a(window.innerWidth)};return ce.a.on("resize",e),function(){ce.a.off("resize",e)}}),[]),f.createElement(x.J,{initialVisibility:!0},(function(e){var n=e.isVisible,r=e.hide;return f.createElement(w,{hide:r,isVisible:n,bannerType:"lo"},f.createElement(x.w,{size:{xs:"full",sm:"full",md:"full",lg:"full",xl:"outset"}},f.createElement(x.b,{marginLeft:"12px",marginRight:"12px",display:"flex",flexDirection:"row",md:{marginLeft:"36px",marginRight:"36px",paddingTop:"10px",paddingBottom:"20px"},sm:{marginLeft:"12px",marginRight:"12px",flexDirection:"column"}},i>=1440?f.createElement(f.Fragment,null):f.createElement(fe,{unlockCount:d}),f.createElement(V.b,{source:{susiEntry:pe,postId:t.id}},f.createElement(x.b,{display:"flex",flexDirection:"column",marginTop:"33px",marginBottom:"20px",marginLeft:"56px",flexGrow:"1",flexShrink:"1",md:{marginLeft:"0px"},sm:{marginTop:"0px",marginBottom:"0px",marginLeft:"0px"}},f.createElement(x.b,{alignSelf:"flex-end",display:"flex",flexDirection:"row",position:"relative",marginBottom:"-15px",marginRight:"12px",marginTop:"-27px",marginLeft:"12px",md:{marginRight:"0px"},sm:{flexDirection:"column",width:"100%",textAlign:"right",marginBottom:"8px",marginRight:"0px",marginTop:"0px",marginLeft:"0px"}},f.createElement(x.g,{onClick:r,isPositionAbsolute:!1,size:"LARGE"})),f.createElement(N.a,{postRenderCallback:S},(function(e){var t=e.loading,n=e.showSuggestedAccount,o=e.declineSuggestedAccount,i=e.userSocialLogins;if(t)return f.createElement(f.Fragment,null);var a="".concat(n?"suggested-account-":"","lo-meter-banner-").concat(d);return f.createElement(f.Fragment,null,f.createElement(x.b,{display:"flex",flexDirection:"row",sm:{flexDirection:"column",textAlign:"center",marginRight:"0"},marginRight:"86px",flexGrow:"1",flexShrink:"1"},f.createElement(b.a,{featureString:a,target:"header"},f.createElement(U.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},n?"Welcome back. Sign in to your ".concat(s," ").concat(i&&i.isMember?"member ":"","account."):p?"Read more stories this month when you create a free Medium account.":h?"This is your last free story this month. Sign up and get an extra one for free.":"Get one more story in your member preview when you sign up. It’s free."))),f.createElement(x.b,oe()({display:"flex",flexDirection:"row",alignItems:"center",sm:{flexDirection:"column",paddingTop:"4px"}},!!n&&{justifyContent:"space-between"}),f.createElement(ge,{showSuggestedAccount:n,userSocialLogins:i,unlockCount:d}),f.createElement(x.b,{display:"flex",textAlign:"left",marginTop:"12px",sm:{textAlign:"center",marginLeft:"0px",marginTop:"0px"},marginLeft:"12px",flexShrink:"1"},f.createElement(U.a,{scale:"L"},n&&o?f.createElement(x.b,{margin:"0 12px"},f.createElement(z.a,{declineSuggestedAccount:function(){r(),o()},isSocial:!!i&&!!(i.facebook||i.google||i.twitter)})):f.createElement(f.Fragment,null,f.createElement(b.a,{featureString:a,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),f.createElement(b.a,{featureString:a,target:"sign-in-link",tag:"span"},f.createElement(ae.a,{linkStyle:"OBVIOUS",operation:"login",susiEntry:pe},"Sign in")))))))})))))))}))},he=p()(me()),xe=function(e){switch(e){case 2:return"metered_view_2";case 3:return"metered_view_3";case 1:default:return"smart_meter"}},ye=n("./src/styles/mediaTypes.ts"),ve=n("./src/styles/theme.ts");function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce={background:v.F,bottom:"0",width:"100%",position:"fixed",zIndex:E.a.metabar},we=function(e,t){var n;return n={background:v.F,borderTop:t?"1px solid ".concat(v.F):"none",bottom:"auto",height:e?"70px":"45px",position:"absolute",transform:"translateY(-100%)"},l()(n,Object(ye.b)("no-preference"),{transition:"transform 300ms ease",willChange:"transform"}),l()(n,"width","100%"),n},je=function(e){var t=e.children,n=e.post,r=Object(m.e)(B.a).data;return(r=void 0===r?{viewer:void 0}:r).viewer?f.createElement(x.b,{display:"inline-flex"},f.createElement(q.a,null,f.createElement(F.a,{inline:!0,linkStyle:"OBVIOUS",post:n},t))):f.createElement(ae.a,{linkStyle:"OBVIOUS",operation:"register",inline:!0},t)},Oe=function(e){var t=e.meterCount,n=e.isMobile,r=e.featureString,o=e.post,i=Object(m.e)(B.a).data,a=function(e,t){return t?function(e){var t="Upgrade for unlimited access";switch(e){case 1:return{text:"You have two free stories left this month.",link:t};case 2:return{text:"You have one free story left this month.",link:t};case 3:return{text:"This is your last free story this month.",link:t};default:return{text:"You've read all of your free stories this month.",link:t}}}(e):function(e){switch(e){case 1:return{text:"Read more stories this month when you",link:"create a free Medium account."};case 2:return{text:"Read more on Medium.",link:"Create a free account."};case 3:return{text:"This is your last free story this month.",link:"Sign up and get an extra one for free."};default:return{text:"You've read all of your free stories this month.",link:"Create a free account."}}}(e)}(t,!!(i=void 0===i?{viewer:void 0}:i).viewer),s=n?f.createElement(x.b,{display:"flex"},f.createElement("span",{style:{textDecoration:"underline"}},a.link)):f.createElement(je,{post:o},a.link);return f.createElement(x.b,{alignItems:n?void 0:"flex-start",display:n?"none":"flex",sm:Se({display:n?"flex":"none"},n&&{flexDirection:"column",justifyContent:"center"})},f.createElement(b.a,{featureString:r,target:"header"},f.createElement(U.a,{scale:n?"M":"L",color:"DARKER"},a.text,n?f.createElement("br",null):" ",s)))},_e=function(e){var t=e.meterCount,n=e.post,r=e.reportEventInfo,o=Object(m.e)(B.a).data,i=(o=void 0===o?{viewer:void 0}:o).viewer;return f.createElement(x.J,{initialVisibility:!0},(function(e){var o=e.isVisible,a=e.hide;return f.createElement(V.b,{source:Se({},i?{name:"upgrade_membership",dimension:"post_counter"}:{susiEntry:xe(t)},{postId:n.id})},f.createElement(Le,{reportEventInfo:r,meterCount:t,isVisible:o,hide:a,post:n}))}))},Le=function(e){var t=e.isVisible,n=e.meterCount,r=e.hide,o=e.post,i=e.reportEventInfo,a=Object(y.useCx)(),s=Object(y.useTheme)(),l=Object(X.c)(),c=f.useState(window.innerWidth),d=u()(c,2),p=d[0],h=d[1],S=Object(V.g)(),C=Object(m.e)(B.a).data,w=(C=void 0===C?{viewer:void 0}:C).viewer,j=Object(g.f)((function(e){return{postRead:e.navigation.postRead}}),g.d).postRead,O=p<s.breakpoints.md,_="".concat(w?"li":"lo","-").concat(O?"mobile":"desktop","-small-meter-").concat(n);f.useEffect((function(){!w&&S&&l.event("susi.viewed",{entryPoint:S,operation:"register"}),l.event("meter.showMeterBanner",Se({},i.data))}),[]),f.useEffect((function(){var e=function(){return h(window.innerWidth)};return ce.a.on("resize",e),function(){return ce.a.off("resize",e)}}),[]);var L;return f.createElement(x.w,{size:"full"},f.createElement("div",{className:a(Ce)},f.createElement(x.b,{position:"relative",background:v.F,width:"100%",borderTop:"BASE_LIGHTER"},t&&!j&&f.createElement(x.b,{top:"-101px",background:"linear-gradient(".concat(Object(v.D)(0),", ").concat(Object(v.D)(1),")"),height:"100px",position:"absolute",width:"100%"}),t&&(L=f.createElement("div",{className:a(we(O,j))},f.createElement(x.b,{width:"100%",background:v.o,height:"100%",padding:O?"14px 25px":"8px"},f.createElement(x.b,{display:"flex",justifyContent:"center",maxWidth:"764px",width:"100%",margin:"auto"},f.createElement(y.ThemeProvider,{theme:ve.a},f.createElement(x.b,{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},f.createElement(Oe,{meterCount:n,isMobile:O,featureString:_,post:o}),f.createElement("div",{className:a({zIndex:E.a.metabarCenter})},f.createElement(x.b,{tag:"span",display:"flex",alignItems:"center"},f.createElement(b.a,{featureString:_,target:"close-button"},f.createElement(x.g,{onClick:function(){l.event("meter.bannerDismissed",Se({},i.data)),r()},isPositionAbsolute:!1,size:"SMALL"}))))))))),O?f.createElement(je,{post:o},L):L))))},ke=n("./src/components/read-next/ReadNext.tsx"),Ie=n("./src/components/susi/susi-modal/SusiContainer.tsx"),Me=n("./src/screens/helpers/visits.ts"),Pe=n("./src/store/actions/branch.ts"),Te=n("./src/store/actions/googleOneTap.ts");function Ae(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return Ae=function(){return e},e}function Be(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIMeterBanner_post\n    ...LOMeterBanner_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return Be=function(){return e},e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return Fe})),n.d(t,"c",(function(){return Ue})),n.d(t,"b",(function(){return He}));var ze=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.meteringInfo,o=e.post,i=e.viewer,a=Object(X.c)(),s=!!Object(ie.a)("li_small_meter"),l=f.useState(!1),c=u()(l,2),m=c[0],d=c[1],p=r.maxUnlockCount||3,g={eventName:"meter.showMeterBanner",data:De({},t,{type:0,userId:i&&i.id||void 0})};return f.useEffect((function(){m&&a.event("experiment.eligible",{experimentId:"505e25747a8b"})}),[m]),n<=p?Object(Me.p)()&&Object(ke.b)(i)?(Object(Me.i)(),null):(m||d(!0),s?f.createElement(_e,{meterCount:n,post:o,reportEventInfo:g}):f.createElement(te,{meterCount:n,meterLimit:p,post:o,reportEventInfo:g})):null},Ne=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.post,o=e.viewer,i=Object(g.e)(),s=Object(X.c)(),l=Object(g.f)((function(e){return{hasRenderedGoogleOneTap:e.navigation.hasRenderedGoogleOneTap}}),g.d).hasRenderedGoogleOneTap,c=Object(ie.a)("one_tap_not_meter"),m=Object(ie.a)("enable_lo_meter_swap"),d=!!Object(ie.a)("enable_minimal_meter_v2"),p=f.useState(!1),b=u()(p,2),h=b[0],x=b[1],y=f.useState(!1),v=u()(y,2),E=v[0],S=v[1];f.useEffect((function(){s.event("experiment.eligible",{experimentId:"14adb0039fbd"})}),[]),f.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&(s.event("experiment.eligible",{experimentId:"58abb9eeee1e"}),s.event("experiment.eligible",{experimentId:"b630dbce3fa2"}),S(!0))}),[l]);var C={eventName:"meter.showMeterBanner",data:De({},t,{type:0,userId:o&&o.id||void 0})},w=d?f.createElement(_e,{meterCount:n,post:r,reportEventInfo:C}):f.createElement(be,{post:r,reportEventInfo:C}),j=function(e){return!c||!m||E&&!0!==l?m?(C.data.type=3,w):(C.data.type=2,function(e){h||(i(Object(G.q)({step:"SIGNUP_OPTIONS",post:r,operation:"register",susiEntry:e,reportEventInfo:C})),x(!0))}(e),null):null};switch(n){case 1:return m&&!d?null:!c||E&&!0!==l?(C.data.type=3,w):null;case 2:return d?w:j("metered_view_2");case 3:return d?w:j("metered_view_3");default:return null}},Fe=function(e){var t=e.meteringInfo,n=e.post,r=t.postIds.length,o=Object(g.e)(),i=Object(ie.a)("enable_mk_branch_cleanup"),s={postId:n.id,unlockCount:r},l=f.useState(!1),c=u()(l,2),d=c[0],p=c[1];f.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&p(!0)}),[]),f.useEffect((function(){return(1===r&&!i||r>2||v)&&o(Object(Pe.f)(!1)),function(){o(Object(Pe.f)(!0))}}),[]);var b=Object(m.e)(B.a),h=b.loading,x=b.error,y=b.data,v=(y=void 0===y?{viewer:void 0}:y).viewer;if(h||x)return f.createElement(f.Fragment,null);var E=v&&v.mediumMemberAt||void 0,S=n&&n.creator&&n.creator.id||void 0,C=v&&v.id||void 0,w=v?E||S===C:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,j=!d||!n.isLocked||!t.postIds.includes(n.id)||w,O=v?f.createElement(ze,{defaultEventInfo:s,meterCount:r,meteringInfo:t,post:n,viewer:v}):f.createElement(Ne,{defaultEventInfo:s,hideGoogleOneTap:Te.d,meterCount:r,post:n,viewer:v});return f.createElement(f.Fragment,null,!j&&O)},Ue=p()(Be(),ne,he,Ie.f),He=p()(Ae())},"./src/components/meter/PayWall.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return U}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/meter/ContentWall.tsx"),d=n("./src/components/optimizely/OptimizelyWrapper.tsx"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/session/useFlag.tsx"),g=n("./src/components/style/BaseThemeProvider.tsx"),b=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),h=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),x=n("./src/components/susi/alternate-user/NotYou.tsx"),y=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),v=n("./src/components/ui/image/index.ts"),E=n("./src/components/upsell/UpsellClickable.tsx"),S=n("./src/framework/design-system/components/index.ts"),C=n("./src/framework/design-system/type/index.ts"),w=n("./src/framework/design-system/type/Detail.tsx"),j=n("./src/framework/reporter/index.ts"),O=n("./src/framework/source/index.ts"),_=n("./src/framework/track/UpsellPresentationTracker.tsx"),L=n("./src/screens/helpers/users.ts"),k=n("./src/store/actions/navigation.ts"),I=n("./src/util/miroImage.ts"),M=n("./src/util/routes.ts");function P(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n  }\n"]);return P=function(){return e},e}var T=function(e){return"Looks like you're already a ".concat(e," member. Sign in to read without a paywall in sight.")},A=c.createElement(S.b,{sm:{display:"none"}},c.createElement(v.b,{alt:"",height:260,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:I.a.Resample,rules:{paddingBottom:"16px"}})),B=c.createElement(S.b,{display:"none",sm:{display:"block"}},c.createElement(v.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:I.a.Resample})),R=c.createElement(S.b,{textAlign:"left",sm:{textAlign:"center"}},"You've read all of your free stories this month. Become a member to keep reading."),D=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer,o=e.enableMeterPaymentLink,i=e.authDomain;return c.createElement(O.b,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},c.createElement(_.a,null,c.createElement(S.b,{display:"inline-block",textAlign:"center"},c.createElement(d.a,{featureString:t,target:"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},c.createElement(E.a,{isButton:!0,buttonStyle:o?"STRONG":"BRAND",width:o&&r&&!r.hasPastMemberships?"104px":"182px",redirectUrl:o?Object(M.jb)(i):Object(M.eb)(i)},r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},z=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=Object(u.e)();return c.createElement(S.b,{display:"flex",sm:{flexDirection:"column"}},c.createElement(S.b,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?c.createElement(h.a,{userSocialLogins:n}):c.createElement(b.a,{onSuccess:function(){return r(Object(k.q)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},redactedEmailAddress:n.redactedEmailAddress||"",userId:n.userId},(function(e){var t=e.handleSubmit;return c.createElement(S.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))),t&&c.createElement(S.b,{marginLeft:"20px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},c.createElement(w.a,{scale:"M"},c.createElement(x.a,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},N=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return c.createElement(O.b,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},c.createElement(_.a,{eventData:r},c.createElement(z,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),c.createElement(S.b,{display:"flex",flexDirection:"row",marginTop:"30px",sm:{justifyContent:"center"}},c.createElement(w.a,{scale:"L"},c.createElement(E.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership")))))},F=function(e){var t=e.children,n=Object(j.c)(),r=!!Object(f.a)("li_small_meter");return c.useEffect((function(){n.event("experiment.eligible",{experimentId:"505e25747a8b"})}),[]),r?c.createElement(m.b,null,t):c.createElement(m.a,null,t)},U=function(e){var t=e.post,n=Object(u.f)((function(e){return{productName:e.config.productName,sessionUserId:e.session.user.id,authDomain:e.config.authDomain}}),u.d),r=n.productName,o=n.sessionUserId,i=n.authDomain,s=!!Object(f.a)("li_small_meter"),l=!!Object(f.a)("enable_meter_payment_link"),m=Object(j.c)();c.useEffect((function(){m.event("experiment.eligible",{experimentId:"e843607f8a57"})}),[]);var b="paywall",h=function(){};return c.createElement(g.b,null,c.createElement(F,null,c.createElement(d.a,{featureString:b,target:"background-color"},c.createElement(S.b,a()({display:"flex",minHeight:s?"350px":"100%",sm:{flexDirection:"column",textAlign:"center"}},s&&{justifyContent:"center",textAlign:"center"}),!s&&c.createElement(d.a,{featureString:"paywall",target:"left-image"},A),c.createElement(S.b,{display:"flex",flexDirection:"column",padding:"48px 56px",sm:{padding:"28px 16px 32px",textAlign:"center"}},c.createElement(p.b,null,(function(e){return c.createElement(y.a,{postRenderCallback:h},(function(n){var a,u,m,p=n.loading,f=n.showSuggestedAccount,g=n.declineSuggestedAccount,h=n.userSocialLogins;return p?c.createElement(c.Fragment,null):(f&&(b="suggested-account-paywall"),f&&(a={alternateUserSuggestionShown:f,alternateUserSuggestionAccountType:Object(L.a)(h),alternateUserSuggestionTargetUserId:!!h&&h.userId,alternateUserSuggestionSourceUserId:e?e.id:o}),c.createElement(c.Fragment,null,c.createElement(d.a,{featureString:b,target:l?"fewerClicksHeading":"heading"},c.createElement(C.c,{scale:{xs:s?"S":"L",sm:s?"S":"L",md:s?"M":"L",lg:s?"M":"L",xl:s?"M":"L"}},l?(u=e&&e.name,m=u?Object(L.b)(u):null,c.createElement(S.b,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},m&&m.length<=13?"".concat(m,", get unlimited access."):"Get unlimited access.")):function(e,t,n){var r=e?Object(L.b)(e):null;return t?"Switch to your member account for unlimited reading.":n?r&&r.length<=13?"".concat(r,", keep reading."):"Keep reading":r&&r.length<=13?"".concat(r,", you read a lot. We like that."):"You read a lot. We like that."}(e&&e.name,f,s)," ")),c.createElement(w.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:l?"DARKER":"LIGHTER"},l&&c.createElement(c.Fragment,null,c.createElement(d.a,{featureString:b,target:"second-header-fewer-clicks"},c.createElement(S.b,{marginTop:"8px",marginBottom:"28px",sm:{display:"inline-block"}},R)),c.createElement(S.b,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},c.createElement(D,{optimizelyFeatureString:b,post:t,viewer:e,enableMeterPaymentLink:l,authDomain:i}))),c.createElement(d.a,{featureString:b,target:l?"subtitle-copy-fewer-clicks":"subtitle-copy-desktop"},c.createElement(S.b,{marginTop:"8px",marginBottom:"28px",sm:{display:l?"inline-block":"none"}},l?function(e){return c.createElement(S.b,{marginTop:"28px",marginBottom:"28px",textAlign:"left"},"Here's what you get when you upgrade to membership:",c.createElement(S.b,{marginTop:"28px",marginBottom:"28px"},c.createElement("b",null,"Unlimited access. ")," Explore ",e,"'s library filled with everything you're curious about."),c.createElement(S.b,{marginBottom:"28px"},c.createElement("b",null,"No ads.")," There are zero ads on ",e," and we don't sell your data."),c.createElement(S.b,{marginBottom:"28px"},c.createElement("b",null,"Reward quality writing.")," When you spend time reading a story, a portion of your membership fee will go directly to its author."),c.createElement(S.b,{marginBottom:"28px"},'"I love ',e,"'s membership — it gives me access to the stories I love by the writers I love, and it allows me to help support those writers financially.\"",c.createElement("br",null)," ",c.createElement("b",null,"—Kayt Molina, ",e," member ")))}(r):f?T(r):function(e,t){return t?"You’ve read all of your free stories this month. Upgrade for unlimited access.":"You’ve reached the end of your free member preview for this month. Become a member now for $5/month to read this story and get unlimited access to all of the best stories on ".concat(e,".")}(r,s))),c.createElement(d.a,{featureString:b,target:"subtitle-copy-mobile"},c.createElement(S.b,{marginTop:"8px",marginBottom:"28px",display:"none",sm:{display:l?"none":"inline-block"},maxWidth:"400px"},f?T(r):function(e){return e?"You’ve read all of your free stories this month. Upgrade for unlimited access.":"You’ve reached the end of your free member preview for this month. Upgrade for unlimited access."}(s)))),!l&&(f&&h?c.createElement(N,{declineSuggestedAccount:g,userSocialLogins:h,suggestedAccountEventData:a,showSuggestedAccount:f,postId:t.id}):c.createElement(D,{optimizelyFeatureString:b,post:t,viewer:e,enableMeterPaymentLink:l,authDomain:i}))))}))}))),!s&&c.createElement(d.a,{featureString:b,target:"mobile-bottom-image"},B)))))},H=l()(P())},"./src/components/meter/RegWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return R})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/meter/ContentWall.tsx"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),m=n("./src/components/session/useFlag.tsx"),d=n("./src/components/style/BaseThemeProvider.tsx"),p=n("./src/components/susi/SusiClickable.tsx"),f=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),g=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),b=n("./src/components/susi/alternate-user/NotYou.tsx"),h=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),x=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),y=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),v=n("./src/components/ui/image/index.ts"),E=n("./src/framework/design-system/components/index.ts"),S=n("./src/framework/design-system/type/index.ts"),C=n("./src/framework/reporter/index.ts"),w=n("./src/framework/source/index.ts"),j=n("./src/screens/helpers/users.ts"),O=n("./src/store/actions/navigation.ts"),_=n("./src/util/miroImage.ts");function L(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return L=function(){return e},e}function k(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return k=function(){return e},e}function I(){var e=o()(["\n  fragment RegWall_collection on Collection {\n    name\n  }\n"]);return I=function(){return e},e}var M=s.createElement(E.b,{sm:{display:"none"}},s.createElement(v.b,{alt:"",height:310,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:_.a.Resample,rules:{paddingBottom:"16px"}})),P=s.createElement(E.b,{display:"none",sm:{display:"block"}},s.createElement(v.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:_.a.Resample})),T=function(e){var t=e.minimalMeterExperience,n=e.children;return t?s.createElement(c.b,null,n):s.createElement(c.a,null,n)},A=function(e){var t=e.minimalMeterExperience,n=e.optimizelyFeatureString,r=e.showSuggestedAccount,o=e.userSocialLogins,i=Object(l.e)(),a={operation:"register"};return s.createElement(E.b,{display:"flex",flexDirection:t?"column":"row",margin:t?"":"28px 0",sm:{flexDirection:"column",textAlign:"center"},textAlign:t?"center":"start"},r&&o?s.createElement(E.b,{display:"flex",justifyContent:"center",marginTop:"28px"},o.facebook||o.google||o.twitter?s.createElement(g.a,{userSocialLogins:o}):s.createElement(f.a,{onSuccess:function(){return i(Object(O.q)({step:"CHECK_YOUR_INBOX",operation:"register",susiEntry:"post_regwall"}))},redactedEmailAddress:o.redactedEmailAddress||"",userId:o.userId},(function(e){var t=e.handleSubmit;return s.createElement(E.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))):s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:n,target:"google-button"},s.createElement(E.b,{margin:t?"62px 0 10px":"0 ".concat("12px"," 0"),sm:{margin:t?"40px 0 ".concat("12px"," 0"):"0 0 ".concat("12px"," 0")}},s.createElement(y.a,a))),s.createElement(u.a,{featureString:n,target:"fb-button"},s.createElement(E.b,{marginBottom:t?"52px":"0",sm:{marginBottom:t?"40px":"0"}},s.createElement(x.a,a)))))},B=function(e){var t=e.collection,n=e.meteringInfo,r=e.post,o=Object(l.f)((function(e){return e.config.productName})),i=Object(C.c)(),a="LOCKED_POST_SOURCE_SYNDICATED"===r.lockedSource,c=Object(l.f)((function(e){return e.session.user.id})),f=!!Object(m.a)("enable_minimal_meter_v2"),g="".concat(a?"syndicated-":"","regwall");s.useEffect((function(){"undefined"!=typeof document&&i.event("experiment.eligible",{experimentId:"14adb0039fbd"})}),[]);return s.createElement(d.b,null,s.createElement(w.b,{source:{susiEntry:"post_regwall",postId:r.id}},s.createElement(T,{minimalMeterExperience:f},s.createElement(u.a,{featureString:g,target:"background-color"},s.createElement(E.b,{display:"flex",textAlign:f?"center":"start",sm:{flexDirection:"column",textAlign:"center"}},f?s.createElement(s.Fragment,null):s.createElement(u.a,{featureString:g,target:"left-image"},M),s.createElement(E.b,{padding:"48px 56px",sm:{padding:"28px 16px 12px"}},s.createElement(h.a,{postRenderCallback:function(e,t,o){i.event("meter.showMeterBanner",{unlockCount:n.postIds.length,postId:r.id,type:a?5:4,alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(j.a)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:e?e.id:c})}},(function(e){var n=e.loading,i=e.showSuggestedAccount,l=e.declineSuggestedAccount,c=e.userSocialLogins;if(n)return s.createElement(s.Fragment,null);var m=!(!c||!c.isMember);i&&(g="suggested-account-regwall");var d=f?"S":"M",h=f?"M":"L";return s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:g,target:"heading"},s.createElement(S.c,{scale:{xs:d,sm:d,md:h,lg:h,xl:h}},function(e,t,n,r){return r?"Sign in to your "+(e?"member":n)+" account.":t?"This story is just a click away.":"To keep reading this story, create a free account."}(m,a,o,i))),s.createElement(S.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},s.createElement(u.a,{featureString:g,target:"subtitle-copy".concat(a?"-syndicated":"")},s.createElement(E.b,{marginTop:"8px"},function(e,t,n,r,o){if(o)return t?"Looks like you’re already a ".concat(r," member. Sign in to read unlimited stories and get personalized recommendations."):"Looks like you already have an account with us. Sign in to get personalized story recommendations and to follow authors and publications.";var i=e&&e.name||r;return n?"Sign up for a free ".concat(r," account to read this story from ").concat(i,". Plus, get one more story in your member preview this month."):""}(t,m,a,o,i))),s.createElement(A,{minimalMeterExperience:f,optimizelyFeatureString:g,showSuggestedAccount:i,userSocialLogins:c}),i&&l?s.createElement(E.b,{marginTop:"28px"},s.createElement(b.a,{declineSuggestedAccount:l,isSocial:!!c&&!!(c.facebook||c.google||c.twitter)})):s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:g,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),s.createElement(u.a,{featureString:g,target:"sign-in-link",tag:"span"},s.createElement(p.a,{linkStyle:"OBVIOUS",operation:"login",post:r},"Sign in")))))}))),f?s.createElement(s.Fragment,null):s.createElement(u.a,{featureString:g,target:"mobile-bottom-image"},P))))))},R=a()(I()),D=a()(k(),p.d),z=a()(L())},"./src/components/mutations/UserBlockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function m(){var e=o()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=s()(m());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return l.createElement(i.a,{mutation:d,onCompleted:function(e){n(Object(u.l)({message:"Successfully blocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:r,isBlocking:!0}}},(function(e){return t({mutate:e})}))}))},"./src/components/mutations/UserUnblockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function m(){var e=o()(["\n  mutation UserUnblockMutation($targetUserId: ID!, $userId: ID!) {\n    unblockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=s()(m());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return l.createElement(i.a,{mutation:d,onCompleted:function(e){n(Object(u.l)({message:"Successfully unblocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",unblockUser:{__typename:"User",id:r,isBlocking:!1}}},(function(e){return t({mutate:e})}))}))},"./src/components/mute/useMute.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),m=n("./src/handlers/SharedPostHandler.tsx");function d(){var e=a()(["\n  mutation UnmutePubMutation($pubId: ID!) {\n    unmuteCollection(targetCollectionId: $pubId) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=a()(["\n  mutation MutePubMutation($pubId: ID!) {\n    muteCollection(targetCollectionId: $pubId) {\n      id\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  mutation UnmuteAuthorMutation($authorId: ID!) {\n    unmuteUser(targetUserId: $authorId) {\n      id\n    }\n  }\n"]);return f=function(){return e},e}function g(){var e=a()(["\n  mutation MuteAuthorMutation($authorId: ID!) {\n    muteUser(targetUserId: $authorId) {\n      id\n    }\n  }\n"]);return g=function(){return e},e}var b=c()(g()),h=c()(f()),x=c()(p()),y=c()(d()),v=function(e,t){var n=u.useContext(m.a).refetch,r=u.useCallback((function(){return n()}),[n]),i=Object(s.d)(b,{variables:{authorId:e},update:r}),a=o()(i,1)[0],l=Object(s.d)(h,{variables:{authorId:e},update:r}),c=o()(l,1)[0],d=Object(s.d)(x,{variables:{pubId:t},update:r}),p=o()(d,1)[0],f=Object(s.d)(y,{variables:{pubId:t},update:r});return{muteAuthor:a,unmuteAuthor:c,mutePub:p,unmutePub:o()(f,1)[0]}}},"./src/components/optimizely/helpers/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js");function a(){var e=o()(["\n  fragment optimizelyData_post on Post {\n    creator {\n      name\n    }\n    collection {\n      name\n    }\n    primaryTopic {\n      name\n    }\n  }\n"]);return a=function(){return e},e}var s=function(){return"undefined"!=typeof window},l=function(e,t){var n=e.post;if(s()){s()&&(window.optimizelyDataObject={});var r=n.creator,o=n.collection,i=n.primaryTopic;r&&r.name&&(window.optimizelyDataObject.author=r.name),o&&o.name&&(window.optimizelyDataObject.publication=o.name),i&&i.name&&(window.optimizelyDataObject.topic=i.name),t&&(window.optimizelyDataObject.firstName=t)}},c=n.n(i)()(a())},"./src/components/post-listing/PostListingItemRecirc.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/post/PostByline.tsx"),d=n("./src/components/post/bookmark/index.ts"),p=n("./src/components/post/multivote/MultiVote.tsx"),f=n("./src/components/session/WithFlag.tsx"),g=n("./src/components/ui/image/FocusableMiroImage.tsx"),b=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/Detail.tsx"),x=n("./src/framework/source/index.ts"),y=n("./src/framework/track/index.ts"),v=n("./src/util/routes.ts");function E(){var e=a()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return E=function(){return e},e}var S=l()(E(),m.a,y.c,d.b,p.b),C=function(e){var t=e.height,n=e.width;return function(e){return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}}},w=function(e){return{height:"100%",position:"absolute",width:"100%"}},j=function(e){var t=e.title,n=e.url;return c.createElement(b.f,{href:n},c.createElement(b.s,{size:"h4",tag:"h3"},t))},O=c.forwardRef((function(e,t){var n,r,i=e.post,a=e.productName,s=c.useState(!1),l=o()(s,2),u=l[0],E=l[1],S=c.useCallback((function(e){!u&&e.isIntersecting&&E(!0)}),[u]);if(Object(y.f)({onIntersect:S,target:t,disconnect:function(){return u},rootMargin:"100px"},[u]),"SuggestedPost"===i.__typename?(n=function(e,t){var n,r,o,i;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return i=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(i);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(i.postSuggestionReasons,a),r=i.post):r=i,!r)return null;var O,_,L,k,I,M,P,T=r.previewImage?r.previewImage.id:"",A=(O={id:T||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:r.previewImage?r.previewImage.focusPercentX:null,focusPercentY:r.previewImage?r.previewImage.focusPercentY:null},L=O.id,k=O.width,I=O.height,M=O.focusPercentX,P=O.focusPercentY,L?(_="number"==typeof M&&"number"==typeof P?[M,P]:[50,50],c.createElement(b.K,null,(function(e){return c.createElement("div",{className:e(C({height:I,width:k}))},c.createElement("div",{className:e(w)},c.createElement(g.a,{miroId:L,imgHeight:I,imgWidth:k,width:"100%",height:"100%",freezeGifs:!1,focusPercent:_})))}))):null);return c.createElement(y.b,{post:r,presentationContext:"PLACEMENT"},c.createElement(b.b,{md:{marginBottom:"48px"}},c.createElement(b.k,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},c.createElement(b.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},n&&c.createElement(b.b,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},c.createElement(h.a,{scale:"M"},n)),A&&c.createElement(b.b,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},c.createElement(b.u,{display:"block",href:Object(v.ob)(r)},u?A:null))),c.createElement(b.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},c.createElement(b.b,{marginBottom:"16px"},n&&c.createElement(b.b,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},c.createElement(h.a,{scale:"M"},n)),c.createElement(j,{title:r.title?r.title:"",url:Object(v.ob)(r)})),c.createElement(b.b,{display:"flex",alignItems:"center",justifyContent:"space-between"},c.createElement(b.b,{flexShrink:"1",marginRight:"10px"},c.createElement(f.a,{name:"remove_stars_ui"},(function(e){return c.createElement(m.b,{post:r,showBio:!1,scale:"S",showStar:!e&&!!r.isLocked,hideAvatar:!u})}))),c.createElement(b.b,{display:"flex",alignItems:"center"},c.createElement(x.b,{source:{susiEntry:"clap_preview"},extendSource:!0},c.createElement(p.a,{post:r,buttonStyle:"SUBTLE",isAccentColor:!1})),c.createElement(b.b,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),c.createElement(d.a,{post:r})))))))}));t.b=Object(u.c)((function(e){return{productName:e.config.productName}}),null,null,{forwardRef:!0})(O)},"./src/components/post/EmbeddedPost.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/post/EmbeddedPostContext.tsx"),d=n("./src/framework/design-system/util/style/responsiveStyles.ts"),p=n("./src/framework/source/index.ts"),f=n("./src/framework/style/index.ts"),g=n("./src/framework/track/index.ts"),b=n("./src/handlers/EmbeddedPostHandler.tsx");function h(){var e=a()(["\n  fragment EmbeddedPost_post on Post {\n    id\n    tags {\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n  }\n"]);return h=function(){return e},e}l()(h());var x=Object(u.c)((function(e){return{embedPostRules:e.config.embedPostRules}}),null,null,{forwardRef:!0})(c.forwardRef((function(e,t){var n=e.postId,r=e.rootMargin,i=e.sourcePost,a=e.embedPostRules,s=e.lazy,l=n||i&&function(e,t){var n;return e?(t.map((function(t){var r,o;return n||(((null===(r=e.topics)||void 0===r?void 0:r.some((function(e){var n,r;return!!(null==t||null===(n=t.topics)||void 0===n?void 0:n.includes((null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||""))})))||(null===(o=e.tags)||void 0===o?void 0:o.some((function(e){var n,r;return!!(null==t||null===(n=t.tags)||void 0===n?void 0:n.includes((null==e||null===(r=e.id)||void 0===r?void 0:r.toLowerCase())||""))}))))&&(n=t.embedPostId),n)})),n):n}(i,a);if(!l)return null;var u=c.createElement(b.a,{postId:l},(function(e){if(!e)return null;var t=Object(f.useCx)();return c.createElement(m.a.Provider,{value:!0},c.createElement(p.b,{source:{name:"embedded_post"}},c.createElement("div",{className:t((function(e){return Object(d.a)(e,{padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})}))},e)))}));if(!s)return u;var h=c.useState(!1),x=o()(h,2),y=x[0],v=x[1],E=c.useCallback((function(e){!y&&e.isIntersecting&&v(!0)}),[y]);return Object(g.f)({onIntersect:E,target:t,disconnect:function(){return y},rootMargin:r},[y]),y?u:null})))},"./src/components/post/InResponseToPostPreview.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./src/components/post/paragraph/TextParagraph.tsx"),u=n("./src/components/stream/Quote.tsx"),m=n("./src/components/ui/Card.tsx"),d=n("./src/framework/design-system/components/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=l.a.createElement("g",{fillRule:"evenodd"},l.a.createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),l.a.createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"})),g=function(e){return l.a.createElement("svg",p({width:19,height:19,viewBox:"0 0 19 19"},e),f)};function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=l.a.createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"}),x=function(e){return l.a.createElement("svg",b({width:19,height:19,viewBox:"0 0 19 19"},e),h)},y=n("./src/util/numbers.ts"),v=n("./src/util/quote.ts"),E=n("./src/util/routes.ts");function S(){var e=o()(["\n  fragment InResponseToPostPreview_mediaResource on Post {\n    inResponseToMediaResource {\n      mediumQuote {\n        ...Quote_quote\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function C(){var e=o()(["\n  fragment InResponseToPostPreview_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        name\n      }\n      clapCount\n      responsesCount\n    }\n  }\n"]);return C=function(){return e},e}n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return O}));var w=function(e){var t,n=e.inResponseToPostResult,r=e.inResponseToMediaResource,o=e.padding;if(n)switch(n.__typename){case"Post":t=n}if(!t)return null;var i=t.title,a=t.creator&&t.creator.name,l=parseInt(t.clapCount,10),u=parseInt(t.responsesCount,10),p=r&&r.mediumQuote&&Object(v.a)(r.mediumQuote),f=p&&p.type,b=s.createElement(d.f,{href:Object(E.ob)(t)},s.createElement(m.a,null,s.createElement(d.A,{ui:"REGULAR"},s.createElement(d.b,{paddingLeft:"20px",paddingRight:"20px"},p&&f&&s.createElement(d.b,{paddingBottom:"20px"},s.createElement(c.f,{paragraph:p,paragraphStyle:f,spaceTop:10,richTextStyle:"STREAM"})),s.createElement(d.b,{display:"flex"},s.createElement(d.b,{display:"flex",flexGrow:"1",flexShrink:"1",alignItems:"center"},s.createElement(d.d,{strong:!0,clamp:1},i)),s.createElement(d.d,null,s.createElement(d.b,{display:"flex",flexGrow:"0",alignItems:"center"},l>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:g,marginRight:"4px"}),s.createElement("div",null,Object(y.d)(l))):null,u>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:x,marginLeft:"8px",marginRight:"4px"}),s.createElement("div",null,Object(y.d)(u))):null))),s.createElement(d.d,null,a)))));return o?s.createElement(d.b,{padding:o},b):b},j=a()(C()),O=a()(S(),u.a)},"./src/components/post/MaybeRedirectToEditor.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/navigation/Redirect.tsx"),u=n("./src/components/session/WithViewer.tsx"),m=n("./src/util/routes.ts");function d(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return d=function(){return e},e}var p=a()(d()),f=Object(l.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return s.createElement(u.b,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?s.createElement(c.a,{to:Object(m.mb)(t,n.id)}):r}))}))},"./src/components/post/NormalizePostBodyModel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./src/util/string.ts");function l(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return c=function(){return e},e}var u=function(e){for(var t=null,n=null,r=null,o=0;o<=e.length;o++){var i=e[o];if(!i)break;if(null!=t){"H4"===i.type&&(n=o);break}if("H3"===i.type||"H2"===i.type)t=o;else{if(null!=r)break;if("H4"!==i.type){if("IMG"===i.type||"IFRAME"===i.type||"P"===i.type&&"string"==typeof i.text&&Object(s.a)(i.text))continue;break}r=o}}return{titleIndex:t,subtitleIndex:n}},m=a()(c()),d=function(e){for(var t=null,n=0;n<e.length;n++)if("IMG"===e[n].type){if(e[n].metadata&&e[n].metadata.isFeatured)return n;null===t&&(t=n)}return t},p=a()(l())},"./src/components/post/PostBodyInserts.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/WatchBounds.tsx"),c=n("./src/components/post/NormalizePostBodyModel.ts"),u=n("./src/components/post/PostByline.tsx"),m=n("./src/components/post/bookmark/index.ts"),d=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),p=n("./src/components/post/footer/CreatorActionOverflowPopover.tsx"),f=n("./src/components/session/useFlag.tsx"),g=n("./src/components/social/ShareButtons.tsx"),b=n("./src/framework/design-system/index.ts"),h=n("./src/framework/design-system/components/index.ts"),x=n("./src/framework/source/index.ts"),y=n("./src/framework/style/useCx.ts");function v(){var e=o()(["\n  fragment PostBodyInserts_post on Post {\n    isPublished\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...PostByline_post\n    ...ShareButtons_post\n    ...BookmarkButton_post\n    ...CreatorActionOverflowPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return v=function(){return e},e}function E(e){var t=e.post,n=Object(y.a)(),r={marginTop:"32px"},o=Object(f.a)("enable_mute");return s.createElement(l.a,{className:n(r),name:"byline",type:"byline",offset:{left:-600}},s.createElement(h.b,{display:"flex",justifyContent:"space-between",xs:{marginTop:r.marginTop},sm:{flexDirection:"column-reverse",marginTop:r.marginTop}},s.createElement(u.b,{scale:"M",post:t,showBio:!1,hideCollection:!0}),s.createElement(h.b,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},s.createElement(h.b,{display:"flex",alignItems:"center"},t.isPublished&&s.createElement(s.Fragment,null,s.createElement(g.a,{post:t,source:{name:"post_actions_header"}}),s.createElement(h.b,{flexGrow:o?void 0:"1",marginRight:o?"8px":"-6px"},s.createElement(x.b,{source:{name:"post_actions_header",susiEntry:"bookmark_header"}},s.createElement(d.a,{post:t}))),o&&s.createElement(h.b,{flexGrow:"1",marginRight:"-6px"},s.createElement(h.J,null,(function(e){var n=e.show;return s.createElement(p.a,{creator:null==t?void 0:t.creator,post:t,collection:null==t?void 0:t.collection,showLoadingIndicator:n})}))))))))}function S(e,t,n){return function(r){var o="number"==typeof n.titleIndex,i=n.subtitleIndex||n.titleIndex||0,a=t[i]&&t[i].name,l=s.createElement(E,{post:e});return a&&0===i&&!o?r.first={order:"before",component:s.createElement(b.a,{size:"inset"},l)}:a&&(r[a]={order:"after",component:l}),r}}function C(e){var t=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(t)return[S(e,t,Object(c.d)(t))].reduce((function(e,t){return t(e)}),{})}var w=a()(v(),u.a,g.b,m.b,p.b)},"./src/components/post/PostHeader.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/audio/AudioPlayback.tsx"),u=n("./src/components/broadcast-banner/BroadcastBanner.tsx"),m=n("./src/components/post/InResponseToPostPreview.tsx"),d=n("./src/components/post/PostPaywallAlert.tsx"),p=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/index.ts");function g(){var e=o()(["\n  fragment PostHeader_post on Post {\n    newsletterId\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    tags {\n      id\n    }\n    layerCake\n    isLocked\n    id\n    ...InResponseToPostPreview_mediaResource\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return g=function(){return e},e}var b=Object(l.c)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t,n,r=e.post,o=e.isAmp;return s.createElement(p.B,{columns:8,display:"flex",flexDirection:"column"},!!r.newsletterId&&s.createElement(p.b,{md:{paddingTop:"10px",paddingBottom:"5px"},lg:{paddingTop:"15px",paddingBottom:"5px"},xl:{paddingTop:"15px",paddingBottom:"5px"},borderBottom:"BASE_LIGHTER",print:{display:"none"}},s.createElement(f.a,{scale:"M",color:"DARKER"},"LETTER")),s.createElement(m.a,{inResponseToPostResult:r.inResponseToPostResult,inResponseToMediaResource:r.inResponseToMediaResource,padding:"10px 0 0"}),s.createElement(u.a,{topics:null==r||null===(t=r.topics)||void 0===t?void 0:t.map((function(e){return e.name})),tags:null==r||null===(n=r.tags)||void 0===n?void 0:n.map((function(e){return e.id})),tier:null==r?void 0:r.layerCake,isLocked:null==r?void 0:r.isLocked,postId:null==r?void 0:r.id}),!r.inResponseToPostResult&&s.createElement(d.a,{post:r}),r.audioVersionUrl&&!o&&s.createElement(c.a,{post:r}))})),h=a()(g(),m.c,m.b,d.b,c.b)},"./src/components/post/PostMetadata.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-helmet-async/lib/index.module.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/lodash/merge.js"),p=n.n(d),f=n("./node_modules/serialize-javascript/index.js"),g=n.n(f),b=n("./src/util/miroImage.ts"),h=n("./src/util/navigation.ts"),x=n("./src/util/post/metaHelpers.ts"),y=n("./src/util/routes.ts");function v(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    topics {\n      name\n      slug\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n    isShortform\n    shortformType\n    ...getTitleForPost_post\n  }\n  ","\n"]);return v=function(){return e},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C="Tag",w="Topic",j="Publication",O="Sequence",_="LockedPostSource",L="Elevated",k="LayerCake",I="Lite";function M(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),i=o/r,a=Math.floor(n*i);return P({width:a,height:o,url:Object(b.d)({miroId:t,width:a,freezeGifs:!0,strategy:b.a.Resample})})}function P(e){return S({"@type":"ImageObject"},e)}function T(e,t){return"".concat(e,":").concat(t)}var A=Object(m.c)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=t.collectionStructuredData,i=e.navigation;return{currentLocation:i.currentLocation,host:i.host,productName:n,defaultImages:r,collectionStructuredData:o}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,i=e.productName,a=e.defaultImages,s=e.collectionStructuredData,l=r.collection,m=r.creator,d=r.id,f=r.mediumUrl,v=r.isLocked,E=r.previewImage,A=r.firstPublishedAt,B=r.updatedAt,R=r.tags,D=r.topics,z=r.sequence,N=r.lockedSource,F=r.layerCake,U=Object(x.e)(r,i),H={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},X={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},V=l?{"@type":"Organization",name:l.name,url:l.domain||Object(h.b)(n,Object(y.C)(l,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return M(X);var t=M(e.logo);return t&&60===t.height&&t.width<=600?t:M(X)}(l)}:{"@type":"Organization",name:i,url:Object(h.b)(n,"/"),logo:M(X)};l&&s&&s[l.id]&&p()(V,s[l.id].data);var q=[T(I,"true")];R&&R.forEach((function(e){e.displayTitle&&q.push(T(C,e.displayTitle))})),D&&D.forEach((function(e){e.name?q.push(T(w,e.name)):e.slug&&q.push(T(w,e.slug))})),l&&l.slug&&q.push(T(j,l.slug)),q.push(T(L,(!!z).toString())),z&&z.slug&&q.push(T(O,z.slug)),N&&q.push(T(_,N)),null!=F&&q.push(T(k,F.toString()));var W=o||"",G=v?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},$=S({"@context":"http://schema.org","@type":"NewsArticle",image:E&&E.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,i=e.focusPercentY;if(!t)return null;var a=Object(b.b)({miroId:t,aspectRatio:16/9,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),s=Object(b.b)({miroId:t,aspectRatio:4/3,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),l=Object(b.b)({miroId:t,aspectRatio:1,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:i}),c=new Set([a,s,l]);return Array.from(c)}(E):P({url:Object(b.d)({miroId:H.id,width:H.originalWidth}),height:H.originalHeight,width:H.originalWidth}),url:f,dateCreated:A&&new Date(A).toISOString(),datePublished:A&&new Date(A).toISOString(),dateModified:B&&new Date(B).toISOString(),headline:U,name:U,description:W,identifier:d,keywords:q.length?q:null,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:Object(y.db)(n,m.username)}:null,creator:m&&[m.name],publisher:V,mainEntityOfPage:f},G);return c.createElement(u.a,null,c.createElement("script",{type:"application/ld+json"},g()($,{isJSON:!0})))})),B=l()(v(),x.f),R=n("./src/util/numbers.ts"),D=n("./src/util/post/metaDescription.ts");function z(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndex_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return F}));t.b=Object(m.c)((function(e){return{host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,o=e.host,i=e.productName,s=e.post,l=s.canonicalUrl,m=s.collection,d=s.creator,p=s.id,f=s.latestPublishedAt,g=s.mediumUrl,h=s.previewContent,v=s.socialTitle,E=s.socialDek,S=s.visibility,C=s.isShortform,w=m&&m.ampEnabled,j=d&&d.name,O=Object(x.c)(s),_=s.title||"",L=O.latestTitle||_;if(C){var k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{title:L});t=Object(x.g)(k,i,O.hasTitleGraf).trim(),n=Object(D.c)(s,O.hasTitleGraf)}else t=Object(x.e)(s,i,O).trim(),n=Object(D.a)(s);var I,M,P=E||h&&h.subtitle||n;if(s&&s.previewImage&&s.previewImage.id&&!s.isLimitedState){var T=s.previewImage;I=Object(b.b)({miroId:T.id,aspectRatio:1.9,croppedWidth:T.originalWidth?Math.min(T.originalWidth,1200):1200,originalWidth:T.originalWidth,originalHeight:T.originalHeight,focusPercentX:T.focusPercentX,focusPercentY:T.focusPercentY})}else if(s.isLimitedState){var B={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};I=Object(b.b)({miroId:B.id,aspectRatio:1.9,croppedWidth:B.originalWidth?Math.min(B.originalWidth,1200):1200,originalWidth:B.originalWidth,originalHeight:B.originalHeight,focusPercentX:B.focusPercentX,focusPercentY:B.focusPercentY})}d&&d.username&&(M=Object(y.db)(o,d.username));var z=Object(y.j)(p),F=!Object(x.i)(s),U=f&&new Date(f).toISOString(),H=Object(R.f)(s.readingTime||0),X=d&&d.twitterScreenName,V=m&&m.twitterUsername||"Medium",q=m&&m.facebookPageId,W=v||(_||L);s.isLimitedState&&(W="");var G=s.isLimitedState?"":P,$=c.useMemo((function(){return c.createElement(u.a,{htmlAttributes:r?{amp:void 0}:{}},c.createElement("meta",{property:"og:type",content:"article"}),U&&c.createElement("meta",{property:"article:published_time",content:U}),w&&!r?c.createElement("link",{rel:"amphtml",href:Object(y.d)(o,p)}):null,c.createElement("title",null,t),c.createElement("meta",{name:"title",content:t}),c.createElement("meta",{property:"og:title",content:W}),c.createElement("meta",{property:"twitter:title",content:W}),q&&c.createElement("meta",{property:"fb:pages",content:q}),c.createElement("meta",{name:"twitter:site",content:"@".concat(V)}),c.createElement("meta",{name:"twitter:app:url:iphone",content:z}),c.createElement("meta",{property:"al:android:url",content:z}),c.createElement("meta",{property:"al:ios:url",content:z}),c.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&c.createElement("meta",{name:"description",content:n}),P&&c.createElement("meta",{property:"og:description",content:G}),P&&c.createElement("meta",{property:"twitter:description",content:G}),c.createElement("meta",{property:"og:url",content:g}),c.createElement("meta",{property:"al:web:url",content:g}),I&&c.createElement("meta",{property:"og:image",content:I}),I&&c.createElement("meta",{name:"twitter:image:src",content:I}),c.createElement("meta",{name:"twitter:card",content:I?"summary_large_image":"summary"}),M&&c.createElement("meta",{property:"article:author",content:M}),M&&c.createElement("link",{rel:"author",href:M}),X&&c.createElement("meta",{name:"twitter:creator",content:"@".concat(X)}),j&&c.createElement("meta",{name:"author",content:j}),c.createElement("link",{rel:"canonical",href:l||g}),c.createElement("link",{rel:"alternate",href:Object(y.g)(Object(y.qb)("medium.com",s.id))}),c.createElement("meta",{name:"robots",content:"".concat(F?"noindex":"index",",follow")}),c.createElement("meta",{name:"referrer",content:"UNLISTED"!==S?"unsafe-url":"origin"}),r?null:c.createElement("meta",{name:"twitter:label1",value:"Reading time"}),r?null:c.createElement("meta",{name:"twitter:data1",value:"".concat(H," min read")}),c.createElement("meta",{name:"parsely-post-id",content:p}))}),[r,t,l,g,I,w,p,v,n,M,j,X,z,F,U]);return c.createElement(c.Fragment,null,$,c.createElement(A,{post:s,postDescription:n}))}));var F=l()(z(),B,D.b,D.d,x.j,x.h,x.d,x.f)},"./src/components/post/PostPaywallAlert.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),m=n("./src/components/session/WithViewer.tsx"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/Detail.tsx"),f=n("./src/util/routes.ts");function g(){var e=o()(["\n  mutation PostPaywallAlertMutation($postId: ID!) {\n    dismissDistributionAlert(postId: $postId)\n  }\n"]);return g=function(){return e},e}function b(){var e=o()(["\n  fragment PostPaywallAlert_post on Post {\n    id\n    visibility\n    lockedSource\n    curationEligibleAt\n    collection {\n      isEnrolledInHightower\n      viewerIsEditor\n    }\n    creator {\n      id\n      isPartnerProgramEnrolled\n    }\n    isDistributionAlertDismissed\n  }\n"]);return b=function(){return e},e}var h=function(){return u.createElement(d.u,{href:Object(f.I)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},x=function(){return u.createElement(d.u,{href:Object(f.H)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},y=function(){return u.createElement(u.Fragment,null,"This story's distribution setting is off. ",u.createElement(h,null))},v={LOCKED:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is on. ",u.createElement(x,null))},PUBLIC:y,UNLISTED:y},E={LOCKED:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is on. You're in the Partner Program, so this story is eligible to earn money. ",u.createElement(x,null))},PUBLIC:function(){return u.createElement(u.Fragment,null,"This story's distribution setting is off and it won't earn money in the Partner Program."," ",u.createElement(h,null))},UNLISTED:y};function S(e){var t=e.post,n=e.viewer,r=Object(s.d)(j),o=a()(r,1)[0],i=t.collection,l=t.lockedSource,c=t.creator,m=t.visibility,f=t.curationEligibleAt,g=t.isDistributionAlertDismissed,b=!(!n||!t.creator||n.id!==t.creator.id),h=!(!t.collection||!t.collection.viewerIsEditor);if(!b&&!h||g)return null;var x=i&&i.isEnrolledInHightower,y="LOCKED_POST_SOURCE_UGC"===l,S=b&&c&&c.isPartnerProgramEnrolled,C=y&&(h&&x||S&&!x)?E:v,w=!!(f&&f>0)?C.LOCKED:C[m];return u.createElement(d.J,{initialVisibility:!0},(function(e){var n=e.hide;return e.isVisible&&u.createElement(d.b,{border:"BASE_LIGHT",borderRadius:"4px",position:"relative",marginTop:"24px",marginBottom:"15px"},u.createElement(d.g,{onClick:function(){n(),o({variables:{postId:t.id}})},size:"LARGE"}),u.createElement(d.b,{padding:"20px"},u.createElement(d.b,{marginBottom:"8px"},u.createElement("i",null,u.createElement(p.a,{scale:"S"},"Only you can see this message"))),u.createElement(p.a,{scale:"M",color:"DARKER"},u.createElement(w,null))))}))}function C(e){var t=e.post;return u.createElement(m.b,null,(function(e){return u.createElement(S,{post:t,viewer:e})}))}var w=c()(b()),j=c()(g())},"./src/components/post/PostPublishedDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return I}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),l=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/components/session/WithFlag.tsx"),m=n("./src/components/session/WithViewer.tsx"),d=n("./src/components/social/ShareButton.tsx"),p=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/design-system/util/type/headingSizeRule.ts"),b=n("./src/framework/style/index.ts"),h=n("./src/styles/colors.ts"),x=n("./src/util/CopyUrl.tsx"),y=n("./src/util/navigation.ts"),v=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n  }\n"]);return E=function(){return e},e}function S(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function C(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n  }\n  ","\n"]);return C=function(){return e},e}var w=s()(C(),d.b),j=s()(S(),w),O=function(e){var t=e.url,n=e.label;return l.createElement(x.a,{url:t},(function(e){return l.createElement(p.b,{marginBottom:"8px"},l.createElement(p.c,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},l.createElement(p.b,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},_=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return l.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center"},l.createElement(f.a,{color:"DARKER",scale:"L",tag:"p"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),l.createElement(p.b,{marginTop:"20px"},!n&&l.createElement(l.Fragment,null,l.createElement(p.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),l.createElement(p.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),l.createElement(u.a,{name:"share_post_linkedin"},(function(e){return e?l.createElement(p.b,{marginBottom:"8px"},l.createElement(d.a,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t})):null}))),l.createElement(O,{url:r,label:"Copy story link"})))},L=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=Object(b.useCx)(),i=r.id,a=r.visibility,s=r.curationEligibleAt,c=r.mediumUrl,u=r.shareKey,m="UNLISTED"===a,d=!!s,x=Object(g.b)("h3");return l.createElement(p.j,{isVisible:t,hide:n,withAnimation:!0,withCloseButton:!1},l.createElement(p.b,{background:h.F,borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(h.A)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},l.createElement(p.g,{onClick:n,size:"LARGE"}),l.createElement(p.b,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},l.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},l.createElement("h3",{className:o(x)},"Your story is published!"),l.createElement(p.b,{maxWidth:"520px",marginTop:"20px"},l.createElement(f.a,{color:"DARKER",scale:"L",tag:"p"},function(e,t){return e?"Your unlisted story will not appear publicly on Medium, but you can still share it.":t?"If our curators recommend your story to readers by adding it to relevant topics, we will email you to let you know. Recommended stories are part of Medium's metered paywall, and you can use the custom Friend Link below to give anyone who clicks it free access to your story.":"You chose not to make this story eligible for review by curators and distribution through Medium topics. Your story will only be shared on Medium with readers who follow you."}(m,d))),l.createElement(p.b,{paddingTop:"20px"},d&&!m&&c&&u&&l.createElement(O,{url:Object(y.a)(Object(v.ob)(r),{sk:u}),label:"Copy Friend Link"})),l.createElement(p.b,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&c&&l.createElement(_,{post:r,isUnlisted:m,postPath:Object(v.ob)(r)}))))},k=Object(c.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.post;return l.createElement(m.b,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?l.createElement(i.b,{ssr:!1,query:j,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,o=(r=void 0===r?{}:r).post;if(n||!o||o.inResponseToPostResult)return null;var i={authDomain:e.authDomain,isVisible:e.isVisible,hide:e.hide,post:o};return l.createElement(L,i)})):null}))})),I=s()(E())},"./src/components/post/PostSidebar.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return X}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/typeof.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(c),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m),p=n("./node_modules/react/index.js"),f=n("./node_modules/react-redux/es/index.js"),g=n("./src/WatchBounds.tsx"),b=n("./src/components/collection/CollectionFollowButton.tsx"),h=n("./src/components/metabar/constants.ts"),x=n("./src/components/post/bookmark/index.ts"),y=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),v=n("./src/components/post/multivote/MultiVote.tsx"),E=n("./src/components/read-next/ReadNext.tsx"),S=n("./src/components/responses/ResponsesIconButton.tsx"),C=n("./src/components/session/WithFlag.tsx"),w=n("./src/components/session/useFlag.tsx"),j=n("./src/framework/design-system/components/index.ts"),O=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/source/index.ts"),L=n("./src/framework/style/index.ts"),k=n("./src/framework/track/DomMonitor.ts"),I=n("./src/styles/breakpoints.ts"),M=n("./src/styles/mediaTypes.ts"),P=n("./src/util/dom.ts"),T=n("./src/util/routes.ts");function A(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      ...PostSidebar_collection\n    }\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}function B(){var e=o()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}var R=function(e,t,n){return function(r){var o,i=I.lg(r);return t&&(i=Object(M.a)(r,131,r.grid.xStep*r.grid.marginSteps.lg,null==n?void 0:n.current)),o={opacity:e?1:0,pointerEvents:"none",willChange:"opacity",position:"fixed",width:"100%",top:"calc(".concat(h.a,"px + 54px + 40px)")},u()(o,Object(M.b)("no-preference"),{transition:"opacity 200ms"}),u()(o,i,{display:"none"}),o}},D=function(e){return{pointerEvents:e?"auto":"none"}},z=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(h.a,"px + 54px + 14px)")},u()(t,Object(M.b)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},N=p.forwardRef((function(e,t){var n=e.isClearOfBounds,r=e.isOnPage,o=e.post,i=e.setIsResponsesSidebarVisible,s=Object(f.f)((function(e){return e.navigation.currentLocation})),c=Object(L.useCx)(),u=p.useContext(g.b).watchedBounds,m=p.useState(r||!1),d=l()(m,2),h=d[0],x=d[1],k=p.useState(n||!1),I=l()(k,2),M=I[0],A=I[1],B=p.useRef(null),N=p.useRef(null),H=Object(w.a)("enable_new_pub_header"),X=o.collection;p.useEffect(F(u,x),[u]);var V=p.useCallback(function(e,t,n,r,o){return function(){var i=e.current,a=t.current;if(i){var s=o.threshold||10,l=["image","bgimage","footer","byline","title","header"],c=Array.from(n.values()).filter((function(e){var t=e.ref,n=e.opts;return l.includes(n.type)&&!!t.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=Object(P.a)(t.current);return Object(P.h)(o,r)})),u=Object(P.a)(i),m=!c.some((function(e){return Object(P.f)(e,u,s)})),d=!0;if(a){var p=Object(P.a)(a);d=!c.some((function(e){return Object(P.f)(e,p,s)}))}r(m&&d)}}}(B,N,u,A,{threshold:10}),[u,A]),q="object"===a()(t)?t:null;p.useEffect(U(V,null==q?void 0:q.current),[V,null==q?void 0:q.current]);var W=h&&M;return p.createElement(_.b,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},p.createElement(C.a,{name:"enable_different_grid"},(function(e){var n;return p.createElement("div",{className:c(R(W,e,t)),"data-test-id":"post-sidebar"},p.createElement(j.w,{size:"outset"},p.createElement(j.b,{display:"flex",flexDirection:"column",width:"".concat(131,"px"),ref:B},p.createElement("div",{className:c(D(W))},X&&p.createElement(j.b,{paddingBottom:"28px",borderBottom:"BASE_LIGHTER"},X.name&&p.createElement(j.u,{href:Object(T.C)(X,s)},p.createElement(O.b,{scale:"XS"},X.name)),H&&X.tagline&&p.createElement(j.b,{paddingTop:"2px",paddingBottom:"20px"},p.createElement(O.a,{scale:"M",clamp:6},X.tagline)),!H&&X.description&&p.createElement(j.b,{paddingTop:"2px",paddingBottom:"20px"},p.createElement(O.a,{scale:"M",clamp:6},X.description)),p.createElement(_.b,{source:{susiEntry:"follow_sidebar"},extendSource:!0},p.createElement(b.a,{collection:X,post:o}))),p.createElement(_.b,{source:{susiEntry:"clap_sidebar"},extendSource:!0},p.createElement(j.b,{display:"flex",marginBottom:"19px",marginLeft:"-3px",paddingTop:"28px"},p.createElement(v.a,{post:o,buttonStyle:"SUBTLE_PADDED",hasDialog:!0}))),p.createElement(j.b,{marginBottom:"19px"},p.createElement(S.a,{responsesCount:null===(n=o.postResponses)||void 0===n?void 0:n.count,location:"sidebar",setIsResponsesSidebarVisible:i})),p.createElement(y.a,{post:o})))))})),p.createElement("div",{className:c(z(W)),ref:N},p.createElement(E.a,{postId:o.id,isVisible:W})))})),F=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},U=function(e,t){return function(){var n=Object(k.b)(t);return n.on("scroll_throttled",e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off("scroll_throttled",e),n.off("scroll_end",e),n.off("resize_throttled",e)}}};var H=d()(B(),b.b,T.D),X=d()(A(),H,x.b,b.c,v.b,S.b)},"./src/components/post/body/InteractivePostBody.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(s),c=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),d=n("./node_modules/react/index.js"),p=n("./src/components/post/body/ActivePrivateNoteContext.tsx"),f=n("./src/components/post/body/ActiveSelectionContext.tsx"),g=n("./src/components/post/body/ParagraphRefsMapContext.tsx"),b=n("./src/components/post/body/PostBody.tsx"),h=n("./src/components/post/markups/HighlightSegmentsContext.tsx"),x=n("./src/util/typeGuards.ts");function y(){var e=l()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return y=function(){return e},e}function v(){var e=l()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return v=function(){return e},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}function C(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,i=e.paragraphs&&e.paragraphs[0],a=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(i.name,t);if(!i||!a)return null;var s=S(i.text,r,n),l=S(a.text,r,n);if(!s||!l)return null;if(s===l)return e;var c=a.text?a.text.indexOf(s):null;return"number"!=typeof c||c<0?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{endOffset:c+s.length,startOffset:c})})).filter(x.a):e}var w=m()(v()),j=m()(y()),O=n("./src/components/session/WithFlag.tsx"),_=n("./src/components/session/WithViewer.tsx");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(){var e=l()(["\n  query InteractivePostBodyQuery($postId: ID!, $showHighlights: Boolean!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights @include(if: $showHighlights) {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}function M(){var e=l()(["\n  fragment InteractivePostBody_customStyleSheet on CustomStyleSheet {\n    ...PostBody_customStyleSheet\n  }\n  ","\n"]);return M=function(){return e},e}function P(){var e=l()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return A}));var T=m()(P(),f.c,h.b,j,b.a,b.b),A=m()(M(),b.c),B=m()(I(),f.b,h.a,b.d,b.e,w),R=d.forwardRef((function(e,t){var n=e.post,r=e.postBodyInserts,o=e.activeGrafId,i=e.activeNoteId,s=e.customStyleSheet,l=n.content,u=n.latestPublishedVersion;if(!l)throw new Error("Expected post to have content.");var m={bodyModel:l.bodyModel,creator:n.creator,postBodyInserts:r,ref:t,richTextStyle:"FULL_PAGE",customStyleSheet:s},x=n&&n.creator&&n.creator.allowNotes||!1;return d.createElement(O.a,{name:"enable_lite_post_highlights_view_only",nonBlocking:!0},(function(e){return l.isLockedPreviewOnly||!e?d.createElement(b.f,m):d.createElement(c.b,{notifyOnNetworkStatusChange:!0,ssr:!1,query:B,variables:{postId:n.id,showHighlights:Boolean(e),showNotes:x}},(function(e){var t=e.data,r=(t=void 0===t?{}:t).post,s=l.bodyModel&&l.bodyModel.paragraphs,c=C(r&&r.highlights||[],s),x=r&&r.privateNotes||null;return d.createElement(g.b,null,d.createElement(O.a,{name:"enable_lite_post_highlights",nonBlocking:!0},(function(e){var t=d.createElement(b.f,a()({},m,{highlights:c,privateNotes:x}));return e?d.createElement(p.a,{initialActivePrivateNoteId:i,initialActiveGrafName:o},d.createElement(f.d,{interactivePost:k({},n,{latestPublishedVersion:u}),highlights:c},d.createElement(_.b,{nonBlocking:!0},(function(e){return d.createElement(h.d,{highlights:c,paragraphs:s,viewer:e},t)})))):t})))}))}))}));t.c=R},"./src/components/post/bookmark/PostPageBookmarkButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./src/components/post/bookmark/BookmarkButton.tsx"),s=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),l=n("./src/components/post/bookmark/mutations.tsx"),c=n("./src/components/session/WithViewer.tsx"),u=n("./src/components/susi/SusiClickable.tsx"),m=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/reporter/index.ts"),p=n("./src/framework/source/index.ts"),f=n("./src/framework/style/index.ts"),g=n("./src/schema-types/globalTypes.ts"),b=n("./src/svg/bookmark-25px.svg"),h=n("./src/svg/bookmark-archive-25px.svg"),x=n("./src/svg/bookmark-remove-25px.svg"),y=n("./src/util/routes.ts");var v=function(e,t){return e&&{READING_LIST_QUEUE:"READING_LIST_ARCHIVE",READING_LIST_ARCHIVE:"READING_LIST_NONE"}[t]},E=function(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,E=t.id,S=t.readingList,C=Object(d.c)(),w=Object(p.d)(),j=i.useContext(s.a),O=j.isFirstLoadAndInReadingList,_=j.setIsFirstLoadAndInReadingList,L=i.useState(r),k=o()(L,2),I=k[0],M=k[1],P=i.useCallback((function(e,t){if(S){if(C.event({READING_LIST_QUEUE:"post.addedArchive",READING_LIST_ARCHIVE:"post.removedBookmark"}[S],{postId:E,source:w}),t(v(e,S))(),v(e,S)===g.k.READING_LIST_NONE)return void _(!1);r&&M(!1)}}),[E,S,O,_,r,w]),T=i.useCallback((function(){r&&M(!0)}),[r]);return i.createElement(c.b,null,(function(e){return e?S&&i.createElement("div",null,!O||S!==g.k.READING_LIST_QUEUE&&S!==g.k.READING_LIST_ARCHIVE?i.createElement(a.b,{post:t}):i.createElement(l.a,{post:t},(function(t){return i.createElement(m.I,{isVisible:I,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return i.createElement(m.b,{padding:"8px"},{READING_LIST_QUEUE:"Archive Story",READING_LIST_ARCHIVE:"Remove story from reading list"}[S])},onMouseLeave:T},i.createElement(m.u,{onClick:function(){return P(e,t)}},(n=S,r=Object(f.useCx)(),o=function(e){return{fill:e.baseColor.border.darker}},{READING_LIST_QUEUE:i.createElement(h.a,{className:r(o)}),READING_LIST_ARCHIVE:i.createElement(x.a,{className:r(o)})}[n])));var n,r,o}))):i.createElement(u.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(y.m)(E)},i.createElement(b.a,null))}))}},"./src/components/post/bookmark/PostPageBookmarkContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=r.createContext({isFirstLoadAndInReadingList:!0,setIsFirstLoadAndInReadingList:function(){return null}})},"./src/components/post/footer/CreatorActionOverflowPopover.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),p=n("./src/store/actions/navigation.ts");function f(){var e=o()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return f=function(){return e},e}var g=l()(f()),b=Object(m.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(d.a,{mutation:g,onCompleted:function(e){n(Object(p.l)({message:"Responses are now hidden for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return t({mutate:e})}))})),h=Object(m.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(d.a,{mutation:g,onCompleted:function(e){n(Object(p.l)({message:"Responses are now shown for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return t({mutate:e})}))})),x=n("./src/components/mutations/UserBlockMutation.tsx");function y(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      id\n      isBlocking\n    }\n  }\n"]);return y=function(){return e},e}var v=l()(y()),E=Object(m.c)()((function(e){var t=e.targetAuthorId,n=e.targetPostId,r=e.dispatch,o=e.children,i=e.onOptimisticComplete,a=e.isBlocking;return c.createElement(d.a,{mutation:v,onCompleted:function(){r(Object(p.l)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(r,o){var s=e({variables:{targetAuthorId:t,targetPostId:n,alsoBlockAuthor:r,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,isBlocking:a||r}}});return i&&i(),s}})}))})),S=n("./src/components/mutations/UserUnblockMutation.tsx"),C=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),w=n.n(C),j=n("./src/components/mute/useMute.tsx"),O=n("./src/components/session/useFlag.tsx"),_=n("./src/components/ui/PopoverMenu.tsx"),L=n("./src/framework/design-system/components/index.ts"),k=n("./src/framework/reporter/index.ts"),I=n("./src/framework/source/index.ts");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){var e=o()(["\n  fragment MutePopoverOptions_collection on Collection {\n    id\n    viewerIsMuting\n  }\n"]);return T=function(){return e},e}function A(){var e=o()(["\n  fragment MutePopoverOptions_creator on User {\n    id\n    isMuting\n  }\n"]);return A=function(){return e},e}var B=function(){return null},R=l()(A()),D=l()(T()),z=function(e){var t=e.hidePopover,n=void 0===t?B:t,r=e.creator,o=e.collection,i=e.postId,a=r||{},s=a.id,l=a.isMuting,u=void 0!==l&&l,d=o||{},p=d.id,f=d.viewerIsMuting,g=void 0!==f&&f,b=Object(j.a)(s,p),h=b.muteAuthor,x=b.unmuteAuthor,y=b.mutePub,v=b.unmutePub,E=Object(O.a)("enable_mute"),S=Object(k.c)(),C=Object(I.d)(),w=Object(m.f)((function(e){return{location:e.navigation.currentLocation,referrer:e.navigation.referrer,referrerSource:e.navigation.referrerSource}})),M=w.referrer,T=w.referrerSource,A={postId:i,location:w.location,referrer:M,source:C,referrerSource:T};return E?c.createElement(c.Fragment,null,!!r&&c.createElement(_.b,{key:"author-mute-popover-item"},c.createElement(L.u,{linkStyle:"SUBTLE",onClick:function(){var e=u?"user.unmuted":"user.muted",t=P({targetUserId:s},A);S.event(e,t),u?x():h(),n()}},u?"Unmute this author":"Mute this author")),!!o&&c.createElement(_.b,{key:"pub-mute-popover-item"},c.createElement(L.u,{linkStyle:"SUBTLE",onClick:function(){var e=g?"collection.unmuted":"collection.muted",t=P({collectionId:p},A);S.event(e,t),g?v():y(),n()}},g?"Unmute this publication":"Mute this publication"))):null},N=function(e){var t=e.onConfirm,n=e.isVisible,r=e.hide;return c.createElement(L.h,{onConfirm:t,isVisible:n,hide:r,titleText:"Hide responses",cancelText:"Cancel",confirmText:"Confirm"},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your post.")},F=n("./src/components/post/footer/actions/CollectionSubmission.tsx"),U=n("./src/components/collection/CollectionAvatar.tsx"),H=n("./src/components/post/footer/actions/PubStatusMutations.tsx"),X=n("./src/components/post/footer/actions/shared.ts"),V=n("./src/framework/design-system/type/index.ts"),q=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&"PENDING"===r.statusForCollection&&(Object(X.d)(r)||Object(X.e)(r,t))?c.createElement(_.b,null,c.createElement(L.u,{onClick:n},"Manage submission")):null},W=function(e){var t=e.children,n=e.isVisible,r=e.post,o=e.hide,i=e.showLoadingIndicator,a=Object(H.a)(r),s=Object(H.b)(r),l=Object(m.e)(),u=r.pendingCollection;return u?c.createElement(L.x,{isVisible:n,hide:o,popoverRenderFn:function(){return c.createElement(L.b,{padding:"16px",maxWidth:"280px"},c.createElement(L.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(L.b,{paddingRight:"8px"},c.createElement(U.a,{collection:u,size:40})),c.createElement(V.a,{scale:"S"},"This draft is submitted to ",u.name,".")),c.createElement(L.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(L.b,{paddingRight:"8px"},c.createElement(L.c,{buttonStyle:"OBVIOUS",onClick:function(){o(),i(),a(r.pendingCollection).then((function(){window.location.reload(!1)}))}},"Accept")),c.createElement(L.c,{buttonStyle:"SUBTLE",onClick:function(){s(r.pendingCollection).then((function(){l(Object(p.l)({message:"Story removed from ".concat(u.name||"publication")}))})),o()}},"Don't accept")))}},t):t},G=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&("APPROVED"===r.statusForCollection&&(Object(X.d)(r)||Object(X.e)(r,t)||Object(X.c)(r,t))||"PENDING"===r.statusForCollection&&Object(X.c)(r,t))?c.createElement(_.b,null,c.createElement(L.u,{onClick:n},"Remove story from publication")):null},$=function(e){var t=e.children,n=e.isVisible,r=e.hide,o=e.post,i=e.viewer,a=Object(m.e)(),s=Object(H.b)(o),l=o.collection||o.pendingCollection;return l?c.createElement(L.x,{isVisible:n,hide:r,popoverRenderFn:function(){return c.createElement(L.b,{padding:"16px",maxWidth:"280px"},c.createElement(L.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(L.b,{paddingRight:"8px"},c.createElement(U.a,{collection:l,size:40})),"APPROVED"===o.statusForCollection?c.createElement(V.a,{scale:"S"},Object(X.c)(o,i)?"Your":"This"," story is published in"," ",l.name,"."):"PENDING"===o.statusForCollection?c.createElement(V.a,{scale:"S"},"Your story is being reviewed by ",l.name," editors."):c.createElement(V.a,{scale:"S"},"This draft is submitted to ",l.name)),c.createElement(L.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(L.b,{paddingRight:"8px"},c.createElement(L.c,{buttonStyle:"SUBTLE",onClick:function(){s(l).then((function(){a(Object(p.l)({message:"Story removed from ".concat(l.name||"publication")}))})),r()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(l.name||"")))))}},t):t},K=n("./src/components/post/multivote/ClapMutation.tsx"),Y=n("./src/components/session/useViewer.tsx"),Q=n("./src/components/susi/SusiClickable.tsx"),J=n("./src/components/user/UserBlockConfirmDialog.tsx"),Z=n("./src/components/style/BaseThemeProvider.tsx"),ee=function(e){var t=e.isVisible,n=e.hide,r=e.onSubmit,o=c.useState(!1),i=a()(o,2),s=i[0],l=i[1],u=c.useState("Spam"),m=a()(u,2),d=m[0],p=m[1],f=c.useCallback((function(e,t){return p(t)}),[]);return c.createElement(Z.b,null,c.createElement(L.j,{isVisible:t,hide:n},c.createElement(L.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},c.createElement(V.b,{scale:"M"},"Report Story"),c.createElement(L.b,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},c.createElement(L.b,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},c.createElement(L.z,{onChange:f,value:d,options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}]})),c.createElement(L.e,{checked:s,onChange:function(){l(!s)}},"Also block the author of this story")),c.createElement(L.b,{display:"flex",justifyContent:"center",marginBottom:"10px"},c.createElement(L.b,{marginRight:"8px"},c.createElement(L.c,{buttonStyle:"OBVIOUS",onClick:function(){r(s,d),n()}},"Report")),c.createElement(L.c,{onClick:n},"Cancel")),c.createElement(L.b,{marginTop:"50px",textAlign:"center"},c.createElement(L.d,null,"Report"," ",c.createElement(L.u,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",inline:!0},"copyright infringement")," ","or"," ",c.createElement(L.u,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",inline:!0},"trademark infringement"),".",c.createElement("br",null),"Read"," ",c.createElement(L.u,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"our rules"),".")))))},te=n("./src/store/actions/multiVote.ts");function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re=u.a.createElement("path",{d:"M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}),oe=function(e){return u.a.createElement("svg",ne({width:25,height:25,viewBox:"-480.5 272.5 21 21"},e),re)},ie=n("./src/util/post/claps.ts");function ae(){var e=o()(["\n  fragment CreatorActionOverflowPopover_post on Post {\n    allowResponses\n    id\n    statusForCollection\n    isPublished\n    clapCount\n    viewerClapCount\n    mediumUrl\n    pendingCollection {\n      id\n      name\n      viewerIsEditor\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n    }\n    creator {\n      id\n      isBlocking\n      ...MutePopoverOptions_creator\n    }\n    collection {\n      id\n      viewerIsEditor\n      name\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n      ...MutePopoverOptions_collection\n    }\n    ...ClapMutation_post\n  }\n  ","\n  ","\n  ","\n"]);return ae=function(){return e},e}function se(e){return{fill:e.baseColor.fill.normal}}function le(){return c.createElement(L.K,null,(function(e){return c.createElement(oe,{className:e(se)})}))}n.d(t,"a",(function(){return ce})),n.d(t,"b",(function(){return ue}));var ce=function(e){var t=e.creator,n=e.post,r=e.collection,o=e.showLoadingIndicator,i=c.useState(!1),s=a()(i,2),l=s[0],u=s[1],d=c.useState(!1),p=a()(d,2),f=p[0],g=p[1],y=c.useState(!1),v=a()(y,2),C=v[0],w=v[1],j=Object(m.f)((function(e){return e.multiVote.clapsPerPost})),O=Object(m.e)(),k=c.useCallback((function(e){return O(Object(te.d)(e))}),[O]),I=Object(ie.a)(j,n),M=I.clapCount,P=I.viewerClapCount,T=Object(Y.b)(),A=null==T?void 0:T.id,B=Object(K.b)();if(!n||!t||!T)return null;var R=n.allowResponses,D=n.id,U=(r||{}).viewerIsEditor;return c.createElement(L.J,null,(function(e){var i=e.isVisible,a=e.toggle,s=e.hide;return c.createElement(L.J,null,(function(e){var m=e.isVisible,d=e.show,p=e.hide;return c.createElement(L.J,null,(function(e){var y=e.isVisible,v=e.show,j=e.hide;return c.createElement(L.J,null,(function(e){var O=e.isVisible,I=e.show,H=e.hide;return c.createElement(x.a,{targetUserId:null==t?void 0:t.id,viewerId:T.id,onCompleted:p},(function(e){var x=e.mutate;return c.createElement(S.a,{targetUserId:null==t?void 0:t.id,viewerId:T.id},(function(e){var S=e.mutate;return c.createElement(E,{targetAuthorId:null==t?void 0:t.id,targetPostId:n.id,isBlocking:null==t?void 0:t.isBlocking},(function(e){var E=e.mutate;return c.createElement(h,{targetPostId:D},(function(e){var h=e.mutate;return c.createElement(b,{targetPostId:D},(function(e){var b=e.mutate;return c.createElement(c.Fragment,null,c.createElement(L.x,{isVisible:i,hide:s,popoverRenderFn:function(){return c.createElement(_.a,null,c.createElement(c.Fragment,null,c.createElement(z,{hidePopover:s,creator:t,collection:r,postId:n.id}),c.createElement(F.b,{post:n,show:function(){g(!0),s()}}),c.createElement(G,{viewer:T,post:n,show:function(){w(!0),s()}}),c.createElement(q,{viewer:T,post:n,show:function(){u(!0),s()}})),A===t.id||U?c.createElement(c.Fragment,null,c.createElement(_.b,null,c.createElement(L.u,{onClick:function(){R?I():h(),s()}},R?"Hide responses":"Show responses")),c.createElement(_.c,null)):null,A&&M&&P&&P>0?c.createElement(_.b,null,c.createElement(L.u,{onClick:function(){B(n,(null==T?void 0:T.id)||"",-P),k({postId:D,clapCount:M-P,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),s()}},"Undo applause for this post")):null,c.createElement(_.b,null,A?c.createElement(L.u,{onClick:function(){v(),s()}},"Report this story"):c.createElement(Q.a,{operation:"register",post:n,susiEntry:"report_footer"},"Report this story")),A?c.createElement(_.b,null,c.createElement(L.u,{onClick:function(){t.isBlocking?S():d(),s()}},t.isBlocking?"Unblock this author":"Block this author")):null)}},c.createElement(F.a,{post:n,isVisible:f,hide:function(){g(!1)},showLoadingIndicator:o},c.createElement($,{viewer:T,post:n,isVisible:C,hide:function(){w(!1)}},c.createElement(W,{post:n,isVisible:l,hide:function(){u(!1)},showLoadingIndicator:o},c.createElement(L.b,{flexGrow:"0"},c.createElement(L.u,{onClick:a},c.createElement(le,null))))))),c.createElement(N,{onConfirm:b,isVisible:O,hide:H}),c.createElement(J.a,{onConfirm:x,isVisible:m,hide:p}),c.createElement(ee,{onSubmit:E,isVisible:y,hide:j}))}))}))}))}))}))}))}))}))}))},ue=l()(ae(),R,D,K.a)},"./src/components/post/footer/PostFooter.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/WatchBounds.tsx"),u=n("./src/components/post/EmbeddedPost.tsx"),m=n("./src/components/format/Date.tsx"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),f=n("./src/util/numbers.ts"),g=n("./src/util/routes.ts");function b(){var e=o()(["\n  fragment PostInternalLinkItem_post on Post {\n    id\n    title\n    mediumUrl\n    firstPublishedAt\n    readingTime\n  }\n"]);return b=function(){return e},e}var h=a()(b()),x=function(e){var t=e.post,n=t.firstPublishedAt,r=t.title;return s.createElement(d.b,null,s.createElement(d.b,{marginBottom:"10px"},s.createElement(d.b,{paddingBottom:"12px"},s.createElement(p.b,{scale:"XS"},s.createElement(d.f,{href:Object(g.ob)(t)},r))),s.createElement(p.a,{scale:"M",tag:"span",clamp:1},n&&s.createElement(s.Fragment,null,s.createElement(m.a,{timestamp:n})," ·"," "),s.createElement(s.Fragment,null,Object(f.f)(t.readingTime||0)," min read"))))},y=n("./src/framework/source/index.ts");function v(){var e=o()(["\n  fragment PostInternalLinks_post on Post {\n    id\n    internalLinks(paging: {limit: 8}) @include(if: $includePostInternalLinks) {\n      items {\n        ... on Post {\n          ...PostInternalLinkItem_post\n        }\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var E=a()(v(),h),S=function(e){var t,n=e.post,r=e.sourceName,o=(null==n||null===(t=n.internalLinks)||void 0===t?void 0:t.items)||[];return o&&0!==o.length?s.createElement(d.b,{marginTop:"72px",marginBottom:"72px",sm:{marginTop:"16px",marginBottom:"16px"}},s.createElement(d.k,{alignItems:"flex-start"},o.map((function(e,t){return s.createElement(d.l,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:6,xl:6}},s.createElement(d.b,{paddingBottom:"24px",maxWidth:"500px"},s.createElement(y.b,{source:{name:r,index:t}},s.createElement(x,{post:e}))))})))):null},C=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),w=n.n(C),j=n("./src/components/broadcast-banner/useCdcMessaging.tsx"),O=n("./src/framework/design-system/util/style/responsiveStyles.ts"),_=n("./src/framework/style/index.ts"),L=s.createContext(!1),k=function(e){var t=Object(_.useCx)();return s.createElement("div",{className:t((function(e){return Object(O.a)(e,{padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})}))},e.children)},I=n("./src/framework/track/index.ts"),M=n("./src/handlers/EmbeddedPostHandler.tsx"),P=(Object(l.c)((function(e){return{embeddedPostIds:e.config.embeddedPostIds}}),null,null,{forwardRef:!0})(s.forwardRef((function(e,t){var n=e.rootMargin,r=e.embeddedPostIds,o=s.useState(!1),i=w()(o,2),a=i[0],l=i[1],c=s.useCallback((function(e){!a&&e.isIntersecting&&l(!0)}),[a]);Object(I.f)({onIntersect:c,target:t,disconnect:function(){return a},rootMargin:n},[a]);var u=null==r?void 0:r.coronavirus;return a&&u?s.createElement(M.a,{postId:u},(function(e){return e?s.createElement(L.Provider,{value:!0},s.createElement(k,null,e)):null})):null}))),n("./node_modules/@babel/runtime/helpers/extends.js")),T=n.n(P),A=n("./src/components/post-listing/PostListingItemRecirc.tsx"),B=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),R=n("./src/framework/design-system/type/Heading.tsx");function D(e){var t=e.posts,n=e.sourceName,r=s.useRef(null);return 0===t.length?null:s.createElement(d.b,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},s.createElement(d.b,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},s.createElement(R.a,{scale:"S"},"More From Medium")),s.createElement(d.k,{alignItems:"flex-start"},t.map((function(e,t){return s.createElement(d.l,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},s.createElement(y.b,{source:{name:n,index:t}},s.createElement(A.b,{post:e,ref:r})))}))))}function z(e,t){var n=Object(B.c)(e,t),r=w()(n,2),o=r[0],i=r[1];return[s.useCallback((function(e){!i.called&&e.isIntersecting&&o()}),[i]),i]}var N=n("./src/util/hooks/useIsRecircSSREnabled.tsx");function F(){var e=o()(["\n  query PostRecircQuery($postId: ID!, $includePostRecirc: Boolean!) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return F=function(){return e},e}function U(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    recirc(paging: {limit: 3}) @include(if: $includePostRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...Recirc_post\n        }\n        ... on SuggestedPost {\n          post {\n            __typename\n            ...Recirc_post\n          }\n          postSuggestionReasons {\n            reason\n            users {\n              name\n            }\n            topics {\n              name\n            }\n            collections {\n              name\n            }\n            tags {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function H(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return H=function(){return e},e}var X=a()(H(),A.a),V=a()(U(),X),q=a()(F(),V),W=s.forwardRef((function(e,t){var n,r,o=e.postId,i=e.rootMargin,a=z(q,{variables:{postId:o,includePostRecirc:!0},ssr:!1}),l=w()(a,2),c=l[0],u=l[1],m=u.called,d=u.loading,p=u.error,f=u.data;Object(I.f)({onIntersect:c,target:t,disconnect:function(){return m},rootMargin:i},[m]);var g=null==f||null===(n=f.post)||void 0===n||null===(r=n.recirc)||void 0===r?void 0:r.items;return!m||d||p||!g?null:s.createElement(D,{posts:g,sourceName:"post_recirc"})}));function G(e){var t,n=e.post,r=null==n||null===(t=n.recirc)||void 0===t?void 0:t.items;return s.createElement(D,{posts:r||[],sourceName:"post_recirc"})}var $=s.forwardRef((function(e,t){return Object(N.a)(e.postId)?s.createElement(G,e):s.createElement(W,T()({},e,{ref:t}))})),K=n("./src/styles/font.ts");function Y(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return Y=function(){return e},e}var Q={padding:0,margin:0},J={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},Z=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function ee(e){var t=e.tags,n=Object(_.useCx)();return t?s.createElement("ul",{className:n(Q)},t.map((function(e){return e.id?s.createElement("li",{key:e.id,className:n(J)},s.createElement("a",{href:Object(g.Mb)(e.id),className:n([Z,Object(K.t)({fontSize:15})])},e.displayTitle)):null}))):null}var te=a()(Y()),ne=n("./src/components/post/bookmark/index.ts"),re=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),oe=n("./src/components/post/footer/CreatorActionOverflowPopover.tsx"),ie=n("./src/components/post/footer/actions/CollectionSubmission.tsx"),ae=n("./src/components/post/footer/actions/shared.ts"),se=n("./src/components/post/multivote/MultiVote.tsx"),le=n("./src/components/responses/ResponsesIconButton.tsx"),ce=n("./src/components/session/WithFlag.tsx"),ue=n("./src/components/social/ShareButtons.tsx"),me=n("./src/components/susi/SusiClickable.tsx"),de=n("./src/framework/source/SourceContext.tsx");function pe(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButtons_post\n    ...ResponsesIconButton_post\n    ...CreatorActionOverflowPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return pe=function(){return e},e}var fe=function(e){var t=e.post,n=e.setIsResponsesSidebarVisible,r=t.isPublished,o=t.content,i=t.creator,a=t.collection,l=(o||{}).isLockedPreviewOnly,c=s.createElement(de.b,{source:{name:"post_actions_footer",susiEntry:"clap_footer"}},s.createElement(se.a,{post:t,buttonStyle:"OBVIOUS",hasDialog:!0})),u=s.createElement(ce.a,{name:"enable_disregard_trunc_state_for_footer"},(function(e){return(e||!l)&&c}));return s.createElement(d.J,null,(function(e){var o,l=e.isVisible,c=e.show;return s.createElement(s.Fragment,null,l&&s.createElement(d.v,null),s.createElement(d.b,{display:"flex",justifyContent:"space-between",marginTop:"15px",print:{display:"none"}},u,s.createElement(d.b,{display:"flex",alignItems:"center"},r&&s.createElement(s.Fragment,null,s.createElement(ue.a,{post:t,source:{name:"post_actions_footer"}}),s.createElement(le.a,{responsesCount:null===(o=t.postResponses)||void 0===o?void 0:o.count,location:"footer",setIsResponsesSidebarVisible:n}),s.createElement(d.b,{flexGrow:"0",paddingRight:"8px"},s.createElement(de.b,{source:{name:"post_actions_footer",susiEntry:"bookmark_footer"}},s.createElement(re.a,{post:t})))),i&&s.createElement(oe.a,{creator:i,post:t,collection:a,showLoadingIndicator:c}))))}))},ge=a()(pe(),ne.b,se.b,me.d,ae.b,ie.c,ue.b,le.b,oe.b),be=n("./src/components/collection/CollectionAvatar.tsx"),he=n("./src/components/collection/CollectionFollowButton.tsx"),xe=n("./src/components/session/WithViewer.tsx"),ye=n("./src/components/user/UserAvatar.tsx"),ve=n("./src/components/user/UserFollowButton.tsx"),Ee=n("./src/components/user/UserUnblockButton.tsx");function Se(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}var Ce=ye.c.XL,we=ye.c.XL+22,je=function(e){var t=e.creator,n=e.post,r=t.name,o=t.username,i=t.bio,a=void 0===i?"":i,l=t.id,c=t.isBlocking;return r&&o?s.createElement(xe.b,null,(function(e){return s.createElement(d.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ce,"px")},s.createElement(d.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},s.createElement(d.b,{position:"absolute",sm:{position:"relative",width:"".concat(we,"px")}},s.createElement(ye.d,{user:t,scale:"XL",link:!0})),s.createElement(d.b,{tag:"span"},s.createElement(d.b,{paddingLeft:"".concat(we,"px"),sm:{paddingLeft:"0"}},s.createElement(p.d,null,"Written by")),s.createElement(d.b,{paddingLeft:"".concat(we,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},s.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},s.createElement(p.b,{scale:"M"},s.createElement(d.u,{href:Object(g.ac)(o)},r||o)),s.createElement(d.b,{sm:{display:"none"}},e&&c?s.createElement(Ee.a,{targetUserId:l}):s.createElement(ve.c,{buttonSize:"SMALL",post:n,user:t})))))),s.createElement(d.b,{maxWidth:"555px",paddingLeft:"".concat(we,"px"),sm:{display:"block",paddingLeft:"0"}},s.createElement(d.b,{maxWidth:"450px"},s.createElement(p.a,{scale:"L"},a)),s.createElement(d.b,{display:"none",sm:{display:"block",marginTop:"24px"}},s.createElement(ve.c,{buttonSize:"SMALL",post:n,user:t}))))})):null},Oe=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,i=t.description,a=void 0===i?"":i;return s.createElement(d.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ce,"px")},s.createElement(d.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},s.createElement(d.b,{position:"absolute",sm:{position:"relative",width:"".concat(we,"px")}},s.createElement(be.a,{collection:t,size:Ce,link:!0})),s.createElement(d.b,{tag:"span"},s.createElement(d.b,{paddingLeft:"".concat(we,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},s.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},s.createElement(p.b,{scale:"M"},s.createElement(d.u,{href:Object(g.C)(t,n)},o)),s.createElement(d.b,{sm:{display:"none"}},s.createElement(he.a,{collection:t,post:r})))))),s.createElement(d.b,{maxWidth:"550px",paddingLeft:"".concat(we,"px"),sm:{display:"block",paddingLeft:"0"}},s.createElement(d.b,{maxWidth:"450px"},s.createElement(p.a,{scale:"L"},a)),s.createElement(d.b,{display:"none",sm:{display:"block",marginTop:"24px"}},s.createElement(he.a,{collection:t,post:r}))))};var _e=a()(Se(),be.b,he.b,he.c,g.D,ye.b,ve.a,ve.b),Le=Object(l.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.collection;return r?s.createElement(d.b,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"}},s.createElement(je,{creator:r,post:n}),o&&s.createElement(s.Fragment,null,s.createElement(d.b,{paddingTop:"32px"}),s.createElement(Oe,{collection:o,currentLocation:t,post:n}))):null})),ke=n("./src/components/session/useFlag.tsx");function Ie(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n    isLimitedState\n  }\n"]);return Ie=function(){return e},e}var Me=a()(Ie()),Pe=Object(l.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.setIsResponsesSidebarVisible,o=Object(_.useCx)(),i=n.id,a=n.responsesCount,l=n.isLimitedState,c=a&&a>0;var u=Object(ke.a)("enable_responses_2");return s.createElement(d.u,{href:l||u?" ":Object(g.Bb)(t,i),onClick:l?function(e){e.preventDefault()}:u?function(e){e.preventDefault(),r(!0)}:void 0},s.createElement("span",{className:o((function(e){return{color:e.baseColor.text.light,opacity:l?.25:1,cursor:l?"not-allowed":"pointer"}}))},s.createElement(d.b,{sm:{display:c?"block":"none"},border:l?"BASE_NORMAL":"ACCENT_NORMAL",borderRadius:"4px",padding:"20px",textAlign:"center"},l?s.createElement(d.I,{darkTheme:!0,popoverRenderFn:function(){return s.createElement(d.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},c?"See responses (".concat(a||0,")"):"Write the first response"):s.createElement("span",{className:o((function(e){return{color:e.accentColor.text.normal}}))},c?"See responses (".concat(a||0,")"):"Write the first response"))))})),Te=n("./src/svg/creative-commons-by-21px.svg"),Ae=n("./src/svg/creative-commons-nc-21px.svg"),Be=n("./src/svg/creative-commons-nd-21px.svg"),Re=n("./src/svg/creative-commons-sa-21px.svg"),De=n("./src/svg/creative-commons-zero-21px.svg"),ze=function(e){return{fill:e.baseColor.fill.lighter}};function Ne(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var Fe=function(e){var t=e.license,n=Object(_.useCx)();return t?s.createElement(d.b,null,s.createElement(d.b,{display:"inline-block"},s.createElement(p.a,{scale:"S"},s.createElement(d.I,{darkTheme:!0,placement:"top",popoverRenderFn:function(){return s.createElement(d.b,{width:"300px",padding:"8px"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Ne(e,"title")," license by the author.")}}(t))}},s.createElement(d.u,{disableSourceParam:!0,href:Ne(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),s.createElement(d.b,{display:"inline-block"},s.createElement(p.a,{scale:"S"},"CC_40_ZERO"===t&&s.createElement("span",null," by the author."),s.createElement("span",{className:n(ze),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:s.createElement(De.a,null),CC_40_BY:s.createElement(Te.a,null),CC_40_BY_ND:s.createElement(s.Fragment,null,s.createElement(Te.a,null),s.createElement(Be.a,null)),CC_40_BY_SA:s.createElement(s.Fragment,null,s.createElement(Te.a,null),s.createElement(Re.a,null)),CC_40_BY_NC:s.createElement(s.Fragment,null,s.createElement(Te.a,null),s.createElement(Ae.a,null)),CC_40_BY_NC_ND:s.createElement(s.Fragment,null,s.createElement(Te.a,null),s.createElement(Ae.a,null),s.createElement(Be.a,null)),CC_40_BY_NC_SA:s.createElement(s.Fragment,null,s.createElement(Te.a,null),s.createElement(Ae.a,null),s.createElement(Re.a,null)),PUBLIC_DOMAIN:s.createElement(s.Fragment,null)}[e]}(t))))):null},Ue=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),He=n.n(Ue),Xe=n("./node_modules/@apollo/react-components/lib/react-components.esm.js");function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){He()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return We=function(){return e},e}function Ge(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return Ge=function(){return e},e}var $e=a()(Ge()),Ke=a()(We()),Ye=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,i=n.creator;return o&&t&&i&&(t.id===i.id||t.id===o.id)?s.createElement(Xe.a,{mutation:$e,optimisticResponse:{setCollaboratorState:!0},update:function(e,t){var o,i=e.readFragment({id:"Post:".concat(n.id),fragment:Ke});e.writeFragment({id:"Post:".concat(n.id),fragment:Ke,data:qe({},i,{collaborators:(null!==(o=null==i?void 0:i.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?qe({},e,{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&i.id===t.id?"(declined)":s.createElement(s.Fragment,null,"(",s.createElement(d.u,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},Qe=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},Je=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?s.createElement(xe.b,null,(function(e){return s.createElement(d.b,null,s.createElement(p.a,{scale:"S"},"Thanks to ",n.map((function(o,i){var a=o.user;return a?s.createElement(s.Fragment,{key:o.id},a.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,a)&&s.createElement(s.Fragment,null," ",s.createElement(Ye,{viewer:e,post:t,collaborator:o})),s.createElement(Qe,{index:i,total:n.length})):null})),". "))})):null};function Ze(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      username\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n"]);return Ze=function(){return e},e}var et=a()(Ze()),tt=function(e){var t=e.post,n=t.creator;if(!t.translationSourcePost||!n)return null;var r=s.createElement(d.u,{linkStyle:"SUBTLE",inline:!0,href:Object(g.ob)(t.translationSourcePost)},"original"),o=s.createElement(d.u,{linkStyle:"SUBTLE",inline:!0,href:Object(g.ac)(n.username||"")},n.name);return s.createElement(d.b,null,s.createElement(p.a,{scale:"S"},"Translated from ",r," by ",o,"."))},nt=n("./src/components/sequence/SequenceCoverImage.tsx");function rt(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return rt=function(){return e},e}var ot={textTransform:"uppercase"};function it(e){var t=e.sequence,n=Object(_.useCx)();return s.createElement(d.b,{display:"flex",flexDirection:"column",marginBottom:"56px"},s.createElement(d.b,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},s.createElement(d.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},s.createElement(nt.b,{sequence:t,width:200,height:265})),s.createElement(d.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},s.createElement(nt.b,{sequence:t,width:180,height:238})),s.createElement(d.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},s.createElement(nt.b,{sequence:t,width:98,height:130})),s.createElement(d.b,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},s.createElement("div",{className:n(ot)},s.createElement(p.d,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&s.createElement(d.f,{href:Object(g.wb)(t.slug)},s.createElement(d.b,null,s.createElement(p.g,{scale:"M"},t.title))),t.description&&s.createElement(d.b,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},s.createElement(p.a,{scale:"L"},t.description)))),t.description&&s.createElement(d.b,{display:"none",marginTop:"29px",xs:{display:"block"}},s.createElement(p.a,{scale:"M"},t.description)))}var at=a()(rt(),nt.a);function st(){var e=o()(["\n  query SequencePostRecircQuery($postId: ID!, $includeSequenceRecirc: Boolean!) {\n    post(id: $postId) {\n      id\n      ...SequencePostRecirc_post\n    }\n  }\n  ","\n"]);return st=function(){return e},e}function lt(){var e=o()(["\n  fragment SequencePostRecirc_post on Post {\n    elevateRecirc(paging: {limit: 3}) @include(if: $includeSequenceRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...PostListingItemRecirc_post\n        }\n      }\n    }\n  }\n  ","\n"]);return lt=function(){return e},e}var ct=a()(lt(),A.a),ut=a()(st(),ct),mt=s.forwardRef((function(e,t){var n,r,o=e.postId,i=e.rootMargin,a=z(ut,{variables:{postId:o,includeSequenceRecirc:!0},ssr:!1}),l=w()(a,2),c=l[0],u=l[1],m=u.called,d=u.loading,p=u.error,f=u.data;Object(I.f)({onIntersect:c,target:t,disconnect:function(){return m},rootMargin:i},[m]);var g=null==f||null===(n=f.post)||void 0===n||null===(r=n.elevateRecirc)||void 0===r?void 0:r.items;return!m||d||p||!g?null:s.createElement(D,{posts:g,sourceName:"elevate_recirc"})}));function dt(e){var t,n=e.post,r=null==n||null===(t=n.elevateRecirc)||void 0===t?void 0:t.items;return s.createElement(D,{posts:r||[],sourceName:"elevate_recirc"})}var pt=s.forwardRef((function(e,t){return Object(N.a)(e.postId)?s.createElement(dt,e):s.createElement(mt,T()({},e,{ref:t}))})),ft=n("./src/styles/flex.ts"),gt=n("./src/svg/unlisted-19px.svg"),bt=n("./src/util/hooks/useArePostInternalLinksEnabled.tsx");function ht(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    layerCake\n    collection {\n      ...PostFooter_collection\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      id\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n    viewerClapCount\n    ...PostRecirc_post\n    ...SequencePostRecirc_post\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterResponsesButton_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n    ...PostInternalLinks_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ht=function(){return e},e}function xt(){var e=o()(["\n  fragment PostFooter_collection on Collection {\n    name\n    description\n  }\n"]);return xt=function(){return e},e}n.d(t,"a",(function(){return vt})),n.d(t,"b",(function(){return Et}));var yt=function(e){return{color:e.baseColor.text.normal}},vt=(t.c=Object(l.c)((function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp,embeddedPostIds:e.config.embeddedPostIds}}),{})((function(e){var t,n=e.post,r=e.isAmp,o=e.setIsResponsesSidebarVisible,i=e.embeddedPostIds,a=e.hideRecirc,l=n.id,m=n.layerCake,f=n.tags,g=n.topics,b=n.sequence,h=n.visibility,x=n.isPublished,y=n.allowResponses,v=s.useRef(null),E=Object(_.useCx)(),C=s.useContext(c.b),w=Object(bt.a)(l),O=function(e,t,n,r){var o=Object(j.a)({tier:r,topics:n,tags:t,flag:"enable_more_on_coronavirus"}).shouldShowCdcMessaging;return!(!(null==e?void 0:e.coronavirus)||!o)}(i,null==f?void 0:f.map((function(e){return e.id})),null==g?void 0:g.map((function(e){return e.name})),m);return s.useEffect((function(){C.updateWatchedBounds("footer",v,{type:"footer"})}),[]),s.createElement("div",{ref:v},s.createElement(de.b,{source:{susiEntry:"follow_footer",name:"follow_footer"}},s.createElement("div",{className:E([(t=!x||O,{marginTop:"40px",clear:"both",marginBottom:t?"40px":void 0}),Object(ft.a)({flexDirection:"column",justifyContent:"center"})])},s.createElement(d.w,{size:"inset"},!x&&s.createElement(d.b,{height:"20px",borderTop:"BASE_LIGHTER"}),s.createElement(d.b,{display:"flex",flexWrap:"wrap"},x&&s.createElement(Je,{post:n}),x&&s.createElement(tt,{post:n})),s.createElement(d.b,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===h&&s.createElement(d.b,null,s.createElement(p.a,{scale:"S"},s.createElement(gt.a,null)," ",s.createElement("span",{className:E(yt)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==n.license&&s.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),n.license&&"ALL_RIGHTS_RESERVED"!==n.license&&s.createElement(Fe,{license:n.license})),f&&f.length>0&&s.createElement(d.b,{marginTop:"25px"},s.createElement(ee,{tags:f})),!r&&s.createElement(fe,{post:n,setIsResponsesSidebarVisible:o}),x&&s.createElement(s.Fragment,null,s.createElement(Le,{post:n}),y&&s.createElement(d.b,{borderTop:"BASE_LIGHTER",paddingTop:"25px",print:{display:"none"}},s.createElement(Pe,{post:n,setIsResponsesSidebarVisible:o}))),O&&s.createElement(d.b,{paddingTop:"25px"},s.createElement(u.a,{postId:null==i?void 0:i.coronavirus,sourcePost:n,ref:v,rootMargin:"0px 0px 1000px 0px",lazy:!0}))),!a&&x&&!O&&s.createElement(d.b,{backgroundColor:"BASE_LIGHT",marginTop:"64px",print:{display:"none"}},s.createElement(d.w,null,b&&!b.hideIndex&&s.createElement(it,{sequence:b}),b?s.createElement(pt,{ref:v,postId:l,rootMargin:"0px 0px 2000px 0px",post:n}):s.createElement($,{ref:v,postId:l,rootMargin:"0px 0px 2000px 0px",post:n}),w&&s.createElement(S,{post:n,sourceName:"post_internal_links"}))))))})),a()(xt())),Et=a()(ht(),vt,V,ct,ge,_e,Me,at,te,Ke,et,E)},"./src/components/post/footer/actions/CollectionSubmission.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return B}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),m=n("./src/components/collection/CollectionAvatar.tsx"),d=n("./src/components/post/footer/actions/PubStatusMutations.tsx"),p=n("./src/components/post/footer/actions/shared.ts"),f=n("./src/components/session/WithViewer.tsx"),g=n("./src/components/ui/PopoverMenu.tsx"),b=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/index.ts");function x(){var e=a()(["\n  fragment CollectionSubmission_post on Post {\n    id\n    ...CollectionSubmissionPopover_post\n    ...CollectionSubmissionPopoverMenuItem_post\n  }\n  ","\n  ","\n"]);return x=function(){return e},e}function y(){var e=a()(["\n  fragment CollectionSubmissionPopover_post on Post {\n    id\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return y=function(){return e},e}function v(){var e=a()(["\n  fragment CollectionSubmissionPopoverMenuItem_post on Post {\n    id\n    statusForCollection\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return v=function(){return e},e}function E(){var e=a()(["\n  query CollectionSubmissionPopoverQuery {\n    viewer {\n      id\n      writerCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n      adminCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function S(){var e=a()(["\n  fragment CollectionSubmissionPopoverQuery_collection on Collection {\n    ...CollectionSubmissionOption_collection\n    ...ManageSubmission_collection\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}function C(){var e=a()(["\n  fragment CollectionSubmissionOption_collection on Collection {\n    id\n    name\n    slug\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return C=function(){return e},e}var w=c()(C(),m.b),j=c()(S(),w,p.a),O=c()(E(),j),_=c()(v()),L=c()(y()),k=c()(x(),L,_),I=[{name:"",value:"No publication",content:u.createElement(b.b,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},u.createElement(h.a,{scale:"M",color:"DARKER"},"No publication"))}];function M(e){var t=e.collection;return t.name?u.createElement(b.b,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},u.createElement(h.a,{scale:"M",color:"DARKER"},t.name),u.createElement(m.a,{collection:t,size:32})):null}function P(e){var t=e.show,n=e.post,r=n.statusForCollection,o=n.isPublished;return r||!o?null:u.createElement(A,{post:n,noQueryReturn:null},(function(e){var r=e.loading,o=e.error,i=e.data;if(r||o)return null;var a=(void 0===i?{viewer:void 0}:i).viewer,s=n.creator;if(!a||!s||a.id!==s.id)return null;var l=a.adminCollections,c=a.writerCollections;return 0===l.length&&0===c.length?null:u.createElement(g.b,null,u.createElement(b.u,{onClick:t},"Add to publication"))}))}function T(e){var t=e.isVisible,n=e.hide;return u.createElement(b.j,{isVisible:t,hide:n,withCloseButton:!0},u.createElement(b.b,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},u.createElement(b.o,null,"Story submitted"),u.createElement(b.b,{paddingTop:"8px",paddingBottom:"24px"},u.createElement(h.f,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),u.createElement(b.c,{buttonStyle:"OBVIOUS",onClick:n},"OK")))}var A=function(e){var t=e.children,n=e.post,r=e.noQueryReturn,o=n.creator;return o?u.createElement(f.b,null,(function(e){return e?e.id!==o.id?r:u.createElement(s.b,{query:O,ssr:!1},(function(e){var n=e.loading,r=e.error,o=e.data;return t({loading:n,error:r,data:o})})):r})):r},B=function(e){var t=e.post,n=e.hide,r=e.showLoadingIndicator,i=e.isVisible,a=e.children,s=u.useState(""),l=o()(s,2),c=l[0],m=l[1],p=Object(d.a)(t),f=Object(d.c)(t);return t.isPublished?u.createElement(b.J,null,(function(e){var o=e.isVisible,s=e.hide,l=e.show;return u.createElement(u.Fragment,null,u.createElement(T,{hide:s,isVisible:o}),u.createElement(A,{post:t,noQueryReturn:a},(function(e){var o=e.loading,s=e.error,d=e.data;if(o||s)return a;var g=(void 0===d?{viewer:void 0}:d).viewer,x=t.creator;if(!g||!x||g.id!==x.id)return a;var y=g.adminCollections,v=g.writerCollections;if(0===y.length&&0===v.length)return a;var E=y.concat(v).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:u.createElement(M,{collection:e})}})),S=I.concat(E),C=y.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),w=v.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),j="";if(c){var O=S.find((function(e){return e.name===c}));O&&(j=O.value)}return u.createElement(b.x,{placement:"top",hide:n,isVisible:i,popoverRenderFn:function(){return u.createElement(b.b,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},u.createElement(h.a,{scale:"M",color:"DARKER"},"Add your story to a publication:"),u.createElement(b.b,{marginTop:"10px"},u.createElement(b.z,{value:j,onChange:m,options:S})),u.createElement(b.b,{display:"flex",marginTop:"20px"},u.createElement(h.a,{scale:"M",color:"LIGHTER"},c in C?u.createElement(b.c,{onClick:function(){var e=C[c];n(),r(),p(e).then((function(){window.location.reload(!1)}))},buttonStyle:"OBVIOUS"},"Add story"):u.createElement(b.c,{onClick:function(){var e=w[c];f(e),n(),l()},disabled:!c},"Submit")),u.createElement(b.b,{marginLeft:"10px"},u.createElement(h.a,{scale:"M",color:"LIGHTER"},u.createElement(b.u,{onClick:n},u.createElement(b.b,{padding:"10px"},"Cancel"))))),u.createElement(b.b,{marginTop:"10px"},u.createElement(h.a,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},a)})))})):a}},"./src/components/post/footer/actions/PubStatusMutations.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return x}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),m=n("./src/schema-types/globalTypes.ts");function d(){var e=a()(["\n  mutation RejectPostFromPubMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return d=function(){return e},e}function p(){var e=a()(["\n  mutation ManageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return p=function(){return e},e}var f=c()(p()),g=c()(d()),b=function(e){var t=Object(s.d)(f),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:m.a.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:m.a.PENDING,pendingCollection:t}}})}),[e])},h=function(e){var t=Object(s.d)(f),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:m.a.APPROVED}})}),[e])},x=function(e){var t=Object(s.d)(g),n=o()(t,1)[0];return Object(u.useCallback)((function(t){return n({variables:{collectionSlug:(null==t?void 0:t.slug)||"",postId:e.id,status:m.a.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}})}),[e])}},"./src/components/post/footer/actions/shared.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./src/components/collection/CollectionAvatar.tsx");function l(){var e=o()(["\n  fragment ManageSubmission_post on Post {\n    id\n    statusForCollection\n    collection {\n      ...ManageSubmission_collection\n    }\n    pendingCollection {\n      ...ManageSubmission_collection\n    }\n    creator {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function c(){var e=o()(["\n  fragment ManageSubmission_collection on Collection {\n    name\n    viewerIsEditor\n    creator {\n      id\n    }\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return c=function(){return e},e}var u=function(e,t){return t&&e.creator&&t.id===e.creator.id},m=function(e,t){var n=e.pendingCollection||e.collection;return n&&n.creator&&t.id===n.creator.id},d=function(e){var t=e.pendingCollection||e.collection;return t&&t.viewerIsEditor},p=a()(c(),s.b),f=a()(l(),p)},"./src/components/read-next/ReadNext.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u=n("./node_modules/graphql-tag/src/index.js"),m=n.n(u),d=n("./node_modules/react/index.js"),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/components/ui/image/index.ts"),g=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/Detail.tsx"),h=n("./src/framework/design-system/type/Overline.tsx"),x=n("./src/framework/style/index.ts"),y=n("./src/util/miroImage.ts"),v=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return E=function(){return e},e}var S=m()(E()),C=Object(p.c)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},i=o.focusPercentX,a=o.focusPercentY,s=o.id,l=o.alt,c=r.collection||{},u=c.name,m=c.id,p=r.primaryTopic&&r.primaryTopic.name,E=m&&(n.includes(m)?u:p)||"",S=r&&r.title||"",C=Object(v.ob)(r,t),w=Object(x.useCx)(),j=d.createElement(g.b,{marginBottom:"4px"},d.createElement(h.a,{tag:"span"},d.createElement(b.a,{scale:"S",color:"DARKER"},d.createElement("div",{className:w({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},E))));return d.createElement(g.f,{href:C},d.createElement(g.b,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},j,d.createElement(g.b,{display:"flex",flexDirection:"row"},d.createElement(f.b,{miroId:s||"",alt:l||"",height:50,width:50,freezeGifs:!0,strategy:y.a.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:i||50,focusPercentY:a||50}),d.createElement(g.b,{display:"flex",flexDirection:"column",width:"130px"},d.createElement(b.a,{scale:"S",color:"DARKER",clamp:3},S)))))})),w=n("./src/components/session/WithViewer.tsx"),j=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),O=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/design-system/util/style/responsiveStyles.ts"),L=n("./src/framework/reporter/index.ts"),k=n("./src/framework/source/index.ts"),I=n("./src/screens/helpers/visits.ts"),M=n("./src/util/constants.ts");function P(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return D}));var B=function(e){var t={display:"none"};return Object(_.a)(e,{":last-of-type":{xs:t,sm:t,md:t,lg:t,xl:{display:"block"}}})},R=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=d.useState(!1),i=l()(o,2),a=i[0],s=i[1],u=Object(c.e)(w.a).data,m=(u=void 0===u?{viewer:void 0}:u).viewer,p=Object(c.c)(z),f=l()(p,2),b=f[0],h=f[1],y=h.called,v=h.loading,E=h.error,S=h.data,_=(S=void 0===S?{post:void 0}:S).post,M=m&&D(m)&&!(Object(I.j)()||a),P=Object(L.c)(),T=Object(x.useCx)(),R=Object(k.e)(),N=_&&_.readNext;return d.useEffect((function(){v||!E||N&&N.length||P.event("readNextError",{post:_,postId:r,error:E,readNextLength:N&&N.length||0})}),[v]),d.useEffect((function(){n&&N&&(P.event("readNext.viewed",{position:"sidebar"}),N.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return P.event("post.clientPresented",{source:Object(k.c)(A({},R,{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,N]),!y&&M&&b({variables:{postId:r||""}}),y&&!v&&!E&&_&&N&&N.length&&M?d.createElement(k.b,{source:{name:"read_next",sectionType:k.a.READ_NEXT_SIDEBAR},extendSource:!0},d.createElement(g.b,{width:"188px"},d.createElement(g.b,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},d.createElement(g.b,{position:"absolute",right:"0",top:"-4px"},d.createElement(j.a,{onClick:function(){Object(I.a)(),s(!0)},size:"SMALL",isPositionAbsolute:!1})),d.createElement(g.b,{width:"200px"},d.createElement(O.c,{scale:"XS"},"Your journey starts here.")),d.createElement(g.b,{display:"flex",flexDirection:"column",justifyContent:"space-between"},_.readNext.slice(0,4).map((function(e,t){var n=e.post;return d.createElement("div",{className:T(B),key:t},d.createElement(C,{key:t,post:n}))})))))):null};function D(e){return e&&e.createdAt+M.a>Date.now()}var z=m()(P(),S)},"./src/components/responses/AuthorBadge.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/style/index.ts"),i=function(){var e=Object(o.useCx)();return r.createElement("div",{className:e((function(e){return{color:"white",backgroundColor:e.brandColor.sage.dark,borderRadius:"2px",fontSize:"11px",padding:"0px 6px",height:"16px",display:"flex",alignItems:"center",marginLeft:"8px"}}))},"AUTHOR")}},"./src/components/responses/ResponsesIconButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./src/components/session/useFlag.tsx"),u=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/design-system/type/index.ts"),d=n("./src/framework/style/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=l.a.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"}),g=function(e){return l.a.createElement("svg",p({width:25,height:25},e),f)};function b(){var e=o()(["\n  fragment ResponsesIconButton_post on Post {\n    postResponses {\n      count\n    }\n  }\n"]);return b=function(){return e},e}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return x}));var h=function(e){var t=e.responsesCount,n=e.location,r=e.setIsResponsesSidebarVisible,o=Object(c.a)("enable_responses_2"),i=Object(d.useCx)();if(!o)return null;var a="sidebar"===n;return s.createElement("div",{onClick:o?function(e){e.preventDefault(),r(!0)}:void 0,className:i({cursor:"pointer"})},s.createElement(u.b,{display:"flex",flexDirection:"row",alignItems:"center",paddingRight:t?"9px":"4px"},s.createElement(g,null),s.createElement(u.b,{paddingLeft:a?"6px":"2px"},s.createElement(m.a,{scale:"S",color:a?"LIGHTER":"DARKER"},t||null))))},x=a()(b())},"./src/components/responses/ResponsesSidebar.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(c),m=n("./node_modules/lodash/cloneDeep.js"),d=n.n(m),p=n("./node_modules/graphql-tag/src/index.js"),f=n.n(p),g=n("./node_modules/react/index.js"),b=n.n(g),h=n("./src/framework/design-system/components/index.ts"),x=n("./src/framework/style/index.ts"),y={"0%":{opacity:"0.8"},"50%":{opacity:"0.5"},"100%":{opacity:"0.8"}},v=function(){var e=Object(x.useKeyframes)({shimmerKeyframesName:y}).shimmerKeyframesName,t=Object(x.useCx)();return g.createElement("div",{className:t((function(){return{animation:"".concat(e," 1.2s ease-in-out infinite"),padding:"32px 0"}}))},g.createElement(h.b,{display:"flex",flexDirection:"row"},g.createElement(h.b,{height:"32px",width:"32px",borderRadius:"100%",backgroundColor:"BASE_NORMAL"}),g.createElement(h.b,{marginLeft:"8px",marginTop:"4px"},g.createElement(h.b,{height:"8px",width:"120px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),g.createElement(h.b,{height:"8px",width:"80px",backgroundColor:"BASE_NORMAL"}))),g.createElement(h.b,{marginTop:"12px"},g.createElement(h.b,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),g.createElement(h.b,{height:"10px",width:"100%",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),g.createElement(h.b,{height:"10px",width:"90%",backgroundColor:"BASE_NORMAL"})))},E=n("./src/components/responses/SimpleResponse.tsx"),S=n("./src/components/format/TimeAgo.tsx"),C=n("./src/components/responses/AuthorBadge.tsx"),w=n("./src/components/ui/MiddotContainer.tsx"),j=n("./src/components/user/UserAvatar.tsx"),O=n("./src/framework/design-system/type/index.ts"),_=n("./src/framework/design-system/type/Title.tsx");function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=b.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 0H0v10h10V0zm-.77.77H.77v8.46h8.46V.77zM7.7 2.69H2.31v.77h5.38V2.7zm0 1.93H2.31v.77h5.38v-.77zM2.31 6.54h5.38v.77H2.31v-.77z",fill:"#757575"}),I=function(e){return b.a.createElement("svg",L({width:10,height:10,viewBox:"0 0 10 10",fill:"none"},e),k)};function M(){var e=o()(["\n  fragment PostStoryResponse_post on StreamItemPostStoryResponse {\n    post {\n      id\n      createdAt\n      title\n      creator {\n        id\n        name\n        username\n        imageId\n        mediumMemberAt\n      }\n      mediumUrl\n      previewContent {\n        subtitle\n        bodyModel {\n          paragraphs {\n            text\n          }\n        }\n      }\n    }\n  }\n"]);return M=function(){return e},e}var P=function(e){var t=e.storyResponse,n=e.parentPostCreatorId,r=t.creator,o=t.previewContent,i=t.createdAt,a=t.title,s=t.mediumUrl;return r&&o&&o.bodyModel?g.createElement(h.u,{href:s||""},g.createElement(h.b,{paddingTop:"16px",paddingBottom:"16px",borderBottom:"BASE_LIGHTER"},g.createElement(h.b,{marginBottom:"6px",display:"flex",alignItems:"center"},g.createElement(h.b,{marginRight:"5px"},g.createElement(I,null)),g.createElement(O.d,{scale:"S"},"Story response")),g.createElement(_.a,{scale:"XS",clamp:2},a),o.subtitle&&g.createElement(h.b,{marginTop:"6px"},g.createElement(O.f,{scale:"S",clamp:3},o.subtitle)),g.createElement(w.a,{middotPadding:"3px",display:"flex",flexDirection:"row",marginTop:"14px",alignItems:"center"},g.createElement(g.Fragment,null,g.createElement(j.d,{scale:"XS",user:r}),g.createElement(h.b,{paddingLeft:"12px"},g.createElement(h.b,{display:"flex",flexDirection:"row",alignItems:"center"},g.createElement(O.a,{scale:"S",color:"DARKER"},r.name),n===r.id&&g.createElement(C.a,null)))),g.createElement(O.a,{scale:"S"},g.createElement(S.a,{timestamp:i}))))):null},T=f()(M()),A=n("./src/styles/colors.ts"),B=n("./node_modules/react-loadable/lib/index.js"),R=n.n(B),D=n("./src/screens/ErrorScreen.tsx"),z=n("./src/screens/LoadingScreen.tsx");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var F,U={delay:300,timeout:2e4,loading:function(e){return e.error?g.createElement(D.a,{error:e.error}):e.timedOut?g.createElement(D.a,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?g.createElement(z.a,null):null}},H=R()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},U,{loader:function(){return Promise.all([n.e(7),n.e(12)]).then(n.bind(null,"./src/components/responses/editor/InlineResponseEditor.tsx"))},modules:["src/components/responses/editor/InlineResponseEditor"],webpack:function(){return["./src/components/responses/editor/InlineResponseEditor.tsx"]},render:function(e,t){var n=e.InlineResponseEditor;return g.createElement(n,t)}})),X=function(e){var t=e.postId;return g.createElement(H,{postId:t})},V=function(e){var t=e.postId,n=Object(x.useCx)(),r=g.useState(!1),o=l()(r,2),i=o[0],a=o[1];return i?g.createElement(X,{postId:t}):g.createElement("div",{className:n({backgroundColor:"white",boxShadow:"0px 2px 8px rgba(0,0,0,0.12)",padding:"10px",borderRadius:"4px",display:"flex",flexDirection:"column",color:A.d}),onClick:function(){return a(!0)}},"What are your thoughts?")},q=n("./src/components/session/useViewer.tsx"),W=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),G=n("./src/handlers/SharedPostHandler.tsx"),$=n("./src/styles/breakpoints.ts");function K(){var e=o()(["\n  fragment PostResponses_post on Post {\n    id\n    postResponses {\n      count\n      responsesConnection(paging: $postResponsesPaging) {\n        pagingInfo {\n          next {\n            limit\n            to\n          }\n        }\n        stream {\n          itemType {\n            __typename\n            ... on StreamItemPostSimpleResponse {\n              ...PostSimpleResponse_post\n            }\n            ... on StreamItemPostStoryResponse {\n              ...PostStoryResponse_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return K=function(){return e},e}n.d(t,"b",(function(){return te})),n.d(t,"a",(function(){return ne})),function(e){e.StoryResponse="StreamItemPostStoryResponse",e.SimpleResponse="StreamItemPostSimpleResponse"}(F||(F={}));var Y=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s",pointerEvents:"none"}},Q=function(e){return u()({width:"414px",position:"fixed",zIndex:520,backgroundColor:"white",left:"100%",top:"0px",height:"100%",boxSizing:"border-box",padding:"0px 24px 25px",overflow:"hidden scroll",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},Object($.sm)(e),{left:0,top:"100%",right:"100%",width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:"translateY(100%)"})},J={height:"80vh",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontWeight:200},Z=function(e,t){return function(n){if(e){var r=n.breakpoints.md-.02;return t<r?{top:"30px"}:{transform:"translateX(-415px)"}}return{}}},ee=function(e){return e?{opacity:1,pointerEvents:"all"}:{}},te=function(e){var t,n,r,o,i=e.responses,s=e.setIsResponsesSidebarVisible,c=e.isResponsesSidebarVisible,u=e.parentPostCreatorId,m=e.parentPostId,p=g.useContext(G.a),f=p.fetchMore,b=p.postId,y=Object(x.useCx)(),S=g.useRef(null),C=g.useState(0),w=l()(C,2),j=w[0],_=w[1],L=g.useState(!1),k=l()(L,2),I=k[0],M=k[1],T=Object(q.b)(),A=g.useCallback((function(e){var t;(null==S||null===(t=S.current)||void 0===t?void 0:t.contains(e.target))||s(!1)}),[null==S?void 0:S.current,s]);g.useEffect((function(){if(j||_(window.innerWidth),c)return document.addEventListener("mousedown",A),function(){document.removeEventListener("mousedown",A)}}),[c]);var B=null==i||null===(t=i.responsesConnection)||void 0===t||null===(n=t.pagingInfo)||void 0===n?void 0:n.next;if(B){var R={postId:b,postResponsesPaging:{limit:B.limit,to:B.to}};o=function(){return f({variables:R,updateQuery:function(e,t){var n,r,o,i,s,l,c=t.fetchMoreResult,u=d()(c),m=(null==e||null===(n=e.postResult)||void 0===n||null===(r=n.postResponses)||void 0===r||null===(o=r.responsesConnection)||void 0===o?void 0:o.stream)||[],p=(null==c||null===(i=c.postResult)||void 0===i||null===(s=i.postResponses)||void 0===s||null===(l=s.responsesConnection)||void 0===l?void 0:l.stream)||[];return u.postResult.postResponses.responsesConnection.stream=[].concat(a()(m),a()(p)),M(!1),u}})}}var D=(null==i?void 0:i.count)&&0!==(null==i?void 0:i.count)?"(".concat(null==i?void 0:i.count,")"):"",z=null==i||null===(r=i.responsesConnection)||void 0===r?void 0:r.stream,N=z&&i&&i.count&&(null==z?void 0:z.length)<(null==i?void 0:i.count)-1,U=I&&B&&N;return g.createElement(g.Fragment,null,g.createElement("div",{className:y([Y,ee(c)])}),g.createElement("div",{ref:S,className:y([Q,Z(c,j)]),onScroll:function(e){var t=e.target;t.scrollHeight-t.scrollTop-t.clientHeight<1.5*t.clientHeight&&B&&!I&&(M(!0),o())}},g.createElement(h.b,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:"24px",paddingBottom:"18px"},g.createElement(O.b,{scale:"S"},"Responses ",D),g.createElement(h.b,{display:"flex",flexDirection:"row"},T&&T.id===u&&g.createElement(h.b,{paddingRight:"8px"},g.createElement(h.u,{href:"/p/".concat(m,"/info"),linkStyle:"OBVIOUS",inline:!0},g.createElement(O.a,{scale:"S",color:"LIGHTER"},"Manage responses"))),g.createElement(W.a,{onClick:function(){return s(!1)},size:"SMALL",isPositionAbsolute:!1}))),g.createElement(V,{postId:b}),i&&0!==(null==z?void 0:z.length)?g.createElement("div",null,null==z?void 0:z.map((function(e){switch(e.itemType.__typename){case F.SimpleResponse:var t=e.itemType;return t.postSimpleResponse?g.createElement(E.b,{key:t.postSimpleResponse.id,parentPostCreatorId:u,simpleResponse:t.postSimpleResponse}):null;case F.StoryResponse:var n=e.itemType;return n.post?g.createElement(P,{key:n.post.id,parentPostCreatorId:u,storyResponse:n.post}):null;default:return null}})),U&&g.createElement(v,null)):g.createElement("div",{className:y(J)},g.createElement(h.u,{href:"/new-story",linkStyle:"OBVIOUS"},g.createElement(O.a,{scale:"L",color:"LIGHTER"},"There are currently no responses for this story."),g.createElement(O.a,{scale:"L",color:"LIGHTER"},"Be the first to respond.")))))},ne=f()(K(),E.a,T)},"./src/components/responses/SimpleResponse.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./src/components/format/TimeAgo.tsx"),m=n("./src/components/post/multivote/MultiVote.tsx"),d=n("./src/components/responses/AuthorBadge.tsx"),p=n("./src/components/user/UserAvatar.tsx"),f=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/design-system/type/index.ts"),b=n("./src/framework/style/index.ts");function h(){var e=o()(["\n  fragment PostSimpleResponse_post on StreamItemPostSimpleResponse {\n    postSimpleResponse {\n      id\n      createdAt\n      creator {\n        id\n        name\n        username\n        imageId\n        mediumMemberAt\n      }\n      clapCount\n      viewerClapCount\n      isPublished\n      voterCount\n      recommenders {\n        id\n        name\n      }\n      content {\n        paragraphs\n      }\n      mediumUrl\n      collection {\n        id\n        slug\n      }\n      isLimitedState\n    }\n  }\n"]);return h=function(){return e},e}var x=function(e){return e.join("").length>250?"char":e.join("\n").split("\n").length>5?"line":"none"};var y=function(){return{padding:"5px 0px",cursor:"pointer"}},v=function(e){var t=e.simpleResponse,n=e.parentPostCreatorId,r=t.creator,o=t.content,i=t.createdAt,s=t.mediumUrl,l=c.useState(!1),h=a()(l,2),v=h[0],E=h[1],S=Object(b.useCx)();if(!r||!o||!s)return null;var C=v?o.paragraphs:function(e){switch(x(e)){case"char":return e.join("\n").slice(0,250).split("\n\n");case"line":return e.join("\n\n").split("\n").slice(0,5).join("\n").split("\n\n");case"none":return e}}(o.paragraphs),w="none"!==x(o.paragraphs)&&!v;return c.createElement(f.b,{paddingTop:"25px",paddingBottom:"16px",borderBottom:"BASE_LIGHTER"},c.createElement(f.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(p.d,{scale:"XS",user:r}),c.createElement(f.b,{paddingLeft:"12px"},c.createElement(f.b,{display:"flex",flexDirection:"row"},c.createElement(g.a,{scale:"M",color:"DARKER"},r.name),n===r.id&&c.createElement(d.a,null)),c.createElement(f.u,{href:s,linkStyle:"SUBTLE",inline:!0},c.createElement(g.a,{scale:"M"},c.createElement(u.a,{timestamp:i}))))),c.createElement(f.b,{marginTop:"12px"},c.createElement("pre",{className:S({whiteSpace:"pre-wrap"})},C.map((function(e,t){return c.createElement(f.b,{padding:"5px 0px",key:t},c.createElement(g.a,{scale:"M",color:"DARKER"},e,w&&t===C.length-1&&"..."))})))),w&&c.createElement("div",{onClick:function(){return E(!0)},className:S(y)},c.createElement(g.a,{scale:"S",color:"ACCENT"},"Read More")),c.createElement(f.b,{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"14px"},c.createElement(m.a,{buttonStyle:"SUBTLE",post:t,isAccentColor:!1})))},E=l()(h())},"./src/components/sequence/SequenceCoverImage.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/components/ui/image/index.ts"),c=n("./src/util/miroImage.ts");function u(){var e=o()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function m(e){var t=e.sequence,n=e.width,r=e.height,o=t.title,i=t.coverImage;return i?s.createElement("div",null,s.createElement(l.b,{miroId:i.id,alt:o||"Collection on Medium",width:n,height:r,strategy:c.a.Resample,freezeGifs:!1})):null}var d=a()(u())},"./src/components/social/ShareButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),f=n("./src/framework/reporter/index.ts"),g=n("./src/framework/source/index.ts"),b=n("./src/framework/style/index.ts");function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=u.a.createElement("path",{d:"M18.26 10.55c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-7.75 7.79 7.77 7.77 0 0 0 6.54 7.68v-5.49H7.4v-2.2h1.9V8.92c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71"}),y=function(e){return u.a.createElement("svg",h({width:21,height:21,viewBox:"0 0 21 21"},e),x)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=u.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}),S=function(e){return u.a.createElement("svg",v({width:29,height:29},e),E)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=u.a.createElement("path",{d:"M3 4.07C3 3.48 3.5 3 4.1 3h12.8c.6 0 1.1.48 1.1 1.07v12.86c0 .59-.5 1.07-1.1 1.07H4.1A1.1 1.1 0 0 1 3 16.93V4.07z"}),j=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.55 15.56V8.78H5.28v6.78h2.27zM6.4 7.86c.8 0 1.29-.52 1.29-1.17-.02-.67-.5-1.17-1.27-1.17-.78 0-1.28.5-1.28 1.17 0 .65.49 1.17 1.25 1.17h.01zM8.8 15.56h2.27v-3.79a1.24 1.24 0 0 1 1.24-1.37c.81 0 1.14.62 1.14 1.53v3.63h2.27v-3.89c0-2.08-1.12-3.05-2.61-3.05-1.22 0-1.76.68-2.06 1.15h.02v-.99H8.8c.03.64 0 6.78 0 6.78z",fill:"#fff"}),O=function(e){return u.a.createElement("svg",C({width:21,height:21,viewBox:"0 0 21 21",fill:"none"},e),w,j)};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=u.a.createElement("path",{d:"M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"}),k=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z",fill:"#fff"}),I=function(e){return u.a.createElement("svg",_({width:29,height:29,viewBox:"0 0 29 29",fill:"none"},e),L,k)},M=n("./src/svg/twitter-filled-21px.svg");function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=u.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}),A=function(e){return u.a.createElement("svg",P({width:29,height:29},e),T)},B=n("./src/util/routes.ts");function R(){var e=a()(["\n  fragment ShareButton_post on Post {\n    id\n  }\n"]);return R=function(){return e},e}n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return G}));var D={fill:"#3b5998"},z={fill:"#38a1f3"},N={fill:"#292929"},F=function(e){return{fill:e.baseColor.fill.lighter}},U=function(e){return{fill:e.baseColor.fill.normal}},H=function(e){return{opacity:.25,cursor:"not-allowed"}},X={marginRight:"8px"},V={FACEBOOK:"Facebook",TWITTER:"Twitter",LINKEDIN:"LinkedIn"},q=l()(R());function W(e){var t=e.buttonStyle,n=e.socialPlatform,r=Object(b.useCx)();switch(t){case"LINK_DISABLED":switch(n){case"FACEBOOK":return c.createElement(S,{className:r(H)});case"TWITTER":return c.createElement(A,{className:r(H)});case"LINKEDIN":return c.createElement(I,{className:r(H)});default:return null}case"LINK":switch(n){case"FACEBOOK":return c.createElement(S,{className:r(U)});case"TWITTER":return c.createElement(A,{className:r(U)});case"LINKEDIN":return c.createElement(I,{className:r(U)});default:return null}case"LINK_INLINE":switch(n){case"FACEBOOK":return c.createElement(y,{className:r(F)});case"TWITTER":return c.createElement(M.a,{className:r(F)});case"LINKEDIN":return c.createElement(O,{className:r(F)});default:return null}case"BUTTON_BRANDED":switch(n){case"FACEBOOK":return c.createElement(y,{className:r([D,X])});case"TWITTER":return c.createElement(M.a,{className:r([z,X])});case"LINKEDIN":return c.createElement(O,{className:r([N,X])});default:return null}default:return null}}var G=Object(m.c)((function(e){var t=e.config;return{authDomain:t.authDomain,isAmp:t.isAmp}}))((function(e){var t,n=e.authDomain,r=e.isAmp,i=e.post,a=e.buttonStyle,s=e.socialPlatform,l=Object(f.c)(),u=Object(g.f)();if("FACEBOOK"===s)t=Object(B.M)(n,i.id);else if("TWITTER"===s)t=Object(B.Qb)(n,i.id);else{if("LINKEDIN"!==s)return null;t=Object(B.ab)(n,i.id)}var m=V[s];if(!m)return null;var b={href:t,onClick:function(){u&&l.event("post.shareOpen",{postId:i.id,source:u,dest:s.toLowerCase(),dialogType:"native"})},target:"_blank",noFollow:!0};if(!r&&"LINKEDIN"===s){delete b.href,delete b.target;var h=b.onClick;b.onClick=function(){h();var e=Math.max((window.outerHeight||200)/2-560,100),n=(window.outerWidth||200)/2-250;window.open(t,"LIP","resizable,scrollbars,status,top=".concat(e,",left=").concat(n,",height=").concat(560,",width=").concat(500))}}switch(a){case"LINK_DISABLED":return c.createElement(d.I,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(d.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},c.createElement(W,{buttonStyle:a,socialPlatform:s}));case"LINK":return c.createElement(d.u,b,c.createElement(W,{buttonStyle:a,socialPlatform:s}));case"LINK_INLINE":return c.createElement(d.u,b,c.createElement(W,{buttonStyle:a,socialPlatform:s}),c.createElement(d.b,{display:"inline",marginLeft:"8px",marginTop:"2px"},c.createElement(p.a,{scale:"S",tag:"span"},"Share on ",m)));case"BUTTON_BRANDED":return c.createElement(d.c,o()({},b,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px"}),c.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(W,{buttonStyle:a,socialPlatform:s}),"Share with ".concat(m)));default:return null}}))},"./src/components/social/ShareButtons.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/components/session/WithFlag.tsx"),c=n("./src/components/social/ShareButton.tsx"),u=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/source/index.ts");function d(){var e=o()(["\n  fragment ShareButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    ...ShareButton_post\n  }\n  ","\n"]);return d=function(){return e},e}var p=a()(d(),c.b);function f(e){var t=e.post,n=e.source,r="UNLISTED"===t.visibility;return s.createElement(m.b,{source:n},s.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&s.createElement(c.a,{socialPlatform:"TWITTER",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),s.createElement(l.a,{name:"share_post_linkedin"},(function(e){return e?s.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&s.createElement(c.a,{socialPlatform:"LINKEDIN",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})):null})),s.createElement(u.b,{flexGrow:"0",paddingRight:"6px"},!r&&s.createElement(c.a,{socialPlatform:"FACEBOOK",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})))}},"./src/components/stream/Quote.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(p),g=n("./node_modules/graphql-tag/src/index.js"),b=n.n(g),h=n("./node_modules/react/index.js"),x=n("./src/components/post/paragraph/TextParagraph.tsx"),y=n("./src/framework/design-system/components/index.ts"),v=n("./src/util/quote.ts"),E=n("./src/util/routes.ts");function S(){var e=o()(["\n  fragment Quote_quote on Quote {\n    quoteId\n    userId\n    post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        username\n        name\n      }\n    }\n    startOffset\n    endOffset\n    paragraphs {\n      text\n      type\n      markups {\n        anchorType\n        end\n        href\n        rel\n        start\n        title\n        type\n        userId\n      }\n      ...TextParagraph_paragraph\n    }\n    ...buildQuotePreviewParagraph_quote\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}var C=function(e){function t(){return a()(this,t),u()(this,d()(t).apply(this,arguments))}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.quote;if(!e||null==e.startOffset||null==e.endOffset||!e.post||!e.post.id)return null;var t=e.post.title,n=e.post.creator&&e.post.creator.name,r=e.post.creator&&e.post.creator.username;if(!n||!r)return null;var o=Object(v.a)(e),i=o&&o.type;return o&&i?h.createElement(y.b,{paddingLeft:"20px",paddingRight:"20px"},h.createElement(y.A,{ui:"REGULAR"},h.createElement(y.d,null,"From"," ",h.createElement(y.u,{href:Object(E.ob)(e.post),inline:!0},t)," ","by"," ",h.createElement(y.u,{href:Object(E.ac)(r),inline:!0},n))),h.createElement(y.f,{href:Object(E.ob)(e.post)},h.createElement(x.f,{paragraph:o,paragraphStyle:i,spaceTop:30,richTextStyle:"STREAM"}))):null}}]),t}(h.Component);t.b=C;var w=b()(S(),v.b,x.f.fragments.paragraph)},"./src/components/susi/FreePostSusiController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return j}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(i),s=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l=n("./node_modules/date-fns/index.js"),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/session/useFlag.tsx"),g=n("./src/components/susi/susi-modal/SusiContainer.tsx"),b=n("./src/framework/reporter/index.ts"),h=n("./src/framework/style/index.ts"),x=n("./src/screens/helpers/visits.ts"),y=n("./src/store/actions/branch.ts"),v=n("./src/store/actions/googleOneTap.ts"),E=n("./src/store/actions/navigation.ts"),S=n("./src/util/referrers.ts");function C(){var e=o()(["\n  fragment FreePostSusiController_post on Post {\n    visibility\n    latestPublishedVersion\n    collection {\n      id\n      domain\n      slug\n    }\n    ...SusiContainer_post\n  }\n  ","\n"]);return C=function(){return e},e}var w=function(e){var t=e.post,n=Object(d.e)(),r=Object(b.c)(),o=Object(h.useTheme)(),i=m.useState(!1),c=a()(i,2),u=c[0],g=c[1],C=Object(s.e)(p.a),w=C.loading,j=C.error,O=C.data,_=(O=void 0===O?{viewer:void 0}:O).viewer,L=Object(f.a)("pardon_the_interruption_4"),k=Object(d.f)((function(e){return{isBot:e.client.isBot,isCustomDomain:e.client.isCustomDomain,referrer:e.navigation.referrer,signInWallCustomDomainCollectionIds:e.config.signInWallCustomDomainCollectionIds}})),I=k.isBot,M=k.isCustomDomain,P=k.referrer,T=k.signInWallCustomDomainCollectionIds;m.useEffect((function(){return!function(e,t,n,r,o,i,a,s){var c=e?3:1;return!(n||document.body.offsetWidth<a.breakpoints.lg||Object(S.c)(t)||Object(l.addDays)(Object(x.d)(),1)>Date.now()||function(e,t,n){var r="UNLISTED"===e.visibility||!e.latestPublishedVersion,o=e.collection,i=n&&!t.includes(o&&o.id),a=!(!o||!o.slug||"policy"!==o.slug);return r||i||a}(o,i,r))&&(Object(x.g)()<1&&s.event("experiment.eligible",{experimentId:"e63b47e2f5ac"}),!(Object(x.g)()<c))}(L,P,I,M,t,T,o,r)?n(Object(y.f)(!1)):(g(!0),Object(x.q)(),n(Object(v.d)()),r.event("signInWall.eligible",{})),function(){n(Object(y.f)(!0))}}),[t.id]);var A=M?"post_custom_domain":"post_free";return m.useEffect((function(){!_&&u&&n(Object(E.q)({step:"SIGNUP_OPTIONS",post:t,operation:"register",susiEntry:A,user:_}))}),[_,u]),w||j?m.createElement(m.Fragment,null):null},j=u()(C(),g.f)},"./src/components/susi/RedirectToSignIn.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),i=n("./src/components/navigation/Redirect.tsx"),a=n("./src/util/navigation.ts"),s=n("./src/util/routes.ts"),l=function(e){var t=e.opt_isDraft,n=Object(o.f)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}),o.d),l=n.authDomain,c=n.currentLocation,u=Object(a.a)(Object(s.yb)(l),{redirect:c,isDraft:t?"1":"0"});return r.createElement(i.a,{to:u,temporary:!0})}},"./src/components/tns/SuspendedBannerLoader.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/store/actions/navigation.ts");function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function m(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}t.c=Object(l.c)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return s.useEffect((function(){n&&n.isSuspended?t(Object(c.l)({duration:"NEXTPAGE",message:"This is a suspended user.",toastStyle:"ERROR"})):r&&r.isSuspended&&t(Object(c.l)({duration:"NEXTPAGE",message:"This story is suspended.",toastStyle:"ERROR"}))}),[]),null}));var d=a()(m()),p=a()(u())},"./src/components/ui/Card.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),i=n("./src/framework/style/index.ts");t.a=function(e){var t=e.children,n=Object(i.useTheme)();return r.createElement(o.b,{backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",borderRadius:"5px",boxShadow:"0 1px 4px ".concat(n.baseColor.border.lighter),marginBottom:"24px",padding:"23px 0"},t)}},"./src/components/user/UserBlockConfirmDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts");function i(e){var t=e.onConfirm,n=e.isVisible,i=e.hide;return r.createElement(o.h,{onConfirm:t,isVisible:n,hide:i,titleText:"Block this user?",cancelText:"Cancel",confirmText:"Block"},"They will no longer be able to follow you or view your content."," ",r.createElement(o.u,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/214994577-Block-this-user"},"Learn more about blocking"),".")}},"./src/components/user/UserUnblockButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(m),p=n("./node_modules/react/index.js"),f=n("./src/components/mutations/UserUnblockMutation.tsx"),g=n("./src/components/session/WithViewer.tsx"),b=n("./src/framework/design-system/components/index.ts"),h=function(e){function t(e){var n;return o()(this,t),(n=l()(this,u()(t).call(this,e))).state={isHovering:!1},n}return d()(t,e),a()(t,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonSize,r=t.targetUserId,o=this.state.isHovering;return p.createElement(g.b,null,(function(t){return p.createElement(f.a,{targetUserId:r,viewerId:t&&t.id},(function(t){var r=t.mutate;return p.createElement(b.c,{buttonStyle:o?"SUBTLE":"ERROR",onClick:r,size:n||"REGULAR",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o?"Unblock":"Blocked")}))}))}}]),t}(p.Component);t.a=h},"./src/handlers/EmbeddedPostHandler.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),a=n("./node_modules/graphql-tag/src/index.js"),s=n.n(a),l=n("./node_modules/react/index.js"),c=n("./src/framework/reporter/index.ts"),u=n("./src/components/post/body/PostBody.tsx");function m(){var e=o()(["\n  fragment PostContentScreen_post on Post {\n    id\n    title\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n    creator {\n      id\n      ...PostBody_creator\n    }\n  }\n  ","\n  ","\n"]);return m=function(){return e},e}function d(e){var t=e.post,n={bodyModel:t.content.bodyModel,creator:t.creator,postBodyInserts:null,ref:null,richTextStyle:"FULL_PAGE",customStyleSheet:null};return l.createElement(u.f,n)}var p=s()(m(),u.b,u.a);function f(){var e=o()(["\n  query EmbeddedPostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      ...PostContentScreen_post\n    }\n  }\n  ","\n"]);return f=function(){return e},e}n.d(t,"a",(function(){return b}));var g=s()(f(),p),b=function(e){var t=e.postId,n=e.children,r=Object(c.c)();return l.createElement(i.b,{query:g,variables:{postId:t,postMeteringOptions:{source:null,referrer:null,sk:null}}},(function(e){var o=e.loading,i=e.error,a=e.data,s=(a=void 0===a?{}:a).post;return o?n(null):i?(r.event("embeddedPost.error",{errorMessage:i.message,postId:t}),n(null)):s?(r.event("embeddedPost.postPresented",{postId:t}),n(l.createElement(d,{post:s}))):(r.event("embeddedPost.noPost",{postId:t}),n(null))}))}},"./src/handlers/PostHandler.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PostHandlerQuery",(function(){return g})),n.d(t,"PostHandler",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./node_modules/react/index.js"),l=n("./src/framework/source/index.ts"),c=n("./src/handlers/SharedPostHandler.tsx"),u=n("./src/screens/PostScreen.tsx"),m=n("./src/util/hooks/useArePostInternalLinksEnabled.tsx"),d=n("./src/util/hooks/useIsRecircSSREnabled.tsx"),p=n("./src/util/routes.ts");function f(){var e=o()(["\n  query PostHandler(\n    $postId: ID!\n    $postMeteringOptions: PostMeteringOptions\n    $includePostInternalLinks: Boolean!\n    $includePostRecirc: Boolean!\n    $includeSequenceRecirc: Boolean = false\n    $postResponsesPaging: PagingOptions\n  ) {\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...SharedPostHandler_meteringInfo\n        ...PostScreen_meteringInfo\n      }\n    }\n    postResult(id: $postId) {\n      __typename\n      ...SharedPostHandler_postResult\n      ... on Post {\n        ...PostScreen_post\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}var g=a()(f(),c.c,u.b,c.d,u.c),b=function(e){var t=e.match,n=Object(p.nb)(t),r=Object(d.a)(n),o=Object(m.a)(n);return s.createElement(c.b,{match:t,query:g,extraVariables:{includePostRecirc:r,includePostInternalLinks:o}},(function(e){var t=e.meterPost,n=e.postId,r=e.postResult,o=e.viewer;return s.createElement(l.b,{source:{name:"post_page",postId:n}},s.createElement(u.a,{viewer:o,meteringInfo:t,post:r}))}))}},"./src/handlers/SharedPostHandler.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),l=n("./node_modules/graphql-tag/src/index.js"),c=n.n(l),u=n("./node_modules/react/index.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/error/PostResultError.tsx"),p=n("./src/components/meter/MeterController.tsx"),f=n("./node_modules/url/url.js"),g=n.n(f),b=n("./src/components/navigation/Redirect.tsx"),h=n("./src/util/navigation.ts");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(){var e=a()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return y=function(){return e},e}var v=c()(y()),E=Object(m.c)((function(e){return{currentHost:e.navigation.host,shareKey:e.navigation.shareKey,source:e.navigation.referrerSource}}))((function(e){var t=e.post,n=e.matchedPath,r=e.children,i=e.currentHost,a=e.shareKey,s=e.source,l=t.mediumUrl;if(!l)return r;var c=g.a.parse(decodeURIComponent(l)),m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s?{source:s}:{},{},a?{sk:a}:{});return i!==c.host?u.createElement(b.a,{to:Object(h.a)(l,m)}):c.path&&n!==c.path?u.createElement(b.a,{to:Object(h.a)(c.path,m)}):r})),S=n("./src/components/session/WithViewer.tsx"),C=n("./src/components/session/useFlag.tsx"),w=n("./src/components/susi/FreePostSusiController.tsx"),j=n("./src/screens/ErrorScreen.tsx"),O=n("./src/screens/LoadingScreen.tsx"),_=n("./src/screens/NotFoundScreen.tsx"),L=n("./src/util/routes.ts");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(){var e=a()(["\n  fragment SharedPostHandler_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return I=function(){return e},e}function M(){var e=a()(["\n  fragment SharedPostHandler_postResult on PostResult {\n    __typename\n    ...PostResultError_postResult\n    ... on Post {\n      ...FreePostSusiController_post\n      ...MeterController_post\n      ...PostCanonicalizer_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return T})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return B}));var P=c()(M(),d.b,w.b,p.c,v),T=c()(I(),p.b),A=u.createContext({refetch:function(){return Promise.resolve()},fetchMore:function(){return Promise.reject()},postId:""}),B=Object(m.c)((function(e){return{source:e.navigation.referrerSource||void 0,referrer:e.navigation.referrer,shareKey:e.navigation.shareKey}}))((function(e){var t=e.children,n=e.match,r=e.query,i=e.extraVariables,a=void 0===i?{}:i,l=e.referrer,c=e.shareKey,m=e.source,f=Object(L.nb)(n),g=Object(C.a)("enable_pardon_the_interruption_removal");if(!f)return u.createElement(_.a,null);var b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({postId:f,postMeteringOptions:{referrer:l,source:m,sk:c},postResponsesPaging:{limit:10}},a);return u.createElement(s.b,{query:r,variables:b},(function(e){var r=e.loading,o=e.error,i=e.data,a=(i=void 0===i?{}:i).meterPost,s=i.postResult,l=e.refetch,c=e.fetchMore;return r?u.createElement(O.a,null):o?u.createElement(j.a,{error:o}):Object(d.c)(s)?u.createElement(d.a,{postResult:s}):u.createElement(A.Provider,{value:{refetch:l,fetchMore:c,postId:f}},u.createElement(E,{post:s,matchedPath:n.url,key:f},s.isLocked?u.createElement(p.a,{meteringInfo:a,post:s}):!g&&u.createElement(w.a,{post:s}),u.createElement(S.b,null,(function(e){return t({meterPost:a,postId:f,postResult:s,viewer:e})}))))}))}))},"./src/screens/ContentErrorScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n("./node_modules/react-helmet-async/lib/index.module.js"),s=n("./node_modules/react-router/esm/react-router.js"),l=n("./src/components/metabar/Metabar.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/util/type/toRule.ts"),m=n("./src/framework/style/index.ts"),d=n("./src/styles/font.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f={fontSize:"20px",textTransform:"uppercase"},g=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.a)((function(e){return{font:e.font.marketing,fontSize:192,lineHeight:200,display:"block"}}))(e))},b={fontSize:"24px"};function h(e){var t=e.code,n=e.title,r=e.description,o=e.lumenId,u=Object(m.useCx)();return i.createElement(s.b,{render:function(e){var s=e.staticContext;return s&&(s.statusCode=t),i.createElement(c.M,null,(function(e){return i.createElement("div",null,i.createElement(a.a,null,i.createElement("title",null,n)),i.createElement(l.a,null),i.createElement(c.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},i.createElement(c.B,{columns:8},i.createElement(c.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},i.createElement(c.b,{display:"flex",flexDirection:"column"},i.createElement("div",{className:u(f)},"Error"),i.createElement("div",{className:u(g)},t)),i.createElement("div",{className:u(Object(d.l)())},i.createElement(c.b,{marginBottom:"28px"},i.createElement("div",{className:u(b)},r)),o?i.createElement("div",{className:u(b)},"A report is available on"," ",i.createElement(c.u,{href:"https://lumendatabase.org/notices/".concat(o),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Lumen"),"."):null)))))}))}})}},"./src/screens/PostScreen.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(i),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n.n(m),p=n("./node_modules/react-redux/es/index.js"),f=n("./src/WatchBounds.tsx"),g=n("./src/components/analytics/ParselyReporter.tsx"),b=n("./src/components/branch-banner/helpers/index.ts"),h=n("./src/components/collection/CollectionMetabar.tsx"),x=n("./src/components/collection/ShortformDialogEditor/ShortformDialogEditorLauncher.tsx"),y=n("./src/components/collection/package/collectionIdToNameMaps.ts"),v=n("./src/components/collection/package/interim-components/CollectionFontController.tsx"),E=n("./src/components/collection/package/packageTheme.ts"),S=n("./src/components/collection/theming/CustomStyleWrapper.tsx"),C=n("./src/components/collection/theming/customStyleSheet.ts"),w=n("./src/components/debug/GoogleAnalytics.tsx"),j=n("./src/components/footer/GlobalFooter.tsx"),O=n("./src/components/metabar/Metabar.tsx"),_=n("./src/components/metabar/MetabarLayout.tsx"),L=n("./src/components/meter/PayWall.tsx"),k=n("./src/components/meter/RegWall.tsx"),I=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),M=n("./src/components/session/useViewer.tsx");function P(){var e=o()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return P=function(){return e},e}function T(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return T=function(){return e},e}var A=u()(T()),B=u()(P()),R=n("./src/components/optimizely/helpers/index.ts"),D=n("./src/components/post/MaybeRedirectToEditor.tsx"),z=n("./src/components/post/PostBodyInserts.tsx"),N=n("./src/components/post/PostHeader.tsx"),F=n("./src/components/post/PostMetadata.tsx"),U=n("./src/components/post/PostPublishedDialog.tsx"),H=n("./src/components/post/PostSidebar.tsx"),X=n("./src/components/post/body/InteractivePostBody.tsx"),V=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),q=n("./src/components/post/footer/PostFooter.tsx"),W=n("./src/components/post/helpers/loggedOutHistory.ts"),G=n("./src/components/responses/ResponsesSidebar.tsx"),$=n("./src/components/session/RequireFlag.tsx"),K=n("./src/components/session/useFlag.tsx"),Y=n("./src/components/style/BaseThemeProvider.tsx"),Q=n("./src/framework/design-system/components/index.ts"),J=n("./src/framework/design-system/type/index.ts"),Z=n("./src/store/actions/navigation.ts"),ee=n("./src/styles/colors.ts");function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ne=d.a.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),re=d.a.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),oe=d.a.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),ie=d.a.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"}),ae=function(e){return d.a.createElement("svg",te({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),ne,re,oe,ie)};var se=Object(p.c)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide;return m.createElement(Y.b,null,m.createElement(Q.j,{isVisible:n,hide:r,withCloseButton:!1,withTransparentOverlay:!0},m.createElement(Q.b,{display:"flex",justifyContent:"center",paddingTop:"100px"},m.createElement(Q.b,{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",textAlign:"center",background:ee.F,boxShadow:"0 2px 10px ".concat(Object(ee.A)(.15)),borderRadius:"4px",height:"550px",width:"900px",paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},m.createElement(Q.b,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},m.createElement(Q.b,{paddingBottom:"24px"},m.createElement(ae,null)),m.createElement(Q.b,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},m.createElement(J.b,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),m.createElement(Q.b,{padding:"0 0 24px 0"},m.createElement(Q.c,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t(Object(Z.l)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),m.createElement(Q.J,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return m.createElement(Q.x,{isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return m.createElement(Q.b,{padding:"15px 20px",width:"400px"},m.createElement(J.a,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},m.createElement(Q.b,{paddingTop:"10px"},m.createElement(Q.u,{onClick:n},m.createElement("u",null,m.createElement(J.a,{scale:"S"},"Why am I seeing this?")))))})))),m.createElement(Q.b,{display:"flex",justifyContent:"center"},m.createElement(Q.d,null,"View our"," ",m.createElement(Q.u,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",m.createElement(Q.u,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",m.createElement(Q.u,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms")))))))})),le=n("./src/framework/style/index.ts");function ce(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return ce=function(){return e},e}var ue=function(e){return function(t){return{filter:e?"blur(10px)":"blur(0)"}}};function me(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,i=e.children,a=Object(le.useCx)(),s=m.useState(!1),c=l()(s,2),u=c[0],d=c[1];return m.useEffect((function(){d(!0)}),[]),r&&(n&&n.id)!==o?m.createElement(Q.J,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return m.createElement(m.Fragment,null,m.createElement("div",{className:a(ue(t))},i),u&&m.createElement(se,{isVisible:t,hide:n}))})):i}var de=u()(ce()),pe=n("./src/components/tns/SuspendedBannerLoader.tsx"),fe=n("./src/framework/reporter/index.ts"),ge=n("./src/framework/track/index.ts"),be=n("./src/schema-types/globalTypes.ts"),he=n("./src/screens/helpers/users.ts"),xe=n("./src/screens/helpers/visits.ts"),ye=n("./src/store/actions/branch.ts"),ve=n("./node_modules/serialize-javascript/index.js"),Ee=n.n(ve);function Se(e){var t={__html:'<script type="application/json">'.concat(Ee()(e.json,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}var Ce=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),we=n.n(Ce);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){we()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=Object(p.c)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r={triggers:Oe({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}},{},n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{})},o={__html:'<script type="application/json">'.concat(Ee()(r,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:o})}));function Le(){var e={__html:'<script type="application/json">'.concat(Ee()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var ke=n("./src/util/routes.ts"),Ie=n("./src/util/theme.ts");function Me(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      isAuroraVisible\n      domain\n      googleAnalyticsId\n      slug\n      customStyleSheet {\n        postBody {\n          ...SupportedContainerStyles_styleNode\n        }\n        ...InteractivePostBody_customStyleSheet\n      }\n      ...CollectionMetabar_collection\n      ...RegWall_collection\n      ...ThemeUtilAccent_collection\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      ...SuspendedBannerLoader_user\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostResponses_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...ShortformDialogEditorLauncher_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Me=function(){return e},e}function Pe(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n"]);return Pe=function(){return e},e}n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return Be})),n.d(t,"c",(function(){return Re}));var Te=function(e){return Object(C.i)(null==e?void 0:e.postBody)};function Ae(e){var t=e.meteringInfo,n=e.post,r=e.viewer,o=n.id,i=n.isPublished,s=n.isLocked,c=n.content,u=n.layerCake,d=n.primaryTopic,C=n.collection,P=n.canonicalUrl,T=n.postResponses,A=Object(p.e)(),Y=Object(fe.c)(),J=Object(p.f)((function(e){return{authDomain:e.config.authDomain,isAmp:e.config.isAmp,isBot:e.client.isBot,currentHash:e.navigation.currentHash,postPublishedType:e.navigation.postPublishedType,referrer:e.navigation.referrer,referrerSource:e.navigation.referrerSource}}),p.d),ee=J.authDomain,te=J.currentHash,ne=J.isAmp,re=J.isBot,oe=J.postPublishedType,ie=J.referrer,ae=J.referrerSource,se=m.useState(!1),le=l()(se,2),ce=le[0],ue=le[1],de=m.useState(n.readingList===be.k.READING_LIST_QUEUE||n.readingList===be.k.READING_LIST_ARCHIVE),ve=l()(de,2),Ee=ve[0],Ce=ve[1],we=m.useRef(null),je=!!r,Oe=C||{},Me=Oe.id,Pe=Oe.slug,Ae=Oe.colorPalette,Be=Oe.googleAnalyticsId,Re=c||{},De=Re.isLockedPreviewOnly,ze=Re.validatedShareKey,Ne=Be?[Be]:null;Object(w.b)(Ne,re,ne),Object(ge.h)(we,n),Object(ge.g)(!!je,we,n),function(e){var t=Object(M.b)(),n=Object(I.d)(B,{variables:{postId:e.id}}),r=l()(n,2),o=r[0],i=r[1].called;m.useEffect((function(){!e.isPublished&&(null==t?void 0:t.id)&&!i&&o()}),[t])}(n);var Fe=Object(K.a)("enable_responses_2"),Ue=m.useState(!1),He=l()(Ue,2),Xe=He[0],Ve=He[1],qe=Object(K.a)("enable_theme_editor"),We=Object(K.a)("enable_post_page_nav_stickiness_removal"),Ge=!!Object(K.a)("li_small_meter"),$e=!!Object(K.a)("enable_minimal_meter_v2"),Ke=Object(z.b)(n),Ye=u&&(1===u||2===u||3===u),Qe=Ye?d:null,Je=qe?null==C?void 0:C.customStyleSheet:null;m.useEffect((function(){if(i){var e=Object(b.a)({post:n,meteringInfo:t,referrer:ie,referrerSource:ae,viewer:r});C&&C.domain&&(e.data.$canonical_url=Object(ke.qb)(ee,n.id));var a=r&&r.name?Object(he.b)(r.name):void 0;je||(n.isLocked?Object(xe.l)():Object(xe.m)()),Object(R.b)({post:n},a),Object(b.f)(e),A(Object(ye.h)(e)),A(Object(ye.j)()),Y.event("post.clientViewed",{postId:o,collectionId:Me,collectionSlug:Pe,context:1,isFriendLink:!!ze})}else Y.event("post.draftViewed",{postId:o});switch(je||Object(W.b)(o),oe){case"initial":ue(!0),A(Object(Z.j)());break;case"repub":A(Object(Z.l)({duration:3e3,message:"Your changes have been published."})),A(Object(Z.j)())}return function(){A(Object(ye.g)())}}),[o,i]);var Ze,et,tt=De&&(je?m.createElement(L.a,{post:n}):m.createElement(k.a,{post:n,collection:C,meteringInfo:t})),nt=!De||(je?!Ge:!$e),rt=s?{className:"meteredContent"}:{};if(te){var ot=te.split("-");Ze=ot[0],et=ot[1]}return m.createElement(m.Fragment,null,m.createElement(g.a,null),m.createElement(D.a,{post:n},m.createElement(F.b,{isAmp:ne,post:n}),m.createElement($.a,{name:"can_view_blacklisted_posts"},m.createElement(pe.c,{post:n,user:n.creator})),m.createElement(Q.M,null,(function(e){var t,o=n.collection,s=o||{},l=s.id,c=s.isAuroraVisible&&Object(y.b)(ee,l),u=function(e){if(Ae){var t=Ae.defaultBackgroundSpectrum,n=Ae.highlightSpectrum;return Object(Ie.c)(t,n,e)}return e}(e);c&&(u=Object(Ie.d)(E.d[c].newFonts,u));var d={behavior:_.b.Aggressive,isAmp:ne,isFixed:!We,post:n};return m.createElement(Q.G,{theme:u},c&&"vanilla"!==c&&m.createElement(v.a,{isPostScreen:!0,pubName:c}),o?m.createElement(x.a,{post:n,visible:!0},m.createElement(h.a,a()({},d,{collection:o}))):m.createElement(O.a,a()({},d,{isMonogramOnly:!Ye,marginBottom:0,marginBottomSm:0,topic:Qe})),Fe&&m.createElement(G.b,{responses:T,isResponsesSidebarVisible:Xe,setIsResponsesSidebarVisible:Ve,parentPostCreatorId:null===(t=n.creator)||void 0===t?void 0:t.id,parentPostId:n.id}),m.createElement(S.a,{styles:Te(Je)},m.createElement(f.c,null,m.createElement(V.a.Provider,{value:{isFirstLoadAndInReadingList:Ee,setIsFirstLoadAndInReadingList:Ce}},m.createElement("article",rt,m.createElement(N.a,{post:n}),m.createElement(me,{post:n,viewerId:null==r?void 0:r.id},m.createElement(X.c,{activeGrafId:Ze,activeNoteId:et,post:n,postBodyInserts:Ke,customStyleSheet:Je,ref:we}))),!De&&!!i&&m.createElement(H.a,{post:n,setIsResponsesSidebarVisible:Ve}),tt,nt&&m.createElement(q.c,{post:n,setIsResponsesSidebarVisible:Ve})))),m.createElement(U.a,{hide:function(){return ue(!1)},isVisible:ce,post:n}),!!i&&m.createElement(j.a,null))})),ne&&m.createElement(m.Fragment,null,m.createElement(Se,{json:{requests:{base:Object(ke.f)(ee),pageview:Object(ke.c)(ee),scrollPing:Object(ke.e)(ee)},vars:{postId:o,collectionId:Me,canonicalUrl:P},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),m.createElement(_e,{collectionGoogleAnalyticsId:Be}),m.createElement(Le,null))))}var Be=u()(Pe(),k.c,b.b),Re=u()(Me(),A,h.c,X.b,X.a,de,D.b,O.b,L.b,z.a,q.b,N.b,F.a,U.b,ge.d,G.a,ge.e,H.c,k.b,k.d,C.b,pe.a,pe.b,Ie.a,b.c,R.a,x.c)},"./src/screens/SuspendedScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/WithFlag.tsx"),i=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/design-system/type/index.ts"),s=n("./src/framework/reporter/index.ts"),l=n("./src/screens/ContentErrorScreen.tsx"),c=n("./src/util/routes.ts"),u=function(e){var t=e.suspension,n=Object(s.c)();return r.createElement(l.a,{code:410,title:"410 ".concat(t," suspended — Medium"),description:r.createElement(o.a,{name:"enable_new_suspended_page"},(function(e){return e?r.createElement(r.Fragment,null,r.createElement(i.b,{display:"flex",marginTop:"-30px"},r.createElement(a.f,{scale:"S"},"This ",t," is under investigation or was found in violation of the Medium Rules."," ")),r.createElement(i.b,{display:"flex",marginTop:"80px"},r.createElement(a.f,{color:"DARKER",scale:"M"},"There are thousands of stories to read on Medium. Visit our homepage ",r.createElement("br",null)," to find one that’s right for you.")),r.createElement(i.b,{display:"flex",marginTop:"15px"},r.createElement(i.c,{buttonStyle:"SUBTLE",href:Object(c.U)(),onClick:function(){n.event("suspendedPage.backToHomeClicked",{})}},"Take me to Medium"))):r.createElement(r.Fragment,null,"This ",t," is under investigation or was found in violation of the"," ",r.createElement(i.u,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"))}))})}},"./src/svg/arrow-down-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M3.9 6.77l5.2 5.76.43.47.43-.47 5.15-5.7-.85-.77-4.73 5.25L4.75 6z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:19,height:19},e),a)}},"./src/svg/arrow-down-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M4 7.33L10.03 14l.5.55.5-.55 5.96-6.6-.98-.9-5.98 6.6h1L4.98 6.45z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21,viewBox:"0 0 21 21"},e),a)}},"./src/svg/audio-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),s=o.a.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a,s)}},"./src/svg/bookmark-archive-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47 9.95h17v-3h-17v3zm16 1h1a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-17a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v9a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-9zm-1 0h-13v9h13v-9z"}),s=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.47 12.45c0-.28.21-.5.48-.5h6.04c.27 0 .48.22.48.5 0 .27-.21.5-.48.5H9.95a.49.49 0 0 1-.48-.5z"});t.a=function(e){return o.a.createElement("svg",i({width:25,height:25,viewBox:"0 1 25 25",fill:"#757575"},e),a,s)}},"./src/svg/bookmark-remove-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.48 7.45H3.46v10.13H16a.47.47 0 1 1 0 .94H3.46c-.54 0-.99-.42-.99-.94V7.45c0-.52.45-.93 1-.93h17c.55 0 1 .41 1 .93v5.57a.5.5 0 0 1-1 0V7.45zM5.47 10.02c0-.28.22-.5.5-.5h9.11a.5.5 0 1 1 0 1H5.97a.5.5 0 0 1-.5-.5zm.51 2.5a.5.5 0 0 0-.51.5c0 .27.23.5.51.5h5.98a.5.5 0 0 0 .51-.5.5.5 0 0 0-.51-.5H5.98zm12.52 3.02c.2-.2.5-.2.7 0l1.77 1.77 1.77-1.77a.5.5 0 1 1 .7.7l-1.76 1.78 1.76 1.76a.5.5 0 1 1-.7.71l-1.77-1.77-1.77 1.77a.5.5 0 0 1-.7-.7l1.76-1.77-1.76-1.77a.5.5 0 0 1 0-.7z"});t.a=function(e){return o.a.createElement("svg",i({width:25,height:25,viewBox:"0 0 25 25",fill:"#757575"},e),a)}},"./src/svg/creative-commons-by-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a)}},"./src/svg/creative-commons-nc-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a)}},"./src/svg/creative-commons-nd-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a)}},"./src/svg/creative-commons-sa-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a)}},"./src/svg/creative-commons-zero-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),o.a.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));t.a=function(e){return o.a.createElement("svg",i({width:21,height:21},e),a)}},"./src/svg/twitter-filled-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o.a.createElement("path",{d:"M18.5 4.43a6.9 6.9 0 0 1-2.18.88 3.45 3.45 0 0 0-2.55-1.12 3.49 3.49 0 0 0-3.49 3.48c0 .28.03.55.07.81a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44.15.15 0 0 0 0 .06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06A3.5 3.5 0 0 0 7.17 15a7.33 7.33 0 0 1-4.36 1.49L2 16.44A9.96 9.96 0 0 0 7.36 18c6.4 0 9.91-5.32 9.9-9.9v-.5A6.55 6.55 0 0 0 19 5.79a6.18 6.18 0 0 1-2 .56 3.33 3.33 0 0 0 1.5-1.93"});t.a=function(e){return o.a.createElement("svg",i({width:21,height:21,viewBox:"0 0 21 21"},e),a)}},"./src/util/hooks/useArePostInternalLinksEnabled.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/store/selectors/session.ts");function i(e){var t=Object(r.f)((function(e){var t,n=e.config,r=e.session;return{internalLinksPostIds:n.internalLinksPostIds,userId:null===(t=r.user)||void 0===t?void 0:t.id}})),n=t.internalLinksPostIds,i=t.userId;return!(!e||!n)&&(function(e,t){var n=e&&e.length?e.split(","):[];return!!t&&n.some((function(e){return t.substring(t.length-e.length)===e}))}(n.join(","),e)&&(!i||!Object(o.a)(i)))}n.d(t,"a",(function(){return i}))},"./src/util/hooks/useIsRecircSSREnabled.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/store/selectors/session.ts");function i(e){var t=Object(r.f)((function(e){var t=e.session;return{user:t.user,isSpoofed:t.isSpoofed}})),n=t.user.id,i=t.isSpoofed;return!!e&&!(n&&Object(o.a)(n)||i)}},"./src/util/hooks/useTimer.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=function(){var e=r.useRef(null),t=function(){e.current&&clearTimeout(e.current)};return r.useEffect((function(){return t})),function(n,r){return t(),e.current=setTimeout(n,r),t}}},"./src/util/post/metaDescription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/graphql-tag/src/index.js"),a=n.n(i),s=n("./src/schema-types/globalTypes.ts"),l=n("./src/util/post/metaHelpers.ts"),c=n("./src/util/string.ts");function u(){var e=o()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return e},e}function m(){var e=o()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return m=function(){return e},e}var d=function(e){var t=e.metaDescription,n=e.seoDescription,r=e.title||"";if(n)return n;if(t)return t;var o=function(e){var t=Object(l.a)(e,250);return t&&Object(c.b)(t,200)}(e);if(o.length>150)return o;var i=e.previewContent&&e.previewContent.subtitle||"";if(i.length>140)return i;i.length>0&&(i+=".");var a=(r.length?r+". ":"")+i;if(a.length>140)return a;var s="“".concat(r,"” is published");return e.creator&&e.creator.name&&(s+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(s+=" in ".concat(e.collection.name)),"".concat(i," ").concat(s,".")},p=function(e){return d(e).trim()},f=function(e,t){var n=e.metaDescription,r=e.seoDescription,o=e.shortformType;if(r)return r;if(n)return n;if(o===s.l.SHORTFORM_TYPE_NOTE&&t){var i=Object(l.a)(e,350,0);return Object(c.b)(i,300)}return""},g=a()(m(),l.b),b=a()(u(),l.b)},"./src/util/post/metaHelpers.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),i=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./src/components/post/NormalizePostBodyModel.ts"),u=n("./src/schema-types/globalTypes.ts"),m=n("./src/util/post/titleHelpers.ts"),d=n("./src/util/string.ts");function p(){var e=a()(["\n  fragment shouldIndex_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){var e=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return x=function(){return e},e}function y(){var e=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return y=function(){return e},e}function v(){var e=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function E(){var e=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return E=function(){return e},e}function S(){var e=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return S=function(){return e},e}function C(e,t){var n,r,o;return(null===(n=t.sequence)||void 0===n?void 0:n.title)?e+=" - ".concat(t.sequence.title):(null===(r=t.collection)||void 0===r?void 0:r.name)?e+=" - ".concat(t.collection.name):(null===(o=t.creator)||void 0===o?void 0:o.name)&&(e+=" - ".concat(t.creator.name)),e}var w=l()(S());function j(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},a=i.includeMixtapeHref,s=(null===(t=e.content)||void 0===t||null===(n=t.bodyModel)||void 0===n?void 0:n.paragraphs)||[],l="",c=!0,u=!1,m=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value,g=f.mixtapeMetadata,b=f.text,h=f.type;if(a&&(null==g?void 0:g.href)?l+=l?" ".concat(g.href):g.href:"P"===h&&b&&b.length>o&&(l+=l?" ".concat(b):b),l.length>r)break}}catch(e){u=!0,m=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw m}}return l}var O=l()(E());function _(e){var t=!1,n="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var r=e.content.bodyModel.paragraphs,o=Object(c.d)(r).titleIndex;"number"==typeof o&&(n=r[o].text,t=!0)}return{hasTitleGraf:t,latestTitle:n}}var L=l()(v(),O,c.b);function k(e,t,n){return(null==n?void 0:n.domain)?e:"".concat(e," - ").concat(t)}var I=l()(y());function M(e,t){var n=e.seoTitle,r=e.title||"";return n?Object(m.a)(n,e.collection&&e.collection.name,t):r.length>50?r:r=k(r=C(r,e),t,e.collection)}var P=l()(x(),O,w,I);function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_(e),r=e.title||"",o=n.latestTitle||r,i=h({},e,{title:o});return M(i,t).trim()}var A=l()(g(),P,L);function B(e,t,n){var r=e.seoTitle,o=e.title||"";return r?Object(m.a)(r,e.collection&&e.collection.name,t):o=k(o=C(o=function(e,t,n){var r=t.shortformType;return r!==u.l.SHORTFORM_TYPE_NOTE||n?r===u.l.SHORTFORM_TYPE_LINK&&(e=j(t,250,0,{includeMixtapeHref:!0})):e=j(t,250,0),Object(d.b)(e,200)}(o,e,n),e),t,e.collection)}var R=l()(f(),O,w,I);function D(e){var t=e.firstPublishedAt,n=e.isLimitedState,r=e.isShortform,o=e.shortformType,i=e.visibility;return!!t&&(("PUBLIC"===i||"LOCKED"===i)&&(!n&&(!r||(o===u.l.SHORTFORM_TYPE_NOTE?j(e,10,0).length>10:j(e,10,0).length>0))))}var z=l()(p(),O)},"./src/util/post/titleHelpers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return e||"Untitled story"},o=function(e,t,n){return t?"".concat(e," | ").concat(t):n?"".concat(e," | ").concat(n):e}},"./src/util/quote.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),i=n("./node_modules/lodash/cloneDeep.js"),a=n.n(i),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./src/schema-types/globalTypes.ts");function u(){var e=o()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return u=function(){return e},e}var m=function(e){if(1!==e.paragraphs.length)return null;var t=a()(e.paragraphs[0]),n=t.text||"",r=0,o=e.startOffset||0,i=e.endOffset||n.length;if(n.length-i>100&&(n=n.substring(0,i+100)+"…"),o>100){var s=o-100;n="…"+n.substring(s),r=s-1}t.text=n,t.type=c.f.P,t.markups.unshift({end:i,start:o,type:c.e.HIGHLIGHT});var l=!0,u=!1,m=void 0;try{for(var d,p=t.markups[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value;f.start-=r,f.end-=r}}catch(e){u=!0,m=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw m}}return t},d=l()(u())},"./src/util/string.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){return/^[\s\xa0]*$/.test(e)},o=function(e,t){if(e.length<t)return e;var n=e.substr(0,t),r=n.charCodeAt(n.length-1),o=n.charCodeAt(n.length-2);return r>=55296&&r<=57343&&!(o>=55296&&o<=57343)&&(n=n.substr(0,n.length-1)),(n=(n=n.replace(/(\s+\S+|\s+)$/,"")).replace(/[.,:;?!-]+$/,""))+"…"}}}]);
//# sourceMappingURL=screen.post.099a7ef6.chunk.js.map