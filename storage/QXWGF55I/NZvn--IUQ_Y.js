if (self.CavalryLogger) { CavalryLogger.start_js(["Uy9un"]); }

__d("VideoChannelLoggerEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};},null);
__d("VideoChannelLoggerFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"};},null);
__d("VideoHomeEvents",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SESSION_PREFETCH:"session_prefetch",SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",VIDEO_DELETED:"video_deleted",VIDEO_STATUS_CHANGED:"video_status_changed",NAVIGATION:"navigation",OPEN_DIVEBAR:"open_divebar",CONTENT:"content",PULL_TO_REFRESH:"pull_to_refresh",HANDLING_APNS:"handling_apns",AUDIO_STATE:"audio_state",BADGE_FETCHED:"badge_fetched",METADATA_FETCHED:"metadata_fetched",DATA_PREFETCH:"data_prefetch",BADGE_COUNT_FETCH:"badge_count_fetch",GRAPHQL_BADGE_UPDATE_SUBSCRIPTION:"graphql_badge_update_subscription",BADGE_COUNT_FETCH_ON_BADGE_PUSH:"badge_count_fetch_on_badge_push",EMPTY_UNIT:"empty_unit",INVALID_UNIT:"invalid_unit",NO_ITEMS_WITH_HAS_NEXT_PAGE:"no_items_with_has_next_page",SKIPPED_NOT_LIVE_IMPRESSION:"skipped_not_live_impression",COLLAPSED_IMPRESSION:"collapsed_impression",COLLAPSED_NO_VIDEO:"collapsed_no_video",SKIPPED_MF_LIVE_MISMATCH_IMPRESSION:"skipped_mf_live_mismatch_impression",COLLAPSED_WAS_LIVE_LIMIT_IMPRESSION:"collapsed_was_live_limit_impression",IMPRESSION:"impression",VPV:"vpv",VPVD:"vpvd",VPV_DURATION:"vpv_duration",CLICK:"click",SESSION_SUMMARY:"session_summary",WATCH_SUMMARY:"watch_summary",DUPLICATE:"duplicate",BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded",END_SCREEN_DISPLAYED:"end_screen_displayed",END_OF_DATA:"end_of_data",MARK_DATA_DIRTY:"mark_data_dirty",LOAD_LOADING_CARD_VIEW:"load_loading_card_view",LOAD_ITEMS_LOADING_CARD_VIEW:"load_items_loading_card_view",TTI:"tti",TTI_REALDATA:"tti_realdata",E2E:"e2e",LOAD_SECTION:"load_section",LOAD_ITEMS:"load_items",REACTION_FETCH_UNITS:"reaction_fetch_units",REACTION_UNIT_ID_MEMCACHE_HIT:"reaction_unit_id_memcache_hit",REACTION_UNIT_ID_MEMCACHE_MISS:"reaction_unit_id_memcache_miss"};},null);
__d("VideoHomeEventTargets",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BOOKMARK:"bookmark",CHANNEL:"channel",STORY:"story",VIDEO:"video",BUTTON:"button",NONE:"none"};},null);
__d("VideoHomeExitPointTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BACK:"back",URL:"url",BACKGROUND:"background",CHANNEL:"channel",TAB:"tab",DIVEBAR:"divebar",MESSENGER:"messenger",FACECAST:"facecast",LIVE_FULLSCREEN:"live_fullscreen",FULLSCREEN:"fullscreen",SEARCH:"search",UNKNOWN:"unknown"};},null);
__d("VideoHomeLoggerFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={BROADCAST_STATUS:"broadcast_status",BROADCAST_STATUS_EXPLICIT:"broadcast_status_explicit",CHANNEL_ID:"channel_id",CHANNEL_POSITION:"channel_position",CLICK_TARGET:"click_target",CONNECTION_TYPE:"connection_type",DATA_SOURCE:"data_source",DEVICE_YEAR_CLASS:"device_year_class",EVENT:"event",EVENT_TARGET:"event_target",EVENT_TARGET_ID:"event_target_id",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FETCH_COUNT:"fetch_count",FETCH_CURSOR:"fetch_cursor",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",IS_LIVE_STREAMING:"is_live_streaming",IS_BROADCAST:"is_broadcast",INITIAL_REQUEST:"initial_request",LOADING_DATA_TYPE:"loading_data_type",REQUEST_STATUS:"request_status",PERF_TIME_MS:"perf_time_ms",POSITION_IN_CHANNEL:"position_in_channel",SESSION_DURATION:"session_duration",UNIT_POSITION:"unit_position",POSITION_IN_UNIT:"position_in_unit",SESSION_ID:"session_id",VIDEO_ID:"video",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",TRACKING_DATA:"tracking_data",TAB_OPTION:"tab_option",REACTION_REQUEST_TYPE:"reaction_request_type",REACTION_UNIT_TYPE:"reaction_unit_type",REACTION_UNIT_NAME:"reaction_unit_name",TTI_TYPE:"tti_type",TIME_SINCE_START:"time_since_start",TIME_SINCE_PREFETCH:"time_since_prefetch",DURATION:"duration",LIVE_NOW_COUNT:"live_now_count",CLIENT_EVENT_TIME:"client_event_time",LAST_VISIT_TIME:"last_visit_time",EVENT_TARGET_INFO:"event_target_info",DUPLICATE_STORY_ID:"duplicate_story_id",DATA_PREFETCH_STATUS:"data_prefetch_status",APNS_PAYLOAD:"apns_payload",AUDIO_MUTED:"audio_muted",AUDIO_EXTERNAL:"audio_external",LAUNCHED_BY_USER:"launched_by_user",VIDEO_WATCHED_COUNT:"video_watched_count",VIDEO_SEARCH_EXPERIENCE:"video_search_experience",INITIAL_VPV_TIMESTAMP_MS:"initial_vpv_timestamp_ms",CURRENT_TIMESTAMP_MS:"current_timestamp_ms",WATCH_TIME_S:"watch_time_s",WATCH_TIME_WITH_SOUND_ON_S:"watch_time_with_sound_on_s",WATCH_TIME_ON_FULL_SCREEN_S:"watch_time_on_full_screen_s",WATCH_TIME_ON_TV_S:"watch_time_on_tv_s",WATCH_TIME_IN_CHANNELS_S:"watch_time_in_channels_s",WATCH_TIME_IN_WATCH_AND_SCROLL_S:"watch_time_in_watch_and_scroll_s",WATCH_TIME_INLINE_S:"watch_time_inline_s",WILL_TRIGGER_RELOAD:"will_trigger_reload",SHOULD_SHOW_PILL:"should_show_pill",CAN_SHOW_PILL:"can_show_pill",CURRENT_SCROLL_OFFSET:"current_scroll_offset",TIME_INTERVAL_SINCE_LAST_DOWNLOAD:"time_interval_since_last_download",DATA_DIRTY_REASON:"data_dirty_reason",TIME_SINCE_APP_OPEN:"time_since_app_open",IS_COLD_START:"is_cold_start",IS_FIRST_SESSION_START:"is_first_session_start",IS_FIRST_TTI:"is_first_tti",ERROR_USER_INFO:"error_user_info",PERF_LOGGER_DOWNLOAD_BANDWIDTH:"perf_logger_download_bandwidth",PERF_LOGGER_STATUS:"perf_logger_status",BADGE_COUNT:"badge_count",OLD_BADGE_COUNT:"old_badge_count",NEW_BADGE_COUNT:"new_badge_count",FETCH_REASON:"fetch_reason",BADGE_CHECK_INTERVAL:"badge_check_interval",DATA_STALE_INTERVAL:"data_stale_interval",PREFETCH_UNIT_COUNT:"prefetch_unit_count",CLICK_POINT:"click_point",DEST_MODULE:"dest_module",DEST_MODULE_CLASS:"dest_module_class",MODULE_CLASS:"module_class",SOURCE_MODULE:"source_module",NUMBER_OF_SECTION:"number_of_section",NUMBER_OF_COMPONENTS:"number_of_components"};},null);
__d("VideoPlayerInitializationEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};},null);
__d("VideoPlayerLoggerSource",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",OFFERS_DETAIL:"offers_detail",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_TV:"video_tv",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured",SLIDESHOW:"slideshow",LIVE_MAP:"live_map",LIVE_MAP_INLINE:"live_map_inline"};},null);
__d("VideoQualityClassInternal",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={orderedValues:["sd","hd","uhd"]};},null);
__d("VideoStereoFormat",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"};},null);
__d("VideoWebDriverIDs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control"};},null);
__d('AudienceNetworkVPAIDEmbeddedTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:AudienceNetworkVPAIDEmbeddedLoggerConfig',this.$AudienceNetworkVPAIDEmbeddedTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:AudienceNetworkVPAIDEmbeddedLoggerConfig',this.$AudienceNetworkVPAIDEmbeddedTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$AudienceNetworkVPAIDEmbeddedTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$AudienceNetworkVPAIDEmbeddedTypedLogger1=babelHelpers['extends']({},this.$AudienceNetworkVPAIDEmbeddedTypedLogger1,j);return this;};h.prototype.setMessage=function(j){this.$AudienceNetworkVPAIDEmbeddedTypedLogger1.message=j;return this;};h.prototype.setPageurl=function(j){this.$AudienceNetworkVPAIDEmbeddedTypedLogger1.pageurl=j;return this;};h.prototype.setPlacementid=function(j){this.$AudienceNetworkVPAIDEmbeddedTypedLogger1.placementid=j;return this;};var i={message:true,pageurl:true,placementid:true};f.exports=h;},null);
__d("AudienceNetworkVPAIDState",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={NEW:1,INITIALIZED:2,LOADED:3,STARTED:4,ENDED:5};f.exports=h;},null);
__d('AudienceNetworkVPAIDEmbedded',['AudienceNetworkVPAIDState','Event','QueryString','AudienceNetworkVPAIDEmbeddedTypedLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='https://an.facebook.com/v1/instream/vast.xml',i='303563283311989_303984353269882',j='https://press.dailymotion.com/?gws_rd=ssl';function k(){'use strict';this.initAd=this.initAd.bind(this);this.$AudienceNetworkVPAIDEmbedded2=new (c('AudienceNetworkVPAIDEmbeddedTypedLogger'))();this.$AudienceNetworkVPAIDEmbedded3=c('AudienceNetworkVPAIDState').NEW;}k.prototype.register=function(l){'use strict';c('Event').listen(l,'click',this.initAd);};k.prototype.initAd=function(l){var m,n=this;'use strict';this.$AudienceNetworkVPAIDEmbedded1=l;if(this.$AudienceNetworkVPAIDEmbedded3!==c('AudienceNetworkVPAIDState').NEW)return;this.$AudienceNetworkVPAIDEmbedded3=c('AudienceNetworkVPAIDState').INITIALIZED;try{(function(){var p=new XMLHttpRequest();p.open('POST',h,false);p.setRequestHeader('Content-type','application/x-www-form-urlencoded');p.onreadystatechange=function(){if(p.readyState===4)if(!(p.status===200)){this.$AudienceNetworkVPAIDEmbedded4('xmlHttpRequest failed. xhr.status != 200');return;}}.bind(n);var q={placementid:i,pageurl:j,types:['video/mp4']};p.send(c('QueryString').encode(q));})();}catch(o){this.$AudienceNetworkVPAIDEmbedded4('xmlHttpRequest failed');return;}this.$AudienceNetworkVPAIDEmbedded3=c('AudienceNetworkVPAIDState').LOADED;};k.prototype.startAd=function(){'use strict';if(this.$AudienceNetworkVPAIDEmbedded3!=c('AudienceNetworkVPAIDState').LOADED)return;this.$AudienceNetworkVPAIDEmbedded3=c('AudienceNetworkVPAIDState').ENDED;this.$AudienceNetworkVPAIDEmbedded1.clickVideo();};k.prototype.$AudienceNetworkVPAIDEmbedded4=function(l){'use strict';this.$AudienceNetworkVPAIDEmbedded2.setPageurl(j).setPlacementid(i).setMessage(l).log();};f.exports=k;},null);
__d("cancelAnimationFramePolyfill",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.clearTimeout;f.exports=h;},null);
__d('forwardEvent',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;},null);
__d('cancelAnimationFrame',['TimerStorage','cancelAnimationFramePolyfill'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];c('TimerStorage').unset(c('TimerStorage').ANIMATION_FRAME,i[0]);return Function.prototype.apply.call(c('cancelAnimationFramePolyfill'),b,i);};},null);
__d('clearInterval',['TimerStorage'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=b.clearTimeout.nativeBackup||b.clearTimeout;f.exports=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];c('TimerStorage').unset(c('TimerStorage').INTERVAL,j[0]);return Function.prototype.apply.call(h,b,j);};},null);
__d('setInterval',['TimerStorage','setIntervalAcrossTransitions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(){for(var h=arguments.length,i=Array(h),j=0;j<h;j++)i[j]=arguments[j];var k=c('setIntervalAcrossTransitions').apply(b,i);c('TimerStorage').set(c('TimerStorage').INTERVAL,k);return k;};},null);
__d('TimeSpentImmediateActiveSecondsLogger',['Banzai','ImmediateActiveSecondsConfig','ScriptPath'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='immediate_active_seconds',i={signal:true,retry:true},j=c('ImmediateActiveSecondsConfig').sampling_rate,k=c('ImmediateActiveSecondsConfig').ias_bucket,l=0;function m(q){if(j<=0)return false;var r=Math.floor(q/1000)%j;return r===k;}function n(q){if(q>=l&&q-l<1000)return;if(m(q)){var r={activity_time_ms:q,last_activity_time_ms:l,script_path:c('ScriptPath').getTopViewEndpoint()};try{c('Banzai').post(h,r,i);}catch(s){}}l=Math.floor(q/1000)*1000;}function o(event,q,r){if(s<0||t<0||s>t)return;var s=Math.floor(q/1000),t=Math.floor(r/1000);if(!p(s,t))return;var u={event:event,start_time_ms:q,end_time_ms:r};c('Banzai').post(h,u,i);}function p(q,r){if(j<=0)return false;if(r-q>=j)return true;var s=q+(k-q%j+j)%j;return s<=r;}f.exports={maybeReportActiveSecond:n,maybeReportActiveInterval:o};},null);
__d("HTMLMediaElementReadyStates",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;},null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;},null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState','performanceAbsoluteNow'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=-1;function i(k,event){var l=event.timeStamp;if(l){var m=l.toString().length-Date.now().toString().length;if(m!==0)l=Math.round(l/Math.pow(10,m));k.time_ms=l;}else k.time_ms=Date.now();return k;}var j={initLogger:function(k,l){this._loggedEvents={};this._logFunction=k;this._useEventTime=l;var m=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(m);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=m.volume;this._lastPlayedTime=h;var n=false;if(m.readyState>=m.HAVE_FUTURE_DATA){this._logReadyToPlay();}else n=true;if(this.skipSubscriptions())return;var o=this.getSubscriptions();if(n)o.addSubscriptions(c('EventListener').listen(m,'canplay',this._logReadyToPlay.bind(this)));o.addSubscriptions(c('EventListener').listen(m,'ended',this.onEnded.bind(this)),c('EventListener').listen(m,'pause',this.onPause.bind(this)),c('EventListener').listen(m,'playing',this.onPlaying.bind(this)),c('EventListener').listen(m,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(m,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(m,'play',this.onPlay.bind(this)),c('EventListener').listen(m,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(m,'volumechange',this.onVolumeChange.bind(this)),c('EventListener').listen(m,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function(){return false;},onCanPlay:function(k){this._logReadyToPlay(k);},onPlay:function(k){this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function(event,k){if(this._loggedEvents[event])return;this._logEvent(event,k);},_logEvent:function(event,k){this._loggedEvents[event]=true;var l=k?k:{};l.video_id=this.getVideoID();if(!l.hasOwnProperty('video_time_position'))l.video_time_position=this.getVideoElement().currentTime.toFixed(2);if(!l.time_ms)l.time_ms=c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();l.time=Math.round(l.time_ms/1000);if(this.getAdClientToken){var m=this.getAdClientToken();if(m)l.ad_client_token=m;}if(this.getPlayerFormat)l.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)l.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)l.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,l);},_logReadyToPlay:function(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function(k){var l=this.getVideoElement();if(this._pendingPlayRequest){var m={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,m);return;}var event=l.ended?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED;if(l.currentTime)this._lastPlayedTime=l.currentTime.toFixed(2);var n=this._lastPlayedTime,o=k.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){n=Math.max(n,l.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)o=o||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:n,debug_reason:o},k));this._lastStartTimePosition=h;},onEnded:function(){if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},onRepresentationEnded:function(k){var l=k.detail;if(l){var m={representation_id:l.representationID,next_representation_id:l.nextRepresentationID,stream_switch_reason:l.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var n=this.getVideoElement();this._lastPlayedTime=n.currentTime.toFixed(2);var o=this._lastPlayedTime;m=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:o},m),k);}this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,m);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this._lastStartTimePosition=this.getVideoElement().currentTime.toFixed(2);this._lastPlayedTime=this.getVideoElement().currentTime.toFixed(2);}}},addWatchTimeData:function(k){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){k.video_last_start_time_position=this._lastStartTimePosition;k.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return k;},getLastPlayReason:function(){return null;},getVideoPlayReason:function(){return null;},onPlaying:function(k){if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var l=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,m={debug_reason:l,video_play_reason:this.getVideoPlayReason()};this._logEvent(event,this._amendEventTime(m,k));this._lastStartTimePosition=this.getVideoElement().currentTime.toFixed(2);this._lastPlayedTime=this.getVideoElement().currentTime.toFixed(2);},allowNextSeekInMixin:function(){this._allowNextSeek=true;},onSeeked:function(k){this._seeking=false;var l=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var m={video_seek_source_time_position:l};if(this._lastStartTimePosition!==h){m.video_last_start_time_position=this._lastStartTimePosition;}else m.video_last_start_time_position=l;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(m,k));var n=this.getVideoElement();if(n.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=n.currentTime.toFixed(2);},onSeeking:function(k){if(!this._seeking){this._seekSourceTimePosition=this.getVideoElement().currentTime.toFixed(2);this._seeking=true;}},onTimeUpdate:function(k){var l=this.getVideoElement();if(!l.paused)this._lastPlayedTime=l.currentTime.toFixed(2);},onVolumeChange:function(k){var l=this.getVideoElement(),m={},event=null;if(l.muted!==this._muted&&l.volume===this._volume&&l.volume>0){event=l.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=l.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;m.current_volume=Math.round(l.volume*100);}this._logEvent(event,this._amendEventTime(m,k));this._muted=l.muted;this._volume=l.volume;},_amendEventTime:function(k,event){if(c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers)return k;if(this._useEventTime)return i(k,event);return k;}};f.exports=j;},null);
__d('VideoChannelViewChainLengthManager',['guid'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){'use strict';this.$VideoChannelViewChainSession1=c('guid')();this.$VideoChannelViewChainSession2=0;this.$VideoChannelViewChainSession3=k;this.$VideoChannelViewChainSession4={};this.$VideoChannelViewChainSession4[k]=0;this.$VideoChannelViewChainSession5=k;}h.prototype.registerVideoID=function(k){'use strict';if(this.$VideoChannelViewChainSession4[k]===undefined){this.$VideoChannelViewChainSession2++;this.$VideoChannelViewChainSession4[k]=this.$VideoChannelViewChainSession2;}this.$VideoChannelViewChainSession5=k;};h.prototype.getSessionID=function(){'use strict';return this.$VideoChannelViewChainSession1;};h.prototype.getCurrentChainLength=function(){'use strict';return this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]!==undefined?this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]:null;};var i={},j={_ensureSessionID:function(k){k=k.toString();if(!i[k])i[k]=new h(k);},getLoggingData:function(k){if(k)k=k.toString();var l=i&&i[k];if(!l)return {video_chaining_depth_level:null,video_chaining_session_id:null};return {video_chaining_depth_level:l.getCurrentChainLength(),video_chaining_session_id:l.getSessionID()};},registerChainingInfos:function(k,l){var m=k;if(l){var n=l.decode();m=n.root_id;}if(m)m=m.toString();this.registerVideoID(m,k);},registerVideoID:function(k,l){k=k.toString();this._ensureSessionID(k);i[k].registerVideoID(l);}};f.exports=j;},null);
__d('VideoPlayerLoggerPlayerStates',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={STARTED:'started',UNPAUSED:'unpaused'};},null);
__d('VideoPlayerLogger',['Banzai','ErrorUtils','TimeSpentImmediateActiveSecondsLogger','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,i='video_player';function j(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}function k(l,m){'use strict';this.$VideoPlayerLogger1=l;this.$VideoPlayerLogger2=null;this.$VideoPlayerLogger3={};this.$VideoPlayerLogger4=m;this.$VideoPlayerLogger5=0;this.$VideoPlayerLogger6();}k.prototype.updateSource=function(l){'use strict';this.$VideoPlayerLogger1=l;};k.prototype.getSource=function(){'use strict';return this.$VideoPlayerLogger1;};k.prototype.logEvent=function(event,l){'use strict';l=babelHelpers['extends']({},l,this.$VideoPlayerLogger4);l.initial_event=!this.$VideoPlayerLogger3.hasOwnProperty(event);if(!l.hasOwnProperty('time_ms'))l.time_ms=j();if(!l.hasOwnProperty('time'))l.time=Math.round(l.time_ms/1000);l.is_stalling=this.$VideoPlayerLogger7>0;l.error_user_info=this.$VideoPlayerLogger8(l.error_user_info);if(this.$VideoPlayerLogger2)Object.assign(l,this.$VideoPlayerLogger2);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger9=l.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!l.initial_event)break;l.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger9;break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger6();this.$VideoPlayerLogger10();if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){l.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else l.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:if(event===c('VideoPlayerLoggerEvent').ERROR&&l.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){l.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else l.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger11();this.$VideoPlayerLogger12(l);this.$VideoPlayerLogger6();break;}var m={logData:l,event:event,scriptPath:this.$VideoPlayerLogger13,source:this.$VideoPlayerLogger1};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger3[event]=true;if(this.$VideoPlayerLogger1===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return;if(l.ad_client_token||h&&l.playback_is_live_streaming){c('Banzai').post(i,m,c('Banzai').VITAL);}else c('Banzai').post(i,m);if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING||event===c('VideoPlayerLoggerEvent').PAUSED){var n=l.time_ms||j(),o=l.video_time_position-l.video_last_start_time_position;if(o>=0)c('TimeSpentImmediateActiveSecondsLogger').maybeReportActiveInterval('video',n-Math.floor(o*1000),n);}};k.prototype.setScriptPath=function(l){'use strict';this.$VideoPlayerLogger13=l;};k.prototype.setFTData=function(l){'use strict';this.$VideoPlayerLogger2=l;};k.prototype.startBuffering=function(l){'use strict';this.$VideoPlayerLogger10(l);};k.prototype.endBuffering=function(){'use strict';this.$VideoPlayerLogger11();};k.prototype.$VideoPlayerLogger10=function(l){'use strict';if(this.$VideoPlayerLogger7<=0){this.$VideoPlayerLogger7=Date.now();if(this.$VideoPlayerLogger3[c('VideoPlayerLoggerEvent').STARTED_PLAYING]&&l!==undefined)this.$VideoPlayerLogger14=l;}};k.prototype.$VideoPlayerLogger11=function(){'use strict';if(this.$VideoPlayerLogger7>0){var l=Date.now()-this.$VideoPlayerLogger7;if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=l;this.$VideoPlayerLogger16=this.$VideoPlayerLogger16+l;this.$VideoPlayerLogger5=this.$VideoPlayerLogger5+l;this.$VideoPlayerLogger17++;this.$VideoPlayerLogger7=0;}};k.prototype.$VideoPlayerLogger8=function(l){'use strict';if(l&&typeof l=='object')return JSON.stringify(l);return l;};k.prototype.getCurrentStallTime=function(){'use strict';return this.$VideoPlayerLogger5;};k.prototype.$VideoPlayerLogger12=function(l){'use strict';l.stall_time=Math.max(0,this.$VideoPlayerLogger16);l.stall_count=this.$VideoPlayerLogger17;if(this.$VideoPlayerLogger15){l.first_stall_time=this.$VideoPlayerLogger15;l.first_stall_start_position=this.$VideoPlayerLogger14;}};k.prototype.$VideoPlayerLogger6=function(){'use strict';this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger7=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0;};Object.assign(k,{Sources:c('VideoPlayerLoggerSource'),Errors:c('VideoPlayerLoggerErrors'),FallbackReasons:c('VideoPlayerLoggerFallbackReasons'),ErrorStates:c('VideoPlayerLoggerErrorStates'),PlayerStates:c('VideoPlayerLoggerPlayerStates')});f.exports=k;},null);
__d("XPubcontentRelatedVideoInlineController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});},null);
__d('EntstreamAttachmentRelatedFBVideo',['csx','cx','Arbiter','AsyncRequest','AttachmentRelatedShareConstants','CSS','DOM','DOMQuery','Event','ge','Parent','VideoPlayerReason','XPubcontentRelatedVideoInlineController'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={addHoverListener:function(k,l){var m=c('ge')(l),n=c('DOM').scry(m,"^div._3f-c")[0];c('Event').listen(n,'mouseover',this.doHover.bind(this,k));c('Event').listen(n,'mouseout',this.doHoverOut.bind(this,k));},addClickOutListener:function(k,l){var m=c('ge')(l);c('Event').listen(m,'click',this.doHoverOut.bind(this,k));},doHover:function(k){k.play(c('VideoPlayerReason').USER);k.mute();},doHoverOut:function(k,l){k.pause(c('VideoPlayerReason').USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function(k,l,m,n,o,p,q,r){var s=null;if(typeof l==='string'){s=c('ge')(l);}else s=l;if(!s)return;var t=null;if(typeof k==='string'){t=c('ge')(k);}else t=k;if(!t)return;c('Event').listen(t,'click',function(event){var u=event.srcElement?event.srcElement:event.target;if(u)for(var v in p){var w=c('ge')(p[v]);if(w&&c('DOMQuery').contains(w,u))return;}if(event.isDefaultRequested())return;event.preventDefault();var x=null;if(o){var y=c('DOM').scry(s,"^ul._5h5a")[0];if(!y)return;x=y.previousSibling;}else x=t.children[0];setTimeout(function(){var z=c('XPubcontentRelatedVideoInlineController').getURIBuilder();z.setInt('fbvideo_id',m);z.setString('query_id',q);z.setString('mf_story_key',r);new (c('AsyncRequest'))().setURI(z.getURI()).setRelativeTo(x).send();},1000);});},loadRelatedFBVideos:function(k,l){var m=c('ge')(k);if(!m)return;var n="_4zdu",o=c('Parent').byClass(m,n);if(o)return;var p=c('Event').listen(m,'click',function(){p.remove();c('Arbiter').inform(c('AttachmentRelatedShareConstants').FBVIDEO_CLICK,{attachment:m,fbvideo_id:l});});}};f.exports=j;},null);
__d('NavigationMessage',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={NAVIGATION_BEGIN:'NavigationMessage/navigationBegin',NAVIGATION_SELECT:'NavigationMessage/navigationSelect',NAVIGATION_FIRST_RESPONSE:'NavigationMessage/navigationFirstResponse',NAVIGATION_COMPLETED:'NavigationMessage/navigationCompleted',NAVIGATION_FAILED:'NavigationMessage/navigationFailed',NAVIGATION_COUNT_UPDATE:'NavigationMessage/navigationCount',NAVIGATION_FAVORITE_UPDATE:'NavigationMessage/navigationFavoriteUpdate',NAVIGATION_ITEM_REMOVED:'NavigationMessage/navigationItemRemoved',NAVIGATION_ITEM_HIDDEN:'NavigationMessage/navigationItemHidden',INTERNAL_LOADING_BEGIN:'NavigationMessage/internalLoadingBegin',INTERNAL_LOADING_COMPLETED:'NavigationMessage/internalLoadingCompleted'};f.exports=h;},null);
__d('UserActivity',['Arbiter','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5000,i=500,j=-5,k=Date.now(),l=k,m=false,n=Date.now(),o=document.hasFocus?document.hasFocus():true,p=0,q=Date.now(),r=-1,s=-1,t={subscribeOnce:function(x){var y=t.subscribe(function(){t.unsubscribe(y);x();});return y;},subscribe:function(x){return c('Arbiter').subscribe('useractivity/activity',x);},unsubscribe:function(x){x.unsubscribe();},isActive:function(x){return new Date()-k<(x||h);},isOnTab:function(){return o;},hasBeenInactive:function(){return m;},resetActiveStatus:function(){o=true;m=false;},getLastInActiveEnds:function(){return n;},getLastActive:function(){return k;},setIdleTime:function(x){p=x;},getLastLeaveTime:function(){return q;},getLastInformTime:function(){return l;}};function u(event){var x=b.MouseEvent;if(x&&event instanceof x){if(event.pageX==r&&event.pageY==s&&event.type!='click')return;r=event.pageX;s=event.pageY;}k=Date.now();var y=k-l;if(y>i){l=k;if(!o)q=k;if(y>=(p||h)){m=true;n=k;}c('Arbiter').inform('useractivity/activity',{event:event,idleness:y,last_inform:l});}else if(y<j)l=k;}function v(event){o=true;n=Date.now();u(event);}function w(event){o=false;m=true;q=Date.now();}c('Event').listen(window,'scroll',u);c('Event').listen(window,'focus',v);c('Event').listen(window,'blur',w);c('Event').listen(document.documentElement,{DOMMouseScroll:u,mousewheel:u,keydown:u,mouseover:u,mousemove:u,click:u});c('Arbiter').subscribe('Event/stop',function(x,y){u(y.event);});f.exports=t;},null);
__d('ViewportTrackingHelper',['Event','Vector','getViewportDimensions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getScrollListener:function(i){return c('Event').listen(window,'scroll',i);},looseIsVisible:function(i,j){if(!i.x&&!i.y&&!i.width&&!i.height)return false;var k=c('Vector').getScrollPosition().y,l=c('getViewportDimensions')().height,m=l+j-k;return i.y<m;},isVisible:function(i,j){if(!i.x&&!i.y&&!i.width&&!i.height)return false;var k=c('getViewportDimensions')().height,l=Math.max(i.y,0),m=Math.min(i.y+i.height,k),n=Math.min(i.height,j);return m-l>=n;},isDescendantOf:function(i,j){if(i===j)return i;while(i&&i.parentNode){if(i.parentNode===j)return i;i=i.parentNode;}return false;}};f.exports=h;},null);
__d('ViewportTracking',['cx','Arbiter','AsyncSignal','Banzai','BanzaiScuba','CSS','CurrentUser','DOM','DOMDimensions','Event','LitestandMessages','NavigationMessage','Run','SubscriptionsHandler','UserActivity','Vector','ViewportTrackingHelper','clickRefAction','collectDataAttributes','debounce','getElementPosition','getViewportDimensions','throttle'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=97,j=51,k='vpv',l='/feed/feed_tracking/vpv_waterfall_logging',m=3,n=2,o=1,p=0,q=1,r=2,s=3,t=4;function u(){'use strict';}u.prototype.init=function(v){'use strict';this.useBanzai=true;this.vpvDebug=!!v.vpv_debug;this.vpvdDebug=!!v.vpvd_debug;this.vpvdAnalysis=!!v.vpvd_analysis;this.useWaterfallLogging=!!v.waterfall_logging;this.loggedStoryIDs={};this.readStoryIDs={};this.annotatedStoryIDs={};this.minSizeToBeVisible=200;this.minFractionToBeVisibleForTimetracking=.5;this.scrollThrottlingInterval=100;this.mouseThrottlingInterval=100;this.keyboardThrottlingInterval=100;this.minTimeToReportImmediately=500;this.discardVPVDIntervalThreshold=90000;this.active_state_duration=1000;this.height_diff_to_change_state=25;this.focused_state_duration=3500;this.invalidateAllStoriesCache();this.cachedViewportHeight=c('getViewportDimensions')().height;this.isTimetrackingEnabled=0;this.activeStories={};this.userInactiveLock=false;this.userActivityPollerTimeoutID=-1;this._headLoadStoryCount=0;this.getDataFromConfig(v);if(this.isTimetrackingEnabled){this.lastMouseX=-1;this.lastMouseY=-1;this.lastStreamY=-1;this.latestStreamYChangedTimeStamp=-1;this.userFocus=r;this.latestUserFocus=r;this.latestUserActivity='init';this.focusedStory=null;this.latestFocusedStory=null;this.latestActiveStory=null;this.totalVPVDuration={};}this.isLoose=!!v.is_loose;this.maxScrollPosition=0;if(v.tracking_duration_config){this.scrollThrottlingInterval=v.tracking_duration_config.scroll_throttling_interval;this.mouseThrottlingInterval=v.tracking_duration_config.mouse_throttling_interval;this.keyboardThrottlingInterval=v.tracking_duration_config.keyboard_throttling_interval;this.userActivityPollingInterval=v.tracking_duration_config.user_activity_polling_interval;this.timeToBeConsideredInactive=v.tracking_duration_config.time_to_be_considered_inactive;this.minFractionToBeVisibleForTimetracking=v.tracking_duration_config.min_fraction_to_be_visible;this.minTimeToReportImmediately=v.tracking_duration_config.min_time_to_report_immediately;this.active_state_duration=v.tracking_duration_config.active_state_duration;this.height_diff_to_change_state=v.tracking_duration_config.story_height_diff_to_change_state;this.focused_state_duration=v.tracking_duration_config.focused_state_duration;this.discardVPVDIntervalThreshold=v.tracking_duration_config.discard_vpvd_interval_threshold;}var w,x=c('debounce')(this.fireTimer,this.getTimeout(),this);if(this.isLoose){this.minSizeToBeVisible=0;w=c('throttle')(function(){this.maxScrollPosition=Math.max(this.maxScrollPosition,c('Vector').getScrollPosition().y);x();}.bind(this));}else w=x;this.initialStories=this.getStoriesInView();this.initialStoriesLogged=false;if(this.annotatedVPVLogging)this.initialStories.forEach(this.logAnnotatedVPV,this);if(this.useWaterfallLogging)this.getStoriesInView().forEach(function(ba){this.waterfallLogStep(ba,'100_all_stories_in_view_ignore_height',true);},this);this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(this._getScrollListener(w),c('Event').listen(window,'resize',function(){this.invalidateVisibleStoriesCache();this.cachedViewportHeight=c('getViewportDimensions')().height;w();}.bind(this)),c('Event').listen(window,'focus',function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'window_focus');}.bind(this)),c('Event').listen(window,'blur',function(){if(this.isTimetrackingEnabled)this.updateTimeTrackingData(true,'window_blur');}.bind(this)),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.cleanup.bind(this)),c('Arbiter').subscribe('Stream/totalHeadLoadedStories',function(ba,ca){this._headLoadStoryCount=ca.count;}.bind(this)),c('Arbiter').subscribe(c('LitestandMessages').STORIES_INSERTED,function(){if(!this.initialStoriesLogged){var ba=this.getStoriesInView();ba.forEach(this.logAnnotatedVPV,this);}else w();if(this.isTimetrackingEnabled)this.updateTimeTrackingData(false,'stories_inserted');}.bind(this)));if(this.isTimetrackingEnabled){this.updateTimeTrackingData(false,'init');var y=c('throttle')(function(event){this.invalidateVisibleStoriesCache();this.handleScroll(event);}.bind(this),this.scrollThrottlingInterval),z=c('throttle')(function(event){this.handleKeyboard(event);}.bind(this),this.keyboardThrottlingInterval),aa=c('throttle')(function(event){this.handleMouse(event);}.bind(this),this.mouseThrottlingInterval);this.subscriptions.addSubscriptions(c('Event').listen(window,'scroll',y),c('Event').listen(document.documentElement,'DOMMouseScroll',y),c('Event').listen(document.documentElement,'mousewheel',y));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'keydown',z));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'mouseover',aa),c('Event').listen(document.documentElement,'mousemove',aa));this.subscriptions.addSubscriptions(c('Arbiter').subscribe('Event/stop',function(ba,ca){this.handleMouse(ca.event);}.bind(this)));this.subscriptions.addSubscriptions(c('Event').listen(document.documentElement,'click',function(event){this.handleMouse(event);}.bind(this)),c('Arbiter').subscribe('PhotoSnowlift.OPEN',function(){this.userFocus=s;this.handleLayers();}.bind(this)),c('Arbiter').subscribe('PhotoSnowlift.CLOSE',function(){this.userFocus=q;this.focusedStory=null;this.updateTimeTrackingData(false,'snowlift_close');}.bind(this)));this._userActivityPoller();}c('Run').onLeave(this.cleanup.bind(this));c('Run').onUnload(this.cleanup.bind(this));};u.prototype._getScrollListener=function(v){'use strict';return c('Event').listen(window,'scroll',v);};u.prototype.cleanup=function(){'use strict';if(this.subscriptions){this.subscriptions.release();this.subscriptions=null;}if(this.isTimetrackingEnabled){clearTimeout(this.userActivityPollerTimeoutID);this.updateTimeTrackingData(true,'cleanup');}if(this.annotatedVPVLogging){var v=this.getStoriesInView();v.forEach(this.logAnnotatedVPV,this);}this.initialStories=[];this._headLoadStoryCount=0;};u.prototype.fireTimer=function(){'use strict';if(this.useWaterfallLogging){var v=this.getStoriesInViewIgnoreHeight();v.forEach(function(w){this.waterfallLogStep(w,'100_all_stories_in_view_ignore_height');},this);}if(!this.initialStoriesLogged){this.initialStories.forEach(this.markStoryRead,this);this.initialStoriesLogged=true;}this.storiesInView=this.getStoriesInView();this.storiesInView.forEach(this.markStoryRead,this);};u.prototype.getSessionID=function(){'use strict';return null;};u.prototype._userActivityPoller=function(){'use strict';if(!this.userInactiveLock&&!c('UserActivity').isActive(this.timeToBeConsideredInactive)){this.userInactiveLock=true;this.userFocus=r;this.updateTimeTrackingData(false,'user_activity_inactive');c('UserActivity').subscribeOnce(function(){this.userFocus=q;this.updateTimeTrackingData(false,'user_activity_active');this.userInactiveLock=false;}.bind(this));}this.userActivityPollerTimeoutID=setTimeout(this._userActivityPoller.bind(this),this.userActivityPollingInterval);};u.prototype.getQueryID=function(v){'use strict';return -1;};u.prototype.getFBFeedLocations=function(v){'use strict';return -1;};u.prototype.getFBFeedInsertionPosition=function(v){'use strict';return -1;};u.prototype.createVPVDTimer=function(v){'use strict';var w=document.createElement("Label");w.setAttribute("for",v);w.setAttribute("class",'vpvd_debug_timer');return w;};u.prototype.updateVPVDTimer=function(v){'use strict';var w=this.activeStories[v].story,x=c('DOM').scry(w,'.vpvd_debug_timer');if(!x.length){x=[this.createVPVDTimer(w),this.createVPVDTimer(w)];var y=c('DOM').scry(w,'.UFIRow');if(y.length&&y[y.length-1].clientWidth>0){y[y.length-1].appendChild(x[0]);}else w.appendChild(x[0]);w.insertBefore(x[1],w.firstChild);}var z=this.totalVPVDuration[v],aa=Math.floor(z/1000)+'.'+Math.floor(z%1000/100);c('DOM').setContent(x[0],aa);c('DOM').setContent(x[1],aa);};u.prototype.updateVPVDTimers=function(){'use strict';for(var v in this.activeStories)if(this.activeStories.hasOwnProperty(v))this.updateVPVDTimer(v);};u.prototype.logVpvdAnalysis=function(v,w,x,y,z,aa){'use strict';var ba=new (c('BanzaiScuba'))('vpv_duration');ba.addDenorm('qid',this.getQueryID(this.activeStories[v].story));ba.addDenorm('uid',c('CurrentUser').getID());ba.addDenorm('vsid',v);ba.addInteger('time',Math.round(Date.now()/1000));ba.addInteger('duration',y);ba.addInteger('total_duration',z);ba.addNormal('story_state',this.activeStories[v].state);ba.addNormal('is_active_state',x);ba.addNormal('num_visible_stories',this.numVisibleStories);ba.addInteger('story_height',this.activeStories[v].story_height);ba.addInteger('story_visible_height',this.activeStories[v].height);ba.addInteger('state_visible_height',aa);ba.addInteger('total_visible_height',this.totalVisibleHeight);ba.addInteger('total_height',this.totalHeight);ba.addNormal('user_focus',this.latestUserFocus);ba.addNormal('next_user_focus',this.userFocus);ba.addInteger('vpvd',w);ba.addInteger('accumulated_vpvd',this.activeStories[v].vpvd);ba.addNormal('user_activity',this.latestUserActivity);ba.addNormal('next_user_activity',this.userActivity);ba.addInteger('story_position_y',this.activeStories[v].y);ba.addInteger('feed_insertion_position',this.getFBFeedInsertionPosition(this.activeStories[v].story));ba.addNormal('visible_position',this.activeStories[v].visible_position);ba.addNormal('is_focused_story',this.activeStories[v].is_focused);ba.post();};u.prototype.shouldDiscardStory=function(v){'use strict';return this.activeStories[v].height!=this.activeStories[v].story_height&&this.activeStories[v].height<this.totalHeight/2;};u.prototype.calculateTotalHeight=function(){'use strict';this.totalHeight=0;for(var v in this.activeStories)if(this.activeStories.hasOwnProperty(v))this.totalHeight+=this.activeStories[v].height;};u.prototype.updateVPVDurations=function(v){'use strict';if(this.latestUserFocus===r||v-this.latestTimeTrackingTimestamp>this.discardVPVDIntervalThreshold)return;var w={1:0,2:0,3:0},x=v-this.latestTimeTrackingTimestamp>=this.focused_state_duration;this.totalVisibleHeight=0;for(var y in this.activeStories)if(this.activeStories.hasOwnProperty(y))if(!(this.latestUserFocus===q&&x&&this.shouldDiscardStory(y))){w[this.activeStories[y].state]+=this.activeStories[y].height;this.totalVisibleHeight+=this.activeStories[y].height;}var z=0,aa=v-this.latestTimeTrackingTimestamp;if(this.latestUserFocus===q){aa=w[m]>0?this.focused_state_duration:this.active_state_duration;aa=Math.min(aa,v-this.latestTimeTrackingTimestamp);z=v-this.latestTimeTrackingTimestamp-aa;}var ba=0,ca=m;for(var da=m;da>=o;da--)if(w[da]>0){ba=w[da];ca=da;break;}var ea=w[m]+w[n]+w[o],fa=0;for(y in this.activeStories)if(this.activeStories.hasOwnProperty(y)){if(this.latestUserFocus===q&&x&&this.shouldDiscardStory(y))continue;if(ba>0&&this.activeStories[y].state>=ca){fa=aa*(this.activeStories[y].height/ba);if(this.vpvdAnalysis&&aa>0)this.logVpvdAnalysis(y,fa,true,aa,aa+z,ba);this.activeStories[y].vpvd+=fa;this.totalVPVDuration[y]+=fa;}if(ea>0){fa=z*(this.activeStories[y].height/ea);if(this.vpvdAnalysis&&z>0)this.logVpvdAnalysis(y,fa,false,z,aa+z,ea);this.activeStories[y].vpvd+=fa;this.totalVPVDuration[y]+=fa;}}};u.prototype.updateActiveStory=function(v,w,x,y){'use strict';this.activeStories[v].state=w;this.activeStories[v].ts=x;this.activeStories[v].height_snapshot=y[v].height;this.activeStories[v].is_focused=this.focusedStory===y[v].story;this.activeStories[v].story_height=y[v].story_height;if(this.vpvdAnalysis){this.activeStories[v].visible_position=y[v].visible_position;this.activeStories[v].y=y[v].y;}};u.prototype.updateActiveStories=function(v,w){'use strict';for(var x in v)if(v.hasOwnProperty(x))if(x in this.activeStories){this.activeStories[x].height=v[x].height;var y=v[x].height-this.activeStories[x].height_snapshot;if(this.focusedStory===v[x].story){this.updateActiveStory(x,m,w,v);}else if(y<=-this.height_diff_to_change_state){this.updateActiveStory(x,this.shouldDiscardStory(x)?p:o,w,v);}else if(y>=this.height_diff_to_change_state||this.activeStories[x].is_focused||this.activeStories[x].height===this.activeStories[x].story_height)this.updateActiveStory(x,n,w,v);}else{this.activeStories[x]={evp_ts:w,story:v[x].story,height:v[x].height,vpvd:0};if(!this.totalVPVDuration[x])this.totalVPVDuration[x]=0;this.updateActiveStory(x,n,w,v);}};u.prototype.recordVPVDurations=function(v,w){'use strict';for(var x in this.activeStories)if(this.activeStories.hasOwnProperty(x))if(w||!(x in v)){if(this.activeStories[x].vpvd>this.focused_state_duration||this.activeStories[x].vpvd===this.totalVPVDuration[x])this.recordTimeStoryWasInView(this.activeStories[x]);delete this.activeStories[x];}};u.prototype.updateTimeTrackingData=function(v,w){'use strict';this.userActivity=w;if(!this.activeStories)this.activeStories={};var x=Date.now();if(!this.latestTimeTrackingTimestamp)this.latestTimeTrackingTimestamp=x;var y=this.getVisibleStoriesFromCache();this.calculateTotalHeight();this.updateVPVDurations(x);this.updateActiveStories(y,x);if(this.vpvdDebug)this.updateVPVDTimers();this.recordVPVDurations(y,v);if(v){this.latestTimeTrackingTimestamp=0;}else this.latestTimeTrackingTimestamp=x;this.latestUserActivity=this.userActivity;this.latestUserFocus=this.userFocus;if(this.focusedStory)this.latestActiveStory=this.focusedStory;this.latestFocusedStory=this.focusedStory;this.focusedStory=null;};u.prototype.needsToUpdateTimeTrackingData=function(){'use strict';return !(this.latestUserFocus===this.userFocus&&(this.userFocus===r||this.userFocus===q&&!this.latestFocusedStory&&!this.focusedStory));};u.prototype.getfocusedStory=function(v){'use strict';var w=this.getVisibleStoriesFromCache();for(var x in w)if(w.hasOwnProperty(x))if(c('ViewportTrackingHelper').isDescendantOf(v,w[x].story))return w[x].story;return null;};u.prototype.handleLayers=function(){'use strict';if(this.userFocus===s||this.userFocus===t){this.focusedStory=this.latestActiveStory;this.updateTimeTrackingData(false,'media_layer');return true;}return false;};u.prototype.didInteractWithStream=function(v){'use strict';return c('ViewportTrackingHelper').isDescendantOf(v,this.getStream())||c('ViewportTrackingHelper').isDescendantOf(this.getStream(),v);};u.prototype.handleScroll=function(event){'use strict';if(this.handleLayers())return;var v=Date.now(),w=c('getElementPosition')(this.getStream()).y;if(w!=this.lastStreamY||v-this.latestStreamYChangedTimeStamp<2.5*this.scrollThrottlingInterval||this.didInteractWithStream(event.target)){this.latestStreamYChangedTimeStamp=v;this.userFocus=q;}else this.userFocus=r;this.lastStreamY=w;if(this.userFocus===q||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'scroll');};u.prototype.handleKeyboard=function(event){'use strict';if(this.handleLayers())return;if(this.didInteractWithStream(event.target)){this.userFocus=q;this.focusedStory=this.getfocusedStory(event.target);}else if(c('CSS').hasClass(event.target,'shareInput')){this.userFocus=q;this.focusedStory=this.latestActiveStory;}else this.userFocus=r;if(this.userFocus===q||this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,'keyboard');};u.prototype.handleMouse=function(event){'use strict';if(this.handleLayers())return;if(event.type!='click'&&event.clientX===this.lastMouseX&&event.clientY===this.lastMouseY)return;if(event.type==='click')this.invalidateVisibleStoriesCache();if(this.didInteractWithStream(event.target)){this.userFocus=q;this.focusedStory=this.getfocusedStory(event.target);}else this.userFocus=r;this.lastMouseX=event.clientX;this.lastMouseY=event.clientY;if(this.needsToUpdateTimeTrackingData())this.updateTimeTrackingData(false,event.type);};u.prototype.getStoriesInView=function(){'use strict';var v=this.getAllStories(),w=[],x=false;for(var y=0;y<v.length;y++){var z=v[y],aa=this.getStoryID(z);if(this.hasBeenVisible(aa))continue;if(this.isVisible(z)){if(z.getAttribute('data-insertion-position')===null)z.setAttribute('data-insertion-position',y-this._headLoadStoryCount);w.push(z);x=true;}else if(x)break;}return w;};u.prototype.getStoriesInViewIgnoreHeight=function(){'use strict';var v=this.getAllStories(),w=false,x=[];for(var y=0;y<v.length;y++){var z=v[y];if(this.isVisible(z,false,0)){x.push(z);w=true;}else if(w)break;}return x;};u.prototype.getAllStoriesFromCache=function(){'use strict';if(this.cachedAllStories===null)this.cachedAllStories=this.getAllStories();return this.cachedAllStories;};u.prototype.invalidateAllStoriesCache=function(){'use strict';this.cachedAllStories=null;this.invalidateVisibleStoriesCache();};u.prototype.getVisibleStoriesFromCache=function(){'use strict';if(this.cachedVisibleStories===null)this.cachedVisibleStories=this.getAllStoriesInView();return this.cachedVisibleStories;};u.prototype.invalidateVisibleStoriesCache=function(){'use strict';this.cachedVisibleStories=null;};u.prototype.getAllStoriesInView=function(){'use strict';var v=this.getAllStoriesFromCache(),w={},x=false,y=0,z=v.length,aa=1,ba=v.length;if(this._indexOfLastVisibleStoryOnPreviousPass>z/2){y=z-1;z=-1;aa=-aa;}for(var ca=y;ca!=z;ca+=aa){var da=v[ca],ea=this.getHeightIfVisible(da,false,Math.min(this.minSizeToBeVisible,this.minFractionToBeVisibleForTimetracking*c('DOMDimensions').getElementDimensions(da).height));if(ea>0||da===this.focusedStory){if(da.getAttribute('data-insertion-position')===null)da.setAttribute('data-insertion-position',ca-this._headLoadStoryCount);var fa=this.getStoryID(da);w[fa]={story:da,height:ea,story_height:c('DOMDimensions').getElementDimensions(da).height};x=true;if(this.vpvdAnalysis){w[fa].y=c('getElementPosition')(da).y;w[fa].visible_position=ca;ba=Math.min(ba,ca);}}else if(x){this._indexOfLastVisibleStoryOnPreviousPass=ca-aa;break;}}if(this.vpvdAnalysis){this.numVisibleStories=0;for(fa in w)if(w.hasOwnProperty(fa)){w[fa].visible_position-=ba;this.numVisibleStories++;}}return w;};u.prototype.getTimetrackingDataToLog=function(v){'use strict';var w={evt:i,vpvd_start_timestamp:v.evp_ts,vpvd_time_delta:Math.round(v.vpvd),story_height:c('DOMDimensions').getElementDimensions(v.story).height,viewport_height:this.cachedViewportHeight};return {ft:w};};u.prototype.recordTimeStoryWasInView=function(v){'use strict';if(this.isTimetrackingEnabled&&v.vpvd>0){var w=this.getTimetrackingDataToLog(v),x=c('collectDataAttributes')(v.story,['ft']);Object.assign(w.ft,x.ft);var y=!!x.ft.ei&&w.ft.vpvd_time_delta>this.minTimeToReportImmediately;delete w.ei;this.sendDataToLog(v.story,w,y);}};u.prototype.hasBeenVisible=function(v){'use strict';return v in this.readStoryIDs;};u.prototype.isVisible=function(v,w,x){'use strict';return this.getHeightIfVisible(v,w,x)>0;};u.prototype.getHeightIfVisible=function(v,w,x){'use strict';if(w===undefined)w=this.isLoose;if(x===undefined)x=this.minSizeToBeVisible;var y=c('Vector').getScrollPosition().y,z=c('getViewportDimensions')().height,aa=c('getElementPosition')(v),ba=c('DOMDimensions').getElementDimensions(v),ca=z+this.maxScrollPosition-y;if(!aa.x&&!aa.y&&!ba.x&&!ba.y)return false;if(w&&aa.y<ca)return true;var da=Math.max(aa.y,0),ea=Math.min(aa.y+ba.height,z),fa=Math.min(ba.height,x);return ea-da>=fa?ea-da:0;};u.prototype.getHeightInViewport=function(v){'use strict';var w=c('getViewportDimensions')().height,x=c('getElementPosition')(v),y=c('DOMDimensions').getElementDimensions(v);if(!x.x&&!x.y&&!y.x&&!y.y)return false;var z=Math.max(x.y,0),aa=Math.min(x.y+y.height,w);return aa-z;};u.prototype.sendDataToLog=function(v,w,x){'use strict';if(this.useBanzai){var y={};if(x)y.delay=3000;var z=this.getSessionID();if(z)w.ft.session_id=z;if(this.useWaterfallLogging&&w.ft.evt==j){w.ft.should_waterfall_logging=1;w.ft['interface']='www';var aa=!this.initialStoriesLogged;this.waterfallLogStep(v,'200_sent_to_banzai',aa);}c('Banzai').post('feed_tracking',w,y);}else c('clickRefAction')(k,v,null,'FORCE',w);};u.prototype.waterfallLogStep=function(v,w,x){'use strict';var y=this.getStoryID(v);if(this.loggedStoryIDs[w]&&this.loggedStoryIDs[w][y])return;var z=this.getWaterfallData(v,w,x);if(!z.qid)return;new (c('AsyncSignal'))(l,z).send();if(!this.loggedStoryIDs[w])this.loggedStoryIDs[w]={};this.loggedStoryIDs[w][y]=true;};u.prototype.getWaterfallData=function(v,w,x){'use strict';var y=this._getDataToLogImpl(v),z=c('collectDataAttributes')(v,['ft']);Object.assign(y.ft,z.ft);var aa=y.ft;aa.height_in_viewport=this.getHeightInViewport(v);aa.step=w;aa.is_initial_story=x?1:0;aa['interface']='www';return aa;};u.prototype.markStoryRead=function(v){'use strict';var w=this.getStoryID(v);if(!w||this.hasBeenVisible(w))return;this.readStoryIDs[w]=true;this.annotatedStoryIDs[w]=true;var x=this._getDataToLogImpl(v),y=c('collectDataAttributes')(v,['ft']);Object.assign(x.ft,y.ft);delete x.ei;this.sendDataToLog(v,x,false);c('CSS').addClass(v,"_x72");if(this.vpvDebug)c('CSS').addClass(v,"_5m7s");};u.prototype.logAnnotatedVPV=function(v){'use strict';var w=this.getStoryID(v);if(!w||w in this.annotatedStoryIDs)return;this.annotatedStoryIDs[w]=true;var x=this._getDataToLogImpl(v),y=c('collectDataAttributes')(v,['ft']);Object.assign(x.ft,y.ft);delete x.ei;x.ft.vpv_ft_only=1;this.sendDataToLog(v,x,false);};u.prototype._getDataToLogImpl=function(v){'use strict';var w=this.getDataToLog(v);if(!w.ft)w.ft={};return w;};f.exports=u;},null);
__d('collectSubtreeData',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l,m,n){if(j.offsetWidth===0&&j.offsetHeight===0)return n;var o={};if(j.getAttribute)for(s=0;s<k.length;s++){u=k[s];var p=j.getAttribute(l[u]);if(p){o[u]={};var q=JSON.parse(p);for(var r in m)if(q[r]!==undefined){o[u][r]=true;if(n[u]===undefined)n[u]={};if(n[u][r]===undefined)n[u][r]=[];if(m[r].length>0)n[u][r].push(m[r]);n[u][r].push('('+q[r]);}}}for(var s=0;s<j.childNodes.length;s++){var t=j.childNodes[s];h(t,k,l,m,n);}for(var u in o)for(var v in o[u]){var w=n[u][v][n[u][v].length-1];if(w.length>0&&w.charAt(0)=='('){n[u][v][n[u][v].length-1]=w.substr(1);}else n[u][v].push(')');}return n;}function i(j,k){var l={};for(var m=0;m<k.length;++m)l[k[m]]='data-'+k[m];var n={tn:"","tn-debug":","},o={};h(j,k,l,n,o);for(var p in o)for(var q in o[p])o[p][q]=o[p][q].join('');return o;}f.exports=i;},null);
__d('dispatchCustomEvent',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;},null);
__d('dispatchEvent',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;},null);
__d('recordTNTreeData',['collectSubtreeData'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k={},l=c('collectSubtreeData')(i,['ft']);for(var m in l.ft){k[m+'_tree']=l.ft[m];if(m==='tn-debug')i.setAttribute('tn-debug_subtree',l.ft[m]);}k.evt_value=i.offsetHeight;if(j)k.offset=Math.max(0,i.offsetTop-j.offsetTop);return k;}f.exports=h;},null);
__d('StreamViewportTracking',['DataAttributeUtils','DOM','DOMDimensions','ViewportTracking','ge','recordTNTreeData'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=51;h=babelHelpers.inherits(k,c('ViewportTracking'));i=h&&h.prototype;k.prototype.init=function(l,m){'use strict';if(m)this.$StreamViewportTracking1=m;i.init.call(this,l);this.initSubscriptions();};k.prototype.initSubscriptions=function(){'use strict';};k.prototype.getDataFromConfig=function(l){'use strict';this.isTimetrackingEnabled=1;this.timeout=l.record_delay;};k.prototype.getTimeout=function(){'use strict';return this.timeout;};k.prototype.getStorySelector=function(){'use strict';return '.uiStreamStory';};k.prototype.getAllStories=function(){'use strict';var l=c('DOM').scry(this.getStream(),this.getStorySelector());return l.filter(function(m){return c('DataAttributeUtils').getDataFt(m);});};k.prototype.getStoryID=function(l){'use strict';var m=JSON.parse(c('DataAttributeUtils').getDataFt(l));return m.mf_story_key;};k.prototype.getQueryID=function(l){'use strict';var m=JSON.parse(c('DataAttributeUtils').getDataFt(l));return m.qid;};k.prototype.getFBFeedLocations=function(l){'use strict';var m=JSON.parse(c('DataAttributeUtils').getDataFt(l));return m.fbfeed_location;};k.prototype.getFBFeedInsertionPosition=function(l){'use strict';var m=JSON.parse(c('DataAttributeUtils').getDataFt(l));return m.insertion_position;};k.prototype.getDataToLog=function(l){'use strict';var m={},n=this.getStream();m=c('recordTNTreeData')(l,n);var o=l.getAttribute('data-insertion-position');if(o!==null)m.inspos=o;m.evt=j;m.vpv_time=Math.round(Date.now()/1000);var p=c('DOM').scry(l,".fbStoryAttachmentImage")[0];if(p){var q=c('DOMDimensions').getElementDimensions(p);m.story_image_height=q.height;m.story_image_width=q.width;}return {ft:m};};k.prototype.getStream=function(){'use strict';if(this.$StreamViewportTracking1)return this.$StreamViewportTracking1;return c('ge')('home_stream');};k.init=function(l,m){'use strict';k.instance=new k();k.instance.init(l,m);};k.getInstance=function(){'use strict';return k.instance;};function k(){'use strict';h.apply(this,arguments);}f.exports=k;},null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i=null,j=null,k=null,l=0,m=null,n={startSession:function(o,p,q){i=p;k=q;j=o;c('Arbiter').inform('LogEnterChannel',p);c('VideoChannelViewChainLengthManager').registerVideoID(o,o);var r={};r[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;n.log(r);h=Date.now();c('Run').onLeave(n.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,n.endSession);},endSession:function(){if(i){c('Arbiter').inform('LogExitChannel',i);var o={};o[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;n.log(o);i=null;j=null;k=null;m=null;h=0;}},setOffset:function(o){l=o;},setPosition:function(o){m=o;},getPlayerLoggingData:function(){if(!i)return {};return {video_channel_id:i,position_in_channel:m+l};},log:function(o){var p=c('VideoChannelViewChainLengthManager').getLoggingData(j);o[c('VideoChannelLoggerFields').SESSION_ID]=p.video_chaining_session_id;o[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=i;o[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=k;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in o))o[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=m+l;if(h){var q=Date.now()-h;o[c('VideoChannelLoggerFields').TIME_SINCE_START]=q+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',o);}};f.exports=n;},null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('VideoQualityClassInternal').orderedValues;},null);
__d('VideoWithFallbackMode',['VideoPlayerLoggerEvent','VideoPlayerLoggerFallbackReasons','VideoPlayerReason'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';this.$VideoWithFallbackMode1=i;if(this.$VideoWithFallbackMode1.isImplementationUnavailable()){this.$VideoWithFallbackMode2(c('VideoPlayerLoggerFallbackReasons').FLASH_UNAVAILABLE);return;}i.addListener('error',this.$VideoWithFallbackMode3.bind(this));if(j.fallbackTimeoutMs){var k=j.fallbackTimeoutMs;setTimeout(function(){if(this.$VideoWithFallbackMode1.isState('loading')){this.$VideoWithFallbackMode1.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode2(c('VideoPlayerLoggerFallbackReasons').TIMEOUT);}}.bind(this),k);}}h.prototype.$VideoWithFallbackMode3=function(){'use strict';if(this.$VideoWithFallbackMode1.isState('fallback'))return;if(this.$VideoWithFallbackMode1.isState('playing'))this.$VideoWithFallbackMode1.pause(c('VideoPlayerReason').FALLBACK_MODE);this.$VideoWithFallbackMode1.abortLoading();this.$VideoWithFallbackMode2(c('VideoPlayerLoggerFallbackReasons').FLASH_ERROR);};h.prototype.$VideoWithFallbackMode2=function(i){'use strict';this.$VideoWithFallbackMode1.setState('fallback');this.$VideoWithFallbackMode1.logEvent(c('VideoPlayerLoggerEvent').ENTERED_FALLBACK,{debug_reason:i});};f.exports=h;},null);
__d('AbstractVideoFullscreenControl.react',['AbstractButton.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'AbstractVideoFullscreenControl',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{disabled:h.bool,image:h.element,isFullscreen:h.bool,onToggleFullscreen:h.func},getInitialState:function(){return {awaitingUpdate:false};},isFullscreen:function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;},onButtonClick:function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();},render:function(){return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},this.props,{className:this.props.className,disabled:this.props.disabled,image:this.props.image,onClick:this.onButtonClick})));}});f.exports=i;},null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents','arrayContains'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m);};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m);};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict';};k.isImplementationUnavailable=function(){'use strict';return true;};f.exports=k;},null);
__d("VideoConfig",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){Object.assign(this,i);}f.exports=h;},null);
__d("VideoData",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$VideoData1=i;}h.prototype.hasHD=function(){"use strict";return !!this.$VideoData1.hd_src;};h.prototype.getEncodingTag=function(){"use strict";return this.$VideoData1.encoding_tag;};h.prototype.getVideoID=function(){"use strict";return this.$VideoData1.video_id;};h.prototype.getRotation=function(){"use strict";return this.$VideoData1.rotation;};h.prototype.hasSubtitles=function(){"use strict";return !!this.$VideoData1.subtitles_src;};h.prototype.hasDashManifest=function(){"use strict";return !!this.$VideoData1.dash_manifest;};h.prototype.getDashManifest=function(){"use strict";return this.$VideoData1.dash_manifest;};h.prototype.getDashPrefetchedRepresentationIDs=function(){"use strict";return this.$VideoData1.dash_prefetched_representation_ids;};h.prototype.getSubtitlesSrc=function(){"use strict";return this.$VideoData1.subtitles_src;};h.prototype.getPlayableSrcSD=function(){"use strict";if(this.$VideoData1.sd_src_no_ratelimit)return this.$VideoData1.sd_src_no_ratelimit;return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcHD=function(){"use strict";if(this.$VideoData1.hd_src_no_ratelimit)return this.$VideoData1.hd_src_no_ratelimit;return this.$VideoData1.hd_src;};h.prototype.getPlayableSrcRateLimitedSD=function(){"use strict";return this.$VideoData1.sd_src;};h.prototype.getPlayableSrcRateLimitedHD=function(){"use strict";return this.$VideoData1.hd_src;};h.prototype.getLiveManifestUrl=function(){"use strict";return this.isLiveStream()&&this.$VideoData1.sd_src;};h.prototype.hasRateLimit=function(){"use strict";return !!this.$VideoData1.sd_src_no_ratelimit;};h.prototype.getStreamType=function(){"use strict";return this.$VideoData1.stream_type;};h.prototype.isLiveStream=function(){"use strict";return this.$VideoData1.is_live_stream;};h.prototype.liveRoutingToken=function(){"use strict";return this.$VideoData1.live_routing_token;};h.prototype.getHDTag=function(){"use strict";return this.$VideoData1.hd_tag;};h.prototype.getSDTag=function(){"use strict";return this.$VideoData1.sd_tag;};h.prototype.getProjection=function(){"use strict";return this.$VideoData1.projection;};f.exports=h;},null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;},null);
__d('VideoFrameBuffer',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoFrameBuffer2=j;this.$VideoFrameBuffer1=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer1.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer1.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer1.clientWidth||this.$VideoFrameBuffer1.width,j=this.$VideoFrameBuffer1.clientHeight||this.$VideoFrameBuffer1.height,k=i,l=j,m=this.$VideoFrameBuffer2.videoWidth/this.$VideoFrameBuffer2.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer1.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer2,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer1;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;},null);
__d('VideoMimeTypes',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;},null);
__d('canVideoPlayType',['DOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j);}f.exports=i;},null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){!(k instanceof window.HTMLMediaElement)?h(0):void 0;if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;},null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;},null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(l){}if(i.currentTime){var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var n=c('EventListener').listen(i,'seeked',function(){n.remove();k&&k();});});}f.exports=h;},null);
__d('supportsHTML5Video',['DOM','memoize'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});},null);
__d('VideoPlayerHTML5Api',['cx','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','MediaBufferingDetector','Run','SubscriptionsHandler','VideoData','VideoMimeTypes','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoQualityClasses','canVideoPlayType','dispatchCustomEvent','dispatchEvent','classWithMixins','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','supportsHTML5Video'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();function k(o){switch(o){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function l(o){switch(o){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+o+' is unknown';}}var m=-1;i=babelHelpers.inherits(n,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function n(o,p){'use strict';j.constructor.call(this);this.$VideoPlayerHTML5Api26=o;this.$VideoPlayerHTML5Api10=this.$VideoPlayerHTML5Api26.id;var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api26);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api37=q.width;this.$VideoPlayerHTML5Api9=q.height;if(p){this.$VideoPlayerHTML5Api5=p;}else this.$VideoPlayerHTML5Api5=JSON.parse(this.$VideoPlayerHTML5Api26.getAttribute('data-config'));this.$VideoPlayerHTML5Api4=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api4.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api38();}.bind(this));this.$VideoPlayerHTML5Api4.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api39();}.bind(this));this.$VideoPlayerHTML5Api17=m;this.$VideoPlayerHTML5Api19=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;this.$VideoPlayerHTML5Api18=false;this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api23=false;this.$VideoPlayerHTML5Api2=false;this.$VideoPlayerHTML5Api25=this.$VideoPlayerHTML5Api26.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api34=false;if(this.$VideoPlayerHTML5Api5.lazyPreload)if(this.$VideoPlayerHTML5Api5.onafterloadRegister){c('Run').onAfterLoad(function(){return (this.$VideoPlayerHTML5Api26.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload));}.bind(this));}else this.$VideoPlayerHTML5Api26.setAttribute('preload',this.$VideoPlayerHTML5Api5.lazyPreload);this.$VideoPlayerHTML5Api7=this.$VideoPlayerHTML5Api5.disableNativeControls;this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api5.subtitlesActive;this.$VideoPlayerHTML5Api40();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api30=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api41();this.$VideoPlayerHTML5Api13=this.$VideoPlayerHTML5Api5.useRateLimited;var r=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api5.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api5.minQuality)>=r;this.$VideoPlayerHTML5Api20=this.$VideoPlayerHTML5Api5.minQuality;this.$VideoPlayerHTML5Api21=this.$VideoPlayerHTML5Api5.maxQuality;this.$VideoPlayerHTML5Api3=this.$VideoPlayerHTML5Api5.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api42.bind(this),this.$VideoPlayerHTML5Api5.useEventTime);this.$VideoPlayerHTML5Api43();if(this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical)this.$VideoPlayerHTML5Api44();this.$VideoPlayerHTML5Api24=null;}n.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api5.ad_client_token;};n.prototype.$VideoPlayerHTML5Api38=function(){'use strict';this.emit('buffering');};n.prototype.$VideoPlayerHTML5Api39=function(){'use strict';this.emit('buffered');};n.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api6)return this.$VideoPlayerHTML5Api6.getVideoID();return this.$VideoPlayerHTML5Api5.video_id;};n.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api26;};n.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api26;};n.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api30;};n.onImplementationReady=function(o,p){'use strict';c('setImmediate')(p);};n.prototype.destroy=function(){'use strict';this.$VideoPlayerHTML5Api45();if(this.$VideoPlayerHTML5Api46)c('DOM').remove(this.$VideoPlayerHTML5Api46);};n.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api6)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api6.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api11,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api27?'DASH manifest':this.$VideoPlayerHTML5Api47(),hasSubtitles:this.$VideoPlayerHTML5Api6.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api6.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api13,projection:this.$VideoPlayerHTML5Api48(),tagSD:this.$VideoPlayerHTML5Api6.getSDTag(),tagHD:this.$VideoPlayerHTML5Api6.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api6.isLiveStream()};};n.isImplementationUnavailable=function(o){'use strict';if(o){var p=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);if(c('VideoPlayerHTML5Experiments').relaxedCanPlay)return p!=='probably'&&p!=='maybe';return p!=='probably';}return !c('supportsHTML5Video')();};n.prototype.pause=function(o){'use strict';this.$VideoPlayerHTML5Api15=o;if(o==='unloaded'&&!this.$VideoPlayerHTML5Api49()){this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api50();if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.pause();}else this.$VideoPlayerHTML5Api26.pause();};n.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api25){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api51();this.$VideoPlayerHTML5Api25=true;this.$VideoPlayerHTML5Api26.setAttribute('preload','auto');}};n.prototype.play=function(o){'use strict';if(!this.$VideoPlayerHTML5Api33)this.$VideoPlayerHTML5Api33=o;this.$VideoPlayerHTML5Api16=o;if(!this.$VideoPlayerHTML5Api49()){this.$VideoPlayerHTML5Api52();return;}this.$VideoPlayerHTML5Api23=true;if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'play');this.$VideoPlayerHTML5Api51();this.$VideoPlayerHTML5Api2=true;return;}this.$VideoPlayerHTML5Api53();};n.prototype.$VideoPlayerHTML5Api50=function(){'use strict';if(this.$VideoPlayerHTML5Api2&&this.$VideoPlayerHTML5Api26.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'pause');this.$VideoPlayerHTML5Api54();};n.prototype.$VideoPlayerHTML5Api54=function(){'use strict';this.$VideoPlayerHTML5Api23=false;this.$VideoPlayerHTML5Api2=false;};n.prototype.$VideoPlayerHTML5Api55=function(){'use strict';this.$VideoPlayerHTML5Api26.setAttribute('preload','auto');this.$VideoPlayerHTML5Api25=true;this.$VideoPlayerHTML5Api26.load();this.$VideoPlayerHTML5Api26.muted=this.$VideoPlayerHTML5Api19;};n.prototype.seek=function(o){'use strict';this.allowNextSeekInMixin();this.$VideoPlayerHTML5Api26.currentTime=o;};n.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api26,"_56jt");this.$VideoPlayerHTML5Api26.style.marginLeft='';this.$VideoPlayerHTML5Api26.style.marginTop='';this.$VideoPlayerHTML5Api26.style.width='';this.$VideoPlayerHTML5Api26.style.height='';};n.prototype.applyRotation=function(o){'use strict';if(!o)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56jr",o==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56js",o==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api26,"_56jt",o==270);if(o==180)return;var p=this.$VideoPlayerHTML5Api9,q=this.$VideoPlayerHTML5Api37,r=(p-q)/2,s=(q-p)/2;this.$VideoPlayerHTML5Api26.style.marginLeft=s+'px';this.$VideoPlayerHTML5Api26.style.marginTop=r+'px';this.$VideoPlayerHTML5Api26.style.height=q+'px';this.$VideoPlayerHTML5Api26.style.width=p+'px';};n.prototype.switchVideo=function(o){'use strict';if(!this.$VideoPlayerHTML5Api5.videoData||this.$VideoPlayerHTML5Api5.videoData.length<=o)return;var p=new (c('VideoData'))(this.$VideoPlayerHTML5Api5.videoData[o]);this.$VideoPlayerHTML5Api6=p;if((p.hasDashManifest()||p.isLiveStream())&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka.isSupported()){this.$VideoPlayerHTML5Api4.destroy();var q,r;if(p.isLiveStream()){r=p.getLiveManifestUrl();}else q=p.getDashManifest();var s=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api26,p.getDashPrefetchedRepresentationIDs(),{minPlayQuality:this.$VideoPlayerHTML5Api20,maxPlayQuality:this.$VideoPlayerHTML5Api21,width:this.$VideoPlayerHTML5Api37,height:this.$VideoPlayerHTML5Api9,manifest:q,manifestUrl:r,isLive:p.isLiveStream(),videoID:this.getVideoID()});s.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api38();}.bind(this));s.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api39();}.bind(this));s.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));s.addListener('streamInterrupted',function(){return this.emit('streamInterrupted');}.bind(this));s.addListener('streamResumed',function(){return this.emit('streamResumed');}.bind(this));s.addListener('adaptation',function(t){var u=t.reason;this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:u});this.emit('qualityChange');}.bind(this));s.addListener('representation_ended',function(t){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Api26,'representationended',t);}.bind(this));s.addListener('error',function(t){return this.$VideoPlayerHTML5Api56(t);}.bind(this));this.$VideoPlayerHTML5Api27=s;this.$VideoPlayerHTML5Api8.remove();}else this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.removeSubtitles();if(p.hasSubtitles())c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles"],function(t){if(!this.$VideoPlayerHTML5Api31){this.$VideoPlayerHTML5Api31=new t(this.$VideoPlayerHTML5Api26);this.$VideoPlayerHTML5Api31.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api57();}.bind(this));}this.$VideoPlayerHTML5Api31.loadSubtitles(p.getSubtitlesSrc());}.bind(this),'VideoPlayerHTML5Api');this.removeRotation();this.applyRotation(p.getRotation());};n.prototype.switchToStreamType=function(o){'use strict';};n.prototype.replaceVideoDataFromURL=function(o){'use strict';};n.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};n.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api19=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api26.muted=false;};n.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api19=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api26.muted=true;};n.prototype.setRotation=function(o){'use strict';this.removeRotation();this.applyRotation(o);};n.prototype.setDimensions=function(o,p){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api37=o;this.$VideoPlayerHTML5Api9=p;this.applyRotation(this.$VideoPlayerHTML5Api6.getRotation());if(this.$VideoPlayerHTML5Api29)this.$VideoPlayerHTML5Api29.updateDimensions(o,p);if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setDimensions(o,p);if(this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api27.setDimensions(o,p);};n.prototype.$VideoPlayerHTML5Api58=function(){'use strict';this.$VideoPlayerHTML5Api26.controls=!this.$VideoPlayerHTML5Api7;};n.prototype.$VideoPlayerHTML5Api40=function(){'use strict';this.$VideoPlayerHTML5Api26.controls=this.$VideoPlayerHTML5Api26.controls&&!this.$VideoPlayerHTML5Api7;};n.prototype.$VideoPlayerHTML5Api41=function(){'use strict';this.$VideoPlayerHTML5Api8=c('EventListener').listen(this.$VideoPlayerHTML5Api26,'error',this.$VideoPlayerHTML5Api59.bind(this));this.$VideoPlayerHTML5Api30.addSubscriptions(this.$VideoPlayerHTML5Api8,c('EventListener').listen(this.$VideoPlayerHTML5Api26,'playing',this.$VideoPlayerHTML5Api60.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'play',this.$VideoPlayerHTML5Api52.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'ended',this.$VideoPlayerHTML5Api61.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'waiting',this.$VideoPlayerHTML5Api62.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'pause',this.$VideoPlayerHTML5Api63.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'volumechange',this.$VideoPlayerHTML5Api64.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'mousedown',this.$VideoPlayerHTML5Api65.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'mouseup',this.$VideoPlayerHTML5Api66.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'timeupdate',this.$VideoPlayerHTML5Api67.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'click',this.$VideoPlayerHTML5Api68.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'loadedmetadata',this.$VideoPlayerHTML5Api69.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'progress',this.$VideoPlayerHTML5Api70.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api26,'seeked',this.$VideoPlayerHTML5Api71.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api26.parentNode,'pause',this.$VideoPlayerHTML5Api72.bind(this)));if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api30.addSubscriptions(this.$VideoPlayerHTML5Api28.getSubscriptions());};n.prototype.$VideoPlayerHTML5Api72=function(o){'use strict';if(o.target!==this.$VideoPlayerHTML5Api26)return;if(!this.$VideoPlayerHTML5Api26.ended){if(this.$VideoPlayerHTML5Api15==='unloaded'){this.preventPauseLoggingInMixin=false;o.preventDefault();o.stopPropagation();}o.lastPauseReason=this.$VideoPlayerHTML5Api15;}};n.prototype.$VideoPlayerHTML5Api70=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered,p=0,q=0,r=o.length;while(r-->0){var s=o.end(r),t=o.start(r);if(t<=this.$VideoPlayerHTML5Api26.currentTime){q=t;p=s-t;break;}}this.$VideoPlayerHTML5Api43();this.$VideoPlayerHTML5Api73('flash/updateBuffer',{duration:p,offset:q});};n.prototype.$VideoPlayerHTML5Api43=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api22);if(this.$VideoPlayerHTML5Api26.networkState===this.$VideoPlayerHTML5Api26.NETWORK_LOADING)this.$VideoPlayerHTML5Api22=setTimeout(function(){return this.$VideoPlayerHTML5Api74();}.bind(this),n.networkTimeout);};n.prototype.$VideoPlayerHTML5Api74=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered,p=0;for(var q=0;q<o.length;q++){var r=o.start(q),s=o.end(q);p+=s-r;}this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:p});};n.prototype.$VideoPlayerHTML5Api67=function(){'use strict';var o;if(this.$VideoPlayerHTML5Api1){o=this.$VideoPlayerHTML5Api1.currentTime;}else o=this.$VideoPlayerHTML5Api26.currentTime;this.$VideoPlayerHTML5Api73('flash/updateStatus',{position:+o.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api68=function(o){'use strict';if(o.button!==0)return;this.emit('clickVideo');o.preventDefault();};n.prototype.$VideoPlayerHTML5Api49=function(){'use strict';return this.$VideoPlayerHTML5Api26.paused;};n.prototype.$VideoPlayerHTML5Api75=function(){'use strict';var o=this.$VideoPlayerHTML5Api26.buffered;return o.length&&o.start(0)===0&&o.end(0)===this.$VideoPlayerHTML5Api26.duration;};n.prototype.$VideoPlayerHTML5Api62=function(){'use strict';if(!this.$VideoPlayerHTML5Api75()){this.$VideoPlayerHTML5Api36=true;this.$VideoPlayerHTML5Api73('flash/buffering');}};n.prototype.setVolume=function(o){'use strict';this.$VideoPlayerHTML5Api26.volume=o;};n.prototype.$VideoPlayerHTML5Api64=function(){'use strict';if(this.$VideoPlayerHTML5Api26.muted!==this.$VideoPlayerHTML5Api19&&this.$VideoPlayerHTML5Api26.volume===this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api26.volume>0){this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api26.muted;this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;if(!this.$VideoPlayerHTML5Api26.muted){this.$VideoPlayerHTML5Api73('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api73('flash/muteVideo');}else{this.$VideoPlayerHTML5Api19=this.$VideoPlayerHTML5Api26.muted;this.$VideoPlayerHTML5Api35=this.$VideoPlayerHTML5Api26.volume;this.$VideoPlayerHTML5Api73('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api26.volume});}if(!this.$VideoPlayerHTML5Api26.muted)this.$VideoPlayerHTML5Api73('flash/turnOffAutoplay',{reason:'unmuted'});};n.prototype.$VideoPlayerHTML5Api65=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api18=true;};n.prototype.$VideoPlayerHTML5Api66=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api18=false;};n.prototype.$VideoPlayerHTML5Api60=function(){'use strict';if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api36=false;this.$VideoPlayerHTML5Api73('flash/buffered');}};n.prototype.$VideoPlayerHTML5Api52=function(){'use strict';this.$VideoPlayerHTML5Api11=true;this.$VideoPlayerHTML5Api58();this.$VideoPlayerHTML5Api73('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api26.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api16});this.$VideoPlayerHTML5Api43();};n.prototype.$VideoPlayerHTML5Api63=function(){'use strict';if(this.$VideoPlayerHTML5Api26.ended){this.$VideoPlayerHTML5Api11=false;return;}if(this.$VideoPlayerHTML5Api26.seeking&&this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api18)return;if(this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api15=null;return;}if(this.$VideoPlayerHTML5Api15===null||this.$VideoPlayerHTML5Api15===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api73('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api15=null;this.$VideoPlayerHTML5Api11=false;this.$VideoPlayerHTML5Api40();this.$VideoPlayerHTML5Api73('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api26.currentTime.toFixed(2)});};n.prototype.$VideoPlayerHTML5Api61=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api40();this.$VideoPlayerHTML5Api11=false;this.$VideoPlayerHTML5Api73('flash/finishPlayback');this.setRelativeSphericalOrientation(0,0);};n.prototype.$VideoPlayerHTML5Api71=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api26.currentTime.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api76=function(){'use strict';if(this.isMuted()&&!this.$VideoPlayerHTML5Api34)this.unmute();this.$VideoPlayerHTML5Api34=true;this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').VIEWPORT_ROTATED,{});};n.prototype.setRelativeSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setRelativeSphericalOrientation(o,p);};n.prototype.setSphericalOrientation=function(o,p){'use strict';if(this.$VideoPlayerHTML5Api28)this.$VideoPlayerHTML5Api28.setSphericalOrientation(o,p);};n.prototype.getSphericalViewportDimensions=function(){'use strict';return this.$VideoPlayerHTML5Api28?this.$VideoPlayerHTML5Api28.getDimensions():null;};n.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getEstimatedBandwidth();return null;};n.prototype.$VideoPlayerHTML5Api69=function(){'use strict';this.$VideoPlayerHTML5Api73('flash/updateMetadata');};n.prototype.$VideoPlayerHTML5Api56=function(o){'use strict';this.emit('error',babelHelpers['extends']({},o,{isPlayback:this.$VideoPlayerHTML5Api23}));};n.prototype.$VideoPlayerHTML5Api59=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api26.error)return;var o=this.$VideoPlayerHTML5Api26.error;this.emit('error',{error:l(o.code),isPlayback:this.$VideoPlayerHTML5Api23,message:k(o.code)});};n.prototype.$VideoPlayerHTML5Api42=function(event,o){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api27)o.longest_init_response_time=this.$VideoPlayerHTML5Api27.getLongestInitResponseTime();o.player_version=c('VideoPlayerVersions').PLEASANTVILLE;o.projection=this.$VideoPlayerHTML5Api48();this.$VideoPlayerHTML5Api73('flash/logEvent',{logData:babelHelpers['extends']({event:event},o)});};n.prototype.$VideoPlayerHTML5Api73=function(event,o){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api10},o));this.emit(event.substr('flash/'.length),o);};n.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api16;};n.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api33;};n.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api19;};n.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api26.duration||0;};n.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api26.volume;};n.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api26.currentTime;};n.prototype.$VideoPlayerHTML5Api47=function(){'use strict';if(this.$VideoPlayerHTML5Api12&&this.$VideoPlayerHTML5Api6.hasHD()){return this.$VideoPlayerHTML5Api77();}else return this.$VideoPlayerHTML5Api78();};n.prototype.$VideoPlayerHTML5Api77=function(){'use strict';if(this.$VideoPlayerHTML5Api13){return this.$VideoPlayerHTML5Api6.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api6.getPlayableSrcHD();};n.prototype.$VideoPlayerHTML5Api78=function(){'use strict';if(this.$VideoPlayerHTML5Api13){return this.$VideoPlayerHTML5Api6.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api6.getPlayableSrcSD();};n.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api32=!this.$VideoPlayerHTML5Api32;if(this.$VideoPlayerHTML5Api32){this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.showSubtitles();}else this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.hideSubtitles();this.emit('toggleSubtitles');};n.prototype.shiftSubtitles=function(o){'use strict';this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.shiftSubtitles(o,this.$VideoPlayerHTML5Api32);};n.prototype.hasSubtitles=function(){'use strict';return this.$VideoPlayerHTML5Api6.hasSubtitles();};n.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api32;};n.prototype.areHLSActive=function(){'use strict';};n.prototype.isRTMP=function(){'use strict';};n.prototype.$VideoPlayerHTML5Api57=function(){'use strict';if(this.$VideoPlayerHTML5Api32)this.$VideoPlayerHTML5Api31&&this.$VideoPlayerHTML5Api31.showSubtitles();this.emit('loadedSubtitles');};n.prototype.$VideoPlayerHTML5Api79=function(){'use strict';if(this.$VideoPlayerHTML5Api28){this.$VideoPlayerHTML5Api28.freeze();return;}var o;if(!this.$VideoPlayerHTML5Api29){var p=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api26),q=c('DOM').create('canvas',{width:p.width,height:p.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api26,q);this.$VideoPlayerHTML5Api29=o=new (c('VideoFrameBuffer'))(q,this.$VideoPlayerHTML5Api26);}else o=this.$VideoPlayerHTML5Api29;c('CSS').show(o.getDOMNode());o.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api26);};n.prototype.$VideoPlayerHTML5Api45=function(){'use strict';if(this.$VideoPlayerHTML5Api28){this.$VideoPlayerHTML5Api28.unfreeze();return;}if(!this.$VideoPlayerHTML5Api29)return;c('CSS').hide(this.$VideoPlayerHTML5Api29.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api26);};n.prototype.$VideoPlayerHTML5Api51=function(){'use strict';var o=this.$VideoPlayerHTML5Api1;if(!o)return;if(this.$VideoPlayerHTML5Api14)return;this.$VideoPlayerHTML5Api14=true;this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.reload(o.currentTime);}else{this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();this.$VideoPlayerHTML5Api26.preload=o.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api26,o.currentTime,function(){this.$VideoPlayerHTML5Api45();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api26.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;}this.$VideoPlayerHTML5Api14=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api26,function(){return this.$VideoPlayerHTML5Api53();}.bind(this));}.bind(this));};n.prototype.abortLoading=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api79();var o=this.$VideoPlayerHTML5Api26.currentTime,p=this.isMuted(),q=this.$VideoPlayerHTML5Api26.duration,r=this.$VideoPlayerHTML5Api26.paused,s=this.$VideoPlayerHTML5Api26.preload;this.$VideoPlayerHTML5Api25=false;this.$VideoPlayerHTML5Api1={mutedState:p,currentTime:o,playbackDuration:q,preload:s};if(r&&this.$VideoPlayerHTML5Api11)c('dispatchEvent')(this.$VideoPlayerHTML5Api26,'pause');if(this.$VideoPlayerHTML5Api27){this.$VideoPlayerHTML5Api27.unload();return;}this.$VideoPlayerHTML5Api26.preload='none';this.$VideoPlayerHTML5Api26.removeAttribute('src');this.$VideoPlayerHTML5Api26.load();};n.prototype.setPreferredVideoQuality=function(o){'use strict';this.$VideoPlayerHTML5Api24=o;if(!this.$VideoPlayerHTML5Api6)return;if(this.$VideoPlayerHTML5Api27&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api27.setPreferredVideoQuality(o);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api42(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api27&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api27.setPreferredVideoQuality(o);return;}this.$VideoPlayerHTML5Api12=!this.$VideoPlayerHTML5Api12;var p=this.$VideoPlayerHTML5Api26.currentTime;this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api26,function(){this.$VideoPlayerHTML5Api26.currentTime=p;this.$VideoPlayerHTML5Api53();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api23=true;this.$VideoPlayerHTML5Api55();};n.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api24=null;if(this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api27.unsetPreferredVideoQuality();};n.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api24;};n.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api12?'HD':'SD';};n.prototype.getAvailableVideoQualities=function(){'use strict';if(!this.$VideoPlayerHTML5Api6)return [];if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api6.hasHD()?['SD','HD']:['SD'];};n.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api27)return this.$VideoPlayerHTML5Api27.canAutoSelectVideoQuality();return false;};n.prototype.$VideoPlayerHTML5Api44=function(){'use strict';var o={projectionType:this.$VideoPlayerHTML5Api48(),fieldOfView:this.$VideoPlayerHTML5Api5.sphericalFieldOfView,expansionCoef:1.01},p={videoID:this.getVideoID()};if(this.$VideoPlayerHTML5Api5.sphericalConfig)Object.assign(o,this.$VideoPlayerHTML5Api5.sphericalConfig);try{this.$VideoPlayerHTML5Api28=new this.$VideoPlayerHTML5Api5.VideoPlayerHTML5Spherical(this.$VideoPlayerHTML5Api26,o,p);}catch(q){c('setImmediate')(function(){return this.emit('error',{error:'SPHERICAL_SETUP_FAILED',message:q.message});}.bind(this));}if(this.$VideoPlayerHTML5Api28){var r=this.$VideoPlayerHTML5Api28;r.addListener('DOM/click',function(s){return this.$VideoPlayerHTML5Api68(s);}.bind(this));r.addListener('updateViewportBegin',function(){return this.$VideoPlayerHTML5Api76();}.bind(this));['updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','error'].forEach(c('forwardEvent').bind(null,r,this));if(!this.$VideoPlayerHTML5Api27)this.$VideoPlayerHTML5Api26.src=this.$VideoPlayerHTML5Api47();}};n.getPlayerVersion=function(){'use strict';return 'pleasantville';};n.prototype.$VideoPlayerHTML5Api48=function(){'use strict';return this.$VideoPlayerHTML5Api6.getProjection();};n.prototype.$VideoPlayerHTML5Api53=function(){'use strict';if(this.$VideoPlayerHTML5Api23){if(this.$VideoPlayerHTML5Api2)var o=c('EventListener').capture(this.$VideoPlayerHTML5Api26.parentNode,'play',function(q){c('Event').kill(q);o.remove();});var p=null;if(this.$VideoPlayerHTML5Api27){p=this.$VideoPlayerHTML5Api27.play();}else p=this.$VideoPlayerHTML5Api26.play();if(p&&p['catch'])p['catch'](function(q){return false;});}this.$VideoPlayerHTML5Api54();};n.getStreamTypeFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.getStreamType();};n.getIsPlayingLiveFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isLiveStream();};n.networkTimeout=5000;f.exports=n;},null);
__d("XVideoQualitySurveyController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}});},null);
__d('VideoPlayButton',['AudienceNetworkVPAIDEmbedded','AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','XVideoQualitySurveyController'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoPlayButton8=new (c('AudienceNetworkVPAIDEmbedded'))();this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton6=k.spherical;this.$VideoPlayButton7=k.requestAd;}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton9.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton10.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton11.bind(this));i.addListener('buffering',this.$VideoPlayButton12.bind(this));i.addListener('buffered',this.$VideoPlayButton13.bind(this));i.addListener('stateChange',this.$VideoPlayButton14.bind(this));i.addListener('playRequested',this.$VideoPlayButton15.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton16.bind(this));i.addListener('clickVideo',this.$VideoPlayButton17.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton18.bind(this));if(k&&k.hiddenWhileLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton18();}h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton9=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton11=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton16=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton10=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||i){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send();}};h.prototype.$VideoPlayButton12=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton13=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton18=function(){'use strict';if(this.$VideoPlayButton7){this.$VideoPlayButton8.initAd(this.$VideoPlayButton1);this.$VideoPlayButton8.startAd();}else this.$VideoPlayButton1.clickVideo();};h.prototype.$VideoPlayButton17=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};f.exports=h;},null);
__d('VideoSpinner',['cx','CSS','EventListener'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){'use strict';this.$VideoSpinner2=k;this.$VideoSpinner1=j;this.$VideoSpinner3=false;j.addListener('beginPlayback',this.$VideoSpinner4.bind(this));j.addListener('finishPlayback',this.$VideoSpinner5.bind(this));j.addListener('pausePlayback',this.$VideoSpinner6.bind(this));j.addListener('playRequested',this.$VideoSpinner7.bind(this));j.addListener('buffering',this.$VideoSpinner8.bind(this));j.addListener('buffered',this.$VideoSpinner9.bind(this));j.addListener('stateChange',this.$VideoSpinner10.bind(this));j.addListener('clickVideo',this.$VideoSpinner11.bind(this));j.addListener('VideoSphericalOverlay/animationUpdate',this.$VideoSpinner12.bind(this));c('EventListener').listen(this.$VideoSpinner2,'click',this.$VideoSpinner13.bind(this));}i.prototype.$VideoSpinner12=function(j){'use strict';if(j){c('CSS').addClass(this.$VideoSpinner2,"_1st9");}else c('CSS').removeClass(this.$VideoSpinner2,"_1st9");};i.prototype.$VideoSpinner8=function(){'use strict';c('CSS').show(this.$VideoSpinner2);this.$VideoSpinner3=true;};i.prototype.$VideoSpinner9=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);this.$VideoSpinner3=false;};i.prototype.$VideoSpinner4=function(){'use strict';if(this.$VideoSpinner3){c('CSS').show(this.$VideoSpinner2);}else c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner6=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner7=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner5=function(){'use strict';c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner10=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))c('CSS').hide(this.$VideoSpinner2);};i.prototype.$VideoSpinner11=function(){'use strict';if(this.$VideoSpinner1.isState('fallback'))return;if(this.$VideoSpinner3||this.$VideoSpinner1.isState('ready')||this.$VideoSpinner1.isState('loading'))c('CSS').show(this.$VideoSpinner2);};i.prototype.$VideoSpinner13=function(){'use strict';this.$VideoSpinner1.clickVideo();};f.exports=i;},null);
__d('VideoHomeViewportTracking',['csx','DOM','VideoHomeEvents','VideoHomeEventTargets','VideoHomeLoggerFields','ViewportTracking'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ViewportTracking'));j=i&&i.prototype;k.prototype.getDataFromConfig=function(l){'use strict';this.$VideoHomeViewportTracking1=l.log;this.$VideoHomeViewportTracking2=l.container;};k.prototype.getTimeout=function(){'use strict';return 0;};k.prototype.getAllStories=function(){'use strict';var l=c('DOM').scry(this.$VideoHomeViewportTracking2,"._5bll");return l.filter(function(m){return m.getAttribute('data-home-vpv');});};k.prototype.getStoryID=function(l){'use strict';var m=JSON.parse(l.getAttribute('data-home-vpv'));return m.storyID;};k.prototype.getDataToLog=function(l){'use strict';return JSON.parse(l.getAttribute('data-home-vpv'));};k.prototype.sendDataToLog=function(l,m){'use strict';var n={};n[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').VPV;n[c('VideoHomeLoggerFields').SESSION_ID]=m.sessionID;n[c('VideoHomeLoggerFields').DATA_SOURCE]=m.dataSource;n[c('VideoHomeLoggerFields').CHANNEL_ID]=m.channelID;n[c('VideoHomeLoggerFields').EVENT_TARGET]=c('VideoHomeEventTargets').STORY;n[c('VideoHomeLoggerFields').EVENT_TARGET_ID]=m.storyID;n[c('VideoHomeLoggerFields').CHANNEL_POSITION]=m.channelPosition;n[c('VideoHomeLoggerFields').POSITION_IN_CHANNEL]=m.positionInChannel;n[c('VideoHomeLoggerFields').TRACKING_DATA]=m.trackingData;this.$VideoHomeViewportTracking1(n);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('VideoHomeLogger',['Arbiter','Banzai','BanzaiLogger','BigPipe','Run','StreamViewportTracking','VideoHomeExitPointTypes','VideoHomeEvents','VideoHomeLoggerFields','VideoHomeViewportTracking','ViewportTrackingConfig'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0,j=void 0,k=0,l={init:function(m){j=m.session_id;k=Date.now();var n=new (c('StreamViewportTracking'))();n.init(c('ViewportTrackingConfig'),m.container);i=n;var o=new (c('VideoHomeViewportTracking'))(),p={log:l.log,container:m.container};o.init(p);h=o;c('Arbiter').subscribe(c('BigPipe').Events.init,function(r,s){var t=s.arbiter;if(t){t.subscribe(c('BigPipe').Events.tti,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').TTI;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});t.subscribe(c('BigPipe').Events.loaded,function(event,u){var v={};v[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').E2E;v[c('VideoHomeLoggerFields').SESSION_ID]=j;v[c('VideoHomeLoggerFields').PERF_TIME_MS]=Date.now()-k;l.log(v);});}});function q(){if(j!==m.session_id)return;var r={};r[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_END;r[c('VideoHomeLoggerFields').SESSION_ID]=j;r[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').UNKNOWN;l.log(r);n.updateTimeTrackingData(true);o.updateTimeTrackingData(true);j=null;i=null;h=null;}c('Run').onLeave(q);c('Banzai').subscribe(c('Banzai').SHUTDOWN,q);},updateViewportTracking:function(){if(i){i.fireTimer();i.updateTimeTrackingData(false,'scroll');}if(h){h.fireTimer();h.updateTimeTrackingData(false,'scroll');}},_pause:function(m,n){if(j){var o={};o[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_PAUSE;o[c('VideoHomeLoggerFields').SESSION_ID]=j;o[c('VideoHomeLoggerFields').EXIT_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;o[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=n;l.log(o);}},_resume:function(m,n){if(j){var o={};o[c('VideoHomeLoggerFields').EVENT]=c('VideoHomeEvents').SESSION_RESUME;o[c('VideoHomeLoggerFields').SESSION_ID]=j;o[c('VideoHomeLoggerFields').ENTRY_POINT_TYPE]=c('VideoHomeExitPointTypes').CHANNEL;o[c('VideoHomeLoggerFields').EXIT_POINT_VALUE]=n;l.log(o);}},getPlayerLoggingData:function(){return {video_home_session_id:j};},log:function(m){if(j&&k){var n=Date.now()-k;m[c('VideoHomeLoggerFields').TIME_SINCE_START]=n+.001;}c('BanzaiLogger').log('VideoHomeLoggerConfig',m);}};c('Arbiter').subscribe('LogEnterChannel',l._pause);c('Arbiter').subscribe('LogExitChannel',l._resume);f.exports=l;},null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function(j,k){return j.getPriority()-k.getPriority();};function i(){this.$VideoPlayerUIComponentDrawerController1=[];}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l;};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();});};f.exports=i;},null);
__d("XVideoDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"}});},null);
__d('VideoPlayerController',['cx','invariant','Promise','Arbiter','Banzai','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','FullScreen','getFullScreenElement','JSLogger','JSResource','Map','VideoPlayerReason','Run','ScriptPath','SubscriptionsHandler','VideoChannelLogger','VideoChannelViewChainLengthManager','VideoHomeLogger','VideoMimeTypes','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerResizeSettings','VideoPlayerUIComponentDrawerController','VideosRenderingInstrumentation','VideoPlayerVolumeSettings','Visibility','XVideoDataController','arrayContains','canVideoPlayType','collectDataAttributes','destroyOnUnload','emptyFunction','enumerate','forwardEvent','getElementPosition','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=5,m=1;function n(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}j=babelHelpers.inherits(o,c('EventEmitter'));k=j&&j.prototype;function o(p,q){var r=p.video_ids,s=p.video_urls,t=p.chaining_token,u=p.video_channel_id,v=p.source,w=p.ad_client_token,x=p.should_autoplay,y=p.player_version,z=p.autoplay_setting,aa=p.additional_logdata_getter,ba=p.apiModule,ca=p.apiConfig,da=p.useInlineFallback,ea=p.accessToken,fa=p.projection,ga=p.playerOrigin,ha=p.isBroadcast,ia=p.components,ja=q.root_element,ka=q.container_element,la=q.video_element;'use strict';k.constructor.call(this);if(x===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController1=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController2=new (c('Map'))();this.$VideoPlayerController3=fa;this.$VideoPlayerController4=0;this.$VideoPlayerController5=ea;this.$VideoPlayerController6=x;this.$VideoPlayerController7=z;this.$VideoPlayerController8=w;this.$VideoPlayerController9=la;this.$VideoPlayerController10=ja;this.$VideoPlayerController11=ka;this.$VideoPlayerController12=false;this.$VideoPlayerController13=y;this.$VideoPlayerController14=r;this.$VideoPlayerController15=s;this.$VideoPlayerController16=t;this.$VideoPlayerController17=u;this.$VideoPlayerController18=aa||{get:c('emptyFunction')};this.$VideoPlayerController19=ga;this.$VideoPlayerController20=ha;this.$VideoPlayerController21=ba;this.$VideoPlayerController22=ca;this.$VideoPlayerController23=this.$VideoPlayerController21.getStreamTypeFromConfig(this.$VideoPlayerController22);this.$VideoPlayerController24=this.$VideoPlayerController21.getIsPlayingLiveFromConfig(this.$VideoPlayerController22);this.$VideoPlayerController25=da;this.$VideoPlayerController26=0;this.$VideoPlayerController27=null;this.$VideoPlayerController28=null;this.$VideoPlayerController29=v;this.$VideoPlayerController30=new (c('VideoPlayerLogger'))(v);if(this.$VideoPlayerController29===c('VideoPlayerLoggerSource').CHANNEL)this.setIsInChannel(true);this.collectFeedTrackingData();this.$VideoPlayerController30.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController31=c('VideosRenderingInstrumentation').retrieveRenderTime(this.$VideoPlayerController10);this.$VideoPlayerController32=n()-this.$VideoPlayerController31;this.$VideoPlayerController33='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController31});this.$VideoPlayerController34=false;if(this.$VideoPlayerController21.isImplementationUnavailable(this.$VideoPlayerController25)){if(this.$VideoPlayerController25){this.$VideoPlayerController35();}else{this.$VideoPlayerController36();return;}}else this.$VideoPlayerController37();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause('unloaded');this.destroy();}.bind(this));if(this.$VideoPlayerController6)if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){this.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this));}else this.play(c('VideoPlayerReason').AUTOPLAY);this.$VideoPlayerController38=0;this.$VideoPlayerController39=false;this.$VideoPlayerController40=new (c('SubscriptionsHandler'))();this.$VideoPlayerController40.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(ma,na){if(na.type==='DialogX'||na.type==='PhotoSnowlift'){this.$VideoPlayerController38=this.$VideoPlayerController38+1;if(this.$VideoPlayerController38>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController39=true;}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(ma,na){if(na.type==='DialogX'||na.type==='PhotoSnowlift'){this.$VideoPlayerController38=this.$VideoPlayerController38-1;if(this.$VideoPlayerController38===0)if(this.$VideoPlayerController39&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController39=false;}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ma,na){return this.$VideoPlayerController41(ma,na);}.bind(this)));c('Run').onLeave(function(){this.pause('unloaded');this.destroy();}.bind(this));this.abortLoading();this.$VideoPlayerController42=ia||[];this.$VideoPlayerController42.forEach(function(ma){return ma.enable(this);}.bind(this));}o.prototype.destroy=function(){'use strict';if(this.isState('destroyed'))return;var p=this.$VideoPlayerController42;for(var q=p.length-1;q>=0;q--)p[q].disable();this.abortLoading();this.setState('destroyed');this.$VideoPlayerController40.release();this.removeAllListeners();};o.prototype.$VideoPlayerController43=function(){'use strict';var p=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!p.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),p[0]);this.$VideoPlayerController9=p[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load();};o.prototype.$VideoPlayerController35=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController43().then(function(p){if(p.isImplementationUnavailable()){return c('Promise').reject();}else return c('Promise').resolve(p);}).done(function(p){this.$VideoPlayerController21=p;this.$VideoPlayerController37();}.bind(this),function(p){return this.$VideoPlayerController36();}.bind(this));};o.prototype.collectFeedTrackingData=function(){'use strict';this.$VideoPlayerController30.setFTData(c('collectDataAttributes')(this.getRootNode(),['ft']));};o.prototype.$VideoPlayerController41=function(p,q){'use strict';q.video_player_debug_info=q.video_player_debug_info||{};q.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();};o.prototype.setRelativeSphericalOrientation=function(p,q){'use strict';this.getVideoAPI().setRelativeSphericalOrientation(p,q);};o.prototype.setSphericalOrientation=function(p,q){'use strict';this.getVideoAPI().setSphericalOrientation(p,q);};o.prototype.getSphericalViewportDimensions=function(){'use strict';return this.getVideoAPI().getSphericalViewportDimensions();};o.prototype.setAdditionalLogDataGetter=function(p){'use strict';this.$VideoPlayerController18=p;};o.prototype.$VideoPlayerController37=function(){'use strict';this.$VideoPlayerController21.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};o.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController21.isImplementationUnavailable(this.$VideoPlayerController25)&&!this.$VideoPlayerController25;};o.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController44;};o.prototype.setIsInChannel=function(p){'use strict';if(p&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController29){this.$VideoPlayerController30.updateSource(c('VideoPlayerLoggerSource').CHANNEL);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}else if(!p&&c('VideoPlayerLoggerSource').CHANNEL!==this.$VideoPlayerController29){this.$VideoPlayerController30.updateSource(this.$VideoPlayerController29);this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);}this.$VideoPlayerController44=p;};o.prototype.getSource=function(){'use strict';return this.$VideoPlayerController30.getSource();};o.prototype.$VideoPlayerController36=function(){'use strict';var p={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,p);this.$VideoPlayerController6=false;};o.prototype.$VideoPlayerController45=function(p){'use strict';var q=p.error,r=p.message,s=p.isPlayback,t=p.httpStatus,u=p.url,v={error:q,error_description:r,error_user_info:this.getDebugInfo(),error_code:t,resource_url:u,state:s?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,v);if(s&&this.$VideoPlayerController34)this.$VideoPlayerController34=false;};o.prototype.setRotation=function(p){'use strict';this.getVideoAPI().setRotation(p);};o.prototype.setDimensions=function(p,q){'use strict';this.$VideoPlayerController11.style.width=p+'px';this.$VideoPlayerController11.style.height=q+'px';this.$VideoPlayerController9.style.width=p+'px';this.$VideoPlayerController9.style.height=q+'px';if(this.isState('loading')){this.$VideoPlayerController46={width:p,height:q};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController47||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(p,q);}};o.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController34;};o.prototype.play=function(p){'use strict';this.$VideoPlayerController48();if(!this.$VideoPlayerController49)this.$VideoPlayerController49=p;if(!this.$VideoPlayerController34){this.$VideoPlayerController28=this.$VideoPlayerController50();var q=this.$VideoPlayerController51({debug_reason:p});this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,q);}this.emit('playRequested');this.sendPlayRequest(p);};o.prototype.sendPlayRequest=function(p){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerController34=true;if(this.isState('loading')){this.$VideoPlayerController52={reason:p};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController53)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController53=false;if(c('VideoPlayerExperiments').universalVolume&&(p===c('VideoPlayerReason').AUTOPLAY||p===c('VideoPlayerReason').USER)&&this.$VideoPlayerController29!==c('VideoPlayerLoggerSource').LIVE_MAP&&!this.getVideoAPI().isMuted()){var q=c('VideoPlayerVolumeSettings').getVolume();if(q!==0){this.setVolume(q);}else{this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(!this.getVideoAPI().isMuted())this.mute();}}this.getVideoAPI().play(p);}};o.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController49;};o.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.resetPositions();this.$VideoPlayerController54();if(this.$VideoPlayerController55&&this.$VideoPlayerController55.destroy)this.$VideoPlayerController55.destroy();this.$VideoPlayerController55=null;this.setState('loading');this.$VideoPlayerController37();};o.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController10);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController21.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController56();}.bind(this));};o.prototype.getVideoAPI=function(){'use strict';return this.$VideoPlayerController55;};o.prototype.getVideoNode=function(){'use strict';return this.$VideoPlayerController9;};o.prototype.getRootNode=function(){'use strict';return this.$VideoPlayerController10;};o.prototype.$VideoPlayerController56=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController53=!this.getVideoAPI().isMuted();this.$VideoPlayerController57=this.getVideoAPI().areSubtitlesActive();if(this.$VideoPlayerController52){this.sendPlayRequest(this.$VideoPlayerController52.reason);this.$VideoPlayerController52=null;}if(this.$VideoPlayerController46){this.setDimensions(this.$VideoPlayerController46.width,this.$VideoPlayerController46.height);this.$VideoPlayerController46=null;}if(this.$VideoPlayerController58){this.getVideoAPI().unmute();this.$VideoPlayerController58=null;}};o.prototype.onApiReady=function(p){'use strict';this.$VideoPlayerController55=new this.$VideoPlayerController21(this.getVideoNode(),this.$VideoPlayerController22);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController59();this.$VideoPlayerController56();var q={is_auto_played:this.isAutoplayable()};if(p)q.init_delay=p;this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,q);};o.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController26=0;};o.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var p=this.getVideoAPI().getCurrentTimePosition();if(p!=null&&p!==undefined)this.$VideoPlayerController26=p;}return this.$VideoPlayerController26;};o.prototype.$VideoPlayerController48=function(){'use strict';if(!this.$VideoPlayerController60){var p=this.getOption('VideoWithClickToChannelView','isChannelEligible');c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController16);var q=this.getVideoID();if(this.$VideoPlayerController16){var r=this.$VideoPlayerController16.decode();q=r.root_id;}this.$VideoPlayerController60=c('VideoChannelViewChainLengthManager').getLoggingData(q);}this.$VideoPlayerController61=c('VideoChannelLogger').getPlayerLoggingData();};o.prototype.$VideoPlayerController62=function(p){'use strict';this.$VideoPlayerController34=false;var q=p.position;if(q!==undefined)this.$VideoPlayerController26=q;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController63();}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController64();};o.prototype.$VideoPlayerController65=function(p){'use strict';var q=p.position;if(q!==undefined)this.$VideoPlayerController26=q;this.$VideoPlayerController27=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();};o.prototype.$VideoPlayerController66=function(p){'use strict';var event=p.event;delete p.event;this.logEvent(event,p);};o.prototype.$VideoPlayerController67=function(){'use strict';if(!this.isState('finished'))this.setState('paused');};o.prototype.$VideoPlayerController68=function(p){'use strict';var q=p.position;if(q!==undefined)this.$VideoPlayerController26=q;};o.prototype.$VideoPlayerController69=function(){'use strict';this.setState('finished');this.$VideoPlayerController39=false;};o.prototype.getVideosCount=function(){'use strict';return this.$VideoPlayerController14.length;};o.prototype.$VideoPlayerController70=function(){'use strict';var p=this.getVideosCount();return (this.$VideoPlayerController4+1)%p;};o.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};o.prototype.$VideoPlayerController71=function(){'use strict';var p=this.isFullscreen();c('CSS').conditionClass(this.$VideoPlayerController11,"_1hwh",p);c('CSS').conditionClass(this.$VideoPlayerController11,"_52fb",p);if(!p&&this.$VideoPlayerController72){this.$VideoPlayerController72.unsubscribe();this.$VideoPlayerController72=null;}if(this.$VideoPlayerController47!=p){this.logEvent(p?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerController11);if(!this.isPlayerVersion('silvercity'))this.$VideoPlayerController55.setDimensions(q.width,q.height);this.emit('toggleFullscreen');}this.$VideoPlayerController47=p;};o.prototype.isFullscreen=function(){'use strict';return c('FullScreen').isFullScreen()&&this.$VideoPlayerController11===c('getFullScreenElement')();};o.prototype.toggleFullscreen=function(){'use strict';if(c('FullScreen').toggleFullScreen(this.$VideoPlayerController11)){c('CSS').addClass(this.$VideoPlayerController11,"_1hwh");this.$VideoPlayerController72=c('FullScreen').subscribe('changed',this.$VideoPlayerController71.bind(this));}};o.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.$VideoPlayerController11,"_24pm");this.emit('instreamVideo/start');};o.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerController11,"_24pm");this.emit('instreamVideo/end');};o.prototype.$VideoPlayerController73=function(){'use strict';var p=this.getVideosCount();return (this.$VideoPlayerController4-1+p)%p;};o.prototype.$VideoPlayerController74=function(p){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').CAROUSEL_CHANGE,{source_index:this.$VideoPlayerController4,target_index:p});this.getVideoAPI().switchVideo(p);this.$VideoPlayerController4=p;this.emit('switchVideo');};o.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();if(c('VideoPlayerExperiments').universalVolume)this.setVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController57&&this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();}else this.$VideoPlayerController58=true;};o.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};o.prototype.mute=function(){'use strict';if(this.$VideoPlayerController57&&!this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0);};o.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};o.prototype.nextVideo=function(){'use strict';this.$VideoPlayerController74(this.$VideoPlayerController70());};o.prototype.previousVideo=function(){'use strict';this.$VideoPlayerController74(this.$VideoPlayerController73());};o.prototype.getVideoIndex=function(){'use strict';return this.$VideoPlayerController4;};o.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController14[this.getVideoIndex()];};o.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController17;};o.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController15[this.getVideoIndex()];};o.prototype.$VideoPlayerController59=function(){'use strict';var p=this.$VideoPlayerController55;this.$VideoPlayerController75=new (c('SubscriptionsHandler'))();var q=[['buffered',function(){return this.setBuffering(false);}.bind(this)],['buffering',function(){return this.setBuffering(true);}.bind(this)],['beginPlayback',function(r){return this.$VideoPlayerController62(r);}.bind(this)],['updateStatus',function(r){return this.$VideoPlayerController65(r);}.bind(this)],['logEvent',function(r){return this.$VideoPlayerController66(r.logData);}.bind(this)],['muteVideo',function(){return this.$VideoPlayerController76();}.bind(this)],['unmuteVideo',function(){return this.$VideoPlayerController77();}.bind(this)],['changeVolume',function(){return this.$VideoPlayerController78();}.bind(this)],['pausePlayback',function(){return this.$VideoPlayerController67();}.bind(this)],['seekEnd',function(r){return this.$VideoPlayerController68(r);}.bind(this)],['clickForTracking',function(){return c('logVideosClickTracking')(this.getVideoNode());}.bind(this)],['error',function(r){return this.$VideoPlayerController45(r);}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerController69();}.bind(this)]];this.$VideoPlayerController75.addSubscriptions.apply(this.$VideoPlayerController75,q.map(function(r){return p.addListener.apply(p,r);}).concat(c('VideoPlayerApiEvents').map(c('forwardEvent').bind(null,p,this))));};o.prototype.$VideoPlayerController54=function(){'use strict';if(this.$VideoPlayerController75)this.$VideoPlayerController75.release();};o.prototype.seek=function(p){'use strict';this.emit('seek',{time:p});this.getVideoAPI().seek(p);};o.prototype.pause=function(p){'use strict';if(this.isState('loading')){this.$VideoPlayerController52=null;}else if(this.isState('playing')){this.getVideoAPI().pause(p);}else if(this.$VideoPlayerController34)this.getVideoAPI().pause(p);this.$VideoPlayerController34=false;this.$VideoPlayerController39=false;this.emit('pause');};o.prototype.isPlayerVersion=function(p){'use strict';return this.getPlayerVersion()===p;};o.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController6;};o.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController12;};o.prototype.setBuffering=function(p){'use strict';if(p!==this.$VideoPlayerController12){this.$VideoPlayerController12=p;if(this.$VideoPlayerController12){this.$VideoPlayerController30.startBuffering(this.getCurrentTimePosition());}else this.$VideoPlayerController30.endBuffering();}};o.prototype.setVolume=function(p){'use strict';c('VideoPlayerVolumeSettings').saveVolume(p);this.getVideoAPI().setVolume(p);};o.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode());};o.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController79=true;};o.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController79;};o.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController8;};o.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController8;};o.prototype.$VideoPlayerController80=function(){'use strict';var p=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController27===null)this.$VideoPlayerController27=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();p=this.getVideoAPI().getEstimatedBandwidth();}var q=this.getVideoInfo_DEPRECATED()||{};return Object.assign(babelHelpers['extends']({ad_client_token:this.$VideoPlayerController8,access_token:this.$VideoPlayerController5,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController7,projection:this.$VideoPlayerController3,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(r){return r.getVersionString();}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController33,player_origin:this.$VideoPlayerController19,playback_is_broadcast:this.$VideoPlayerController20,streaming_format:q.streamType||this.$VideoPlayerController23,video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController24,video_channel_id:this.$VideoPlayerController17,fbcdn_pop:this.$VideoPlayerController28,representation_id:this.$VideoPlayerController27,video_bandwidth:p},c('VideoHomeLogger').getPlayerLoggingData(),this.$VideoPlayerController61,this.$VideoPlayerController60),this.$VideoPlayerController18.get());};o.prototype.$VideoPlayerController50=function(){'use strict';var p=this.getVideoInfo_DEPRECATED();if(!p)return null;var q=p.resourceUrl,r=/scontent-([a-z]+)\./.exec(q);if(!r)return null;return r[1];};o.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};o.prototype.getDebugInfo=function(){'use strict';var p=this.getVideoInfo_DEPRECATED(),q={initializationTime:this.$VideoPlayerController32,initializationTimestamp:this.$VideoPlayerController31,version:this.getPlayerVersion(),stallTime:this.$VideoPlayerController30.getCurrentStallTime(),state:this.$VideoPlayerController33,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType'))},r={videoID:this.getVideoID()};if(!p)return {player:q,currentVideo:r};return {currentVideo:babelHelpers['extends']({},r,{streamType:p.streamType,isLiveStream:p.isLiveStream,isHD:p.isHD,hasHD:p.hasHD,resourceUrl:p.resourceUrl,hasSubtitles:p.hasSubtitles,hasRateLimit:!!p.hasUnlimitedSrc,isRateLimited:p.hasUnlimitedSrc&&!p.useUnlimitedSrc,tagHD:p.tagHD,tagSD:p.tagSD,projection:p.projection}),player:q};};o.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};o.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};o.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};o.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP();};o.prototype.toggleSubtitles=function(){'use strict';this.getVideoAPI().toggleSubtitles();if(this.areSubtitlesActive()){this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_ON);}else this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_OFF);this.$VideoPlayerController57=false;};o.prototype.shiftSubtitles=function(p){'use strict';this.getVideoAPI().shiftSubtitles(p);};o.prototype.isHD=function(){'use strict';return (this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop());};o.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1;};o.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};o.prototype.setPreferredVideoQuality=function(p){'use strict';this.getVideoAPI().setPreferredVideoQuality(p);};o.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality();};o.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality();};o.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality();};o.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities();};o.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality();};o.prototype.switchToStreamType=function(p){'use strict';this.getVideoAPI().switchToStreamType(p);};o.prototype.$VideoPlayerController64=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',l).setString('source',this.$VideoPlayerController29).getURI().toString());};o.prototype.$VideoPlayerController63=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',m).setString('source',this.$VideoPlayerController29).getURI().toString());};o.prototype.$VideoPlayerController51=function(p){'use strict';var q=this.getVideoInfo_DEPRECATED();if(q!=null)return Object.assign({resource_url:q.resourceUrl,liveStream:q.isLiveStream,hd:q.isHD},p);return p;};o.prototype.$VideoPlayerController81=function(){'use strict';var p=this.getDOMPosition(),q=c('getViewportDimensions')().height,r=null;if(p.y<=0){r=p.y;}else if(p.y+p.height<q){r=0;}else r=p.y+p.height-q;return r;};o.prototype.logEvent=function(event,p){'use strict';var q=Object.assign(this.$VideoPlayerController80(),p),r=this.getOriginalPlayReason();if(r&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)q.video_play_reason=r;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)q.viewport_distance=this.$VideoPlayerController81();this.$VideoPlayerController30.logEvent(event,q);};o.prototype.setState=function(p){'use strict';if(this.isState('fallback')||this.isState('destroyed'))return;this.$VideoPlayerController33=p;if(this.$VideoPlayerController33==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController54();}this.emit('stateChange');};o.prototype.isState=function(p){'use strict';return this.$VideoPlayerController33===p;};o.prototype.abortLoading=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().abortLoading();};o.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};o.prototype.getPlayerVersion=function(){'use strict';if(this.$VideoPlayerController21.getPlayerVersion){return this.$VideoPlayerController21.getPlayerVersion();}else this.$VideoPlayerController13;};o.prototype.$VideoPlayerController76=function(){'use strict';this.emit('mute');};o.prototype.$VideoPlayerController77=function(){'use strict';this.$VideoPlayerController53=false;this.emit('unmute');};o.prototype.$VideoPlayerController78=function(){'use strict';var p=this.getVolume();this.emit('volume',{level:p});};o.prototype.registerOption=function(p,q,r,s){'use strict';if(!this.$VideoPlayerController2.has(p))this.$VideoPlayerController2.set(p,new (c('Map'))());if(this.$VideoPlayerController2.get(p).has(q))throw new Error('An option can only be registered once for each component');this.$VideoPlayerController2.get(p).set(q,{getter:r,setter:s});this.emit('optionsChange');};o.prototype.unregisterOption=function(p,q){'use strict';if(!this.$VideoPlayerController2.has(p))throw new Error('The component "'+p+'" has no options registered');var r=this.$VideoPlayerController2.get(p);if(!r.has(q))throw new Error('The component "'+p+'" has no option "'+q+'" registered');r['delete'](q);if(!r.size)this.$VideoPlayerController2['delete'](p);};o.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController2.keys();};o.prototype.getOptions=function(p){'use strict';if(this.$VideoPlayerController2.has(p))return this.$VideoPlayerController2.get(p).keys();return c('enumerate')([]);};o.prototype.hasOption=function(p,q){'use strict';if(!this.$VideoPlayerController2.has(p))return false;if(!this.$VideoPlayerController2.get(p).has(q))return false;return true;};o.prototype.getOption=function(p,q){'use strict';if(!this.hasOption(p,q))return undefined;return this.$VideoPlayerController2.get(p).get(q).getter();};o.prototype.setOption=function(p,q,r){'use strict';if(!this.$VideoPlayerController2.has(p))throw new Error('Component not registered');if(!this.$VideoPlayerController2.get(p).has(q))throw new Error('Option not registered');var s=this.$VideoPlayerController2.get(p).get(q).setter;if(s)return s(r);throw new Error('Read-only option');};o.prototype.registerDrawer=function(p,q){'use strict';return this.$VideoPlayerController1.register(p,q);};o.playerStates=['finished','loading','paused','playing','ready','destroyed','fallback'];f.exports=o;},null);
__d('VideoCover',['invariant','Bootloader','CSS','EventListener'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){var n=arguments.length<=4||arguments[4]===undefined?null:arguments[4];'use strict';!(l.length===j.getVideosCount())?h(0):void 0;this.$VideoCover1=k;this.$VideoCover2=l;this.$VideoCover3=m;this.$VideoCover4=j;if(n){this.$VideoCover5=n.hiddenAfterFinish;this.$VideoCover6=n.showWhileBuffering;this.$VideoCover7=n.showAfterFallback;}j.addListener('stateChange',function(){return this.$VideoCover8();}.bind(this));j.addListener('beginPlayback',this.$VideoCover9.bind(this));j.addListener('finishPlayback',this.$VideoCover10.bind(this));j.addListener('buffering',this.$VideoCover11.bind(this));j.addListener('buffered',this.$VideoCover12.bind(this));j.addListener('switchVideo',this.$VideoCover13.bind(this));c('EventListener').listen(this.$VideoCover1,'click',this.$VideoCover14.bind(this));}i.prototype.$VideoCover11=function(){'use strict';if(this.$VideoCover6)c('CSS').show(this.$VideoCover1);};i.prototype.$VideoCover12=function(){'use strict';if(this.$VideoCover6)c('CSS').hide(this.$VideoCover1);};i.prototype.getCurrentCover=function(){'use strict';return this.$VideoCover2[this.$VideoCover4.getVideoIndex()];};i.prototype.$VideoCover14=function(){'use strict';if(this.$VideoCover3!=null&&this.$VideoCover3.length>0){c('Bootloader').loadModules(["PhotoSnowlift"],function(j){return j.bootstrap(this.$VideoCover3);}.bind(this),'VideoCover');}else this.$VideoCover4.clickVideo();};i.prototype.$VideoCover9=function(){'use strict';c('CSS').hide(this.$VideoCover1);};i.prototype.$VideoCover10=function(){'use strict';var j=this.$VideoCover4.getOption('Looping','isLooping');if(this.$VideoCover5||j)return;c('CSS').show(this.$VideoCover1);};i.prototype.$VideoCover13=function(){'use strict';this.$VideoCover2.forEach(function(j){return c('CSS').hide(j);});c('CSS').show(this.getCurrentCover());};i.prototype.$VideoCover8=function(){'use strict';if(this.$VideoCover4.isState('fallback')&&this.$VideoCover7)c('CSS').show(this.$VideoCover1);};f.exports=i;},null);
__d('EmbeddedVideoAPIComponent',['Arbiter','SubscriptionsHandler','XD','VideoPlayerReason'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XD').UnverifiedXD;function i(j){'use strict';this.$EmbeddedVideoAPIComponent1=j;this.$EmbeddedVideoAPIComponent2=new (c('SubscriptionsHandler'))();this.$EmbeddedVideoAPIComponent3={playing:'startedPlaying',paused:'paused',finished:'finishedPlaying',buffering:'startedBuffering',buffered:'finishedBuffering',error:'error'};this.$EmbeddedVideoAPIComponent2.addSubscriptions(c('Arbiter').subscribe('Connect.Unsafe.play',function(){this.$EmbeddedVideoAPIComponent1.play(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.pause',function(){this.$EmbeddedVideoAPIComponent1.pause(c('VideoPlayerReason').EMBEDDED_VIDEO_API);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.seek',function(l,m){this.$EmbeddedVideoAPIComponent1.seek(m.target);}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.mute',function(){this.$EmbeddedVideoAPIComponent1.mute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.unmute',function(){this.$EmbeddedVideoAPIComponent1.unmute();}.bind(this)),c('Arbiter').subscribe('Connect.Unsafe.setVolume',function(l,m){this.$EmbeddedVideoAPIComponent1.setVolume(m.volume);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('stateChange',function(){if(this.$EmbeddedVideoAPIComponent1.isState('ready')){var l={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(l);}else if(this.$EmbeddedVideoAPIComponent1.isState('playing')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.playing);}else if(this.$EmbeddedVideoAPIComponent1.isState('paused')){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.paused);}else if(this.$EmbeddedVideoAPIComponent1.isState('finished'))this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.finished);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateStatus',function(l){if(l.position!==undefined){var m={timePosition:l.position};this.sendStateDataForUpdateToSDK(m);}}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffering',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffering);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('buffered',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.buffered);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('error',function(){this.sendEventToSDK(this.$EmbeddedVideoAPIComponent3.error);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('updateMetadata',function(l){var m={duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendStateDataForUpdateToSDK(m);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('muteVideo',function(){var l={isMuted:true};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('unmuteVideo',function(){var l={isMuted:false};this.sendStateDataForUpdateToSDK(l);}.bind(this)),this.$EmbeddedVideoAPIComponent1.addListener('changeVolume',function(l){var m={volume:l.volume,isMuted:l.volume===0};this.sendStateDataForUpdateToSDK(m);}.bind(this)));if(!this.$EmbeddedVideoAPIComponent1.isState('loading')&&!this.$EmbeddedVideoAPIComponent1.isState('fallback')){var k={isMuted:this.$EmbeddedVideoAPIComponent1.isMuted(),volume:this.$EmbeddedVideoAPIComponent1.getVolume(),timePosition:this.$EmbeddedVideoAPIComponent1.getCurrentTimePosition(),duration:this.$EmbeddedVideoAPIComponent1.getPlaybackDuration()};this.sendVideoAPIReady(k);}}i.prototype.sendVideoAPIReady=function(j){'use strict';h.send({type:'onVideoAPIReady',data:JSON.stringify(j)});};i.prototype.sendEventToSDK=function(event){'use strict';h.send({type:'stateChange',state:event});};i.prototype.sendStateDataForUpdateToSDK=function(j){'use strict';h.send({type:'cachedStateUpdateRequest',data:JSON.stringify(j)});};f.exports=i;},null);
__d('EmbeddedVideoFullscreenControl.react',['cx','fbt','ix','AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','VideoWebDriverIDs','VideoPlayerExperiments','shallowCompare'],function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){var o=void 0;if(!c('VideoPlayerExperiments').fourArrowFullScreen){o=this.props.isFullscreen?j('/images/video/player/embedded_controls/icons/fullscreen-exit.png'):j('/images/video/player/embedded_controls/icons/fullscreen-enter.png');}else o=this.props.isFullscreen?j('/images/video/player/embedded_controls/icons/fullscreen-4arrow-exit.png'):j('/images/video/player/embedded_controls/icons/fullscreen-4arrow-enter.png');var p=c('React').createElement(c('Image.react'),{className:"_5i0o"+(c('VideoPlayerExperiments').fourArrowFullScreen?' '+"_4snp":''),src:o}),q=this.props.isFullscreen?i._("Exit Fullscreen"):i._("Enter Fullscreen");return (c('React').createElement(c('AbstractVideoFullscreenControl.react'),babelHelpers['extends']({},this.props,{'aria-label':q,className:"_3u33",'data-testid':c('VideoWebDriverIDs').FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'})));};function n(){k.apply(this,arguments);}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n;},null);
__d('EmbeddedVideoPlaybackControl.react',['cx','fbt','ix','AbstractButton.react','Image.react','React','ReactDOM','VideoWebDriverIDs','shallowCompare'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false};}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.isPlaying=function(){'use strict';if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;};n.prototype.onButtonClick=function(){'use strict';var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();};n.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){'use strict';var o=null;if(this.props.finishedPlaying){o=j('/images/video/player/embedded_controls/icons/replay.png');}else o=this.isPlaying()?j('/images/video/player/embedded_controls/icons/pause.png'):j('/images/video/player/embedded_controls/icons/play.png');var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.isPlaying()?i._("Pause"):i._("Play");return c('React').createElement(c('AbstractButton.react'),{'aria-label':q,className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:p,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};f.exports=n;},null);
__d('EmbeddedVideoPlaybackTimer.react',['cx','React','joinClasses','shallowCompare'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime});};l.prototype.getClock=function(m){'use strict';var n='';if(isNaN(m)){m=0;}else if(m<0){m*=-1;n='-';}m=Math.ceil(m);var o=Math.floor(m/3600),p=m-o*3600,q=Math.floor(p/60),r=Math.ceil(p-q*60),s=('0'+q).slice(-2),t=('0'+r).slice(-2);if(o===0){return n+q+':'+t;}else return n+o+':'+s+':'+t;};l.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true});};l.prototype.render=function(){'use strict';var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg";if(this.props.isInScrubberPreview)o="_5lde";return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,o),onClick:this.onButtonClick.bind(this)}),this.getClock(n)));};l.propTypes={isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false};f.exports=l;},null);
__d('EmbeddedVideoScrubberPointOfInterestBar.react',['cx','EmbeddedVideoPlaybackTimer.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'PointOfInterest',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{playbackDuration:i.number.isRequired,timestamp:i.number.isRequired,isActive:i.bool.isRequired,onPointOfInterestSelect:i.func.isRequired},getInitialState:function(){return {visibility:'hidden'};},render:function(){var l=this.props.timestamp,m=l*100/this.props.playbackDuration+'%',n=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:l,style:{left:m,visibility:this.state.visibility}});return (c('React').createElement('div',null,c('React').createElement('div',{style:{left:m},onClick:function(o){return this.props.onPointOfInterestSelect(l);}.bind(this),onMouseEnter:function(o){return this.setState({visibility:'visible'});}.bind(this),onMouseLeave:function(o){return this.setState({visibility:'hidden'});}.bind(this),className:"_2f0h"+(this.props.isActive?' '+"_3t5h":'')}),n));}}),k=c('React').createClass({displayName:'EmbeddedVideoScrubberPointOfInterestBar',propTypes:{tabIndex:i.string.isRequired,playbackDuration:i.number.isRequired,onPointOfInterestSelect:i.func.isRequired,currentPointOfInterest:i.number,pointsOfInterest:i.array.isRequired},shouldComponentUpdate:function(l,m){return (l.tabIndex!=this.props.tabIndex||l.currentPointOfInterest!==this.props.currentPointOfInterest||l.playbackDuration!=this.props.playbackDuration||l.pointsOfInterest.length!=this.props.pointsOfInterest.length||l.pointsOfInterest.some(function(n,o){return this.props.pointsOfInterest[o]!=n;}.bind(this)));},_renderPointOfInterest:function(l){return (c('React').createElement(j,{key:'poi'+l,playbackDuration:this.props.playbackDuration,timestamp:l,isActive:l===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect}));},render:function(){return (c('React').createElement('div',{className:"_2f0i",tabIndex:this.props.tabIndex},c('React').createElement('div',{className:"_2f0j"},this.props.pointsOfInterest.map(this._renderPointOfInterest,this))));}});f.exports=k;},null);
__d('VideoScrubberPreviewSpriteCalculation',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getImageCoordinatesInSpriteByTime:function(i,j){var k=this.getTotalTimeInSprite(j.maxImagesPerSprite,j.timeIntervalBetweenImages),l=Math.floor(i%k/j.timeIntervalBetweenImages),m=Math.floor(l/j.imagesPerRow),n=l%j.imagesPerRow;return {x:n*j.previewScrubberWidth,y:m*j.previewScrubberHeight};},getSpriteIndex:function(i,j,k){var l=this.getTotalTimeInSprite(j,k);return Math.floor(i/l)+1;},getTotalTimeInSprite:function(i,j){return i*j;}};f.exports=h;},null);
__d('EmbeddedVideoScrubber.react',['cx','fbt','EmbeddedVideoScrubberPointOfInterestBar.react','EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','VideoStereoFormat','JSResource','BootloadedComponent.react','getElementPosition','joinClasses','shallowCompare'],function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new (c('Map'))();this.$EmbeddedVideoScrubber4.set(0,'');this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null},lastSpriteDimension:{numRow:0,numColumn:0}};}m.prototype.shouldComponentUpdate=function(n,o){'use strict';return c('shallowCompare')(this,n,o);};m.prototype.onDragNubBegin=function(n){'use strict';if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault();};m.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({barCoords:n});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub));this.timecodeUpdate(o.x+o.width/2);}};m.prototype.componentDidUpdate=function(n,o){'use strict';if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c('EventListener').listen(document,'mousemove',function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p);}.bind(this));this.$EmbeddedVideoScrubber2=c('EventListener').listen(document,'mouseup',this.onDragNubRelease.bind(this));}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();}if(!o.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber3=c('EventListener').listen(document,'mousemove',this.onTimecodeUpdate.bind(this));}else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();};m.prototype.timecodeUpdate=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r});}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c('ReactDOM').unstable_batchedUpdates(function(){return (this.props.scrubberPreviewSprites&&this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n));}.bind(this));}};m.prototype.onTimecodeUpdate=function(n){'use strict';this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation();};m.prototype.updatePreviewThumbnail=function(n,o,p,q){'use strict';this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s);}this.updatePreviewThumbnailLocation(p,q);};m.prototype.updatePreviewThumbnailLocation=function(n,o){'use strict';var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q});};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;'use strict';var s=c('VideoScrubberPreviewSpriteCalculation').getImageCoordinatesInSpriteByTime(n,o),t=c('VideoScrubberPreviewSpriteCalculation').getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height);};v.src=u;})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s});};m.prototype.onLastImageLoad=function(n,o){'use strict';this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}});};m.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation});};m.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber4){return this.$EmbeddedVideoScrubber4.size>1;}else return false;};m.prototype.onPreviewThumbnailUpdate=function(n,o,p){'use strict';if(p){p.set(0,'');this.$EmbeddedVideoScrubber4=p;}this.setState({scrubberPreviewSpriteIndex:n,scrubberPreviewBackgroundPosition:o});};m.prototype.getPositionRatio=function(n,o){'use strict';var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1);};m.prototype.onDragNubUpdate=function(n){'use strict';this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});};m.prototype.onDragNubRelease=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true;}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation();};m.prototype.getPlayedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.playbackPosition;if(!n||!o)return 0;if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getBufferedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getRangeLimitedRatio=function(n){'use strict';if(isNaN(n)||n<0||n>1)return 0;return n;};m.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0;};m.prototype.onMouseEnter=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o});};m.prototype.onMouseLeave=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;c('ReactDOM').findDOMNode(this.refs.bar).blur();c('ReactDOM').unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='hidden';};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='visible';};m.prototype.onKeyDown=function(n){'use strict';var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c('Keys').RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01;}else if(n.keyCode===c('Keys').LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0;}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q);};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_gn0"+(this.state.nubEngaged?' '+"_gn1":'')),o=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),p={width:this.getPlayedRatio()*100+'%'},q={width:this.getBufferedRatio()*100+'%'},r={left:this.state.timecodeRatio*100+'%'},s={},t={},u=null,v=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){v=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation&&this.$EmbeddedVideoScrubber4){var w='';if(this.state.scrubberPreviewSpriteIndex)w='url('+this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex)+')';var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,aa=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;aa*=this.state.previewThumbnailInformation.imagesPerColumn;}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;aa*=this.state.lastSpriteDimension.numColumn;}var ba=this.state.previewThumbnailInformation.stereoMode;if(ba===c('VideoStereoFormat').LEFT_RIGHT){x/=2;z*=2;}else if(ba===c('VideoStereoFormat').TOP_BOTTOM){y/=2;aa*=2;}var ca=void 0;if(z>100){ca=z+'% '+aa+'%';}else w='';var da=1;if(this.props.isFullscreen)da=2;s={width:x*da+'px',height:y*da+'px',backgroundImage:w,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*da+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*da+'px',backgroundSize:ca};t={left:this.state.previewRatio*100+'%',display:this.props.alwaysShowThumbnail?'block':undefined};u=c('React').createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:t},c('React').createElement('div',{className:"_24wt",ref:'previewThumbnail',style:s}),v);}}var ea=null;if(this.props.pointsOfInterest.length>0)ea=c('React').createElement(c('EmbeddedVideoScrubberPointOfInterestBar.react'),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var fa=null;if(this.props.interestLevels&&this.props.interestLevels.some(function(ja){return ja>0;})&&this.props.interestLevels.length>=2){var ga=this.props.hasScrubberPreview?u:v,ha=null;if(ga!=null)ha=this.refs[ga.ref];fa=c('React').createElement('div',{className:"_27ew"},c('React').createElement('div',{className:"_5h19",style:p},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('LiveHeatmap.react').__setRef('EmbeddedVideoScrubber.react'),bootloadPlaceholder:c('React').createElement('div',null),interestLevels:this.props.interestLevels,playedRatio:this.getPlayedRatio(),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:ha,ref:'bar',tabIndex:this.props.tabIndex,'aria-label':i._("Change Position")}),ga);}var ia=c('React').createElement('div',{onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onKeyDown:this.onKeyDown.bind(this),className:n},fa?fa:c('React').createElement('div',{tabIndex:this.props.tabIndex,role:'slider','aria-orientation':'horizontal','aria-valuemin':'0','aria-valuemax':this.props.playbackDuration,'aria-valuenow':this.props.playbackPosition,'aria-label':i._("Change Position"),className:"_gn2",ref:'bar'},c('React').createElement('div',{className:"_gn3",style:q}),c('React').createElement('div',{style:p,className:"_gn4"},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),this.props.hasScrubberPreview?u:v));return (c('React').createElement('div',null,ia,ea));};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:function(){}};f.exports=m;},null);
__d('EmbeddedVideoVolumeSlider.react',['cx','EventListener','React','ReactDOM','getElementPosition','shallowCompare'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({awaitingUpdate:false});};l.prototype.componentDidUpdate=function(m,n){'use strict';if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c('EventListener').listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c('EventListener').listen(document,'mouseup',this.onMouseUp.bind(this));}};l.prototype.onMouseDown=function(m){'use strict';if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation();};l.prototype.getClampedClickPositionVolume=function(m){'use strict';var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.slider)),o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub)).height,p=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,p/n.height));};l.prototype.onMouseUp=function(m){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation();};l.prototype.onMouseMove=function(m){'use strict';this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation();};l.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;};l.prototype.render=function(){'use strict';var m={height:Math.round(this.getVolume()*100)+'%'},n="_2-ml"+(this.state.engaged?' '+"_gn1":'');return c('React').createElement('div',{className:n,onMouseDown:this.onMouseDown.bind(this)},c('React').createElement('div',{className:"_3ghu"},c('React').createElement('div',{className:"_2-mm",ref:'slider'},c('React').createElement('div',{className:"_2-mn",style:m},c('React').createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),c('React').createElement('div',{className:"_2-mp"}));};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function(m){},onVolumeChangeBegin:function(m){},onVolumeChangeEnd:function(m){}};f.exports=l;},null);
__d('EmbeddedVideoVolumeControl.react',['cx','fbt','invariant','ix','AbstractButton.react','Image.react','Keys','React','ReactDOM','VideoPlayerExperiments','VideoPlayerVolumeSettings','VideoWebDriverIDs','EmbeddedVideoVolumeSlider.react','shallowCompare'],function a(b,c,d,e,f,g,h,i,j,k){var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1};}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return c('shallowCompare')(this,p,q);};o.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted();};o.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true});};o.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false});};o.prototype.onKeyDown=function(p){'use strict';var q=this.props.volume;if(p.keyCode===c('Keys').UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1;}else if(p.keyCode===c('Keys').DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0;}else return;this.onSliderVolumeChangeEnd(q);};o.prototype.onMouseOut=function(p){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};o.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume;};o.prototype.onSliderVolumeChangeBegin=function(){'use strict';var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);}};o.prototype.onSliderVolumeChangeEnd=function(p){'use strict';if(p>0){this.setState({lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);}this.onSliderVolumeChange(p);this.setState({nubEngaged:false});};o.prototype.onSliderVolumeChange=function(p){'use strict';if(p>0&&this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p);};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';!(this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1)?j(0):void 0;};o.prototype.render=function(){'use strict';var p=Math.round(this.getVolume()*100),q=null;if(p==0){q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:k('/images/video/player/embedded_controls/icons/muted.png')});}else{var r=null;if(p<=33){r=k('/images/video/player_redesign/sound_1_bar.png');}else if(p<=66){r=k('/images/video/player_redesign/sound_2_bar.png');}else r=k('/images/video/player_redesign/sound.png');q=c('React').createElement('div',{className:"_44_"},c('React').createElement('div',{className:"_454"},c('React').createElement(c('Image.react'),{className:"_5i0o",src:r})));}var s="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),t="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!c('VideoPlayerExperiments').redesign?' '+"_17bp":''),u=!this.getVolume()?i._("Unmute"):i._("Mute");return c('React').createElement('div',{className:s},c('React').createElement(c('EmbeddedVideoVolumeSlider.react'),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),volume:this.getVolume()}),c('React').createElement(c('AbstractButton.react'),{'aria-label':u,className:t,'data-testid':c('VideoWebDriverIDs').MUTE_UNMUTE_CONTROL,image:q,onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onBlur:this.onButtonBlur.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}));};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number};f.exports=o;},null);
__d('EmbeddedVideoControls.react',['cx','fbt','ix','BootloadedComponent.react','AbstractButton.react','EmbeddedVideoFullscreenControl.react','Image.react','JSResource','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','EmbeddedVideoScrubber.react','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','shallowCompare'],function a(b,c,d,e,f,g,h,i,j){var k,l;if(c.__markCompiled)c.__markCompiled();var m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.isHidden=function(){'use strict';return this.props.hidden;};n.prototype.isTransparent=function(){'use strict';return this.props.transparent;};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){'use strict';var o=(!c('VideoPlayerExperiments').redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()?' '+"_5744":''),p=(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noanim?"_fwi":'')+(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noshadow?' '+"_fwj":'')+(c('VideoPlayerExperiments').redesign?' '+"_i5q":''),q="_2mbj _2mbk",r="_2mbj _yaw",s="_2mbj _2mbl",t="_5rbl",u=(this.props.isCommercialBreak?"_22qt":'')+(!this.props.isCommercialBreak?' '+"_4lqt":'')+(' '+"_4ubd"),v=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var w=this.props.playbackPosition-this.props.playbackDuration;v=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2",playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:Math.round(w),displayElapsedTime:this.props.displayElapsedTime});}var x=null,y=null,z=null,aa=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c('VideoPlayerExperiments').redesign){z=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoSettingsControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector});}else{if(this.props.hasHD)x=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoQualityControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)y=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoClosedCaptionsControl.react').__setRef('EmbeddedVideoControls.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}if(this.props.isLive)if(c('VideoPlayerExperiments').hlsButton)aa=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoToHLSControl.react').__setRef('EmbeddedVideoControls.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var ba=null;if(this.props.allowFullscreen)ba=c('React').createElement(c('EmbeddedVideoFullscreenControl.react'),{disabled:this.props.isCasting,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'});var ca=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)ca=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoWatchAndScrollControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll});var da=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)da=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoCastingControl.react').__setRef('EmbeddedVideoControls.react'),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var ea=null,fa=null;if(this.props.permalinkURL){fa=c('React').createElement(c('Image.react'),{className:"_5fp_",src:j('/images/video/player/embedded_controls/icons/fb-logo.png')});ea=c('React').createElement(c('AbstractButton.react'),{'aria-label':i._("Open in a new tab"),className:"_3u33",href:this.props.permalinkURL,image:fa,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'});}var ga=null,ha=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){ha=c('React').createElement(c('EmbeddedVideoPlaybackControl.react'),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});ga=c('React').createElement(c('EmbeddedVideoScrubber.react'),{bufferedPosition:this.props.bufferedPosition,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,isFullscreen:this.props.isFullscreen,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:'0'});}var ia=null;if(c('VideoPlayerExperiments').redesign)ia=c('React').createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});return (c('React').createElement('div',{className:p},ia,c('React').createElement('div',{className:u},c('React').createElement('div',{className:t},c('React').createElement('div',{className:o},c('React').createElement('div',{className:q},ha),c('React').createElement('div',{className:r},ga),c('React').createElement('div',{className:s},v,c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0'}),y,aa,x,z,ca,da,ba,ea))))));};n.propTypes={allowFullscreen:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hideRemainingTime:m.bool,hideSettings:m.bool,isCommercialBreak:m.bool,isFullscreen:m.bool,isHD:m.bool,isLive:m.bool,isMuted:m.bool,isPlaying:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool};n.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,hidden:false,hidePlaybackControl:false,hideRemainingTime:false,hideSettings:false,isCommercialBreak:false,isCasting:false,isCastingSupported:false,isMuted:false,isPlaying:false,onStartCast:function(){},onStopCast:function(){},playbackDuration:0,playbackPosition:0,transparent:false,volume:0};f.exports=n;},null);
__d('EmbeddedVideoControls',['DeferredComponent.react','EventListener','FullScreen','Map','React','ReactDOM','VideoPlayerExperiments','VideoPlayerReason','VideoPlayerUIComponentDrawer','VideoPlayerVersions','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','throttle','VideoChannelViewGatings'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$EmbeddedVideoControls6=i;this.$EmbeddedVideoControls37=j;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls32=0;this.$EmbeddedVideoControls31=0;this.$EmbeddedVideoControls9=0;this.$EmbeddedVideoControls42=false;this.$EmbeddedVideoControls19=k.hideOnEvents.autoplay;this.$EmbeddedVideoControls20=k.hideOnEvents.finish;this.$EmbeddedVideoControls15=k.hideOnEvents.pause;this.$EmbeddedVideoControls16=k.hidePlaybackControl;this.$EmbeddedVideoControls17=k.hideRemainingTime;this.$EmbeddedVideoControls18=k.hideSettings;var l=i.isPlayerVersion(c('VideoPlayerVersions').PLEASANTVILLE);this.$EmbeddedVideoControls13=k.showButtons.watchandscroll&&l;this.$EmbeddedVideoControls1=k.showButtons.casting;this.$EmbeddedVideoControls2=k.showButtons.fullscreen&&!!c('FullScreen').isSupported();this.$EmbeddedVideoControls30=k.permalinkURL;this.$EmbeddedVideoControls22=k.isCommercialBreak;this.$EmbeddedVideoControls25=k.isLive;this.$EmbeddedVideoControls35=c('VideoPlayerExperiments').redesign;this.$EmbeddedVideoControls14=false;this.$EmbeddedVideoControls55=k.showQualitySelector;this.$EmbeddedVideoControls44=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls46=this.play.bind(this);this.$EmbeddedVideoControls45=this.pause.bind(this);this.$EmbeddedVideoControls47=this.scrubBegin.bind(this);this.$EmbeddedVideoControls48=this.scrubEnd.bind(this);this.$EmbeddedVideoControls39=this.startCasting.bind(this);this.$EmbeddedVideoControls40=this.stopCasting.bind(this);this.$EmbeddedVideoControls49=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls50=this.toggleHD.bind(this);this.$EmbeddedVideoControls51=this.toggleHLS.bind(this);this.$EmbeddedVideoControls52=this.toggleMuted.bind(this);this.$EmbeddedVideoControls53=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls43=this.changeVolume.bind(this);this.$EmbeddedVideoControls54=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls56=this.$EmbeddedVideoControls6.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.EmbeddedControls,36);c('destroyOnUnload')(function(){return c('ReactDOM').unmountComponentAtNode(j);});var m=this.$EmbeddedVideoControls6.getRootNode();c('EventListener').listen(this.$EmbeddedVideoControls37,'focusin',function(){this.$EmbeddedVideoControls8=true;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls37,'focusout',function(){if(!c('containsNode')(this.$EmbeddedVideoControls37,c('getActiveElement')())){this.$EmbeddedVideoControls8=false;this.scheduleRenderReactComponent();}}.bind(this));c('EventListener').listen(m,'click',function(o){if(this.$EmbeddedVideoControls8&&o.detail)c('getActiveElement')().blur();}.bind(this));c('EventListener').listen(m,'mouseleave',function(){this.$EmbeddedVideoControls28=false;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(m,'mouseenter',function(){this.$EmbeddedVideoControls28=true;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls6.registerOption('VideoControls','acquireForceHideLock',function(){this.$EmbeddedVideoControls9++;return {release:function(){this.$EmbeddedVideoControls9--;this.scheduleRenderReactComponent();}.bind(this)};}.bind(this));this.$EmbeddedVideoControls6.registerOption('VideoControls','hideOnFinish',function(){return this.$EmbeddedVideoControls20;}.bind(this),function(o){return this.$EmbeddedVideoControls20=o;}.bind(this));this.$EmbeddedVideoControls6.registerOption('VideoControls','hideOnPause',function(){return this.$EmbeddedVideoControls15;}.bind(this),function(o){return this.$EmbeddedVideoControls15=o;}.bind(this));this.$EmbeddedVideoControls6.registerOption('VideoControls','available',function(){return true;});this.$EmbeddedVideoControls6.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls6.getRootNode(),'mousemove',c('throttle')(this.flashControls.bind(this),200));this.scheduleRenderReactComponent();var n=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','casting/receiverStateChange','casting/supportStateChange','casting/castingStateChange','casting/playStateChange'];n.forEach(function(event){return this.$EmbeddedVideoControls6.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));}.bind(this));this.$EmbeddedVideoControls6.addListener('beginPlayback',function(){return this.$EmbeddedVideoControls57();}.bind(this));this.$EmbeddedVideoControls6.addListener('updateStatus',function(o){this.$EmbeddedVideoControls32=o.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls6.addListener('casting/updateStatus',function(o){this.$EmbeddedVideoControls32=o.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls6.addListener('updateBuffer',function(o){this.$EmbeddedVideoControls5=o.duration+o.offset;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls6.addListener('optionsChange',function(o){this.$EmbeddedVideoControls58();}.bind(this));this.$EmbeddedVideoControls6.addListener('resumeAutoplay',function(o){this.$EmbeddedVideoControls59();this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));this.$EmbeddedVideoControls6.addListener('turnOffAutoplay',function(o){this.$EmbeddedVideoControls21=false;}.bind(this));this.$EmbeddedVideoControls6.addListener('finishPlayback',function(){this.scheduleRenderReactComponent(true);}.bind(this));this.$EmbeddedVideoControls59();this.$EmbeddedVideoControls60();}h.prototype.$EmbeddedVideoControls61=function(){'use strict';return this.$EmbeddedVideoControls6.isState('playing')&&this.$EmbeddedVideoControls6.getOption('FeedAutoplay','isAutoplaying');};h.prototype.$EmbeddedVideoControls60=function(){'use strict';this.$EmbeddedVideoControls38=this.$EmbeddedVideoControls6.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls11=this.$EmbeddedVideoControls6.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls33=this.$EmbeddedVideoControls6.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation');};h.prototype.$EmbeddedVideoControls59=function(){'use strict';this.$EmbeddedVideoControls21=this.$EmbeddedVideoControls6.getOption('FeedAutoplay','isAutoplaying');};h.prototype.$EmbeddedVideoControls58=function(){'use strict';this.$EmbeddedVideoControls59();this.$EmbeddedVideoControls60();};h.prototype.$EmbeddedVideoControls57=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls27=true;this.scheduleRenderReactComponentWithVideoInfoUpdate();};h.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls34){this.$EmbeddedVideoControls34=true;this.scheduleRenderReactComponent();}clearTimeout(this.$EmbeddedVideoControls7);this.$EmbeddedVideoControls7=setTimeout(function(){this.$EmbeddedVideoControls34=false;this.scheduleRenderReactComponent();}.bind(this),3000);};h.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls6.isState('playing')){if(this.$EmbeddedVideoControls19&&this.$EmbeddedVideoControls21)return false;return this.$EmbeddedVideoControls8||this.$EmbeddedVideoControls28&&this.$EmbeddedVideoControls34;}else if(this.$EmbeddedVideoControls6.isState('finished')){return this.$EmbeddedVideoControls6.isFullscreen()||!this.$EmbeddedVideoControls20;}else if(this.$EmbeddedVideoControls6.isState('paused'))return this.$EmbeddedVideoControls6.isFullscreen()||!this.$EmbeddedVideoControls15;return false;};h.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls9>0||this.$EmbeddedVideoControls6.isState('loading')||this.$EmbeddedVideoControls6.isState('fallback')||this.$EmbeddedVideoControls6.isState('finished')&&this.$EmbeddedVideoControls20&&!this.$EmbeddedVideoControls6.isFullscreen())return false;return true;};h.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls29=true;this.scheduleRenderReactComponent();};h.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls6.isState('loading')||this.$EmbeddedVideoControls6.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls14=false;return true;}if(!this.$EmbeddedVideoControls14){this.$EmbeddedVideoControls14=true;return true;}return false;};h.prototype.scheduleRenderReactComponent=function(){var i=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(!i&&!this.shouldRenderComponent())return;c('cancelAnimationFrame')(this.$EmbeddedVideoControls36);this.$EmbeddedVideoControls36=c('requestAnimationFrame')(this.renderReactComponent.bind(this));};h.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls29)this.$EmbeddedVideoControls62();var i=this.areControlsVisible();if(this.$EmbeddedVideoControls42!==i){this.$EmbeddedVideoControls6.emit('VideoControls/visibilityUpdate',{areControlsVisible:i});if(i){this.$EmbeddedVideoControls56.reserve();}else this.$EmbeddedVideoControls56.release();if(this.$EmbeddedVideoControls3){var j=!this.$EmbeddedVideoControls6.isPlayerVersion('silvercity')&&!this.$EmbeddedVideoControls6.getIsInChannel()&&this.$EmbeddedVideoControls6.isState('playing'),k=c('VideoChannelViewGatings').channelViewWithInlineControls,l=1;if(i)if(j&&k&&!this.$EmbeddedVideoControls23){l=-3;}else l=-2;this.$EmbeddedVideoControls6.shiftSubtitles(l);}}this.$EmbeddedVideoControls42=i;var m=this.$EmbeddedVideoControls6.getAvailableVideoQualities(),n=this.$EmbeddedVideoControls6.getSelectedVideoQuality(),o=this.$EmbeddedVideoControls6.canAutoSelectVideoQuality(),p=null;if(this.$EmbeddedVideoControls6.hasOption('LiveHeatmap','interestLevels'))p=this.$EmbeddedVideoControls6.getOption('LiveHeatmap','interestLevels');c('ReactDOM').render(c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function(q){return e(['EmbeddedVideoControls.react'],q);},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,areSubtitlesActive:this.$EmbeddedVideoControls3,areHLSActive:this.$EmbeddedVideoControls4,bufferedPosition:this.$EmbeddedVideoControls5,finishedPlaying:this.$EmbeddedVideoControls6.isState('finished'),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls10,hasSubtitles:this.$EmbeddedVideoControls12,hasWatchAndScroll:this.$EmbeddedVideoControls13&&!this.$EmbeddedVideoControls6.getIsInChannel(),hidden:!this.areControlsEnabled(),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommercialBreak:this.$EmbeddedVideoControls22,isFullscreen:this.$EmbeddedVideoControls23,isHD:this.$EmbeddedVideoControls24,isLive:this.$EmbeddedVideoControls25,isMuted:this.$EmbeddedVideoControls26,isPlaying:this.$EmbeddedVideoControls27,interestLevels:p,onEnterWatchAndScroll:this.$EmbeddedVideoControls44,onPause:this.$EmbeddedVideoControls45,onPlay:this.$EmbeddedVideoControls46,onScrubBegin:this.$EmbeddedVideoControls47,onScrubEnd:this.$EmbeddedVideoControls48,onStartCast:this.$EmbeddedVideoControls39,onStopCast:this.$EmbeddedVideoControls40,onToggleFullscreen:this.$EmbeddedVideoControls49,onToggleHD:this.$EmbeddedVideoControls50,onToggleHLS:this.$EmbeddedVideoControls51,onToggleMuted:this.$EmbeddedVideoControls52,onToggleSubtitles:this.$EmbeddedVideoControls53,onVolumeChange:this.$EmbeddedVideoControls43,permalinkURL:this.$EmbeddedVideoControls30,playbackDuration:this.$EmbeddedVideoControls31,playbackPosition:this.$EmbeddedVideoControls32,transparent:!i,redesign:this.$EmbeddedVideoControls35,hidePlaybackControl:this.$EmbeddedVideoControls16,hideRemainingTime:this.$EmbeddedVideoControls17,hideSettings:this.$EmbeddedVideoControls18,volume:this.$EmbeddedVideoControls41,scrubberPreviewSprites:this.$EmbeddedVideoControls38,hasScrubberPreview:this.$EmbeddedVideoControls11,previewThumbnailInformation:this.$EmbeddedVideoControls33,availableQualities:m,selectedQuality:n,canAutoSelectVideoQuality:o,onSelectQuality:this.$EmbeddedVideoControls54,showQualitySelector:this.$EmbeddedVideoControls55}),this.$EmbeddedVideoControls37);};h.prototype.$EmbeddedVideoControls62=function(){'use strict';var i=this.$EmbeddedVideoControls6.getVideoInfo_DEPRECATED();if(i){this.$EmbeddedVideoControls3=i.areSubtitlesActive;this.$EmbeddedVideoControls12=i.hasSubtitles;this.$EmbeddedVideoControls10=i.hasHD;this.$EmbeddedVideoControls24=i.isHD;this.$EmbeddedVideoControls26=i.isMuted;this.$EmbeddedVideoControls27=i.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls31=i.playbackDuration;this.$EmbeddedVideoControls41=i.volume;this.$EmbeddedVideoControls23=this.$EmbeddedVideoControls6.isFullscreen();this.$EmbeddedVideoControls25=i.isLiveStream;this.$EmbeddedVideoControls4=i.areHLSActive;this.$EmbeddedVideoControls29=false;}};h.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls6.toggleHD();};h.prototype.setPreferredVideoQuality=function(i){'use strict';if(i){this.$EmbeddedVideoControls6.setPreferredVideoQuality(i);}else this.$EmbeddedVideoControls6.unsetPreferredVideoQuality();};h.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls6.switchToStreamType('hls');};h.prototype.enterWatchAndScroll=function(){'use strict';this.$EmbeddedVideoControls6.emit('enterWatchAndScroll');};h.prototype.scrubBegin=function(){'use strict';if(!this.isCasting())this.$EmbeddedVideoControls6.pause(c('VideoPlayerReason').SEEK);};h.prototype.scrubEnd=function(i){'use strict';this.$EmbeddedVideoControls6.seek(i);this.$EmbeddedVideoControls32=i;if(!this.isCasting())this.$EmbeddedVideoControls6.play(c('VideoPlayerReason').SEEK);};h.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls6.isMuted()){c('logVideosClickTracking')(this.$EmbeddedVideoControls6.getVideoNode());this.$EmbeddedVideoControls6.unmute();}else this.$EmbeddedVideoControls6.mute();};h.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls6.isFullscreen())c('logVideosClickTracking')(this.$EmbeddedVideoControls6.getVideoNode());this.$EmbeddedVideoControls6.toggleFullscreen();};h.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls6.toggleSubtitles();this.scheduleRenderReactComponent();};h.prototype.changeVolume=function(i){'use strict';this.$EmbeddedVideoControls6.setVolume(i);};h.prototype.play=function(){'use strict';c('logVideosClickTracking')(this.$EmbeddedVideoControls6.getVideoNode());if(this.isCasting()){this.$EmbeddedVideoControls6.setOption('casting','isPlaying',true);}else this.$EmbeddedVideoControls6.play(c('VideoPlayerReason').USER);};h.prototype.pause=function(){'use strict';if(this.isCasting()){this.$EmbeddedVideoControls6.setOption('casting','isPlaying',false);}else this.$EmbeddedVideoControls6.pause(c('VideoPlayerReason').USER);};h.prototype.startCasting=function(){'use strict';this.$EmbeddedVideoControls6.setOption('casting','isCasting',true);};h.prototype.stopCasting=function(){'use strict';this.$EmbeddedVideoControls6.setOption('casting','isCasting',false);};h.prototype.isCastPlaying=function(){'use strict';return this.$EmbeddedVideoControls6.getOption('casting','isPlaying');};h.prototype.hasFoundReceiver=function(){'use strict';return this.$EmbeddedVideoControls6.getOption('casting','hasFoundReceiver');};h.prototype.isCasting=function(){'use strict';return this.$EmbeddedVideoControls6.getOption('casting','isCasting');};h.prototype.isCastingSupported=function(){'use strict';return this.$EmbeddedVideoControls6.getOption('casting','isSupported');};f.exports=h;},null);
__d('VideoErrorOverlay',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k,l){if('textContent' in k)k.textContent=l;k.innerText=l;}function i(k){if('textContent' in k)return k.textContent;if(!k.innerText)return '';return k.innerText;}function j(k,l,m,n){'use strict';this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption('VideoErrorOverlay','title',function(){return this.getTitle();}.bind(this),function(o){return this.setTitle(o);}.bind(this));k.registerOption('VideoErrorOverlay','message',function(){return this.getMessage();}.bind(this),function(o){return this.setMessage(o);}.bind(this));k.registerOption('VideoErrorOverlay','linkURL',function(){return this.getLinkURL();}.bind(this),function(o){return this.setLinkURL(o);}.bind(this));k.registerOption('VideoErrorOverlay','linkTitle',function(){return this.getLinkTitle();}.bind(this),function(o){return this.setLinkTitle(o);}.bind(this));k.registerOption('VideoErrorOverlay','available',function(){return true;});}j.prototype.getTitle=function(){'use strict';return i(this.$VideoErrorOverlay1);};j.prototype.setTitle=function(k){'use strict';h(this.$VideoErrorOverlay1,k);};j.prototype.getMessage=function(){'use strict';return i(this.$VideoErrorOverlay2);};j.prototype.setMessage=function(k){'use strict';h(this.$VideoErrorOverlay2,k);};j.prototype.getLinkURL=function(){'use strict';return this.$VideoErrorOverlay3.href;};j.prototype.setLinkURL=function(k){'use strict';this.$VideoErrorOverlay3.href=k;};j.prototype.getLinkTitle=function(){'use strict';return i(this.$VideoErrorOverlay3);};j.prototype.setLinkTitle=function(k){'use strict';h(this.$VideoErrorOverlay3,k);};f.exports=j;},null);