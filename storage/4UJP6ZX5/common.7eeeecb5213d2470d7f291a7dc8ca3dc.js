/**
 * jQuery Cookie plugin
 */
jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)}value=String(value);return(document.cookie=[encodeURIComponent(key),"=",options.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""))}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;return(result=new RegExp("(?:^|; )"+encodeURIComponent(key)+"=([^;]*)").exec(document.cookie))?decode(result[1]):null};
/* jQuery Storage API Plugin 1.7.3 https://github.com/julien-maurel/jQuery-Storage-API */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(t){var r,i,n,o=arguments.length,s=window[t],a=arguments,u=a[1];if(2>o)throw Error("Minimum 2 arguments must be given");if(e.isArray(u)){i={};for(var f in u){r=u[f];try{i[r]=JSON.parse(s.getItem(r))}catch(c){i[r]=s.getItem(r)}}return i}if(2!=o){try{i=JSON.parse(s.getItem(u))}catch(c){throw new ReferenceError(u+" is not defined in this storage")}for(var f=2;o-1>f;f++)if(i=i[a[f]],void 0===i)throw new ReferenceError([].slice.call(a,1,f+1).join(".")+" is not defined in this storage");if(e.isArray(a[f])){n=i,i={};for(var m in a[f])i[a[f][m]]=n[a[f][m]];return i}return i[a[f]]}try{return JSON.parse(s.getItem(u))}catch(c){return s.getItem(u)}}function r(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1],u=s[2],f={};if(2>n||!e.isPlainObject(a)&&3>n)throw Error("Minimum 3 arguments must be given or second parameter must be an object");if(e.isPlainObject(a)){for(var c in a)r=a[c],e.isPlainObject(r)?o.setItem(c,JSON.stringify(r)):o.setItem(c,r);return a}if(3==n)return"object"==typeof u?o.setItem(a,JSON.stringify(u)):o.setItem(a,u),u;try{i=o.getItem(a),null!=i&&(f=JSON.parse(i))}catch(m){}i=f;for(var c=2;n-2>c;c++)r=s[c],i[r]&&e.isPlainObject(i[r])||(i[r]={}),i=i[r];return i[s[c]]=s[c+1],o.setItem(a,JSON.stringify(f)),f}function i(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1];if(2>n)throw Error("Minimum 2 arguments must be given");if(e.isArray(a)){for(var u in a)o.removeItem(a[u]);return!0}if(2==n)return o.removeItem(a),!0;try{r=i=JSON.parse(o.getItem(a))}catch(f){throw new ReferenceError(a+" is not defined in this storage")}for(var u=2;n-1>u;u++)if(i=i[s[u]],void 0===i)throw new ReferenceError([].slice.call(s,1,u).join(".")+" is not defined in this storage");if(e.isArray(s[u]))for(var c in s[u])delete i[s[u][c]];else delete i[s[u]];return o.setItem(a,JSON.stringify(r)),!0}function n(t,r){var n=a(t);for(var o in n)i(t,n[o]);if(r)for(var o in e.namespaceStorages)u(o)}function o(r){var i=arguments.length,n=arguments,s=(window[r],n[1]);if(1==i)return 0==a(r).length;if(e.isArray(s)){for(var u=0;u<s.length;u++)if(!o(r,s[u]))return!1;return!0}try{var f=t.apply(this,arguments);e.isArray(n[i-1])||(f={totest:f});for(var u in f)if(!(e.isPlainObject(f[u])&&e.isEmptyObject(f[u])||e.isArray(f[u])&&!f[u].length)&&f[u])return!1;return!0}catch(c){return!0}}function s(r){var i=arguments.length,n=arguments,o=(window[r],n[1]);if(2>i)throw Error("Minimum 2 arguments must be given");if(e.isArray(o)){for(var a=0;a<o.length;a++)if(!s(r,o[a]))return!1;return!0}try{var u=t.apply(this,arguments);e.isArray(n[i-1])||(u={totest:u});for(var a in u)if(void 0===u[a]||null===u[a])return!1;return!0}catch(f){return!1}}function a(r){var i=arguments.length,n=window[r],o=arguments,s=(o[1],[]),a={};if(a=i>1?t.apply(this,o):n,a._cookie)for(var u in e.cookie())""!=u&&s.push(u.replace(a._prefix,""));else for(var f in a)s.push(f);return s}function u(t){if(!t||"string"!=typeof t)throw Error("First parameter must be a string");g?(window.localStorage.getItem(t)||window.localStorage.setItem(t,"{}"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,"{}")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,"{}"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,"{}"));var r={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,"{}"),r.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=r,r}function f(e){if(!window[e])return!1;var t="jsapi";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(r){return!1}}var c="ls_",m="ss_",g=f("localStorage"),h={_type:"",_ns:"",_callMethod:function(e,t){var r=[this._type],t=Array.prototype.slice.call(t),i=t[0];return this._ns&&r.push(this._ns),"string"==typeof i&&-1!==i.indexOf(".")&&(t.shift(),[].unshift.apply(t,i.split("."))),[].push.apply(r,t),e.apply(this,r)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,i=arguments,n=i[0];if(1>t||!e.isPlainObject(n)&&2>t)throw Error("Minimum 2 arguments must be given or first parameter must be an object");if(e.isPlainObject(n)&&this._ns){for(var o in n)r(this._type,this._ns,o,n[o]);return n}var s=this._callMethod(r,i);return this._ns?s[n.split(".")[0]]:s},remove:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(i,arguments)},removeAll:function(e){return this._ns?(r(this._type,this._ns,{}),!0):n(this._type,e)},isEmpty:function(){return this._callMethod(o,arguments)},isSet:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(s,arguments)},keys:function(){return this._callMethod(a,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var l={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(t,r){e.cookie(this._prefix+t,r,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())""!=t&&(!this._prefix&&-1===t.indexOf(c)&&-1===t.indexOf(m)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};g||(window.localCookieStorage=e.extend({},l,{_prefix:c,_expires:3650}),window.sessionCookieStorage=e.extend({},l,{_prefix:m+window.name+"_"})),window.cookieStorage=e.extend({},l),e.cookieStorage=e.extend({},h,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return u(e)},g?(e.localStorage=e.extend({},h,{_type:"localStorage"}),e.sessionStorage=e.extend({},h,{_type:"sessionStorage"})):(e.localStorage=e.extend({},h,{_type:"localCookieStorage"}),e.sessionStorage=e.extend({},h,{_type:"sessionCookieStorage"})),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}});
/**
 * Bootstrap Hover Dropdown
 * A simple plugin to enable Bootstrap dropdowns inspired by: http://cameronspear.com/blog/bootstrap-dropdown-on-hover-plugin/
 * Author: Ryan Davis (ryan.davis@lee.net)
 * Version: 1.0.2 - 2015-08-21
 * License: MIT Copyright 2015
 */
!function(e,o,t){e.fn.dropdownHover=function(a){var n,r,s,i,a=e.extend({},e.fn.dropdownHover.options,a);return this.each(function(){e(this).parent().addClass(a.hoverClass.replace(".","")).attr("data-intent",e(this).data("hover-delay")).attr("data-delay",e(this).data("delay"))}),e(t).on({mouseenter:function(t){if(i)return n=this,!0;t.stopPropagation(),o.clearTimeout(s);var d=e(this),l=e(this).data("intent");e(d).hasClass("open")||e(d).is(n)||(r=setTimeout(function(){e(n).removeClass("open"),n=d,e(n).addClass("open")},l?l:a.hoverDelay))},mouseleave:function(t){if(i)return e(".dropdown-menu").removeClass("bs-hover-sub-clickable"),!0;if(t.stopPropagation(),o.clearTimeout(r),n){var d=(e(this),e(this).data("delay"));s=setTimeout(function(){e(n).removeClass("open"),e(n).find(".dropdown-toggle").blur(),n=!1},d?d:a.delay)}}},a.hoverClass),e(a.hoverClass).on("click",".dropdown-menu",function(e){e.stopPropagation()}),e(a.hoverClass+" a").on("click",function(t){if(t.preventDefault(),i&&e(this).data("nested")&&!e(this).next(".dropdown-menu").hasClass("bs-hover-sub-clickable"))return e(this).next(".dropdown-menu").addClass("bs-hover-sub-clickable"),!1;if(e(n).hasClass("open")){var a=e(this).attr("href");a&&"#"!==a&&(o.location.href=a)}return i?!0:!1}),e(t).one("touchstart",function(){o.clearTimeout(s),o.clearTimeout(r),i=!0}),this},e.fn.dropdownHover.options={hoverClass:".bs-hover-enabled",delay:500,hoverDelay:0},e(t).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})}(jQuery,window,document);
/**
 * Extends Bootstrap popover to remain open when content is hovered over
 */
var originalLeave=$.fn.popover.Constructor.prototype.leave;$.fn.popover.Constructor.prototype.leave=function(d){var b=d instanceof this.constructor?d:$(d.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);var a,c;originalLeave.call(this,d);if(d.currentTarget){a=$(d.currentTarget).siblings(".popover");c=b.timeout;a.one("mouseenter",function(){clearTimeout(c);a.one("mouseleave",function(){$.fn.popover.Constructor.prototype.leave.call(b,b)})})}};
/**
 * Selector queries - 2013-02-03
 * Licensed MIT Copyright (c) 2011 Andy Hume (http://andyhume.net, andyhume@gmail.com)
 */
(function(e){function q(){if(p){var b=[];if(f.querySelectorAll)b=f.querySelectorAll("[data-squery]");else for(var a=f.getElementsByTagName("*"),c=0,m=a.length;c<m;++c)a[c].getAttribute("data-squery")&&b.push(a[c]);c=0;for(m=b.length;c<m;++c){for(var a=b[c],d=[],e=a.getAttribute("data-squery").split(" "),g=0,i=e.length;g<i;++g){var h=/(.*):([0-9]*)(px|em)=(.*)/.exec(e[g]);h&&d.push(h)}a.cq_rules=a.cq_rules||[];a.cq_rules=a.cq_rules.concat(d);j.push(a)}}}function k(){for(var b=0,a=j.length;b<a;++b){el=
j[b];for(var c=0,e=el.cq_rules.length;c<e;++c){var d=el.cq_rules[c],f=parseInt(d[2]);"em"===d[3]&&(f=n(parseFloat(d[2]),el));var g=el,i=d[4],h=g.cloneNode(!0);h.className=(" "+h.className+" ").replace(" "+i+" "," ");h.style.height=0;h.style.visibility="hidden";h.style.overflow="hidden";h.style.clear="both";i=g.parentNode;i.insertBefore(h,g);g=h.offsetWidth;i.removeChild(h);r[d[1]](g,f)?0>el.className.indexOf(d[4])&&(el.className+=" "+d[4]):(d=el.className.replace(RegExp("(^| )"+d[4]+"( |$)"),"$1"),
d=d.replace(/ $/,""),el.className=d)}}}function l(){if(!o){o=!0;q();k();e.addEventListener&&e.addEventListener("resize",k,!1);var b=n(1,f.body);e.setInterval(function(){var a=n(1,f.body);a!==b&&(k(),b=a)},100)}}var f=e.document,j=[],p=!0,o=!1,r={"min-width":function(b,a){return b>a},"max-width":function(b,a){return b<a}},n=function(b){return function(){var a=Array.prototype.slice.call(arguments);b.memoize=b.memoize||{};return a in b.memoize?b.memoize[a]:b.memoize[a]=b.apply(this,a)}}(function(b,a){var c=
f.createElement("div");c.style.fontSize="1em";c.style.margin="0";c.style.padding="0";c.style.border="none";c.style.width="1em";a.appendChild(c);var e=c.offsetWidth;a.removeChild(c);return Math.round(e*b)});f.addEventListener?(f.addEventListener("DOMContentLoaded",l,!1),e.addEventListener("load",l,!1)):f.attachEvent&&(f.attachEvent("onreadystatechange",l),e.attachEvent("onload",l));e.SelectorQueries={add:function(b,a,c,e){for(var c=/([0-9]*)(px|em)/.exec(c),d=0,f=b.length;d<f;++d){var g=b[d];g.cq_rules=
g.cq_rules||[];g.cq_rules.push([null,a,c[1],c[2],e]);j.push(g)}o&&k()},ignoreDataAttributes:function(){p=!1}}})(this);
/*! lazysizes - v1.3.2 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.HTMLPictureElement&&"sizes"in b.createElement("img"),f="addEventListener",g=a[f],h=a.setTimeout,i=a.requestAnimationFrame||h,j=/^picture$/i,k=["load","error","lazyincluded","_lazyloaded"],l={},m=Array.prototype.forEach,n=function(a,b){return l[b]||(l[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),l[b].test(a.className)&&l[b]},o=function(a,b){n(a,b)||(a.className=a.className.trim()+" "+b)},p=function(a,b){var c;(c=n(a,b))&&(a.className=a.className.replace(c," "))},q=function(a,b,c){var d=c?f:"removeEventListener";c&&q(a,b),k.forEach(function(c){a[d](c,b)})},r=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},s=function(b,d){var f;!e&&(f=a.picturefill||c.pf)?f({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src)},t=function(a,b){return(getComputedStyle(a,null)||{})[b]},u=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},v=function(b){var c,d=0,e=a.Date,f=function(){c=!1,d=e.now(),b()},g=function(){h(f)},j=function(){i(g)};return function(){if(!c){var a=125-(e.now()-d);c=!0,6>a&&(a=6),h(j,a)}}},w=function(){var e,k,l,u,w,y,z,A,B,C,D,E,F,G,H,I=/^img$/i,J=/^iframe$/i,K="onscroll"in a&&!/glebot/.test(navigator.userAgent),L=0,M=0,N=0,O=0,P=function(a){N--,a&&a.target&&q(a.target,P),(!a||0>N||!a.target)&&(N=0)},Q=function(a,b){var c,d=a,e="hidden"!=t(a,"visibility");for(B-=b,E+=b,C-=b,D+=b;e&&(d=d.offsetParent);)e=(t(d,"opacity")||1)>0,e&&"visible"!=t(d,"overflow")&&(c=d.getBoundingClientRect(),e=D>c.left&&C<c.right&&E>c.top-1&&B<c.bottom+1);return e},R=function(){var a,b,d,f,g,h,i,j,m;if((w=c.loadMode)&&8>N&&(a=e.length)){for(b=0,O++,G>M&&1>N&&O>3&&w>2?(M=G,O=0):M=w>1&&O>2&&6>N?F:L;a>b;b++)if(e[b]&&!e[b]._lazyRace)if(K)if((j=e[b].getAttribute("data-expand"))&&(h=1*j)||(h=M),m!==h&&(z=innerWidth+h*H,A=innerHeight+h,i=-1*h,m=h),d=e[b].getBoundingClientRect(),(E=d.bottom)>=i&&(B=d.top)<=A&&(D=d.right)>=i*H&&(C=d.left)<=z&&(E||D||C||B)&&(l&&3>N&&!j&&(3>w||4>O)||Q(e[b],h))){if(X(e[b]),g=!0,N>9)break}else!g&&l&&!f&&4>N&&4>O&&w>2&&(k[0]||c.preloadAfterLoad)&&(k[0]||!j&&(E||D||C||B||"auto"!=e[b].getAttribute(c.sizesAttr)))&&(f=k[0]||e[b]);else X(e[b]);f&&!g&&X(f)}},S=v(R),T=function(a){o(a.target,c.loadedClass),p(a.target,c.loadingClass),q(a.target,T)},U=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},V=function(a){var b,d,e=a.getAttribute(c.srcsetAttr);(b=c.customMedia[a.getAttribute("data-media")||a.getAttribute("media")])&&a.setAttribute("media",b),e&&a.setAttribute("srcset",e),b&&(d=a.parentNode,d.insertBefore(a.cloneNode(),a),d.removeChild(a))},W=function(){var a,b=[],c=function(){for(;b.length;)b.shift()();a=!1};return function(d){b.push(d),a||(a=!0,i(c))}}(),X=function(a){var b,d,e,f,g,i,k,t=I.test(a.nodeName),v=t&&(a.getAttribute(c.sizesAttr)||a.getAttribute("sizes")),w="auto"==v;(!w&&l||!t||!a.src&&!a.srcset||a.complete||n(a,c.errorClass))&&(w&&(k=a.offsetWidth),a._lazyRace=!0,N++,W(function(){a._lazyRace&&delete a._lazyRace,p(a,c.lazyClass),(g=r(a,"lazybeforeunveil")).defaultPrevented||(v&&(w?(o(a,c.autosizesClass),x.updateElem(a,!0,k)):a.setAttribute("sizes",v)),d=a.getAttribute(c.srcsetAttr),b=a.getAttribute(c.srcAttr),t&&(e=a.parentNode,f=e&&j.test(e.nodeName||"")),i=g.detail.firesLoad||"src"in a&&(d||b||f),g={target:a},i&&(q(a,P,!0),clearTimeout(u),u=h(P,2500),o(a,c.loadingClass),q(a,T,!0)),f&&m.call(e.getElementsByTagName("source"),V),d?a.setAttribute("srcset",d):b&&!f&&(J.test(a.nodeName)?U(a,b):a.src=b),(d||f)&&s(a,{src:b})),(!i||a.complete)&&(i?P(g):N--,T(g))}))},Y=function(){if(!l){if(Date.now()-y<999)return void h(Y,999);var a,b=function(){c.loadMode=3,S()};l=!0,c.loadMode=3,N||(O?S():h(R)),g("scroll",function(){3==c.loadMode&&(c.loadMode=2),clearTimeout(a),a=h(b,99)},!0)}};return{_:function(){y=Date.now(),e=b.getElementsByClassName(c.lazyClass),k=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),H=c.hFac,F=c.expand,G=F*c.expFactor,g("scroll",S,!0),g("resize",S,!0),a.MutationObserver?new MutationObserver(S).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d[f]("DOMNodeInserted",S,!0),d[f]("DOMAttrModified",S,!0),setInterval(S,999)),g("hashchange",S,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[f](a,S,!0)}),/d$|^c/.test(b.readyState)?Y():(g("load",Y),b[f]("DOMContentLoaded",S),h(Y,2e4)),S(e.length>0)},checkElems:S,unveil:X}}(),x=function(){var a,d=function(a,b,c){var d,e,f,g,h=a.parentNode;if(h&&(c=u(a,h,c),g=r(a,"lazybeforesizes",{width:c,dataAttr:!!b}),!g.defaultPrevented&&(c=g.detail.width,c&&c!==a._lazysizesWidth))){if(a._lazysizesWidth=c,c+="px",a.setAttribute("sizes",c),j.test(h.nodeName||""))for(d=h.getElementsByTagName("source"),e=0,f=d.length;f>e;e++)d[e].setAttribute("sizes",c);g.detail.dataAttr||s(a,g.detail)}},e=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)d(a[b])},f=v(e);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),g("resize",f)},checkElems:f,updateElem:d}}(),y=function(){y.i||(y.i=!0,x._(),w._())};return function(){var b,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,expand:d.clientHeight>600?d.clientWidth>860?500:410:359,loadMode:2};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in e)b in c||(c[b]=e[b]);a.lazySizesConfig=c,h(function(){c.init&&y()})}(),{cfg:c,autoSizer:x,loader:w,init:y,uP:s,aC:o,rC:p,hC:n,fire:r,gW:u}}});
/*! lazysizes - v1.3.2
 lazySizes print extension - Loads all images on print.
 Licensed MIT */
!function(a){"use strict";var b,c,d,e;a.addEventListener&&(b=a.lazySizes&&lazySizes.cfg||a.lazySizesConfig||{},c=b.lazyClass||"lazyload",d=function(){var b,d;if("string"==typeof c&&(c=document.getElementsByClassName(c)),a.lazySizes)for(b=0,d=c.length;d>b;b++)lazySizes.loader.unveil(c[b])},addEventListener("beforeprint",d,!1),!("onbeforeprint"in a)&&a.matchMedia&&(e=matchMedia("print"))&&e.addListener&&e.addListener(function(){e.matches&&d()}))}(window);
/*! Picturefill - v3.0.1
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 * License: MIT
 */
!function(e,t,r){"use strict";function s(e){return" "===e||"    "===e||"\n"===e||"\f"===e||"\r"===e}function n(t,r){var s=new e.Image;return s.onerror=function(){E[t]=!1,ee()},s.onload=function(){E[t]=1===s.width,ee()},s.src=r,"pending"}function i(){L=!1,B=e.devicePixelRatio,Q={},F={},A.DPR=B||1,G.width=Math.max(e.innerWidth||0,z.clientWidth),G.height=Math.max(e.innerHeight||0,z.clientHeight),G.vw=G.width/100,G.vh=G.height/100,v=[G.height,G.width,B].join("-"),G.em=A.getEmValue(),G.rem=G.em}function c(e,t,r,s){var n,i,c,a;return"saveData"===T.algorithm?e>2.7?a=r+1:(i=t-r,n=Math.pow(e-.6,1.5),c=i*n,s&&(c+=.1*n),a=e+c):a=r>1?Math.sqrt(e*t):e,a>r}function a(e){var t,r=A.getSet(e),s=!1;"pending"!==r&&(s=v,r&&(t=A.setRes(r),A.applySetCandidate(t,e))),e[A.ns].evaled=s}function u(e,t){return e.res-t.res}function l(e,t,r){var s;return!r&&t&&(r=e[A.ns].sets,r=r&&r[r.length-1]),s=o(t,r),s&&(t=A.makeUrl(t),e[A.ns].curSrc=t,e[A.ns].curCan=s,s.res||Z(s,s.set.sizes)),s}function o(e,t){var r,s,n;if(e&&t)for(n=A.parseSet(t),e=A.makeUrl(e),r=0;r<n.length;r++)if(e===A.makeUrl(n[r].url)){s=n[r];break}return s}function f(e,t){var r,s,n,i,c=e.getElementsByTagName("source");for(r=0,s=c.length;s>r;r++)n=c[r],n[A.ns]=!0,i=n.getAttribute("srcset"),i&&t.push({srcset:i,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}function p(e,t){function r(t){var r,s=t.exec(e.substring(p));return s?(r=s[0],p+=r.length,r):void 0}function n(){var e,r,s,n,i,u,l,o,f,p=!1,h={};for(n=0;n<a.length;n++)i=a[n],u=i[i.length-1],l=i.substring(0,i.length-1),o=parseInt(l,10),f=parseFloat(l),K.test(l)&&"w"===u?((e||r)&&(p=!0),0===o?p=!0:e=o):X.test(l)&&"x"===u?((e||r||s)&&(p=!0),0>f?p=!0:r=f):K.test(l)&&"h"===u?((s||r)&&(p=!0),0===o?p=!0:s=o):p=!0;p||(h.url=c,e&&(h.w=e),r&&(h.d=r),s&&(h.h=s),s||r||e||(h.d=1),1===h.d&&(t.has1x=!0),h.set=t,d.push(h))}function i(){for(r(q),u="",l="in descriptor";;){if(o=e.charAt(p),"in descriptor"===l)if(s(o))u&&(a.push(u),u="",l="after descriptor");else{if(","===o)return p+=1,u&&a.push(u),void n();if("("===o)u+=o,l="in parens";else{if(""===o)return u&&a.push(u),void n();u+=o}}else if("in parens"===l)if(")"===o)u+=o,l="in descriptor";else{if(""===o)return a.push(u),void n();u+=o}else if("after descriptor"===l)if(s(o));else{if(""===o)return void n();l="in descriptor",p-=1}p+=1}}for(var c,a,u,l,o,f=e.length,p=0,d=[];;){if(r(N),p>=f)return d;c=r(V),a=[],","===c.slice(-1)?(c=c.replace(J,""),n()):i()}}function d(e){function t(e){function t(){i&&(c.push(i),i="")}function r(){c[0]&&(a.push(c),c=[])}for(var n,i="",c=[],a=[],u=0,l=0,o=!1;;){if(n=e.charAt(l),""===n)return t(),r(),a;if(o){if("*"===n&&"/"===e[l+1]){o=!1,l+=2,t();continue}l+=1}else{if(s(n)){if(e.charAt(l-1)&&s(e.charAt(l-1))||!i){l+=1;continue}if(0===u){t(),l+=1;continue}n=" "}else if("("===n)u+=1;else if(")"===n)u-=1;else{if(","===n){t(),r(),l+=1;continue}if("/"===n&&"*"===e.charAt(l+1)){o=!0,l+=2;continue}}i+=n,l+=1}}}function r(e){return o.test(e)&&parseFloat(e)>=0?!0:f.test(e)?!0:"0"===e||"-0"===e||"+0"===e?!0:!1}var n,i,c,a,u,l,o=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,f=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=t(e),c=i.length,n=0;c>n;n++)if(a=i[n],u=a[a.length-1],r(u)){if(l=u,a.pop(),0===a.length)return l;if(a=a.join(" "),A.matchesMedia(a))return l}return"100vw"}t.createElement("picture");var h,m,g,v,A={},w=function(){},S=t.createElement("img"),x=S.getAttribute,y=S.setAttribute,b=S.removeAttribute,z=t.documentElement,E={},T={algorithm:""},R="data-pfsrc",M=R+"set",C=navigator.userAgent,P=/rident/.test(C)||/ecko/.test(C)&&C.match(/rv\:(\d+)/)&&RegExp.$1>35,k="currentSrc",D=/\s+\+?\d+(e\d+)?w/,U=/(\([^)]+\))?\s*(.+)/,$=e.picturefillCFG,I="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",W="font-size:100%!important;",L=!0,Q={},F={},B=e.devicePixelRatio,G={px:1,"in":96},H=t.createElement("a"),j=!1,q=/^[ \t\n\r\u000c]+/,N=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,J=/[,]+$/,K=/^\d+$/,X=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,_=function(e,t,r,s){e.addEventListener?e.addEventListener(t,r,s||!1):e.attachEvent&&e.attachEvent("on"+t,r)},O=function(e){var t={};return function(r){return r in t||(t[r]=e(r)),t[r]}},Y=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=function(){for(var e=arguments,t=0,r=e[0];++t in e;)r=r.replace(e[t],e[++t]);return r},r=O(function(e){return"return "+t((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(t,s){var n;if(!(t in Q))if(Q[t]=!1,s&&(n=t.match(e)))Q[t]=n[1]*G[n[2]];else try{Q[t]=new Function("e",r(t))(G)}catch(i){}return Q[t]}}(),Z=function(e,t){return e.w?(e.cWidth=A.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ee=function(e){var r,s,n,i=e||{};if(i.elements&&1===i.elements.nodeType&&("IMG"===i.elements.nodeName.toUpperCase()?i.elements=[i.elements]:(i.context=i.elements,i.elements=null)),r=i.elements||A.qsa(i.context||t,i.reevaluate||i.reselect?A.sel:A.selShort),n=r.length){for(A.setupRun(i),j=!0,s=0;n>s;s++)A.fillImg(r[s],i);A.teardownRun(i)}};h=e.console&&console.warn?function(e){console.warn(e)}:w,k in S||(k="src"),E["image/jpeg"]=!0,E["image/gif"]=!0,E["image/png"]=!0,E["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),A.ns=("pf"+(new Date).getTime()).substr(0,9),A.supSrcset="srcset"in S,A.supSizes="sizes"in S,A.supPicture=!!e.HTMLPictureElement,A.supSrcset&&A.supPicture&&!A.supSizes&&!function(e){S.srcset="data:,a",e.src="data:,a",A.supSrcset=S.complete===e.complete,A.supPicture=A.supSrcset&&A.supPicture}(t.createElement("img")),A.selShort="picture>img,img[srcset]",A.sel=A.selShort,A.cfg=T,A.supSrcset&&(A.sel+=",img["+M+"]"),A.DPR=B||1,A.u=G,A.types=E,g=A.supSrcset&&!A.supSizes,A.setSize=w,A.makeUrl=O(function(e){return H.href=e,H.href}),A.qsa=function(e,t){return e.querySelectorAll(t)},A.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?A.matchesMedia=function(e){return!e||matchMedia(e).matches}:A.matchesMedia=A.mMQ,A.matchesMedia.apply(this,arguments)},A.mMQ=function(e){return e?Y(e):!0},A.calcLength=function(e){var t=Y(e,!0)||!1;return 0>t&&(t=!1),t},A.supportsType=function(e){return e?E[e]:!0},A.parseSize=O(function(e){var t=(e||"").match(U);return{media:t&&t[1],length:t&&t[2]}}),A.parseSet=function(e){return e.cands||(e.cands=p(e.srcset,e)),e.cands},A.getEmValue=function(){var e;if(!m&&(e=t.body)){var r=t.createElement("div"),s=z.style.cssText,n=e.style.cssText;r.style.cssText=I,z.style.cssText=W,e.style.cssText=W,e.appendChild(r),m=r.offsetWidth,e.removeChild(r),m=parseFloat(m,10),z.style.cssText=s,e.style.cssText=n}return m||16},A.calcListLength=function(e){if(!(e in F)||T.uT){var t=A.calcLength(d(e));F[e]=t?t:G.width}return F[e]},A.setRes=function(e){var t;if(e){t=A.parseSet(e);for(var r=0,s=t.length;s>r;r++)Z(t[r],e.sizes)}return t},A.setRes.res=Z,A.applySetCandidate=function(e,t){if(e.length){var r,s,n,i,a,o,f,p,d,h=t[A.ns],m=A.DPR;if(o=h.curSrc||t[k],f=h.curCan||l(t,o,e[0].set),f&&f.set===e[0].set&&(d=P&&!t.complete&&f.res-.1>m,d||(f.cached=!0,f.res>=m&&(a=f))),!a)for(e.sort(u),i=e.length,a=e[i-1],s=0;i>s;s++)if(r=e[s],r.res>=m){n=s-1,a=e[n]&&(d||o!==A.makeUrl(r.url))&&c(e[n].res,r.res,m,e[n].cached)?e[n]:r;break}a&&(p=A.makeUrl(a.url),h.curSrc=p,h.curCan=a,p!==o&&A.setSrc(t,a),A.setSize(t))}},A.setSrc=function(e,t){var r;e.src=t.url,"image/svg+xml"===t.set.type&&(r=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=r))},A.getSet=function(e){var t,r,s,n=!1,i=e[A.ns].sets;for(t=0;t<i.length&&!n;t++)if(r=i[t],r.srcset&&A.matchesMedia(r.media)&&(s=A.supportsType(r.type))){"pending"===s&&(r=s),n=r;break}return n},A.parseSets=function(e,t,s){var n,i,c,a,u=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[A.ns];(l.src===r||s.src)&&(l.src=x.call(e,"src"),l.src?y.call(e,R,l.src):b.call(e,R)),(l.srcset===r||s.srcset||!A.supSrcset||e.srcset)&&(n=x.call(e,"srcset"),l.srcset=n,a=!0),l.sets=[],u&&(l.pic=!0,f(t,l.sets)),l.srcset?(i={srcset:l.srcset,sizes:x.call(e,"sizes")},l.sets.push(i),c=(g||l.src)&&D.test(l.srcset||""),c||!l.src||o(l.src,i)||i.has1x||(i.srcset+=", "+l.src,i.cands.push({url:l.src,d:1,set:i}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=r,l.supported=!(u||i&&!A.supSrcset||c),a&&A.supSrcset&&!l.supported&&(n?(y.call(e,M,n),e.srcset=""):b.call(e,M)),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==A.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},A.fillImg=function(e,t){var r,s=t.reselect||t.reevaluate;e[A.ns]||(e[A.ns]={}),r=e[A.ns],(s||r.evaled!==v)&&((!r.parsed||t.reevaluate)&&A.parseSets(e,e.parentNode,t),r.supported?r.evaled=v:a(e))},A.setupRun=function(){(!j||L||B!==e.devicePixelRatio)&&i()},A.supPicture?(ee=w,A.fillImg=w):!function(){var r,s=e.attachEvent?/d$|^c/:/d$|^c|^i/,n=function(){var e=t.readyState||"";i=setTimeout(n,"loading"===e?200:999),t.body&&(A.fillImgs(),r=r||s.test(e),r&&clearTimeout(i))},i=setTimeout(n,t.body?9:99),c=function(e,t){var r,s,n=function(){var i=new Date-s;t>i?r=setTimeout(n,t-i):(r=null,e())};return function(){s=new Date,r||(r=setTimeout(n,t))}},a=z.clientHeight,u=function(){L=Math.max(e.innerWidth||0,z.clientWidth)!==G.width||z.clientHeight!==a,a=z.clientHeight,L&&A.fillImgs()};_(e,"resize",c(u,99)),_(t,"readystatechange",n)}(),A.picturefill=ee,A.fillImgs=ee,A.teardownRun=w,ee._=A,e.picturefillCFG={pf:A,push:function(e){var t=e.shift();"function"==typeof A[t]?A[t].apply(A,e):(T[t]=e[0],j&&A.fillImgs({reselect:!0}))}};for(;$&&$.length;)e.picturefillCFG.push($.shift());e.picturefill=ee,"object"==typeof module&&"object"==typeof module.exports?module.exports=ee:"function"==typeof define&&define.amd&&define("picturefill",function(){return ee}),A.supPicture||(E["image/webp"]=n("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document);
