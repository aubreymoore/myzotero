(function($){var feature={initBetaOptInOutButton:function(){var headerEl=document.getElementById("wp-header"),forceEligible=!!document.location.search.match(/[?&]betaOptInStatus[=$&]/),forceOptedIn=!!document.location.search.match(/[?&]betaOptInStatus=true[$&]/),okToShowBetaOptInButton=forceEligible||(headerEl?headerEl.getAttribute("data-beta-btn")=="true":false);if(okToShowBetaOptInButton)headerEl.setAttribute("data-beta-btn","true");function _init(){if(_isEligible()){_insertButton(_isOptedIn());
_setUpClickHandler()}}function _isEligible(){if(forceEligible)return true;else return okToShowBetaOptInButton&&!!document.cookie.match("NWSRDRBTEL:")}function _setUpClickHandler(){$("body").on("click",function(ev){if($(ev.target).closest("#beta-container").length==0)$("#beta-container input[type\x3dcheckbox]:checked").trigger("click")})}function _isOptedIn(){if(forceEligible)return forceOptedIn;else return okToShowBetaOptInButton&&_isEligible()&&!!document.cookie.match("NWSRDRBT:")}function _getForceFlyoutOpen(){if(wp_pb.StaticMethods.isLocalStorageAccessible()&&
localStorage.getItem("forceNewsreaderFlyoutOpen")=="true"){localStorage.removeItem("forceNewsreaderFlyoutOpen");return true}else return false}function _insertButton(isOptedIn){var el=document.querySelector("#main-navigation-right .sign-up-buttons");if(el!=null)el.insertAdjacentHTML("afterend",_getHtml(isOptedIn,_getForceFlyoutOpen()))}function _getHtml(isOptedIn,forceFlyoutOpen){var checkedAttr=forceFlyoutOpen?' checked\x3d"checked"':"";var openingHtml='\x3cdiv id\x3d"beta-container"\x3e\x3cinput type\x3d"checkbox" id\x3d"beta-cbx" class\x3d"hidden"'+
checkedAttr+'\x3e\x3clabel for\x3d"beta-cbx" class\x3d"btn"\x3e\x3cspan class\x3d"fa fa-beta icon"\x3e\x3c/span\x3e\x3cspan class\x3d"text"\x3eBETA\x3c/span\x3e\x3c/label\x3e\x3cdiv class\x3d"flyout"\x3e\x3cdiv class\x3d"flyout-top-arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"flyout-msg"\x3e';var flyoutHtml="";switch(isOptedIn){case false:flyoutHtml='You will no longer be presented with our new article experience. If you decide to give it another try, please \x3ca href\x3d"javascript:void( TWP.newsreader._optIn() )"\x3eopt-in\x3c/a\x3e again.';
break;default:flyoutHtml='\x3cdiv class\x3d"flyout-header"\x3eWelcome to our new reading experience.\x3c/div\x3e Thank you for trying out our new article format. It\u2019s still in development, so we\u2019d \x3ca href\x3d"https://helpcenter.washingtonpost.com/hc/en-us/requests/new?ticket_form_id\x3d360000023891"\x3elove your feedback\x3c/a\x3e. If you no longer wish to participate, you can opt out \x3ca href\x3d"javascript:void( TWP.newsreader._optOut() )"\x3ehere\x3c/a\x3e.';break}var closingHtml=
"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";return openingHtml+flyoutHtml+closingHtml}_init()},init:function(){this.initBetaOptInOutButton()}};feature.init()})(jQuery);
(function($,TWP){var AD_LOAD_TIMER=2E3;var AD_MIN_VISIBLE=4E3;var ANIM_SPEED=250;var console=new TWP.Tools.logger("leaderboard");if($(".layout_article #pb-root .pb-f-ad-leaderboard.full").length);var applyStickiness=function(){var isLoginUser=document.cookie.match(/wapo_secure_login_id=([^;]+)/)?RegExp.$1:"";if(wp_pb.BrowserInfo&&wp_pb.BrowserInfo.tablet||isLoginUser)return;$(function(){var $html=$("html"),$feature=getFeature().find(".leaderboard"),$window=$(window),timer,slotId="slug_leaderboard",
$slotAd=$feature.find("#"+slotId),$closeBtn=$feature.find(".leaderboard-close");if(!$feature.length)return;function removeSticky(){setTimeout(function(){console.log("remove sticky leaderboard.");$feature.slideUp(ANIM_SPEED,function(){$html.removeClass("lb-persist-top-true");$feature.slideDown(ANIM_SPEED)})},AD_MIN_VISIBLE)}function applySticky(){if($window.scrollTop()>100)$html.addClass("lb-persist-top-true");else $html.removeClass("lb-persist-top-true")}function bindEvents(){$window.on("scroll.lb-sticky",
function(e){e.stopPropagation();applySticky();var bnbHeight=$(".pb-f-page-breaking-news-bar .breaking-news-bar").outerHeight();if(bnbHeight>0){$feature.addClass("pb-has-breaking-news");$feature.css("margin-top",bnbHeight+"px");wp_pb.register("breakingnews","close",function(){$feature.removeClass("pb-has-breaking-news");$feature.css("margin-top","")})}});wp_pb.register("nav","finish_open",function(){$feature.removeClass("pb-navheader-hidden")});wp_pb.register("nav","finish_close",function(){$feature.addClass("pb-navheader-hidden")});
$closeBtn.on("click.lb-sticky",function(){AD_MIN_VISIBLE=0;afterLoaded();if(typeof window.sendDataToOmniture==="function"){var data={pageName:window.wp_page_name,eVar1:window.wp_page_name,prop2:window.wp_subsection,eVar2:window.wp_channel,prop3:window.wp_content_type,eVar17:window.wp_content_type,eVar26:"leaderboard-close"};window.sendDataToOmniture("leaderboard-close","event80",data)}})}function afterLoaded(){var $featureContainer=getFeature();if($feature.height()>$featureContainer.outerHeight())$featureContainer.height($feature.height()+
30);$feature.addClass("leaderboard-ad-loaded");$window.off("scroll.lb-sticky");if($html.hasClass("lb-persist-top-true"))removeSticky()}function afterAdInserted(){timer=setTimeout(function(){console.log("from second timeout: prevent ad load fail.");afterLoaded()},6E3);if(window.googletag&&window.googletag.pubadsReady)window.googletag.pubads().addEventListener("slotRenderEnded",function(event){console.log("ad slot: "+event.slot.getSlotElementId()+" inserted success");if(event.slot.getSlotElementId()===
slotId){clearTimeout(timer);setTimeout(function(){console.log("leaderboard ad load success.");afterLoaded()},AD_LOAD_TIMER)}})}applySticky();bindEvents();setTimeout(function(){$closeBtn.addClass("fa-remove")},6E3);if($slotAd.children().length)timer=setTimeout(function(){console.log("from first timeout: if ad is already loaded");afterLoaded()},AD_LOAD_TIMER);$feature.on("DOMNodeInserted",function(e){var $el=$(e.target),id=$el.attr("id");if($el.is("iframe")&&id&&!/(hidden)/g.test(id)){clearTimeout(timer);
$feature.off("DOMNodeInserted");afterAdInserted()}});$feature.on("disableSticky.lb-sticky",function(){clearTimeout(timer);$window.off("scroll.lb-sticky");$feature.off("DOMNodeInserted");$html.removeClass("lb-persist-top-true");TWP.Features.Ad.Leaderboard.sticky=false})})};if(TWP&&TWP.Features&&TWP.Features.Ad&&TWP.Features.Ad.Leaderboard&&!!TWP.Features.Ad.Leaderboard.sticky)applyStickiness();if(TWP&&TWP.Features&&TWP.Features.Ad&&TWP.Features.Ad.Leaderboard&&!!TWP.Features.Ad.Leaderboard.belowSharebar)applySharebarPosition();
$(window.document).on("abtest-ready",function(e,ABT){var test=ABT.get("ads-leaderboard");getFeature().attr("moat-test-id",[getFeature().attr("moat-id")||"unknown/unknown",test.name||"control"].join("-"));if(test.is("below_sharebar"))applySharebarPosition();if(test.is("sticky"))applyStickiness()});function applySharebarPosition(){var $leaderboard=getFeature();var $shareBar=getSharebar();$leaderboard.addClass("after-sharebar-leaderboard");return $leaderboard.insertAfter($shareBar)}function getFeature(){return $(".pb-f-ad-leaderboard")}
function getSharebar(){return $(".pb-f-sharebars-top-share-bar")}})(jQuery,TWP);
(function($){__e=window.__e||[];try{var $d=$(document),$w=$(window);var feature={remarryHeadlines:function(){var remarryHeadlinesSelector=".pb-f-article-article-topper h1, .pb-f-article-ans-article-topper h1";try{wp_pb.StaticMethods.remarryHeadline(remarryHeadlinesSelector)}catch(e){}},initAlignToggle:function(){if($(".header-tool")!==undefined&&$(".header-tool").length>0)if($(".header-tool").position().left==0)$(".header-tool").css("margin-left","0");else $(".header-tool").css("margin-left","30px")},
initLanguageDivs:function(){var langdivs=$('span[id^\x3d"translate-text-"]').hide(),divi=0;(function cycle(){langdivs.eq(divi).fadeIn("slow").delay(3E3).fadeOut("slow",cycle);divi=++divi%langdivs.length})()},initLanguageToggle:function(){var $toggleOption=$(".header-wp-language-button");$toggleOption.click(function(){var $this=$(".header-lang-dropdown");if($this.hasClass("wp-language-button-clicked")){$this.removeClass("wp-language-button-clicked");$toggleOption.removeClass("wp-language-button-clicked-wrapper");
$(".header-tool").removeClass("header-tool-selected")}else{$this.addClass("wp-language-button-clicked");$toggleOption.addClass("wp-language-button-clicked-wrapper");$(".header-tool").addClass("header-tool-selected")}});$d.click(function(e){var target=e.target;if(!$(target).is(".header-wp-language-button")&&!$(target).parents().is(".header-wp-language-button")){$(".header-lang-dropdown").removeClass("wp-language-button-clicked");$(".header-wp-language-button").removeClass("wp-language-button-clicked-wrapper");
$(".header-tool").removeClass("header-tool-selected")}})},initStoryLabelModal:function(){var modal=$(".story-label-explainer");if(modal.find(".label-title").hasClass("Perspective"))modal.find(".label-content").text("Discussion of news topics with a point of view, including narratives by individuals regarding their own experiences");else if(modal.find(".label-title").hasClass("Analysis"))modal.find(".label-content").text("Interpretation of the news based on evidence, including data, as well as anticipating how events might unfold based on past events");
else if(modal.find(".label-title").hasClass("Opinion"))modal.find(".label-content").text("A column or article in the Opinions section (in print, this is known as the Editorial Pages).");else if(modal.find(".label-title").hasClass("Review"))modal.find(".label-content").text("A professional critic\u2019s assessment of a service, product, performance, or artistic or literary work");modal.jqm({overlayClass:"story-label-explainer",overlay:0,onHide:function(hash){hash.w.hide()&&hash.o&&hash.o.remove();
return true}});modal.find(".label-modal-close").click(function(){modal.jqmHide()});$(".section-label-span").hover(function(){modal.jqmShow()});$(document).mouseup(function(e){var container=$(".story-label-explainer");if(!container.is(e.target)&&container.has(e.target).length===0)modal.jqmHide()});if(typeof Hammer==="function"&&wp_pb.BrowserInfo.mobile_browser)try{var hammertime=new Hammer($(".section-label-span")[0],{prevent_mouseevents:true});hammertime.on("tap",handleTap)}catch(err){}function handleTap(ev){ev.gesture.preventDefault();
ev.gesture.stopPropagation();modal.jqmShow()}},initEssentials:function(){var tablet=window.isMobile.tablet();window.VisitorSegment&&VisitorSegment("tablet",function(){return tablet&&$(window).width()>768});window._essentials_onrender=function(Essentials){var $target=$("#essentials-topper"),name=Essentials.name,data=Essentials.data,pdata=Essentials.getPersistentData(),status=pdata[Essentials.contentPath],count=!!name&&!!data?data.results.length:undefined,tcount;if(!!Essentials.name&&$(".cf-essentials-module").length!=
0){$target.show();$(function(){if(count){switch(count){case 1:tcount="One";break;case 2:tcount="Two";break;case 3:tcount="Three";break;case 4:tcount="Four";break;case 5:tcount="Five";break;default:tcount="";break}$(('\x3ch2\x3e\x3cspan class\x3d"status vg-check status-icon status-%s"\x3e\x3c/span\x3e '+'\x3cspan class\x3d"status-count"\x3e'+tcount+" Essentials\x3c/span\x3e "+'\x3cspan class\x3d"status-kicker"\x3e%k\x3c/span\x3e'+"\x3c/h2\x3e").replace("%s","undefined"==typeof status?"scroll":"read").replace("%k",
data.kicker.text)).appendTo($target);$target.on("click.essentials-topper",function(){wp_pb.report("essentials-topper","click",{$target:$target});wp_pb.report("essentials","scrollto",{$from:$target})})}})}}},init:function(){this.initAlignToggle();this.initLanguageDivs();this.initLanguageToggle();this.initStoryLabelModal();this.initEssentials();if((wp_pb.StaticMethods.isSubscriber()||window.location.href.indexOf("//local")>0)&&$("#save_pennant_wrapper").length>0)wp_pb.StaticMethods.saveUnsave.init()}};
if(wp_pb.StaticMethods.isPageHydrated())feature.init();__e.push(["shamble",function(){feature.init()}]);$w.on("resize",wp_pb.StaticMethods.debounce(function(){feature.initAlignToggle()},25))}catch(err){}})(jQuery);(function($){})(jQuery);
(function($){__e=window.__e||[];_dw=window._dw||[];var $article,$d=$(document),$w=$(window),isDesktop=wp_pb.BrowserInfo.desktop;window.cr_on=false;window.wp_meta_data.trackInlineElements=$.cookie("element-impression-debug")!==null||wp_pb.conditions&&wp_pb.conditions.trackInlineElements&&wp_pb.conditions.trackInlineElements();var feature={initLoadTime:function(){var sel=".pb-loadtime .loadtime."+(isDesktop?"active-on-desktop":"active-on-mobile");$(sel,$article).each(function(){var $this=$(this),$parent=
$this.parent(),threshold=(!isNaN($this.attr("data-threshold"))?$this.attr("data-threshold"):2)*1E3;if(!!window.history&&!!history.state&&!!history.state.loadTime){$this.html(Math.round(history.state.loadTime/10)/100);if(history.state.loadTime<threshold)$parent.show();else $parent.hide()}})},tryInitLoadTime:function(){var sel=".pb-loadtime .loadtime."+(isDesktop?"active-on-desktop":"active-on-mobile");if($(sel,$article).filter(":empty").length>0)this.initLoadTime()},initIframes:function(){$("iframe[data-src]",
$article).each(function(){var $this=$(this);$this.attr("src",$this.attr("data-src"))})},initAboutTheAuthors:function(){$("#about-the-authors").click(function(){var $this=$(this);var $container=$this.closest(".multi-author-bio");if($container){if($container.hasClass("open"))$container.removeClass("open").addClass("closed");else $container.removeClass("closed").addClass("open");wp_pb.report("global","domChanged")}})},initTables:function(){var $tables=$("div.extra table",$article);$tables.each(function(){var $table=
$(this),$bars=$(".barchart",$table),longestBar=0;$bars.each(function(){var $bar=$(this),w=$bar.attr("width");if(!isNaN(w)){w=w*1;longestBar=w>longestBar?w:longestBar}});$bars.each(function(){var $bar=$(this),w=$bar.attr("width");if(!isNaN(w)){w=w*1;var scale=$article.width()>480?.85:.75;var relativeWidth=scale*(Math.ceil(100*(w/longestBar)*100)/100);$bar.css("width",relativeWidth+"%")}})})},initGalleries:function(){$(".pb-f-gallery-gallery, .pb-f-gallery-gallery-ans",$article).each(function(){var $gallery=
$(this).children("div:first"),$gtitle=$gallery.attr("data-title"),$permalink=$gallery.attr("data-permalink"),$gurl=$permalink.indexOf("js.")>-1?$permalink.replace("js.","www."):$permalink,$genctitle=encodeURI($gtitle),$gencurl=encodeURI($gurl),$gmain=$gallery.find(".wp-volt-gal-main"),$gheadline=$gallery.find(".wp-volt-gal-embed-promo-top"),$gpromotop=$gallery.find(".wp-volt-gal-embed-promo-top span.cell");if($gtitle&&$gurl){$gheadline.html('\x3ch3 class\x3d"promo-top-title"\x3e'+$gpromotop.html()+
"\x3c/h3\x3e");var gshare='\x3cspan class\x3d"wp-article-sharing"\x3e\x3cspan class\x3d"wp-tooltip-button wp-article-embed"\x3e\x3cspan class\x3d"title"\x3eEmbed\x3c/span\x3e\x3ci class\x3d"fa fa-code icon-code"\x3e\x3c/i\x3e\x3cspan class\x3d"wp-tooltip"\x3e\x3cspan class\x3d"wp-sharing-copy"\x3e\x3cspan class\x3d"wp-sharing-copy-input-wrap"\x3e\x3cinput type\x3d"text" class\x3d"wp-sharing-copy-input" value\x3d"\x3ciframe width\x3d\'480\' height\x3d\'700\' scrolling\x3d\'no\' src\x3d\''+$gurl+'?_template\x3dgallery-embed\' frameborder\x3d\'0\' webkitallowfullscreen mozallowfullscreen allowfullscreen\x3e\x3c/iframe\x3e"\x3e\x3c/span\x3e\x3cspan class\x3d"wp-sharing-copy-button"\x3eCopy\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wp-tooltip-button wp-article-social"\x3e\x3cspan class\x3d"title"\x3eShare\x3c/span\x3e\x3ci class\x3d"fa fa-share icon-share-alt"\x3e\x3c/i\x3e\x3cspan class\x3d"wp-tooltip"\x3e\x3ci class\x3d"wp-sharing-button fa fa-facebook icon-facebook"\x3e\x3c/i\x3e\x3ci class\x3d"wp-sharing-button fa fa-twitter icon-twitter"\x3e\x3c/i\x3e\x3ca class\x3d"wp-sharing-button-email" href\x3d"mailto:?subject\x3d'+
$genctitle+" from The Washington Post\x26body\x3d"+$gencurl+'%3Ftid\x3dss_mail"\x3e\x3ci class\x3d"fa fa-envelope"\x3e\x3c/i\x3e\x3c/a\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e';$(gshare).insertAfter($gmain);var $facebook=$gallery.find(".fa-facebook");$facebook.click(function(){window.open("https://www.facebook.com/sharer/sharer.php?u\x3d"+$gencurl+"%3Ftid\x3dss_fb","share_facebook","width\x3d658,height\x3d354,scrollbars\x3dno");return false});var $twitter=$gallery.find(".fa-twitter");$twitter.click(function(){window.open("https://twitter.com/share?url\x3d"+
$gencurl+"%3Ftid\x3dss_tw\x26text\x3d"+$genctitle,"share_twitter","width\x3d550,height\x3d350,scrollbars\x3dno");return false});var $copybtn=$gallery.find(".wp-sharing-copy-button");$copybtn.click(function(event){event.stopPropagation();$(event.currentTarget).parent().find(".wp-sharing-copy-input").select();try{document.execCommand("copy")}catch(err){}})}})},initTooltips:function(){var $toggleOption=$(".wp-tooltip-button");$toggleOption.click(function(e){var $this=$(this);if($(e.target).is("span")||
$(e.target).is("i.wp-sharing-button")||$(e.target).is("i.icon-envelope")||$(e.target).is("input")){e.preventDefault();return}else if($(this).hasClass("wp-tooltip-button-clicked"))$this.removeClass("wp-tooltip-button-clicked");else{$toggleOption.filter(".wp-tooltip-button-clicked").removeClass("wp-tooltip-button-clicked");$this.addClass("wp-tooltip-button-clicked")}})},initReadMore:function(){var referringDomain=document.referrer.split("/")[2]||"";referringDomain=referringDomain.split(":")[0]||"";
if(referringDomain!==location.hostname){var rmButton=$("\x3cbutton id\x3d'resumeReading'\x3eRead More\x3c/button\x3e").on("click",readMore);$("#article-body article").addClass("blockReading").after(rmButton)}function readMore(e){e.preventDefault();$(this).siblings(".blockReading").removeClass("blockReading").end().remove()}},initResizableIframes:function(){var hasResizableIframe=false;$("iframe[width][height]",$article).each(function(){var $iframe=$(this),w=$iframe.attr("width"),h=$iframe.attr("height");
if(!isNaN(w)&&!isNaN(h)){$iframe.attr("data-aspect-ratio",w/h);if($iframe.attr("width")!=$article.width()){var hFudgeFactor=!!$iframe.attr("src")&&$iframe.attr("src").match(/instagram.com/)?40:0;$iframe.attr("width",Math.round($article.width()));$iframe.attr("height",Math.round($article.width()/$iframe.attr("data-aspect-ratio"))+hFudgeFactor)}if(!hasResizableIframe){hasResizableIframe=true;$w.resize(function(){$("iframe[data-aspect-ratio]",$article).each(function(){var $ifr=$(this);var hFF=!!$iframe.attr("src")&&
$iframe.attr("src").match(/instagram.com/)?40:0;$ifr.attr("width",Math.round($article.width()));$ifr.attr("height",Math.round($article.width()/$ifr.attr("data-aspect-ratio"))+hFF)})})}}})},initAuthorHoverCard:function(){if(isDesktop&&$(".author-hover-card").length)$(".author-wrapper, .author-byline-wrapper").hover(function(){var elementTop=$(this).offset().top;var elementBottom=elementTop+$(this).outerHeight();var viewportTop=$(window).scrollTop();var viewportBottom=viewportTop+$(window).height();
var posLeft;if($(window).width()<1200){$(this).addClass("arrow-left-moved");posLeft=0}else{$(this).removeClass("arrow-left-moved");var nameWidth=(255-$(this).find(".author-name").width())/2;posLeft=nameWidth*-1+"px"}if(viewportBottom-elementBottom<250){var cardHeight=$(this).find(".author-hover-card").height();var posTop=(cardHeight+25)*-1+"px";$(this).find(".author-hover-card").addClass("arrow-down").removeClass("arrow-up").css({top:posTop,left:posLeft})}else $(this).find(".author-hover-card").addClass("arrow-up").removeClass("arrow-down").css({top:"44px",
left:posLeft});$(this).find(".author-hover-card").toggle()})},initAudio:function(){$("audio").each(function(){if($(this).find("source")[0]){var audioSrc=$(this).find("source")[0].src;var audioId=$(this)[0].id;$(this).replaceWith('\x3cdiv class\x3d"audio-wrapper" id\x3d"'+audioId+'"\x3e\x3caudio preload\x3d"none"\x3e\x3csource src\x3d"'+audioSrc+'" type\x3d"audio/mp3" /\x3e\x3ca href\x3d"'+audioSrc+'"\x3e'+audioSrc+'\x3c/a\x3e\x3c/audio\x3e\x3cdiv class\x3d"audio-player"\x3e\x3cdiv class\x3d"play-button play"\x3e\x3c/div\x3e\x3cdiv class\x3d"progress-bar"\x3e\x3cdiv class\x3d"elapsed-bar"\x3e\x3c/div\x3e\x3cdiv class\x3d"playhead"\x3e\x3c/div\x3e\x3cdiv class\x3d"time"\x3e \x3cspan class\x3d"elapsed-time"\x3e00:00\x3c/span\x3e / \x3cspan class\x3d"total-time"\x3e00:00\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}});
$(".audio-wrapper").each(function(){var $this=$(this),$audio=$this.find("audio"),audio=$audio[0],$audioPlayer=$this.find(".audio-player"),$playButton=$audioPlayer.find(".play-button"),$progressBar=$audioPlayer.find(".progress-bar"),$elapsedBar=$audioPlayer.find(".elapsed-bar"),$playhead=$audioPlayer.find(".playhead"),$time=$progressBar.find(".time"),$elapsedTime=$time.find(".elapsed-time"),$totalTime=$time.find(".total-time");var duration;$audio.on("loadedmetadata",function(){duration=audio.duration;
$totalTime.text(formatDuration(duration))});$audio.trigger("load");var playheadWidth=$playhead.outerWidth(),progressBarWidth=$progressBar.outerWidth(),progressBarLeft=$progressBar.offset().left,firstPlayed=false,dragging=false,draggingWhilePaused=false;$playButton.click(function(){if(audio.paused){audio.play();$(this).removeClass("play").addClass("pause");if(firstPlayed===false){firstPlayed=true;$playhead.show()}}else{audio.pause();$(this).removeClass("pause").addClass("play")}});$audio.on("timeupdate",
audioUpdate);$w.on("resize",function(){progressBarWidth=$progressBar.outerWidth();progressBarLeft=$progressBar.offset().left;audioUpdate()});$progressBar.on("mousedown",function(e){if(e.which==1&&firstPlayed===true){e.preventDefault();dragging=true;if(audio.paused)draggingWhilePaused=true;else audio.pause();$w.on("mousemove",drag);$audio.off("timeupdate",audioUpdate)}});$w.on("mouseup",function(e){if(dragging===true){drag(e);$w.off("mousemove",drag);audio.currentTime=duration*((e.pageX-progressBarLeft)/
progressBarWidth);if(audio.currentTime>=duration){audio.pause();$playButton.removeClass("pause").addClass("play")}else if(!draggingWhilePaused)audio.play();$audio.on("timeupdate",audioUpdate)}dragging=false;draggingWhilePaused=false});function drag(e){var newLeft=e.pageX-progressBarLeft;if(newLeft>=0&&newLeft<=progressBarWidth){$playhead.css("left",newLeft-playheadWidth/2+"px");$elapsedBar.css("width",newLeft+"px")}if(newLeft<0){$playhead.css("left",-(playheadWidth/2)+"px");$elapsedBar.css("width",
"0px")}if(newLeft>progressBarWidth){$playhead.css("left",progressBarWidth-playheadWidth/2+"px");$elapsedBar.css("width",progressBarWidth+"px")}}function audioUpdate(){var elapsedBarWidth=progressBarWidth*(audio.currentTime/duration);$playhead.css("left",elapsedBarWidth-playheadWidth/2+"px");$elapsedBar.css("width",elapsedBarWidth+"px");if(audio.currentTime>=duration)$playButton.removeClass("pause").addClass("play");$elapsedTime.text(formatDuration(audio.currentTime))}function formatDuration(duration){var sec=
Math.floor(duration);var min=Math.floor(sec/60);min=min>=10?min:"0"+min;sec=Math.floor(sec%60);sec=sec>=10?sec:"0"+sec;return min+":"+sec}})},initVideo:function(){$article.find(".inline-video").each(function(){var $this=$(this);var $wpvPlayer=$this.find(".wpv-player");if($wpvPlayer.attr("data-show-caption")!=="1")$this.find(".inline-video-caption").show();else;})},initInlineLinks:function(){var inlineLinkConfig={ctx:"#article-body article",selector:'p a[href*\x3d"'+location.hostname+'"]',param:"tid",
getParamValue:function(){return this.param+"\x3da_inl_manual"}};var interstitialLinkConfig={ctx:"#article-body article",selector:'p[data-elm-loc].interstitial-link a[href*\x3d"'+location.hostname+'"], p[data-elm-loc].interstitial-link a[data-original-href$\x3d"'+location.hostname+'"]',param:"tid",getParamValue:function(){return this.param+"\x3da_intr_manual"}};var inlineLinkLocConfig={ctx:"#article-body article",selector:'p[data-elm-loc].interstitial-link a[href*\x3d"'+location.hostname+'"], p[data-elm-loc].interstitial-link a[data-original-href*\x3d"'+
location.hostname+'"]',param:"tidloc",getParamValue:function(){var tidloc="";if(arguments.length>0){var $p=arguments[0].closest("p[data-elm-loc]");if($p.length>0)tidloc=$p.attr("data-elm-loc");if(window.wp_meta_data&&window.wp_meta_data.trackInlineElements)tidloc="imp-enabled:"+tidloc}return this.param+"\x3d"+tidloc}};var inlineBioConfig={ctx:"#article-body article",selector:'.inline-content.author-bio a[href$\x3d"'+location.hostname+'"]',param:"tid",getParamValue:function(){return this.param+"\x3da_bio"}};
try{wp_pb.StaticMethods.parametrizeLinks.init([inlineLinkConfig,interstitialLinkConfig,inlineLinkLocConfig,inlineBioConfig])}catch(e){}},initABTests:function(){_dw.push(["global","ready",function(api){api.get("upgrade-toolkit_v110")}])},initFactChecker:function(){if(window.wp_meta_data&&window.wp_meta_data.page_id&&window.wp_meta_data.page_id.length&&window.wp_meta_data.page_id[0].match(/^fact-checker\d+$/)||$(".sharethefacts_microdata_embed").length>0)if(window.wp_import)window.wp_import(["//dhpikd1t89arn.cloudfront.net/js/include/sharethefacts-v1.js"]).then(function(){if(window.sharethefacts_embed)try{window.sharethefacts_scanned=
false;window.sharethefacts_embed()}catch(e){}})},initExternalGameEmbed:function(){$article.find(".external-game-embed:not(.processed)").each(function(){var $this=$(this);if(typeof $this.attr("data-embed-src")!="undefined")$.ajax({type:"GET",url:$this.attr("data-embed-src"),success:function(data){$this.html(data);$this.removeClass("unprocessed").addClass("processed")}})})},initInlineTracking:function(){var inline=$(".inline-video, .inline-gallery-embedded, .interstitial-link, .pb-f-page-newsletter-inLine");
if(inline.length){inline.each(function(){$(this).attr("data-impression","false")});$(window).on("scroll",wp_pb.StaticMethods.debounce(function(){var elInViewport=$("#article-body").find("[data-impression\x3dfalse]:in-viewport");if(elInViewport.length)$(elInViewport).each(function(){var elmType=$(this).attr("class").match(/video|gallery|link|newsletter/i);var elmTypeInitial=elmType[0][0]==="l"?"il":elmType[0][0];var elmLoc="";try{elmLoc=$(this).data("elm-loc")!==undefined?$(this).data("elm-loc").toString():
$(this).next().data("elm-loc").toString()}catch(err){elmLoc="0"}var formattedTypeLoc=elmTypeInitial+":"+elmLoc;if(typeof window.sendDataToOmniture==="function"){var data={pageName:window.wp_page_name,eVar1:s.eVar1||"",prop2:s.prop2||"",eVar2:s.eVar2||"",prop3:s.prop3||"",eVar7:formattedTypeLoc,eVar17:s.eVar17||"",prop23:formattedTypeLoc,prop58:s.prop58||"",eVar58:s.eVar58||""};sendDataToOmniture("inline-element-impression","event77",data)}$(this).attr("data-impression","true")})},50))}},checkSuspectContent:function(){var el=
document.querySelector("noscript[data-info\x3dsuspect-content]");if(el){var tmpl="Content is suspect: {path}. "+"Rendered at: {renderTime}. "+"Content format is: {contentFormat}. ",options={path:location.pathname,renderTime:el.getAttribute("data-render-time"),contentFormat:el.getAttribute("data-content-format")};throw{name:"SuspectContentException",message:tmpl.replace("{path}",options.path).replace("{renderTime}",options.renderTime).replace("{contentFormat}",options.contentFormat)};}},init:function(){$article=
$("#article-body");this.initIframes();this.initAboutTheAuthors();this.initTables();this.initGalleries();this.initTooltips();this.initResizableIframes();this.initAuthorHoverCard();this.initAudio();this.initVideo();this.initABTests();this.initInlineLinks();this.initFactChecker();this.initExternalGameEmbed();this.tryInitLoadTime();this.checkSuspectContent();if(window.wp_meta_data&&window.wp_meta_data.trackInlineElements)this.initInlineTracking()}};if(wp_pb.StaticMethods.isPageHydrated())feature.init();
__e.push(["shamble",function(){feature.init()}]);$d.on("loadTimeUpdated",function(){$article=$("#article-body");feature.initLoadTime()})})(jQuery);
(function($){__e=window.__e||[];var logger=window.TWP&&TWP.Tools&&TWP.Tools.logger?new TWP.Tools.logger("feature-loader"):window.console;var feature={init:function(){function makeLoadFeatureFunc(baseConfig,baseOptions){baseConfig=baseConfig||{};baseOptions=baseOptions||{};return function(config,options){var conf=$.extend(baseConfig,config);var thisoptions=$.extend(baseOptions,options);wp_pb.StaticMethods.loadFeature(conf,thisoptions)}}var loaderInstances=$(".pb-f-tools-feature-loader");loaderInstances.each(function(i,
el){var $el=$(el);var $config=$(".feature-loader-config",$el);var id=$el.attr("id");if(!$config.length||!id)return;var contentUri=$config.data("contenturi");var loadFeature=makeLoadFeatureFunc({el:id},contentUri?{contentUri:contentUri}:null);var actionFuncs={loadFeature:loadFeature};var conditionsURL=$config.data("conditionsurl");if(conditionsURL){$.get(conditionsURL).then(handler).then(null,function(e){logger.error(e)});return}if($config.is("script")){var conditions;try{conditions=JSON.parse($config.html())}catch(e){logger.error(e);
return}if(conditions){handler(conditions);return}}function handler(configs){ConditionManager.makeFromConfig({configs:configs,conditionFuncs:wp_pb.conditions,actionFuncs:actionFuncs})}})}};if(wp_pb.StaticMethods.isPageHydrated())feature.init();__e.push(["shamble",function(){feature.init()}])})(window.jQuery);
(function($,TWP){var logger=new TWP.Tools.logger("flex");var applyStickiness=function(){var $window=$(window),$ad=$(".pb-f-ad-flex"),$ad_div=$($ad.children()[0]),slotId="slug_flex_ss_bb_hp",adSize=0,inRightRail=false,$right_rail=$("#right-rail"),min_viewport=990;$ad.on("DOMNodeInserted",function(e){var $el=$(e.target),id=$el.attr("id");if($el.is("iframe")&&id&&!/(hidden)/g.test(id)){$ad.off("DOMNodeInserted");$ad.addClass("sticky");afterAdInserted($el)}});var bindScrollDown=function(){var scrollTop,
stopTop=$ad.offset().top+$ad.height()-$ad_div.outerHeight()-50;var getTopPoint=function(){return $ad.offset().top-50};var getMarginLeft=function(){var left=($ad.outerWidth()-adSize)/2;return left<0?0:left};var getRailMarginLeft=function(){if(inRightRail){var railLeft=($right_rail.width()-$ad_div.width())/2;return railLeft<0?0:railLeft}else return getMarginLeft()};var getAdLeft=function(){return $ad.offset().left};var applySticky=function(top){var left=0;if(inRightRail&&top<stopTop){left=$right_rail.offset().left;
$ad_div.css({top:50,left:left,position:"fixed",width:$right_rail.width()})}else if(top<stopTop){left=getAdLeft()+getMarginLeft();$ad_div.css({top:50,left:left,position:"fixed"})}else{var bTop=$ad.height()-$ad_div.height();left=getRailMarginLeft();$ad_div.css({top:bTop,left:left,position:"absolute"})}};var removeSticky=function(){if($ad.hasClass("sticky")){$ad.removeClass("sticky");$ad_div.attr("style","");$window.off("scroll.flexAd-sticky")}};$window.off("scroll.flexAd-sticky").on("scroll.flexAd-sticky",
function(){scrollTop=$window.scrollTop();if(scrollTop>getTopPoint())applySticky(scrollTop);else if($ad.hasClass("sticky"))$ad_div.css({top:0,position:"static",left:getRailMarginLeft()})});$window.off("resize.flexAd-sticky").on("resize.flexAd-sticky",function(){if($(window).outerWidth()>min_viewport)if($ad.hasClass("sticky")){var left=0;if($ad_div.css("position")==="fixed")left=getAdLeft()+getMarginLeft();else left=getRailMarginLeft();$ad_div.css({left:left})}else{$ad.addClass("sticky");startSticky()}else removeSticky()});
$ad.on("flexAd.remove_sticky",function(){$window.off("resize.flexAd-sticky");removeSticky()})};function startSticky(){if($(window).outerWidth()>min_viewport)bindScrollDown();else $window.on("resize.flexAd-invisible",function(){if($ad.is(":visible"))bindScrollDown();else $ad.trigger("flexAd.remove_sticky")})}var afterAdInserted=function(){if(window.googletag&&googletag.pubadsReady)googletag.pubads().addEventListener("slotRenderEnded",function(event){if(event.slot.getSlotElementId()===slotId){adSize=
event.size[0];inRightRail=$ad.parent("#right-rail").length>0;logger.log("Flex unit rendered");if(event.size[1]<1050)startSticky()}})}};if(TWP&&TWP.Features&&TWP.Features.Ad&&TWP.Features.Ad.flexAd&&TWP.Features.Ad.flexAd.sticky)applyStickiness()})(jQuery,TWP);
(function($,TWP){var applyStickiness=function(){var $window=$(window),$ad=$(".pb-f-ad-flex-3"),$nextStory=$(".pb-f-article-next-story"),$bottomContent=$("#bottom-content"),$rightRail=$("#right-rail"),slotId="slug_flex_ss_bb_hp_3",stopLimit=0,$prevSibling=$ad.prev();if(!$rightRail.length&&$prevSibling.children().length)$rightRail=$prevSibling;$(document).on("async-features-loaded",function(){$prevSibling=$ad.prev()});$ad.on("DOMNodeInserted",function(e){var $el=$(e.target),id=$el.attr("id");if($el.is("iframe")&&
id&&!/(hidden)/g.test(id)){$ad.off("DOMNodeInserted");afterAdInserted($el)}});var bindScrollDown=function(){var original_top=$ad.offset().top,scrollTop,ad_left=$rightRail.offset().left,adWidth=$rightRail.width(),min_left=618;var getStopPoint=function(){var leaderboardAdTop=$bottomContent.length?$bottomContent.offset().top:$(document).height();var featureTop=$nextStory.is(":visible")?$nextStory.offset().top:leaderboardAdTop;return featureTop-$ad.height()-50}();var getTopPoint=function(){if($prevSibling.length)return $prevSibling.offset().top+
$prevSibling.height();else return original_top};var applySticky=function(scrollTop){var stopPoint=getStopPoint;stopLimit=stopLimit?stopLimit:stopPoint+$ad.height()+50;if(scrollTop>stopPoint){if($ad.hasClass("sticky")){$ad.removeClass("sticky");var topPoint=stopPoint-$ad.height()/2;$ad.css({top:topPoint,left:0,position:"absolute"})}}else if(scrollTop<stopPoint+$ad.height()+50)if(!$ad.hasClass("sticky")&&ad_left>min_left){$ad.css({top:50,left:ad_left,width:adWidth,position:"initial"});$ad.addClass("sticky")}};
var removeSticky=function(){if($ad.hasClass("sticky")){$ad.attr("style","");$ad.removeClass("sticky")}};$window.off("scroll.flexAd3-sticky").on("scroll.flexAd3-sticky",function(){scrollTop=$window.scrollTop();if(scrollTop>getTopPoint())applySticky(scrollTop);else removeSticky()});$window.off("resize.flexAd3-sticky").on("resize.flexAd3-sticky",function(){ad_left=$rightRail.offset().left;if($ad.is(":visible")&&$ad.hasClass("sticky"))if(ad_left>min_left)$ad.css({left:ad_left});else removeSticky()});
$ad.on("flexAd3.remove_sticky",function(){$window.off("scroll.flexAd3-sticky");$window.off("resize.flexAd3-sticky");removeSticky()})};function startSticky(){if(!TWP.Features.Ad.flexAd3.sticky)return;if($ad.is(":visible"))bindScrollDown();else $window.on("resize.flexAd3-invisible",function(){if($ad.is(":visible"))bindScrollDown();else $ad.trigger("flexAd3.remove_sticky")})}var afterAdInserted=function(){if(window.googletag&&window.googletag.pubadsReady)window.googletag.pubads().addEventListener("slotRenderEnded",
function(event){if(event.slot.getSlotElementId()===slotId)startSticky()})}};if(TWP.Features.Ad.flexAd3&&TWP.Features.Ad.flexAd3.sticky)applyStickiness()})(jQuery,TWP);__darwinmeta__=window.__darwinmeta__||{isFired:false};
(function(window,store){var MAX_WAIT=200;_dw=window._dw||[];_dw.push(["global","ready",function(api){if(!store.isFired){store.isFired=true;fireEvent(api)}}]);setTimeout(function(){if(!store.isFired&&"function"==typeof window._dw)_dw.push(["global","ready",function(api){store.isFired=true;fireEvent(api)}])},MAX_WAIT);function fireEvent(api){$(window.document).trigger("abtest-ready",[api])}})(window,__darwinmeta__);
(function(){var wp_data=window.wp_meta_data;var article=null;var host="https://contextual-linking-public-prod.washpost.nile.works/api/v1/";var locale=document.location.toString();if(window.wp_pb.environment!=="production")host=host.replace(/prod/,"test");var supportsPassive=false;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=true}});window.addEventListener("test",null,opts)}catch(e){}var visibilityCallbacks={};function visibilityCallback(){var config=null;var element=
null;var callback=null;var body=document.body;var html=document.documentElement;var height=html.clientHeight||body.clientHeight;for(var key in visibilityCallbacks)if(visibilityCallbacks.hasOwnProperty(key)){config=visibilityCallbacks[key];if(config){element=config[0];callback=config[1];var boundaries=element.getBoundingClientRect();if(boundaries.top>0&&boundaries.top<height){callback();visibilityCallbacks[key]=null}}}}window.addEventListener("resize",visibilityCallback,supportsPassive?{passive:true}:
false);document.addEventListener("scroll",visibilityCallback,supportsPassive?{passive:true}:false);var links={init:function(){var self=this;if(wp_data&&wp_data.contextualLinking&&wp_data.contextualLinking.matches&&wp_data.contextualLinking.matches.result)self.processAll(wp_data.contextualLinking.matches.result.matches)},processAll:function(data){var self=this;article=data;var links=[];var results=article||[];var url=locale.split("?")[0];if(results)for(var key in results)if(results.hasOwnProperty(key))links.push(results[key]);
for(var i=0;i<links.length;i++)try{if(links[i].concept__note_uuid==null&&links[i].concept__note_question_uuid==null&&links[i].approval_status&&(links[i].approval_status=="pending"||links[i].approval_status=="approved")&&links[i].deleted_at===null&&links[i].concept__concept_url!==url)self.processOne(links[i])}catch(e){}},processOne:function(link){var self=this;var found=false;var articleLinks=document.querySelector("article").getElementsByTagName("a");for(var i=0;i<articleLinks.length;i++){var href1=
(articleLinks[i].href||"").replace(/[?#].*/,"");var href2=link.concept__concept_url.replace(/[?#].*/,"");if(href1==href2)found=true}if(!found){var articlePars=document.querySelector("article").getElementsByTagName("p");for(var p=0;p<articlePars.length;p++)self.addLink(articlePars[p],link)}},addLink:function(elem,link){var self=this;var val;if(link.found)return true;for(var i=0;i<elem.childNodes.length;i++){var node=elem.childNodes[i];if(node.nodeType==Node.TEXT_NODE){if(self.isMatch(node,link)){self.replaceTextWithLink(node,
link);link.found=true}}else if(node.nodeType==Node.ELEMENT_NODE)if(node.nodeName.toLowerCase()!="a"){val=self.addLink(node,link);if(val)return true}else;}},replaceTextWithLink:function(textNode,link){var match=this.getRegex(link).exec(textNode.textContent);if(match[1].length>0)textNode=textNode.splitText(match[1].length);if(textNode.textContent.length==link.matched_keyword.length);else textNode.splitText(link.matched_keyword.length);var newNode=document.createElement("a");newNode.setAttribute("href",
link.concept__concept_url+"?tid\x3da_inl_auto");newNode.setAttribute("target","_blank");newNode.setAttribute("class","contextual-link");newNode.textContent=textNode.textContent;var parent=textNode.parentNode;parent.replaceChild(newNode,textNode);var that=this;visibilityCallbacks[link.id]=[newNode,function(){that.serveLink(link)}];visibilityCallback();this.trackClick(newNode,link)},isMatch:function(node,link){var t1=node.textContent.replace(/[^a-z]/gi,"").trim();var t2=link.matched_text_block.replace(/[^a-z]/gi,
"").trim();if(t1.substr(0,50)==t2.substr(0,50))return true;return false},getRegex:function(link){return new RegExp("(.*?)("+link.matched_keyword+")(.*)","i")},trackClick:function(elem,link){elem.addEventListener("click",function(){var cReq=new XMLHttpRequest;cReq.open("POST",host+"matches/"+link.id+"/clicked/",true);cReq.responseType="json";cReq.setRequestHeader("Arc-Organization","washpost");cReq.send()},false)},serveLink:function(link){var sReq=new XMLHttpRequest;sReq.open("POST",host+"matches/"+
link.id+"/served/",true);sReq.responseType="json";sReq.setRequestHeader("Arc-Organization","washpost");sReq.send()}};if(wp_pb.StaticMethods.isPageHydrated())links.init();var shambleEvent=window.__e;shambleEvent.push(["shamble",function(){links.init()}]);return links})();