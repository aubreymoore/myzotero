(function($){wp_pb=window.wp_pb||{};wp_pb.StaticMethods=wp_pb.StaticMethods||{};wp_pb.StaticMethods.debounce=wp_pb.StaticMethods.debounce||function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}};wp_pb.StaticMethods.swapImage=wp_pb.StaticMethods.swapImage||function($imgElems,
$root,threshold){$root=$root||$("body");$imgElems=$imgElems||$("img.unprocessed",$root);threshold=threshold||480;var $w=$(window),settings={container:$w,imageClass:"unprocessed",urlAttribute:"data-low-res-src",urlHiAttribute:"data-hi-res-src",threshold:"data-threshold"},o=jQuery.extend(settings,{altImageClass:"placeholder"});$imgElems.filter(":ahead-of-viewport").each(function(i){var $this=$(this),width=$this.width(),dataThreshold=$this.data("threshold");if($this.hasClass("defer-spacer")){$this[0]._bish=
true;$this[0].removeAttribute("width");$this[0].removeAttribute("height")}if(!isNaN(parseInt(dataThreshold)))threshold=parseInt(dataThreshold);var src="";if(width>threshold){src=o.urlHiAttribute;if($this.hasClass("placeholder"))$this.attr("src",$this.attr(src)).addClass("hi-res-lazy");else $this.attr("src",$this.attr(src)).addClass("hi-res-upsize")}else if(!$this.hasClass("placeholder"));else{src=o.urlAttribute;if($this.hasClass(o.altImageClass))$this.attr("src",$this.attr(src)).addClass("lo-res-lazy");
else if(!$this.hasClass("is-gif"))$this.addClass("lo-res-nosize");else if($this.hasClass("is-gif"))if(!wp_pb.BrowserInfo.desktop){if(!$this.height())$this.removeClass(o.imageClass);if($this.attr("src")!=$this.attr("data-low-res-src"))$this.attr("src",$this.attr("data-low-res-src"));$this.after('\x3cdiv class\x3d"gif-overlay-play-wrapper unprocessed" style\x3d"width: '+$this.width()+"px;height: "+$this.height()+"px;left:"+($root.width()-$this.width())/2+'px;"\x3e\x3cdiv class\x3d"gif-overlay-play"\x3eGIF\x3ci class\x3d"fa fa-play"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');
$this.addClass("zoom-prevent")}else if(wp_pb.BrowserInfo.desktop&&$this.attr("src").indexOf("imrs.php")>=0)$this.attr("src",$this.attr("data-hi-res-src"))}$this.removeAttr("width").removeAttr("height").removeClass(o.imageClass).removeClass(o.altImageClass).addClass("courtesy-of-the-lazy-loader")});return this};wp_pb.StaticMethods.updateImageRes=wp_pb.StaticMethods.updateImageRes||function($imgElems,$root,threshold){threshold=threshold||480;if(typeof $imgElems=="undefined")$imgElems=$("#pb-root img.unprocessed");
if(typeof $root=="undefined")$root=$("body");$imgElems.each(function(i){var $this=$(this),src="",dataThreshold=$this.data("threshold");if(!isNaN(parseInt(dataThreshold)))threshold=parseInt(dataThreshold);if($root.width()>threshold){src=$this.attr("data-hi-res-src");$this.attr("src",src)}else if(!$this.hasClass("placeholder"));else{if($this.attr("src")!=$this.attr("data-low-res-src")){src=$this.attr("data-low-res-src");$this.attr("src",src)}else src=$this.attr("src");if($this.hasClass("is-gif"))if(!wp_pb.BrowserInfo.desktop){$this.after('\x3cdiv class\x3d"gif-overlay-play-wrapper" style\x3d"width: '+
$this.width()+"px;height: "+$this.height()+"px;left:"+($root.width()-$this.width())/2+'px;"\x3e\x3cdiv class\x3d"gif-overlay-play"\x3eGIF\x3ci class\x3d"fa fa-play"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e');$this.addClass("zoom-prevent")}else if(wp_pb.BrowserInfo.desktop&&src.indexOf("imrs.php")>=0)$this.attr("src",src.split("src\x3d")[1].split("\x26")[0])}$this.removeAttr("width").removeAttr("height").removeClass("unprocessed").addClass("courtesy-of-the-resizer")})};wp_pb.StaticMethods.isSubscriber=
wp_pb.StaticMethods.isSubscriber||function(){var sub=document.cookie.match(/rplsb=([0-9]+)/)?RegExp.$1:"";return sub==="1"?true:false};wp_pb.StaticMethods.getCookie=wp_pb.StaticMethods.getCookie||function(name){try{var nameEQ=name+"\x3d";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}return null}catch(err){return null}};wp_pb.StaticMethods.setCookie=wp_pb.StaticMethods.setCookie||
function(name,value,options){options=options||{};if(value===null){value="";options=Object.assign({},options);options.expires=-1}var expires="";if(options.expires&&(typeof options.expires=="number"||options.expires.toUTCString)){var date;if(typeof options.expires=="number"){date=new Date;date.setTime(date.getTime()+options.expires*24*60*60*1E3)}else date=options.expires;expires="; expires\x3d"+date.toUTCString()}var path=options.path?"; path\x3d"+options.path:"";var domain=options.domain?"; domain\x3d"+
options.domain:"";var secure=options.secure?"; secure":"";document.cookie=[name,"\x3d",value,expires,path,domain,secure].join("")};function isIE(){var navigatorString=navigator.userAgent.toLowerCase();return navigatorString.indexOf("msie")!=-1?parseInt(navigatorString.split("msie")[1]):false}wp_pb.StaticMethods.replaceUrlParam=wp_pb.StaticMethods.replaceUrlParam||function(url,paramName,paramValue){var pattern=new RegExp("\\b("+paramName+"\x3d).*?(\x26|$)");if(url.search(pattern)>=0)return url.replace(pattern,
"$1"+paramValue+"$2");return url+(url.indexOf("?")>0?"\x26":"?")+paramName+"\x3d"+paramValue};String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(t,e){var n=this.toString();(void 0===e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e},configurable:true});wp_pb.StaticMethods.loadScript=function loadScript(path){var _deferred=new $.Deferred;if(window.pbExternalResourcesLoaded&&window.pbExternalResourcesLoaded.indexOf(path)>=0){_deferred.reject(path+
" already loaded");return _deferred.promise()}var a=document,b=a.createElement("script"),a=a.getElementsByTagName("script")[0];b.type="text/javascript";b.async=!0;b.src=path;b.onload=function(){_deferred.resolve(path+" loaded")};b.onerror=function(){_deferred.reject(path+" error")};a.parentNode.insertBefore(b,a);var ieVersion=isIE();if(ieVersion&&ieVersion<9)return null;return _deferred.promise()};function loadFeature(config,options){var baseOptions={outputType:"embedded",async:true};var baseConfig=
{context:"/pb/api/v2/render/feature/",featureConfigID:""};config=config||{};options=options||{};config=$.extend(baseConfig,config);options=$.extend(baseOptions,options);if(!config.featureConfigID&&(!options.uri&&(!options.name||!options.id))||!config.el)return;try{var qsParams=joinQueryStringParams(options);var qs=genQueryString([qsParams]);var url=config.context+config.featureConfigID+qs;$.get(url).then(function(rendering){injectFeatureDom(config.el,rendering)}).then(null,function(err){console.error(err)})}catch(e){console.error(e)}}
function injectFeatureDom(id,featureRendering){id="#"+id;var $element=$(id);var $rendering=$(featureRendering.rendering);var pageResources=featureRendering.pageResources||{};var externalResources=featureRendering.externalResources||{};$element.replaceWith($rendering);$.when.apply(null,processExternalResources(externalResources)).then(function(){processInlineScripts($rendering[0]);processPageResources(pageResources)})}function processInlineScripts(element){var jsRegex=/javascript/i;var $element=element instanceof
jQuery?element:$(element);var $scripts=$("script",$element);$scripts.each(function(i,el){var $script=$(el);var type=$script.attr("type");var src=$script.attr("src");if(!!src){var s=document.createElement("script");s.setAttribute("src",src);document.body.appendChild(s)}else if(!type||jsRegex.test(type))eval($script[0].innerHTML)})}function processPageResources(resources){var promises=[];for(var file in resources)if(resources.hasOwnProperty(file)){var filename=resources[file];if(file.endsWith(".js"))promises.push(wp_pb.StaticMethods.loadScript(filename));
if(file.endsWith(".css"))loadCSS(filename)}return promises}function processExternalResources(resources){resources=resources||{};var css=resources.css||[];var js=resources.js||[];css.forEach(loadCSS);return js.map(wp_pb.StaticMethods.loadScript)}function loadCSS(filename){if(!document.getElementById(filename)&&(window.pbExternalResourcesLoaded&&window.pbExternalResourcesLoaded.indexOf(filename)===-1)){var head=document.getElementsByTagName("head")[0];var link=document.createElement("link");link.id=
filename;link.rel="stylesheet";link.type="text/css";link.href=filename;link.media="all";head.appendChild(link)}}function encodeParam(param){try{param=param instanceof Object?JSON.stringify(param):param;return encodeURIComponent(param)}catch(e){return""}}function joinQueryStringParams(params){params=params||{};var p=[];var k;for(k in params){var param=params[k];p.push(k+"\x3d"+encodeParam(param))}return p.join("\x26")}function genQueryString(params){return"?"+params.join("\x26")}wp_pb.StaticMethods.loadFeature=
wp_pb.StaticMethods.loadFeature||loadFeature;function mapCookieToSite(cookie){var defaultVal="0";if(cookie==null)cookie=defaultVal;var val=cookie.split("|")[0];var cookieMap={0:"www.washingtonpost.com",1:"pwa",2:"pwa"};return cookieMap[val]||cookieMap[defaultVal]}function mapSiteToServiceWorkerURL(site){var defaultSite="www.washingtonpost.com";if(site==null)site=defaultSite;var swMap={"www.washingtonpost.com":"/notification-sw.js",pwa:"/pwa-sw.js"};return swMap[site]||swMap[defaultSite]}var serviceWorkerRegistration=
null;wp_pb.StaticMethods.registerServiceWorker=function registerServiceWorker(url,options){options=options===undefined?{}:options;var options$force=options.force;var force=options$force===undefined?false:options$force;if(serviceWorkerRegistration&&!force)return serviceWorkerRegistration;if(!("serviceWorker"in navigator)||location.host!=="localhost"&&location.protocol!=="https:"){serviceWorkerRegistration=Promise.reject(new Error("Service workers not supported"));return serviceWorkerRegistration}if(url){serviceWorkerRegistration=
navigator.serviceWorker.register(url);return serviceWorkerRegistration}var cookie=wp_pb.StaticMethods.getCookie("rplampr");var site=mapCookieToSite(cookie);return navigator.serviceWorker.register(mapSiteToServiceWorkerURL(site))};wp_pb.StaticMethods.updateLoadTime=wp_pb.StaticMethods.updateLoadTime||function(options){options=options||{};if(!!window.history){if(history.state==null||typeof history.state!="object")history.replaceState({},document.title,location.href);var startTime=options.startTime||
performance.timing.navigationStart,endTime=options.endTime||performance.timing.domInteractive,domStartTime=options.startTime||performance.timing.domLoading,domEndTime=options.endTime||performance.timing.domInteractive,loadTime=endTime-startTime,domLoadTime=domEndTime-domStartTime,state={path:document.location.pathname.replace(/^\/pb\//,"/"),loadTime:loadTime,domLoadTime:domLoadTime};for(var p in state)window.history.state[p]=state[p];$(document).trigger("loadTimeUpdated")}};wp_pb.StaticMethods.isPageInitiallyHydrated=
wp_pb.StaticMethods.isPageInitiallyHydrated||function(){return!!window.wp_meta_data&&"isPageInitiallyHydrated"in wp_meta_data?wp_meta_data.isPageInitiallyHydrated:true};wp_pb.StaticMethods.isPageHydrated=wp_pb.StaticMethods.isPageHydrated||wp_pb.StaticMethods.isPageInitiallyHydrated;wp_pb.StaticMethods.isPageInitiallyDehydrated=wp_pb.StaticMethods.isPageInitiallyDehydrated||function(){return!wp_pb.StaticMethods.isPageInitiallyHydrated()};wp_pb.StaticMethods.isPageDehydrated=wp_pb.StaticMethods.isPageDehydrated||
wp_pb.StaticMethods.isPageInitiallyDehydrated;wp_pb.StaticMethods.isLocalStorageAccessible=wp_pb.StaticMethods.isLocalStorageAccessible||function(){try{localStorage.setItem("___isLocalStorageAccessible",true);localStorage.removeItem("___isLocalStorageAccessible");return true}catch(e){return false}};wp_pb.StaticMethods.timingMark=function timingMark(evt){if(window.performance&&typeof performance.mark==="function")window.performance.mark(evt)};wp_pb.StaticMethods.isEUUser=wp_pb.StaticMethods.isEUUser||
function(){return/wp_gdpr=1/.test(document.cookie)};wp_pb.StaticMethods.isPremium=wp_pb.StaticMethods.isPremium||function(){var isPremium=window.wp_meta_data.isPremium!==undefined?window.wp_meta_data.isPremium:false;return isPremium};wp_pb.StaticMethods.isAdfree=wp_pb.StaticMethods.isAdfree||function(){var isAdfreeCookie=/wapo_actmgmt=(\b|.*\|)NOADS\:1([^;]*);/.test(document.cookie);var isAdfreeParam=/_=(.*)is_ad_measure(&*)/.test(location.search);return isAdfreeParam||isAdfreeCookie};var lazyBackgroundObs;
wp_pb.StaticMethods.lazyBackground=wp_pb.StaticMethods.lazyBackground||function(els){els=els||document.querySelectorAll("[data-lazy-background]");els=Array.prototype.slice.call(els);function setBg(el){if(el.dataset.lazyBackground)el.style.backgroundImage='url("'+el.dataset.lazyBackground+'")'}if(!window.IntersectionObserver)els.forEach(setBg);else{var callback=function(entries){entries.forEach(function(entry){if(entry.intersectionRatio>0){lazyBackgroundObs.unobserve(entry.target);setBg(entry.target)}})};
var options={rootMargin:"50px 0px"};lazyBackgroundObs=lazyBackgroundObs||new IntersectionObserver(callback,options);els.forEach(function(el){if(!el.dataset.lazyBackgrounding){el.dataset.lazyBackgrounding=true;lazyBackgroundObs.observe(el)}})}};wp_pb.StaticMethods.makeXhrCall=wp_pb.StaticMethods.makeXhrCall||function(url,options,body){defaultOptions={method:"GET",async:true,withCredentials:true,requestHeaders:[]};options=options||{};options=Object.assign(defaultOptions,options);return new Promise(function(resolve,
reject){if(!url)reject("No Url");try{var xhr=new XMLHttpRequest;xhr.withCredentials=options.withCredentials;xhr.open(options.method,url,options.async);if(options.contentType)xhr.setRequestHeader("Content-Type",options.contentType);options.requestHeaders.forEach(function(obj){for(key in obj)xhr.setRequestHeader(key,obj[key])});xhr.onload=function(){resolve(xhr)};xhr.onerror=function(){reject(xhr)};xhr.send(body)}catch(err){reject(err)}})};wp_pb.StaticMethods.loaded=true})(jQuery);