var PiwikAnalyticsTracker=(function(){var COMMON_TARGET_PARENT_PAIR={"body.piwik-loaded div#epmc_searchBanner button[type='submit']":"Common - Search Button","body.piwik-loaded div#epmc_searchBanner a.advancedSearch":"Common - Advanced Search Link","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav div.logo a":"Common - Logo","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav ul.dropdown a[href*=About]":"Common - About Link","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav ul.dropdown a[href*=tools]":"Common - Tools Link","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav ul.dropdown a[href*=developers]":"Common - Developers Link","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav ul.dropdown a[href*=Help]":"Common - Help Link","body.piwik-loaded div#epmc_pageHeader ul#epmc_mainNav ul.dropdown li.last a":"Common - Plus Link","body.piwik-loaded div#epmc_pageHeader div.dark-gray a[href$=login]":"Common - Sign in Link","body.piwik-loaded div#epmc_pageHeader div.dark-gray a[href$=registration]":"Common - Registration Link"};var COMMON_HANDLERS=initHandlers(COMMON_TARGET_PARENT_PAIR);var ABSTRACT_TARGET_PARENT_PAIR={"body.piwik-loaded ul[role='tablist'] li":"Abstract - Tabs","body.piwik-loaded div.page_info_margin a":"Abstract - Page Margin","body.piwik-loaded div.epmc_searchTools a":"Abstract - Tools","body.piwik-loaded div.epmc_citationName a.clipboard":"Abstract - Add Citation to Export list","body.piwik-loaded div#grant_info a[id^=funder]":"Abstract - Funding","body.piwik-loaded div#orcid_list a[href*=authors]":"Abstract - ORCID Profile Link","body.piwik-loaded div#orcid_list a[href*=AUTHORID]":"Abstract - ORCID Pulbication Search Link","body.piwik-loaded div.publisherLink":"Abstract - Publisher Link","body.piwik-loaded div#abs_highlight_terms div#caja > small > label":"Abstract - Highlight Terms","body.piwik-loaded #highlight_bioentities_label img":"Abstract - Highlight Terms Tooltip",'body.piwik-loaded span:contains("DOI:") + span':"Abstract - DOI","body.piwik-loaded div.abs_journal a":"Abstract - Journal Link","body.piwik-loaded div#fragment-abstract > div.abs_link_metadata > div > span a":"Abstract - Author Link","body.piwik-loaded div#fragment-related-citations a":"Abstract - Citations tab","body.piwik-loaded div#fragment-related-bioentities a":"Abstract - BioEntities tab","body.piwik-loaded div#fragment-related-pubmedarts a":"Abstract - Related Articles tab","body.piwik-loaded div#fragment-related-labLinks a":"Abstract - External Links tab","body.piwik-loaded .page_info_margin #annotation_legend_container #whatizit_highlight6":"Annotations Abstract - Chemicals","body.piwik-loaded .page_info_margin #annotation_legend_container #whatizit_highlight1":"Annotations Abstract - Disease","body.piwik-loaded .page_info_margin #annotation_legend_container #whatizit_highlight":"Annotations Abstract - GO Terms","body.piwik-loaded .page_info_margin #annotation_legend_container #whatizit_highlight2":"Annotations Abstract - Genes/Proteins","body.piwik-loaded .page_info_margin #annotation_legend_container #whatizit_highlight3":"Annotations Abstract - Organisms","body.piwik-loaded .chemical_highlighton .chemical":"Annotations Abstract - Popup Chemical","body.piwik-loaded .disease_highlighton .disease":"Annotations Abstract - Popup Disease","body.piwik-loaded .geneOntology_highlighton .geneOntology":"Annotations Abstract - Popup GO Terms","body.piwik-loaded .protein_highlighton .protein":"Annotations Abstract - Popup Genes/Proteins","body.piwik-loaded .species_highlighton .species":"Annotations Abstract - Popup Organisms","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_details":"Annotations Abstract - Details Link","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_search":"Annotations Abstract - Search Link","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_refine_search":"Annotations Abstract - Refine Search Link","body.piwik-loaded .page_info_margin #legenda_annotation_header_help":"Annotations Abstract - Help"};var ABSTRACT_HANDLERS=initHandlers(ABSTRACT_TARGET_PARENT_PAIR);var FULLTEXT_TARGET_PARENT_PAIR={"body.piwik-loaded ul.ui-tabs-nav li":"Fulltext - Tabs","body.piwik-loaded div.page_info_margin a":"Fulltext - Page Margin","body.piwik-loaded div[id^=fragment] a":"Fulltext - Fragment","body.piwik-loaded div.epmc_searchTools a":"Fulltext - Tools","body.piwik-loaded div.clipboard_icon a":"Fulltext - Export","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_CHEMICALS":"Annotations Full Text - Chemicals","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_DISEASE":"Annotations Full Text - Disease","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_GO_TERMS":"Annotations Full Text - GO Terms","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_GENES_PROTEINS":"Annotations Full Text - Genes/Proteins","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_ORGANISMS":"Annotations Full Text - Organisms","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_PHOSPHORYLATE_NACTEM":"Annotations Full Text - Phosphorylate Event","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_GENEREF":"Annotations Full Text - GeneRif","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_ACCESSION_NUMBERS":"Annotations Full Text - Accession Numbers","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #checkbox_annotation_EFO":"Annotations Full Text - EFO","body.piwik-loaded #fragment-fulltext .chemicals_annotation":"Annotations Full Text - Popup Chemical","body.piwik-loaded #fragment-fulltext .disease_annotation":"Annotations Full Text - Popup Disease","body.piwik-loaded #fragment-fulltext .go_terms_annotation":"Annotations Full Text - Popup GO Terms","body.piwik-loaded #fragment-fulltext .genes_proteins_annotation":"Annotations Full Text - Popup Genes/Proteins","body.piwik-loaded #fragment-fulltext .organisms_annotation":"Annotations Full Text - Popup Organisms","body.piwik-loaded #fragment-fulltext .phosphorylate_annotation":"Annotations Full Text - Popup Phosphorylate Event","body.piwik-loaded #fragment-fulltext .generef_annotation":"Annotations Full Text - Popup GeneRif","body.piwik-loaded #fragment-fulltext .accession_numbers_annotation":"Annotations Full Text - Popup Accession Numbers","body.piwik-loaded #fragment-fulltext .efo_annotation":"Annotations Full Text - Popup EFO","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_details":"Annotations Full Text - Details Link","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_search":"Annotations Full Text - Search Link","body.piwik-loaded .menu_annotation_rdf .menu_annotation_single_links .menu_annotation_refine_search":"Annotations Full Text - Refine Search Link","body.piwik-loaded #page_info_marginFulltext #annotation_legend_container #legenda_annotation_header_help":"Annotations Full Text - Help"};var FULLTEXT_HANDLERS=initHandlers(FULLTEXT_TARGET_PARENT_PAIR);var SEARCH_TARGET_PARENT_PAIR={"body.piwik-loaded div.results_list a.resultLink":"Search - Fulltext Link"};var SEARCH_HANDLERS=initHandlers(SEARCH_TARGET_PARENT_PAIR);function tracking(){registerEvent(COMMON_TARGET_PARENT_PAIR,COMMON_HANDLERS);var pathElements=location.pathname.split("/");if(pathElements.length>=2&&pathElements[1]=="abstract"){registerEvent(ABSTRACT_TARGET_PARENT_PAIR,ABSTRACT_HANDLERS);}if(pathElements.length>=2&&pathElements[1]=="articles"){registerEvent(FULLTEXT_TARGET_PARENT_PAIR,FULLTEXT_HANDLERS);}if(pathElements.length>=2&&pathElements[1]=="search"){registerEvent(SEARCH_TARGET_PARENT_PAIR,SEARCH_HANDLERS);}console.log("Piwik event registration done");}function init(){var _paq=_paq||[];if(_paq.push){jQuery("body").addClass("piwik-loaded");}if(!Array.prototype.last){Array.prototype.last=function(){return this[this.length-1];};}tracking();console.log("Piwik event initialisation done");}function initHandlers(parents){var handlers={};var targets=Object.keys(parents);var numberOfTargets=targets.length;for(var i=0;i<numberOfTargets;i++){handlers[targets[i]]=(function(parent){return function(e){analyticsTrackInteraction(e.currentTarget,parent);};})(parents[targets[i]]);}return handlers;}function analyticsTrackInteraction(actedOnItem,parentContainer){var linkName=jQuery(actedOnItem).text().toString();linkName=linkName.replace(/(\r\n|\n|\r)/gm,"");linkName=linkName.trim();if(linkName.length==0&&jQuery(actedOnItem).attr("src")){linkName=jQuery(actedOnItem).attr("src").split("/").last();}if(linkName.length==0&&jQuery(actedOnItem).val()){linkName=jQuery(actedOnItem).val();}console.log(parentContainer+": "+linkName);_paq.push(["trackEvent","UI","UI Element / "+parentContainer,""+linkName]);}function registerEvent(parents,handlers){var targets=Object.keys(parents);var num=targets.length;for(var i=0;i<num;i++){var target=targets[i];jQuery(target).unbind("mousedown",handlers[target]);jQuery(target).mousedown(handlers[target]);}}return{init:init,tracking:tracking};})();