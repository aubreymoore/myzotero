/*jslint nomen: true, devel: true*/
/*global hiro: true */

( function( root ) {
	'use strict';


	root.hiro = root.hiro || {};
	root.hiro.config = {
		accountID		: 'comedygivesback' ,
		flowPlayerLicense : "",
		movieLinkUrl		: "http://goaltime.tv/?utm_source=ads&utm_medium=banner&utm_campaign=goaltime",
                server: ['esp-events.apcaps.net'],
				eventsServerBasePath: "/events/EventServlet",
                appEngineDomain:"esp-sync.apcaps.net", 
		logoUrl	: "https://uppercutsec-a.akamaihd.net/Logo/DSI_goaltime_logo.png",

		contentDef: {},
	        contentLogoDef: {},

		playList: [{  url:'https://s3-a.akamaihd.net/ENCODING/250p_OUT/DSI/DSI_goaltime_sv.mp4',
			    customProperties: {
        videoTitle : "DefaultvideoTitle",
        videoDescription : "",
        videoKeyWords : "",
        videoDurationSecs : ""
        }
        }],
		
//default externalViewLogServlet: '',
		placeholderImage : "https://uppercutsec-a.akamaihd.net/Poster/DSI_goaltime_poster300.jpg",
		externalViewLogServlet: 'ibsibs',
		sessionTimeOut : 30,
		networkEventMode:1,

                sendMovieLog: true,
                sendMovieLogUrl: "https://esp-bean.apcaps.net",
                farmId: 1,
                mediaSellerId: 910,


	//default pauseOnAdClick : flase
		pauseOnAdClick : true,
		placementCostFromServer: false,
		useCmsSettings: true,
		prioritizedCampaignsCount: 7,
		prerollsMaxBids: 4,


		multiburnThresholdSecs : 5,
        IAS_percentage : 4,
		allowCookies: 0,
useFlowplayer: false,
moatPercentage: 1,

                events: {
                        adstart: {
                                callback: function ( event ) {
                                        try {
                                                if ( event.data.countImpressionInBreak == 1 ) {
                                                        trackAdView(event.data.adBreakType, event.data.cms);
                                                }
                                        } catch ( ignore ) {
                                        }
                                }
                        },

                        moviestart: {
                                callback: function ( event ) {
                                        try {
                                                trackAdView(event.data.adBreakType, event.data.cms);
                                        } catch ( ignore ) {
                                        }
                                }
                        }
                },
                
                AFFILIATE_MANAGER_SETTINGS: 
		{

		'1907803083': 
			{ 
			events: {
				adimpression: [
								{url: 'https://r.turn.com/r/beacon?b2=Eb0a8qm5bBce9gGgza67nvAXUk5bpT4S8WazJOFBEOtssQjQHpYGI8Kf4wQfy9bwHVo8EgFmmgYzQCx8pxjbrA&cid='},
								{url: 'https://ads.creative-serving.com/pixel?id=3135069'},
								{url: 'https://ads.creative-serving.com/pixel?id=3135070'},
								{url: 'https://r.turn.com/r/beacon?b2=0yuhzkE5seF3kApowJZzQqb590kvAeF0yQmrWMiyuF4ANiAqSRzHOiUbjNuOYyY_If9SP9-7AUDMQO62n1BbCg&cid='},
								{url: 'https://r.turn.com/r/beacon?b2=GrVrljtosvyfwHQtYzdBWPu82lxpedPGAr2RvKNHIpiyFrUnH_NahS-USXrKbyM8UC6rNhuMYVMynAC-TGw_oA&cid='},
								{url: 'https://r.turn.com/r/beacon?b2=nuIYk4tesW0XjXe7ydRWJvUi24GuKrbUDlbHAxlUmUlDGKV4Et8jF6jrLtBrQSG6RAS-4AgAHh83ADucckDUGg&cid='}
							  ]
					}
					}
		},

abTesting :[{"testName":"client_no_rtbLimit_bidLimit","percentage":10,"config":{"prerollsMaxBids":0,"prioritizedCampaignsCount":100}},{"testName":"Opt.high_cpm_alg","percentage":10},{"testName":"client_non_fatal_blackVendor","percentage":10,"config":{"blackVendorExceptions": ["streamrail.com","mega-tags.com"]}},{"testName":"client_dummy","percentage":10},{"testName":"no_interestingDomain","percentage":10,"config":{"suppressDomainOpt":"true"}}],


placementEventsPerc:100,
	localTrafficSplit: "https://comedysec-a.akamaihd.net/JS_Syndiction/version_test/SyndPlugins",
			folderName: "https://comedysec-a.akamaihd.net/SyndPlugins"
	}

} ( this ) ) ;
/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! jQuery v2.2.3 -ajax/load,-ajax/script,-ajax/jsonp,-deprecated,-effects,-effects/animatedSelector,-effects/Tween,-event/alias,-wrap,-core/ready,-css/hiddenVisibleSelectors | (c) jQuery Foundation | jquery.org/license */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.1.1
 */

/*! SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
		is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
		*/

/**
 * UAParser.js v0.7.9
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2015 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 & MIT
 */

/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */

/*!
 * Cookies.js - 0.3.1
 * Wednesday, April 24 2013 @ 2:28 AM EST
 *
 * Copyright (c) 2013, Scott Hamper
 * Licensed under the MIT license,
 * http://www.opensource.org/licenses/MIT
 */

/**
 * @license
 * jQuery Tools @VERSION / Flashembed - New wave Flash embedding
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/toolbox/flashembed.html
 *
 * Since : March 2008
 * Date  : @DATE
 */

// ===============================================
// AdBlock detector
//
// Attempts to detect the presence of Ad Blocker software
// and notify listener of its existence.
// Copyright (c) 2015 IAB
//
// The MIT License (MIT)
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in all
// copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
// SOFTWARE.
// ===============================================

/**
 * cross-storage - Cross domain local storage
 *
 * @version   0.7.0
 * @link      https://github.com/zendesk/cross-storage
 * @author    Daniel St. Jules <danielst.jules@gmail.com>
 * @copyright Zendesk
 * @license   Apache-2.0
 */

/**
 * This source file is part of VpaidLinearRotoscope.
 * Copyright (c) 2014.
 * All rights reserved.
 */

/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

/**
 * @license
 * Video.js 5.10.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */

/*! Time Tracking -------------------------------------------------------------- */

/**
 * Copyright 2013 vtt.js Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*! Hiro version: 108.71-hotfix-28 build: dc7e1bb9a043af443dd3829406a0ac0abb511bf4-28 */

!function(){var e,t,n;!function(r){function o(e,t){return _.call(e,t)}function i(e,t){var n,r,o,i,a,s,l,u,c,d,p,f=t&&t.split("/"),h=y.map,m=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=e.split("/"),a=e.length-1,y.nodeIdCompat&&E.test(e[a])&&(e[a]=e[a].replace(E,"")),e=f.concat(e),c=0;c<e.length;c+=1)if(p=e[c],"."===p)e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||m)&&h){for(n=e.split("/"),c=n.length;c>0;c-=1){if(r=n.slice(0,c).join("/"),f)for(d=f.length;d>0;d-=1)if(o=h[f.slice(0,d).join("/")],o&&(o=o[r])){i=o,s=c;break}if(i)break;!l&&m&&m[r]&&(l=m[r],u=c)}!i&&l&&(i=l,s=u),i&&(n.splice(0,s,i),e=n.join("/"))}return e}function a(e,t){return function(){return f.apply(r,w.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return i(t,e)}}function l(e){return function(t){v[e]=t}}function u(e){if(o(g,e)){var t=g[e];delete g[e],b[e]=!0,p.apply(r,t)}if(!o(v,e)&&!o(b,e))throw new Error("No "+e);return v[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,m,v={},g={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,E=/\.js$/;h=function(e,t){var n,r=c(e),o=r[0];return e=r[1],o&&(o=i(o,t),n=u(o)),o?e=n&&n.normalize?n.normalize(e,s(t)):i(e,t):(e=i(e,t),r=c(e),o=r[0],e=r[1],o&&(n=u(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=v[e];return"undefined"!=typeof t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:d(e)}}},p=function(e,t,n,i){var s,c,d,p,f,y,_=[],w=typeof n;if(i=i||e,"undefined"===w||"function"===w){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(p=h(t[f],i),c=p.f,"require"===c)_[f]=m.require(e);else if("exports"===c)_[f]=m.exports(e),y=!0;else if("module"===c)s=_[f]=m.module(e);else if(o(v,c)||o(g,c)||o(b,c))_[f]=u(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(i,!0),l(c),{}),_[f]=v[c]}d=n?n.apply(v[e],_):void 0,e&&(s&&s.exports!==r&&s.exports!==v[e]?v[e]=s.exports:d===r&&y||(v[e]=d))}else e&&(v[e]=n)},e=t=f=function(e,t,n,o,i){if("string"==typeof e)return m[e]?m[e](t):u(h(e,t).f);if(!e.splice){if(y=e,y.deps&&f(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=o,o=i),o?p(r,e,t,n):setTimeout(function(){p(r,e,t,n)},4),f},f.config=function(e){return f(e)},e._defined=v,n=function(e,t,n){t.splice||(n=t,t=[]),o(v,e)||o(g,e)||(g[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),t.config({map:{"bidding/HtmlFlashAd":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/HtmlAdWrapper":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/vpaid/HtmlVpaidAd":{"dom/createElement":"dom/createElementFuseProtect"},"bidding/vpaid/VpaidPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroFlashPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroHtmlPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/HiroVideoPlayer":{"dom/createElement":"dom/createElementFuseProtect"},"player/PlayerBase":{"dom/createElement":"dom/createElementFuseProtect"},"dom/injectIframe":{"dom/createElement":"dom/createElementFuseProtect"}}}),n("../src/requirejs.map.config",function(){}),function(){n("util/defined",[],function(){var e=function(e){var t=function(t){return e!==t};return t()};return e})}(this),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function r(e){var t=!!e&&"length"in e&&e.length,n=et.type(e);return"function"===n||et.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t){if(e===t)return it=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n?e===q||e.ownerDocument===q&&et.contains(q,e)?-1:t===q||t.ownerDocument===q&&et.contains(q,t)?1:at?K.call(at,e)-K.call(at,t):0:4&n?-1:1)}function i(e){var t,n=[],r=0,i=0;if(it=!1,at=!lt&&e.slice(0),e.sort(o),it){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return at=null,e}function a(e,t,n){if(et.isFunction(t))return et.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return et.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return et.filter(t,e,n);t=et.filter(t,e)}return et.grep(e,function(e){return K.call(t,e)>-1!==n})}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return et.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function u(){this.expando=et.expando+u.uid++}function c(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(jt,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xt.test(n)?et.parseJSON(n):n}catch(o){}kt.set(e,t,n)}else n=void 0;return n}function d(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return et.css(e,t,"")},l=s(),u=n&&n[3]||(et.cssNumber[t]?"":"px"),c=(et.cssNumber[t]||"px"!==u&&+l)&&St.exec(et.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do i=i||".5",c/=i,et.style(e,t,c+u);while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}function p(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&et.nodeName(e,t)?et.merge([e],n):n}function f(e,t){for(var n=0,r=e.length;r>n;n++)Tt.set(e[n],"globalEval",!t||Tt.get(t[n],"globalEval"))}function h(e,t,n,r,o){for(var i,a,s,l,u,c,d=t.createDocumentFragment(),h=[],m=0,v=e.length;v>m;m++)if(i=e[m],i||0===i)if("object"===et.type(i))et.merge(h,i.nodeType?[i]:i);else if(Lt.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(Pt.exec(i)||["",""])[1].toLowerCase(),l=Nt[s]||Nt._default,a.innerHTML=l[1]+et.htmlPrefilter(i)+l[2],c=l[0];c--;)a=a.lastChild;et.merge(h,a.childNodes),a=d.firstChild,a.textContent=""}else h.push(t.createTextNode(i));for(d.textContent="",m=0;i=h[m++];)if(r&&et.inArray(i,r)>-1)o&&o.push(i);else if(u=et.contains(i.ownerDocument,i),a=p(d.appendChild(i),"script"),u&&f(a),n)for(c=0;i=a[c++];)Dt.test(i.type||"")&&n.push(i);return d}function m(){return!0}function v(){return!1}function g(){try{return q.activeElement}catch(e){}}function y(e,t,n,r,o,i){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)y(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),o===!1)o=v;else if(!o)return e;return 1===i&&(a=o,o=function(e){return et().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=et.guid++)),e.each(function(){et.event.add(this,t,o,r,n)})}function b(e,t){return et.nodeName(e,"table")&&et.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function w(e){var t=Ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function E(e,t){var n,r,o,i,a,s,l,u;if(1===t.nodeType){if(Tt.hasData(e)&&(i=Tt.access(e),a=Tt.set(t,i),u=i.events)){delete a.handle,a.events={};for(o in u)for(n=0,r=u[o].length;r>n;n++)et.event.add(t,o,u[o][n])}kt.hasData(e)&&(s=kt.access(e),l=et.extend({},s),kt.set(t,l))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&It.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function k(e,t,n,r){t=z.apply([],t);var o,i,a,s,l,u,c=0,d=e.length,f=d-1,m=t[0],v=et.isFunction(m);if(v||d>1&&"string"==typeof m&&!J.checkClone&&Ht.test(m))return e.each(function(o){var i=e.eq(o);v&&(t[0]=m.call(this,o,i.html())),k(i,t,n,r)});if(d&&(o=h(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=et.map(p(o,"script"),_),s=a.length;d>c;c++)l=o,c!==f&&(l=et.clone(l,!0,!0),s&&et.merge(a,p(l,"script"))),n.call(e[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,et.map(a,w),c=0;s>c;c++)l=a[c],Dt.test(l.type||"")&&!Tt.access(l,"globalEval")&&et.contains(u,l)&&(l.src?et._evalUrl&&et._evalUrl(l.src):et.globalEval(l.textContent.replace(Wt,"")))}return e}function x(e,t,n){for(var r,o=t?et.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||et.cleanData(p(r)),r.parentNode&&(n&&et.contains(r.ownerDocument,r)&&f(p(r,"script")),r.parentNode.removeChild(r));return e}function j(e,t){var n=et(t.createElement(e)).appendTo(t.body),r=et.css(n[0],"display");return n.detach(),r}function C(e){var t=q,n=$t[e];return n||(n=j(e,t),"none"!==n&&n||(qt=(qt||et("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qt[0].contentDocument,t.write(),t.close(),n=j(e,t),qt.detach()),$t[e]=n),n}function S(e,t,n){var r,o,i,a,s=e.style;return n=n||Kt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||et.contains(e.ownerDocument,e)||(a=et.style(e,t)),n&&!J.pixelMarginRight()&&Gt.test(a)&&zt.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),void 0!==a?a+"":a}function A(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function O(e){if(e in en)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Zt.length;n--;)if(e=Zt[n]+t,e in en)return e}function I(e,t,n){var r=St.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function P(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=et.css(e,n+At[i],!0,o)),r?("content"===n&&(a-=et.css(e,"padding"+At[i],!0,o)),"margin"!==n&&(a-=et.css(e,"border"+At[i]+"Width",!0,o))):(a+=et.css(e,"padding"+At[i],!0,o),"padding"!==n&&(a+=et.css(e,"border"+At[i]+"Width",!0,o)));return a}function D(t,n,r){var o=!0,i="width"===n?t.offsetWidth:t.offsetHeight,a=Kt(t),s="border-box"===et.css(t,"boxSizing",!1,a);if(q.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(i=Math.round(100*t.getBoundingClientRect()[n])),0>=i||null==i){if(i=S(t,n,a),(0>i||null==i)&&(i=t.style[n]),Gt.test(i))return i;o=s&&(J.boxSizingReliable()||i===t.style[n]),i=parseFloat(i)||0}return i+P(t,n,r||(s?"border":"content"),o,a)+"px"}function N(e,t){for(var n,r,o,i=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(i[a]=Tt.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ot(r)&&(i[a]=Tt.access(r,"olddisplay",C(r.nodeName)))):(o=Ot(r),"none"===n&&o||Tt.set(r,"olddisplay",o?n:et.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function L(e){return e.getAttribute&&e.getAttribute("class")||""}function M(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_t)||[];if(et.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function o(s){var l;return i[s]=!0,et.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),l}var i={},a=e===_n;return o(t.dataTypes[0])||!i["*"]&&o("*")}function F(e,t){var n,r,o=et.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&et.extend(!0,e,r),e}function V(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}return i?(i!==l[0]&&l.unshift(i),n[i]):void 0}function B(e,t,n,r){var o,i,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(a=u[l+" "+i]||u["* "+i],!a)for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[o]:u[o]!==!0&&(i=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function H(e,t,n,r){var o;if(et.isArray(t))et.each(t,function(t,o){n||kn.test(e)?r(e,o):H(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==et.type(t))r(e,t);else for(o in t)H(e+"["+o+"]",t[o],n,r)}function U(e){return et.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],q=e.document,$=W.slice,z=W.concat,G=W.push,K=W.indexOf,Y={},X=Y.toString,Q=Y.hasOwnProperty,J={},Z="2.2.3 -ajax/load,-ajax/script,-ajax/jsonp,-deprecated,-effects,-effects/animatedSelector,-effects/Tween,-event/alias,-wrap,-core/ready,-css/hiddenVisibleSelectors",et=function(e,t){return new et.fn.init(e,t)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^-ms-/,rt=/-([\da-z])/gi,ot=function(e,t){return t.toUpperCase()};et.fn=et.prototype={jquery:Z,constructor:et,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=et.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return et.each(this,e)},map:function(e){return this.pushStack(et.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:G,sort:W.sort,splice:W.splice},et.extend=et.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||et.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(et.isPlainObject(r)||(o=et.isArray(r)))?(o?(o=!1,i=n&&et.isArray(n)?n:[]):i=n&&et.isPlainObject(n)?n:{},a[t]=et.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},et.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===et.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!et.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==et.type(e)||e.nodeType||et.isWindow(e))return!1;if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||Q.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=et.trim(e),e&&(1===e.indexOf("use strict")?(t=q.createElement("script"),t.text=e,q.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(nt,"ms-").replace(rt,ot)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(r(e))for(n=e.length;n>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(tt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?et.merge(n,"string"==typeof e?[e]:e):G.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:K.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;n>r;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r,o=[],i=0,a=e.length,s=!n;a>i;i++)r=!t(e[i],i),r!==s&&o.push(e[i]);return o},map:function(e,t,n){var o,i,a=0,s=[];if(r(e))for(o=e.length;o>a;a++)i=t(e[a],a,n),null!=i&&s.push(i);else for(a in e)i=t(e[a],a,n),null!=i&&s.push(i);return z.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),et.isFunction(e)?(r=$.call(arguments,2),o=function(){return e.apply(t||this,r.concat($.call(arguments)))},o.guid=e.guid=e.guid||et.guid++,o):void 0},now:Date.now,support:J}),"function"==typeof Symbol&&(et.fn[Symbol.iterator]=W[Symbol.iterator]),et.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var it,at,st=q.documentElement,lt=et.expando.split("").sort(o).join("")===et.expando,ut=st.matches||st.webkitMatchesSelector||st.mozMatchesSelector||st.oMatchesSelector||st.msMatchesSelector;et.extend({find:function(e,t,n,r){var o,i,a=0;if(n=n||[],t=t||q,!e||"string"!=typeof e)return n;if(1!==(i=t.nodeType)&&9!==i)return[];if(r)for(;o=r[a++];)et.find.matchesSelector(o,e)&&n.push(o);else et.merge(n,t.querySelectorAll(e));return n},uniqueSort:i,unique:i,text:function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o)return e.textContent;if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=et.text(t);return n},contains:function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!n.contains(r))},isXMLDoc:function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),et.extend(et.find,{matches:function(e,t){return et.find(e,null,null,t)},matchesSelector:function(e,t){return ut.call(e,t)},attr:function(e,t){var n=et.expr.attrHandle[t.toLowerCase()],r=n&&Q.call(et.expr.attrHandle,t.toLowerCase())?n(e,t,et.isXMLDoc(e)):void 0;return void 0!==r?r:e.getAttribute(t)}});var ct=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&et(e).is(n))break;r.push(e)}return r},dt=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pt=et.expr.match.needsContext,ft=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;et.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?et.find.matchesSelector(r,e)?[r]:[]:et.find.matches(e,et.grep(t,function(e){return 1===e.nodeType}))},et.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(et(e).filter(function(){for(t=0;n>t;t++)if(et.contains(o[t],this))return!0}));for(t=0;n>t;t++)et.find(e,o[t],r);return r=this.pushStack(n>1?et.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&pt.test(e)?et(e):e||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=et.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||mt,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:vt.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof et?t[0]:t,et.merge(this,et.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:q,!0)),ft.test(r[1])&&et.isPlainObject(t))for(r in t)et.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=q.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):et.isFunction(e)?void 0!==n.ready?n.ready(e):e(et):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),et.makeArray(e,this))};gt.prototype=et.fn,mt=et(q);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};et.fn.extend({has:function(e){var t=et(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(et.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=pt.test(e)||"string"!=typeof e?et(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&et.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?et.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?K.call(et(e),this[0]):K.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(et.uniqueSort(et.merge(this.get(),et(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),et.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ct(e,"parentNode")},parentsUntil:function(e,t,n){return ct(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ct(e,"nextSibling")},prevAll:function(e){return ct(e,"previousSibling")},nextUntil:function(e,t,n){return ct(e,"nextSibling",n)},prevUntil:function(e,t,n){return ct(e,"previousSibling",n)},siblings:function(e){return dt((e.parentNode||{}).firstChild,e)},children:function(e){return dt(e.firstChild)},contents:function(e){return e.contentDocument||et.merge([],e.childNodes)}},function(e,t){et.fn[e]=function(n,r){var o=et.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=et.filter(r,o)),this.length>1&&(bt[e]||et.uniqueSort(o),yt.test(e)&&o.reverse()),this.pushStack(o)}});var _t=/\S+/g;et.Callbacks=function(e){e="string"==typeof e?l(e):et.extend({},e);var t,n,r,o,i=[],a=[],s=-1,u=function(){for(o=e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)i[s].apply(n[0],n[1])===!1&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},c={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function r(t){et.each(t,function(t,n){et.isFunction(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==et.type(n)&&r(n)})}(arguments),n&&!t&&u()),this},remove:function(){return et.each(arguments,function(e,t){for(var n;(n=et.inArray(t,i,n))>-1;)i.splice(n,1),s>=n&&s--}),this},has:function(e){return e?et.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},et.extend({Deferred:function(e){var t=[["resolve","done",et.Callbacks("once memory"),"resolved"],["reject","fail",et.Callbacks("once memory"),"rejected"],["notify","progress",et.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return et.Deferred(function(n){et.each(t,function(t,i){var a=et.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&et.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?et.extend(e,r):r}},o={};return r.pipe=r.then,et.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=$.call(arguments),a=i.length,s=1!==a||e&&et.isFunction(e.promise)?a:0,l=1===s?e:et.Deferred(),u=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?$.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>o;o++)i[o]&&et.isFunction(i[o].promise)?i[o].promise().progress(u(o,n,t)).done(u(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var wt=function(e,t,n,r,o,i,a){var s=0,l=e.length,u=null==n;if("object"===et.type(n)){o=!0;for(s in n)wt(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,et.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(et(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):i},Et=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};u.uid=1,u.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Et(e))return{};var t=e[this.expando];return t||(t={},Et(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,et.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(void 0!==i){if(void 0===t)this.register(e);else{et.isArray(t)?r=t.concat(t.map(et.camelCase)):(o=et.camelCase(t),t in i?r=[t,o]:(r=o,r=r in i?[r]:r.match(_t)||[])),n=r.length;for(;n--;)delete i[r[n]]}(void 0===t||et.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!et.isEmptyObject(t)}};var Tt=new u,kt=new u,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;et.extend({hasData:function(e){return kt.hasData(e)||Tt.hasData(e)},data:function(e,t,n){return kt.access(e,t,n)},removeData:function(e,t){kt.remove(e,t)},_data:function(e,t,n){return Tt.access(e,t,n)},_removeData:function(e,t){Tt.remove(e,t)}}),et.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=kt.get(i),1===i.nodeType&&!Tt.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=et.camelCase(r.slice(5)),c(i,r,o[r])));Tt.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){kt.set(this,e)}):wt(this,function(t){var n,r;if(i&&void 0===t){if(n=kt.get(i,e)||kt.get(i,e.replace(jt,"-$&").toLowerCase()),void 0!==n)return n;if(r=et.camelCase(e),n=kt.get(i,r),void 0!==n)return n;if(n=c(i,r,void 0),void 0!==n)return n}else r=et.camelCase(e),this.each(function(){var n=kt.get(this,r);kt.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&kt.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){kt.remove(this,e)})}}),et.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Tt.get(e,t),n&&(!r||et.isArray(n)?r=Tt.access(e,t,et.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=et.queue(e,t),r=n.length,o=n.shift(),i=et._queueHooks(e,t),a=function(){et.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Tt.get(e,n)||Tt.access(e,n,{empty:et.Callbacks("once memory").add(function(){Tt.remove(e,[t+"queue",n])})})}}),et.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?et.queue(this[0],e):void 0===t?this:this.each(function(){var n=et.queue(this,e,t);et._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&et.dequeue(this,e)})},dequeue:function(e){return this.each(function(){et.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=et.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Tt.get(i[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=new RegExp("^(?:([+-])=|)("+Ct+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],Ot=function(e,t){return e=t||e,"none"===et.css(e,"display")||!et.contains(e.ownerDocument,e)},It=/^(?:checkbox|radio)$/i,Pt=/<([\w:-]+)/,Dt=/^$|\/(?:java|ecma)script/i,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td;var Lt=/<|&#?\w+;/;!function(){var e=q.createDocumentFragment(),t=e.appendChild(q.createElement("div")),n=q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),J.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Mt=/^key/,Rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ft=/^([^.]*)(?:\.(.+)|)/;et.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=Tt.get(e);if(v)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=et.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof et&&et.event.triggered!==t.type?et.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(_t)||[""],u=t.length;u--;)s=Ft.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=et.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=et.event.special[f]||{},c=et.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&et.expr.match.needsContext.test(o),namespace:h.join(".")},i),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,c):p.push(c),et.event.global[f]=!0)},remove:function(e,t,n,r,o){var i,a,s,l,u,c,d,p,f,h,m,v=Tt.hasData(e)&&Tt.get(e);if(v&&(l=v.events)){for(t=(t||"").match(_t)||[""],u=t.length;u--;)if(s=Ft.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=et.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,v.handle)!==!1||et.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)et.event.remove(e,f+t[u],n,r,!0);et.isEmptyObject(l)&&Tt.remove(e,"handle events")}},dispatch:function(e){e=et.event.fix(e);var t,n,r,o,i,a=[],s=$.call(arguments),l=(Tt.get(this,"events")||{})[e.type]||[],u=et.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=et.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,r=((et.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;
if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)i=t[n],o=i.selector+" ",void 0===r[o]&&(r[o]=i.needsContext?et(o,this).index(l)>-1:et.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||q,r=n.documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[et.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Rt.test(o)?this.mouseHooks:Mt.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new et.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&et.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return et.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},et.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},et.Event=function(e,t){return this instanceof et.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?m:v):this.type=e,t&&et.extend(this,t),this.timeStamp=e&&e.timeStamp||et.now(),void(this[et.expando]=!0)):new et.Event(e,t)},et.Event.prototype={constructor:et.Event,isDefaultPrevented:v,isPropagationStopped:v,isImmediatePropagationStopped:v,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=m,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=m,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=m,e&&e.stopImmediatePropagation(),this.stopPropagation()}},et.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){et.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||et.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),et.fn.extend({on:function(e,t,n,r){return y(this,e,t,n,r)},one:function(e,t,n,r){return y(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,et(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=v),this.each(function(){et.event.remove(this,e,n,t)})}});var Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Bt=/<script|<style|<link/i,Ht=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^true\/(.*)/,Wt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;et.extend({htmlPrefilter:function(e){return e.replace(Vt,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),l=et.contains(e.ownerDocument,e);if(!(J.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||et.isXMLDoc(e)))for(a=p(s),i=p(e),r=0,o=i.length;o>r;r++)T(i[r],a[r]);if(t)if(n)for(i=i||p(e),a=a||p(s),r=0,o=i.length;o>r;r++)E(i[r],a[r]);else E(e,s);return a=p(s,"script"),a.length>0&&f(a,!l&&p(e,"script")),s},cleanData:function(e){for(var t,n,r,o=et.event.special,i=0;void 0!==(n=e[i]);i++)if(Et(n)){if(t=n[Tt.expando]){if(t.events)for(r in t.events)o[r]?et.event.remove(n,r):et.removeEvent(n,r,t.handle);n[Tt.expando]=void 0}n[kt.expando]&&(n[kt.expando]=void 0)}}}),et.fn.extend({domManip:k,detach:function(e){return x(this,e,!0)},remove:function(e){return x(this,e)},text:function(e){return wt(this,function(e){return void 0===e?et.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return k(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return k(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(et.cleanData(p(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return et.clone(this,e,t)})},html:function(e){return wt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Bt.test(e)&&!Nt[(Pt.exec(e)||["",""])[1].toLowerCase()]){e=et.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(et.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return k(this,arguments,function(t){var n=this.parentNode;et.inArray(this,e)<0&&(et.cleanData(p(this)),n&&n.replaceChild(t,this))},e)}}),et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){et.fn[e]=function(e){for(var n,r=[],o=et(e),i=o.length-1,a=0;i>=a;a++)n=a===i?this:this.clone(!0),et(o[a])[t](n),G.apply(r,n.get());return this.pushStack(r)}});var qt,$t={HTML:"block",BODY:"block"},zt=/^margin/,Gt=new RegExp("^("+Ct+")(?!px)[a-z%]+$","i"),Kt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Yt=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=a[i];return o};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",st.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,st.removeChild(a)}var n,r,o,i,a=q.createElement("div"),s=q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),et.extend(J,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),o},reliableMarginLeft:function(){return null==r&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",st.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),st.removeChild(a),s.removeChild(n),t}}))}();var Xt=/^(none|table(?!-c[ea]).+)/,Qt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},Zt=["Webkit","O","Moz","ms"],en=q.createElement("div").style;et.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=S(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=et.camelCase(t),l=e.style;return t=et.cssProps[s]||(et.cssProps[s]=O(s)||s),a=et.cssHooks[t]||et.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:l[t]:(i=typeof n,"string"===i&&(o=St.exec(n))&&o[1]&&(n=d(e,t,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(et.cssNumber[s]?"":"px")),J.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n)),void 0)}},css:function(e,t,n,r){var o,i,a,s=et.camelCase(t);return t=et.cssProps[s]||(et.cssProps[s]=O(s)||s),a=et.cssHooks[t]||et.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=S(e,t,r)),"normal"===o&&t in Jt&&(o=Jt[t]),""===n||n?(i=parseFloat(o),n===!0||isFinite(i)?i||0:o):o}}),et.each(["height","width"],function(e,t){et.cssHooks[t]={get:function(e,n,r){return n?Xt.test(et.css(e,"display"))&&0===e.offsetWidth?Yt(e,Qt,function(){return D(e,t,r)}):D(e,t,r):void 0},set:function(e,n,r){var o,i=r&&Kt(e),a=r&&P(e,t,r,"border-box"===et.css(e,"boxSizing",!1,i),i);return a&&(o=St.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=et.css(e,t)),I(e,n,a)}}}),et.cssHooks.marginLeft=A(J.reliableMarginLeft,function(e,t){return t?(parseFloat(S(e,"marginLeft"))||e.getBoundingClientRect().left-Yt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),et.cssHooks.marginRight=A(J.reliableMarginRight,function(e,t){return t?Yt(e,{display:"inline-block"},S,[e,"marginRight"]):void 0}),et.each({margin:"",padding:"",border:"Width"},function(e,t){et.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+At[r]+t]=i[r]||i[r-2]||i[0];return o}},zt.test(e)||(et.cssHooks[e+t].set=I)}),et.fn.extend({css:function(e,t){return wt(this,function(e,t,n){var r,o,i={},a=0;if(et.isArray(t)){for(r=Kt(e),o=t.length;o>a;a++)i[t[a]]=et.css(e,t[a],!1,r);return i}return void 0!==n?et.style(e,t,n):et.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ot(this)?et(this).show():et(this).hide()})}}),et.fn.delay=function(t,n){return t=et.fx?et.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=q.createElement("input"),t=q.createElement("select"),n=t.appendChild(q.createElement("option"));e.type="checkbox",J.checkOn=""!==e.value,J.optSelected=n.selected,t.disabled=!0,J.optDisabled=!n.disabled,e=q.createElement("input"),e.value="t",e.type="radio",J.radioValue="t"===e.value}();var tn,nn=et.expr.attrHandle;et.fn.extend({attr:function(e,t){return wt(this,et.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){et.removeAttr(this,e)})}}),et.extend({attr:function(e,t,n){var r,o,i=e.nodeType;return 3!==i&&8!==i&&2!==i?"undefined"==typeof e.getAttribute?et.prop(e,t,n):(1===i&&et.isXMLDoc(e)||(t=t.toLowerCase(),o=et.attrHooks[t]||(et.expr.match.bool.test(t)?tn:void 0)),void 0!==n?null===n?void et.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=et.find.attr(e,t),null==r?void 0:r)):void 0},attrHooks:{type:{set:function(e,t){if(!J.radioValue&&"radio"===t&&et.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(_t);if(i&&1===e.nodeType)for(;n=i[o++];)r=et.propFix[n]||n,et.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),tn={set:function(e,t,n){return t===!1?et.removeAttr(e,n):e.setAttribute(n,n),n}},et.each(et.expr.match.bool.source.match(/\w+/g),function(e,t){var n=nn[t]||et.find.attr;nn[t]=function(e,t,r){var o,i;return r||(i=nn[t],nn[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,nn[t]=i),o}});var rn=/^(?:input|select|textarea|button)$/i,on=/^(?:a|area)$/i;et.fn.extend({prop:function(e,t){return wt(this,et.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[et.propFix[e]||e]})}}),et.extend({prop:function(e,t,n){var r,o,i=e.nodeType;return 3!==i&&8!==i&&2!==i?(1===i&&et.isXMLDoc(e)||(t=et.propFix[t]||t,o=et.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=et.find.attr(e,"tabindex");return t?parseInt(t,10):rn.test(e.nodeName)||on.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),J.optSelected||(et.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){et.propFix[this.toLowerCase()]=this});var an=/[\t\r\n\f]/g;et.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(et.isFunction(e))return this.each(function(t){et(this).addClass(e.call(this,t,L(this)))});if("string"==typeof e&&e)for(t=e.match(_t)||[];n=this[l++];)if(o=L(n),r=1===n.nodeType&&(" "+o+" ").replace(an," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=et.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(et.isFunction(e))return this.each(function(t){et(this).removeClass(e.call(this,t,L(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_t)||[];n=this[l++];)if(o=L(n),r=1===n.nodeType&&(" "+o+" ").replace(an," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=et.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):et.isFunction(e)?this.each(function(n){et(this).toggleClass(e.call(this,n,L(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=et(this),i=e.match(_t)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=L(this),t&&Tt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Tt.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+L(n)+" ").replace(an," ").indexOf(t)>-1)return!0;return!1}});var sn=/\r/g,ln=/[\x20\t\r\n\f]+/g;et.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=et.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,et(this).val()):e,null==o?o="":"number"==typeof o?o+="":et.isArray(o)&&(o=et.map(o,function(e){return null==e?"":e+""})),t=et.valHooks[this.type]||et.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=et.valHooks[o.type]||et.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(sn,""):null==n?"":n)):void 0}}),et.extend({valHooks:{option:{get:function(e){var t=et.find.attr(e,"value");return null!=t?t:et.trim(et.text(e)).replace(ln," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,a=i?null:[],s=i?o+1:r.length,l=0>o?s:i?o:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==o||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&et.nodeName(n.parentNode,"optgroup"))){if(t=et(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=et.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=et.inArray(et.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),et.each(["radio","checkbox"],function(){et.valHooks[this]={set:function(e,t){return et.isArray(t)?e.checked=et.inArray(et(e).val(),t)>-1:void 0}},J.checkOn||(et.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var un=/^(?:focusinfocus|focusoutblur)$/;et.extend(et.event,{trigger:function(t,n,r,o){var i,a,s,l,u,c,d,p=[r||q],f=Q.call(t,"type")?t.type:t,h=Q.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||q,3!==r.nodeType&&8!==r.nodeType&&!un.test(f+et.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[et.expando]?t:new et.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:et.makeArray(n,[t]),d=et.event.special[f]||{},o||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!o&&!d.noBubble&&!et.isWindow(r)){for(l=d.delegateType||f,un.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||q)&&p.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=p[i++])&&!t.isPropagationStopped();)t.type=i>1?l:d.bindType||f,c=(Tt.get(a,"events")||{})[t.type]&&Tt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Et(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!Et(r)||u&&et.isFunction(r[f])&&!et.isWindow(r)&&(s=r[u],s&&(r[u]=null),et.event.triggered=f,r[f](),et.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=et.extend(new et.Event,n,{type:e,isSimulated:!0});et.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),et.fn.extend({trigger:function(e,t){return this.each(function(){et.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?et.event.trigger(e,t,n,!0):void 0}}),J.focusin="onfocusin"in e,J.focusin||et.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){et.event.simulate(t,e.target,et.event.fix(e))};et.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Tt.access(r,t);o||r.addEventListener(e,n,!0),Tt.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Tt.access(r,t)-1;o?Tt.access(r,t,o):(r.removeEventListener(e,n,!0),Tt.remove(r,t))}}});var cn=e.location,dn=et.now(),pn=/\?/;et.parseJSON=function(e){return JSON.parse(e+"")},et.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||et.error("Invalid XML: "+t),n};var fn=/#.*$/,hn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,vn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gn=/^(?:GET|HEAD)$/,yn=/^\/\//,bn={},_n={},wn="*/".concat("*"),En=q.createElement("a");En.href=cn.href,et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:cn.href,type:"GET",isLocal:vn.test(cn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":et.parseJSON,"text xml":et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,et.ajaxSettings),t):F(et.ajaxSettings,e)},ajaxPrefilter:M(bn),ajaxTransport:M(_n),ajax:function(t,n){function r(t,n,r,s){var u,d,y,b,w,T=n;2!==_&&(_=2,l&&e.clearTimeout(l),o=void 0,a=s||"",E.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(b=V(p,E,r)),b=B(p,b,E,u),u?(p.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(et.lastModified[i]=w),w=E.getResponseHeader("etag"),w&&(et.etag[i]=w)),204===t||"HEAD"===p.type?T="nocontent":304===t?T="notmodified":(T=b.state,d=b.data,y=b.error,u=!y)):(y=T,!t&&T||(T="error",0>t&&(t=0))),E.status=t,E.statusText=(n||T)+"",u?m.resolveWith(f,[d,T,E]):m.rejectWith(f,[E,T,y]),E.statusCode(g),g=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[E,p,u?d:y]),v.fireWith(f,[E,T]),c&&(h.trigger("ajaxComplete",[E,p]),--et.active||et.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,i,a,s,l,u,c,d,p=et.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?et(f):et.event,m=et.Deferred(),v=et.Callbacks("once memory"),g=p.statusCode||{},y={},b={},_=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!s)for(s={};t=mn.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return _||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>_)for(t in e)g[t]=[g[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return o&&o.abort(t),r(0,t),this}};if(m.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,p.url=((t||p.url||cn.href)+"").replace(fn,"").replace(yn,cn.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=et.trim(p.dataType||"*").toLowerCase().match(_t)||[""],null==p.crossDomain){u=q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=En.protocol+"//"+En.host!=u.protocol+"//"+u.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=et.param(p.data,p.traditional)),R(bn,p,n,E),2===_)return E;c=et.event&&p.global,c&&0===et.active++&&et.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!gn.test(p.type),i=p.url,p.hasContent||(p.data&&(i=p.url+=(pn.test(i)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=hn.test(i)?i.replace(hn,"$1_="+dn++):i+(pn.test(i)?"&":"?")+"_="+dn++)),p.ifModified&&(et.lastModified[i]&&E.setRequestHeader("If-Modified-Since",et.lastModified[i]),et.etag[i]&&E.setRequestHeader("If-None-Match",et.etag[i])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+wn+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)E.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,E,p)===!1||2===_))return E.abort();w="abort";for(d in{success:1,error:1,complete:1})E[d](p[d]);if(o=R(_n,p,n,E)){if(E.readyState=1,c&&h.trigger("ajaxSend",[E,p]),2===_)return E;p.async&&p.timeout>0&&(l=e.setTimeout(function(){E.abort("timeout")},p.timeout));try{_=1,o.send(y,r)}catch(T){if(!(2>_))throw T;r(-1,T)}}else r(-1,"No Transport");return E},getJSON:function(e,t,n){return et.get(e,t,n,"json")},getScript:function(e,t){return et.get(e,void 0,t,"script")}}),et.each(["get","post"],function(e,t){et[t]=function(e,n,r,o){return et.isFunction(n)&&(o=o||r,r=n,n=void 0),et.ajax(et.extend({url:e,type:t,dataType:o,data:n,success:r},et.isPlainObject(e)&&e))}}),et._evalUrl=function(e){return et.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};var Tn=/%20/g,kn=/\[\]$/,xn=/\r?\n/g,jn=/^(?:submit|button|image|reset|file)$/i,Cn=/^(?:input|select|textarea|keygen)/i;et.param=function(e,t){var n,r=[],o=function(e,t){t=et.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=et.ajaxSettings&&et.ajaxSettings.traditional),et.isArray(e)||e.jquery&&!et.isPlainObject(e))et.each(e,function(){o(this.name,this.value)});else for(n in e)H(n,e[n],t,o);return r.join("&").replace(Tn,"+")},et.fn.extend({serialize:function(){return et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=et.prop(this,"elements");return e?et.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!et(this).is(":disabled")&&Cn.test(this.nodeName)&&!jn.test(e)&&(this.checked||!It.test(e))}).map(function(e,t){var n=et(this).val();return null==n?null:et.isArray(n)?et.map(n,function(e){return{name:t.name,value:e.replace(xn,"\r\n")}}):{name:t.name,value:n.replace(xn,"\r\n")}}).get()}}),et.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Sn={0:200,1223:204},An=et.ajaxSettings.xhr();J.cors=!!An&&"withCredentials"in An,J.ajax=An=!!An,et.ajaxTransport(function(t){var n,r;return J.cors||An&&!t.crossDomain?{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Sn[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),et.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||q;var r=ft.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=h([e],t,o),o&&o.length&&et(o).remove(),et.merge([],r.childNodes))},et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){et.fn[t]=function(e){return this.on(t,e)}}),et.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,u,c=et.css(e,"position"),d=et(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),i=et.css(e,"top"),l=et.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),et.isFunction(t)&&(t=t.call(e,n,et.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},et.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){et.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,et.contains(t,r)?(o=r.getBoundingClientRect(),n=U(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===et.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),et.nodeName(e[0],"html")||(r=e.offset()),r.top+=et.css(e[0],"borderTopWidth",!0),r.left+=et.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-et.css(n,"marginTop",!0),left:t.left-r.left-et.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===et.css(e,"position");)e=e.offsetParent;return e||st})}}),et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;et.fn[e]=function(r){return wt(this,function(e,r,o){var i=U(e);return void 0===o?i?i[t]:e[r]:void(i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o)},e,r,arguments.length)}}),et.each(["top","left"],function(e,t){et.cssHooks[t]=A(J.pixelPosition,function(e,n){return n?(n=S(e,t),Gt.test(n)?et(e).position()[t]+"px":n):void 0})}),et.each({Height:"height",Width:"width"},function(e,t){et.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){et.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return wt(this,function(t,n,r){var o;return et.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?et.css(t,n,a):et.style(t,n,r,a)},t,i?r:void 0,i,null)}})}),"function"==typeof n&&n.amd&&n("jquery",[],function(){return et});var On=e.jQuery,In=e.$;return et.noConflict=function(t){return e.$===et&&(e.$=In),t&&e.jQuery===et&&(e.jQuery=On),et},t||(e.jQuery=e.$=et),et}),n("dom/$",["require","jquery"],function(e){var t=e("jquery");return t.noConflict&&t.noConflict(!0),t}),function(){n("util/each",["require","dom/$"],function(e){var t=e("dom/$");return function(){arguments[0]&&t.each.apply(t,arguments)}})}(this),function(e){n("dom/createElement",["require","util/defined","util/each"],function(t){var n=t("util/defined"),r=t("util/each"),o=function(t,o,i){var a,s;return i?e.document.createElementNS?a=e.document.createElementNS(null,t):n(e.ActiveXObject)&&(s=new e.ActiveXObject("Msxml2.DOMDocument.6.0"),a=s.createElement(t)):a=e.document.createElement(t),r(o,function(e,t){a.setAttribute(e,t)}),a};return o})}(this),n("dom/createElementFuseProtect",["require","dom/createElement","dom/$"],function(e){var t=e("dom/createElement"),n=e("dom/$"),r=function(){var e=t.apply(this,arguments);return n(e).addClass("gacdn"),n(e).addClass("123media"),e};return r}),function(){n("util/extend",["require","dom/$"],function(e){var t=e("dom/$");return t.extend})}(this),function(){n("util/isEmpty",["require","dom/$"],function(e){var t=e("dom/$");return t.isEmptyObject})}(this),function(){n("util/maybeDecodeURIComponent",[],function(){var e=function(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return t};return e})}(this),function(e){n("util/parseQueryString",["require","util/each","util/maybeDecodeURIComponent"],function(t){var n=t("util/each"),r=t("util/maybeDecodeURIComponent"),o=function(t){var o,i,a={};return 0===arguments.length&&(t=e.location.search),t&&(o=t.indexOf("?"),-1!==o&&(t=t.substring(o+1)),t=t.replace(/\+/g," "),i=t.split("&")),n(i,function(e,t){var n;t=t.split("="),t.length&&(n=r(t[0]),n&&(a[n]=r(t[1])))}),a};return o})}(this),function(){n("util/isPlainObject",["require","dom/$"],function(e){var t=e("dom/$");return t.isPlainObject})}(this),function(e){n("core/root",[],function(){return e})}(this),function(e){n("dom/generateTimeout",[],function(){var t=function(t,n){var r=e.setTimeout(t,n),o=function(){r&&(e.clearTimeout(r),r=null)};return o};return t})}(this),function(){n("dom/addEvent",[],function(){var e=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)};return e})}(this),function(){function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e,t){Q[U]=e,Q[U+1]=t,U+=2,2===U&&q()}function a(){var e=process.nextTick,t=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=setImmediate),function(){e(d)}}function s(){return function(){W(d)}}function l(){var e=0,t=new K(d),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function u(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function c(){return function(){setTimeout(d,1)}}function d(){for(var e=0;U>e;e+=2){var t=Q[e],n=Q[e+1];t(n),Q[e]=void 0,Q[e+1]=void 0}U=0}function p(){try{var e=t,n=e("vertx");
return W=n.runOnLoop||n.runOnContext,s()}catch(r){return c()}}function f(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(t){return tt.error=t,tt}}function g(e,t,n,r){try{e.call(t,n,r)}catch(o){return o}}function y(e,t,n){$(function(e){var r=!1,o=g(n,t,function(n){r||(r=!0,t!==n?w(e,n):T(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,k(e,o))},e)}function b(e,t){t._state===Z?T(e,t._result):t._state===et?k(e,t._result):x(t,void 0,function(t){w(e,t)},function(t){k(e,t)})}function _(e,t){if(t.constructor===e.constructor)b(e,t);else{var n=v(t);n===tt?k(e,tt.error):void 0===n?T(e,t):r(n)?y(e,t,n):T(e,t)}}function w(t,n){t===n?k(t,h()):e(n)?_(t,n):T(t,n)}function E(e){e._onerror&&e._onerror(e._result),j(e)}function T(e,t){e._state===J&&(e._result=t,e._state=Z,0!==e._subscribers.length&&$(j,e))}function k(e,t){e._state===J&&(e._state=et,e._result=t,$(E,e))}function x(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+Z]=n,o[i+et]=r,0===i&&e._state&&$(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?A(n,r,o,i):o(i);e._subscribers.length=0}}function C(){this.error=null}function S(e,t){try{return e(t)}catch(n){return nt.error=n,nt}}function A(e,t,n,o){var i,a,s,l,u=r(n);if(u){if(i=S(n,o),i===nt?(l=!0,a=i.error,i=null):s=!0,t===i)return k(t,m()),void 0}else i=o,s=!0;t._state!==J||(u&&s?w(t,i):l?k(t,a):e===Z?T(t,i):e===et&&k(t,i))}function O(e,t){try{t(function(t){w(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function I(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(f),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?T(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&T(n.promise,n._result))):k(n.promise,n._validationError())}function P(e){return new rt(this,e).promise}function D(e){function t(e){w(o,e)}function n(e){k(o,e)}var r=this,o=new r(f);if(!H(e))return k(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===J&&i>a;a++)x(r.resolve(e[a]),void 0,t,n);return o}function N(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return w(n,e),n}function L(e){var t=this,n=new t(f);return k(n,e),n}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this._id=lt++,this._state=void 0,this._result=void 0,this._subscribers=[],f!==e&&(r(e)||M(),this instanceof F||R(),O(this,e))}function V(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ut)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=B,U=0;({}).toString;var W,q,$=i,z="undefined"!=typeof window?window:void 0,G=z||{},K=G.MutationObserver||G.WebKitMutationObserver,Y="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3);q=Y?a():K?l():X?u():void 0===z&&"function"==typeof t?p():c();var J=void 0,Z=1,et=2,tt=new C,nt=new C;I.prototype._validateInput=function(e){return H(e)},I.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},I.prototype._init=function(){this._result=new Array(this.length)};var rt=I;I.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,o=0;n._state===J&&t>o;o++)e._eachEntry(r[o],o)},I.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;o(e)?e.constructor===r&&e._state!==J?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},I.prototype._settledAt=function(e,t,n){var r=this,o=r.promise;o._state===J&&(r._remaining--,e===et?k(o,n):r._result[t]=n),0===r._remaining&&T(o,r._result)},I.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){n._settledAt(Z,t,e)},function(e){n._settledAt(et,t,e)})};var ot=P,it=D,at=N,st=L,lt=0,ut=F;F.all=ot,F.race=it,F.resolve=at,F.reject=st,F.prototype={constructor:F,then:function(e,t){var n=this,r=n._state;if(r===Z&&!e||r===et&&!t)return this;var o=new this.constructor(f),i=n._result;if(r){var a=arguments[r-1];$(function(){A(r,o,a,i)})}else x(n,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ct=V,dt={Promise:ut,polyfill:ct};"function"==typeof n&&n.amd?n("lib/es6-promise/es6-promise",[],function(){return dt}):"undefined"!=typeof module&&module.exports?module.exports=dt:"undefined"!=typeof this&&(this.ES6Promise=dt),ct()}.call(this),n("dom/injectScript",["require","core/root","dom/generateTimeout","dom/addEvent","lib/es6-promise/es6-promise"],function(e){var t=e("core/root"),n=e("dom/generateTimeout"),r=e("dom/addEvent"),o=e("lib/es6-promise/es6-promise").Promise,i=function(e,i){var a,s,l,u=t.document,c=u.createElement("script"),d=i||{},p=d.container||u.body,f=new o(function(e,t){s=e,l=t});return f.then(d.success,d.error).then(a,a),d.timeout&&(a=n(function(){c.parentNode&&c.parentNode.removeChild(c),l("timeout")},d.timeout)),r(c,"load",function(){s(c)}),r(c,"error",function(){l("script")}),c.src=e,p.appendChild(c),f};return i}),n("lodash/isArray",[],function(){var e=Array.isArray;return e}),n("lodash/_checkGlobal",[],function(){function e(e){return e&&e.Object===Object?e:null}return e}),n("lodash/_root",["./_checkGlobal"],function(e){var t,n={"function":!0,object:!0},r=n[typeof exports]&&exports&&!exports.nodeType?exports:t,o=n[typeof module]&&module&&!module.nodeType?module:t,i=e(r&&o&&"object"==typeof global&&global),a=e(n[typeof self]&&self),s=e(n[typeof window]&&window),l=e(n[typeof this]&&this),u=i||s!==(l&&l.window)&&s||a||l||Function("return this")();return u}),n("lodash/_Symbol",["./_root"],function(e){var t=e.Symbol;return t}),n("lodash/isObjectLike",[],function(){function e(e){return!!e&&"object"==typeof e}return e}),n("lodash/isSymbol",["./isObjectLike"],function(e){function t(t){return"symbol"==typeof t||e(t)&&o.call(t)==n}var n="[object Symbol]",r=Object.prototype,o=r.toString;return t}),n("lodash/toString",["./_Symbol","./isSymbol"],function(e,t){function n(n){if("string"==typeof n)return n;if(null==n)return"";if(t(n))return e?a.call(n):"";var r=n+"";return"0"==r&&1/n==-o?"-0":r}var r,o=1/0,i=e?e.prototype:r,a=e?i.toString:r;return n}),n("lodash/_stringToPath",["./toString"],function(e){function t(t){var o=[];return e(t).replace(n,function(e,t,n,i){o.push(n?i.replace(r,"$1"):t||e)}),o}var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,r=/\\(\\)?/g;return t}),n("lodash/_baseCastPath",["./isArray","./_stringToPath"],function(e,t){function n(n){return e(n)?n:t(n)}return n}),n("lodash/_isKey",["./isArray"],function(e){function t(t,o){return"number"==typeof t?!0:!e(t)&&(r.test(t)||!n.test(t)||null!=o&&t in Object(o))}var n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return t}),n("lodash/_baseGet",["./_baseCastPath","./_isKey"],function(e,t){function n(n,o){o=t(o,n)?[o+""]:e(o);for(var i=0,a=o.length;null!=n&&a>i;)n=n[o[i++]];return i&&i==a?n:r}var r;return n}),n("lodash/get",["./_baseGet"],function(e){function t(t,r,o){var i=null==t?n:e(t,r);return i===n?o:i}var n;return t}),n("lodash/isObject",[],function(){function e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}return e}),n("lodash/isFunction",["./isObject"],function(e){function t(t){var o=e(t)?i.call(t):"";return o==n||o==r}var n="[object Function]",r="[object GeneratorFunction]",o=Object.prototype,i=o.toString;return t}),n("lodash/noop",[],function(){function e(){}return e}),n("lodash/identity",[],function(){function e(e){return e}return e}),n("lodash/_isHostObject",[],function(){function e(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}return e}),n("lodash/isNative",["./isFunction","./_isHostObject","./isObjectLike"],function(e,t,n){function r(r){return null==r?!1:e(r)?u.test(s.call(r)):n(r)&&(t(r)?u:i).test(r)}var o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,u=RegExp("^"+s.call(l).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return r}),n("lodash/_getNative",["./isNative"],function(e){function t(t,r){var o=null==t?n:t[r];return e(o)?o:n}var n;return t}),n("lodash/_WeakMap",["./_getNative","./_root"],function(e,t){var n=e(t,"WeakMap");return n}),n("lodash/_metaMap",["./_WeakMap"],function(e){var t=e&&new e;return t}),n("lodash/_baseSetData",["./identity","./_metaMap"],function(e,t){var n=t?function(e,n){return t.set(e,n),e}:e;return n}),n("lodash/_baseCreate",["./isObject"],function(e){function t(t){return e(t)?n(t):{}}var n=Object.create;return t}),n("lodash/_createCtorWrapper",["./_baseCreate","./isObject"],function(e,t){function n(n){return function(){var r=arguments;switch(r.length){case 0:return new n;case 1:return new n(r[0]);case 2:return new n(r[0],r[1]);case 3:return new n(r[0],r[1],r[2]);case 4:return new n(r[0],r[1],r[2],r[3]);case 5:return new n(r[0],r[1],r[2],r[3],r[4]);case 6:return new n(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new n(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var o=e(n.prototype),i=n.apply(o,r);return t(i)?i:o}}return n}),n("lodash/_createBaseWrapper",["./_createCtorWrapper","./_root"],function(e,t){function n(n,o,i){function a(){var e=this&&this!==t&&this instanceof a?l:n;return e.apply(s?i:this,arguments)}var s=o&r,l=e(n);return a}var r=1;return n}),n("lodash/_apply",[],function(){function e(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return e}),n("lodash/_composeArgs",[],function(){function e(e,n,r,o){for(var i=-1,a=e.length,s=r.length,l=-1,u=n.length,c=t(a-s,0),d=Array(u+c),p=!o;++l<u;)d[l]=n[l];for(;++i<s;)(p||a>i)&&(d[r[i]]=e[i]);for(;c--;)d[l++]=e[i++];return d}var t=Math.max;return e}),n("lodash/_composeArgsRight",[],function(){function e(e,n,r,o){for(var i=-1,a=e.length,s=-1,l=r.length,u=-1,c=n.length,d=t(a-l,0),p=Array(d+c),f=!o;++i<d;)p[i]=e[i];for(var h=i;++u<c;)p[h+u]=n[u];for(;++s<l;)(f||a>i)&&(p[h+r[s]]=e[i++]);return p}var t=Math.max;return e}),n("lodash/_countHolders",[],function(){function e(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}return e}),n("lodash/_copyArray",[],function(){function e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}return e}),n("lodash/_baseLodash",[],function(){function e(){}return e}),n("lodash/_LazyWrapper",["./_baseCreate","./_baseLodash"],function(e,t){function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=r,this.__views__=[]}var r=4294967295;return n.prototype=e(t.prototype),n.prototype.constructor=n,n}),n("lodash/_getData",["./_metaMap","./noop"],function(e,t){var n=e?function(t){return e.get(t)}:t;return n}),n("lodash/_realNames",[],function(){var e={};return e}),n("lodash/_getFuncName",["./_realNames"],function(e){function t(t){for(var n=t.name+"",o=e[n],i=r.call(e,n)?o.length:0;i--;){var a=o[i],s=a.func;if(null==s||s==t)return a.name}return n}var n=Object.prototype,r=n.hasOwnProperty;return t}),n("lodash/_LodashWrapper",["./_baseCreate","./_baseLodash"],function(e,t){function n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}var r;return n.prototype=e(t.prototype),n.prototype.constructor=n,n}),n("lodash/_wrapperClone",["./_LazyWrapper","./_LodashWrapper","./_copyArray"],function(e,t,n){function r(r){if(r instanceof e)return r.clone();var o=new t(r.__wrapped__,r.__chain__);return o.__actions__=n(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}return r}),n("lodash/wrapperLodash",["./_LazyWrapper","./_LodashWrapper","./_baseLodash","./isArray","./isObjectLike","./_wrapperClone"],function(e,t,n,r,o,i){function a(n){if(o(n)&&!r(n)&&!(n instanceof e)){if(n instanceof t)return n;if(l.call(n,"__wrapped__"))return i(n)}return new t(n)}var s=Object.prototype,l=s.hasOwnProperty;return a.prototype=n.prototype,a}),n("lodash/_isLaziable",["./_LazyWrapper","./_getData","./_getFuncName","./wrapperLodash"],function(e,t,n,r){function o(o){var i=n(o),a=r[i];if("function"!=typeof a||!(i in e.prototype))return!1;if(o===a)return!0;var s=t(a);return!!s&&o===s[0]}return o}),n("lodash/now",[],function(){var e=Date.now;return e}),n("lodash/_setData",["./_baseSetData","./now"],function(e,t){var n=150,r=16,o=function(){var o=0,i=0;return function(a,s){var l=t(),u=r-(l-i);if(i=l,u>0){if(++o>=n)return a}else o=0;return e(a,s)}}();return o}),n("lodash/_createRecurryWrapper",["./_copyArray","./_isLaziable","./_setData"],function(e,t,n){function r(r,d,p,f,h,m,v,g,y,b){var _=d&l,w=g?e(g):o,E=_?v:o,T=_?o:v,k=_?m:o,x=_?o:m;d|=_?u:c,d&=~(_?c:u),d&s||(d&=~(i|a));var j=[r,d,h,k,E,x,T,w,y,b],C=p.apply(o,j);return t(r)&&n(C,j),C.placeholder=f,C}var o,i=1,a=2,s=4,l=8,u=32,c=64;return r}),n("lodash/_getPlaceholder",[],function(){function e(e){var t=e;return t.placeholder}return e}),n("lodash/_isIndex",[],function(){function e(e,r){return e="number"==typeof e||n.test(e)?+e:-1,r=null==r?t:r,e>-1&&0==e%1&&r>e}var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;return e}),n("lodash/_reorder",["./_copyArray","./_isIndex"],function(e,t){function n(n,i){for(var a=n.length,s=o(i.length,a),l=e(n);s--;){var u=i[s];n[s]=t(u,a)?l[u]:r}return n}var r,o=Math.min;return n}),n("lodash/_replaceHolders",[],function(){function e(e,n){for(var r=-1,o=e.length,i=-1,a=[];++r<o;){var s=e[r];(s===n||s===t)&&(e[r]=t,a[++i]=r)}return a}var t="__lodash_placeholder__";return e}),n("lodash/_createHybridWrapper",["./_composeArgs","./_composeArgsRight","./_countHolders","./_createCtorWrapper","./_createRecurryWrapper","./_getPlaceholder","./_reorder","./_replaceHolders","./_root"],function(e,t,n,r,o,i,a,s,l){function u(g,y,b,_,w,E,T,k,x,j){function C(){for(var c=arguments.length,d=c,p=Array(c);d--;)p[d]=arguments[d];if(I)var f=i(C),h=n(p,f);if(_&&(p=e(p,_,w,I)),E&&(p=t(p,E,T,I)),c-=h,I&&j>c){var m=s(p,f);return o(g,y,u,C.placeholder,b,p,m,k,x,j-c)}var v=A?b:this,N=O?v[g]:g;return c=p.length,k?p=a(p,k):P&&c>1&&p.reverse(),S&&c>x&&(p.length=x),this&&this!==l&&this instanceof C&&(N=D||r(N)),N.apply(v,p)}var S=y&m,A=y&d,O=y&p,I=y&(f|h),P=y&v,D=O?c:r(g);return C}var c,d=1,p=2,f=8,h=16,m=128,v=512;return u}),n("lodash/_createCurryWrapper",["./_apply","./_createCtorWrapper","./_createHybridWrapper","./_createRecurryWrapper","./_getPlaceholder","./_replaceHolders","./_root"],function(e,t,n,r,o,i,a){function s(s,u,c){function d(){for(var t=arguments.length,f=Array(t),h=t,m=o(d);h--;)f[h]=arguments[h];var v=3>t&&f[0]!==m&&f[t-1]!==m?[]:i(f,m);if(t-=v.length,c>t)return r(s,u,n,d.placeholder,l,f,v,l,l,c-t);var g=this&&this!==a&&this instanceof d?p:s;return e(g,this,f)}var p=t(s);return d}var l;return s}),n("lodash/_createPartialWrapper",["./_apply","./_createCtorWrapper","./_root"],function(e,t,n){function r(r,i,a,s){function l(){for(var t=-1,o=arguments.length,i=-1,d=s.length,p=Array(d+o),f=this&&this!==n&&this instanceof l?c:r;++i<d;)p[i]=s[i];for(;o--;)p[i++]=arguments[++t];return e(f,u?a:this,p)}var u=i&o,c=t(r);return l}var o=1;return r}),n("lodash/_mergeData",["./_composeArgs","./_composeArgsRight","./_copyArray","./_replaceHolders"],function(e,t,n,r){function o(o,f){var h=o[1],m=f[1],v=h|m,g=(i|a|u)>v,y=m==u&&h==l||m==u&&h==c&&o[7].length<=f[8]||m==(u|c)&&f[7].length<=f[8]&&h==l;if(!g&&!y)return o;m&i&&(o[2]=f[2],v|=h&i?0:s);var b=f[3];if(b){var _=o[3];o[3]=_?e(_,b,f[4]):n(b),o[4]=_?r(o[3],d):n(f[4])}return b=f[5],b&&(_=o[5],o[5]=_?t(_,b,f[6]):n(b),o[6]=_?r(o[5],d):n(f[6])),b=f[7],b&&(o[7]=n(b)),m&u&&(o[8]=null==o[8]?f[8]:p(o[8],f[8])),null==o[9]&&(o[9]=f[9]),o[0]=f[0],o[1]=v,o}var i=1,a=2,s=4,l=8,u=128,c=256,d="__lodash_placeholder__",p=Math.min;return o}),n("lodash/toNumber",["./isFunction","./isObject"],function(e,t){function n(n){if(t(n)){var u=e(n.valueOf)?n.valueOf():n;n=t(u)?u+"":u}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(o,"");var c=a.test(n);return c||s.test(n)?l(n.slice(2),c?2:8):i.test(n)?r:+n}var r=0/0,o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;return n}),n("lodash/toInteger",["./toNumber"],function(e){function t(t){if(!t)return 0===t?t:0;if(t=e(t),t===n||t===-n){var o=0>t?-1:1;return o*r}var i=t%1;return t===t?i?t-i:t:0}var n=1/0,r=1.7976931348623157e308;return t}),n("lodash/_createWrapper",["./_baseSetData","./_createBaseWrapper","./_createCurryWrapper","./_createHybridWrapper","./_createPartialWrapper","./_getData","./_mergeData","./_setData","./toInteger"],function(e,t,n,r,o,i,a,s,l){function u(u,b,_,w,E,T,k,x){var j=b&p;if(!j&&"function"!=typeof u)throw new TypeError(g);var C=w?w.length:0;if(C||(b&=~(m|v),w=E=c),k=k===c?k:y(l(k),0),x=x===c?x:l(x),C-=E?E.length:0,b&v){var S=w,A=E;w=E=c}var O=j?c:i(u),I=[u,b,_,w,E,S,A,T,k,x];if(O&&a(I,O),u=I[0],b=I[1],_=I[2],w=I[3],E=I[4],x=I[9]=null==I[9]?j?0:u.length:y(I[9]-C,0),!x&&b&(f|h)&&(b&=~(f|h)),b&&b!=d)P=b==f||b==h?n(u,b,x):b!=m&&b!=(d|m)||E.length?r.apply(c,I):o(u,b,_,w);else var P=t(u,b,_);var D=O?e:s;return D(P,I)}var c,d=1,p=2,f=8,h=16,m=32,v=64,g="Expected a function",y=Math.max;return u}),n("lodash/rest",["./_apply","./toInteger"],function(e,t){function n(n,a){if("function"!=typeof n)throw new TypeError(o);return a=i(a===r?n.length-1:t(a),0),function(){for(var t=arguments,r=-1,o=i(t.length-a,0),s=Array(o);++r<o;)s[r]=t[a+r];switch(a){case 0:return n.call(this,s);case 1:return n.call(this,t[0],s);case 2:return n.call(this,t[0],t[1],s)}var l=Array(a+1);for(r=-1;++r<a;)l[r]=t[r];return l[a]=s,e(n,this,l)}}var r,o="Expected a function",i=Math.max;return n}),n("lodash/partial",["./_createWrapper","./_getPlaceholder","./_replaceHolders","./rest"],function(e,t,n,r){var o,i=32,a=r(function(r,s){var l=n(s,t(a));return e(r,i,o,s,l)});return a.placeholder={},a}),n("lodash/wrap",["./identity","./partial"],function(e,t){function n(n,r){return r=null==r?e:r,t(r,n)}return n}),n("util/createPrototype",["require","util/extend"],function(e){var t=e("util/extend"),n=function(e,n){var r=function(){return this},o=e.base,i=function(){o&&o.apply(this,arguments)};return o&&o.prototype&&(r.prototype=o.prototype),e.hasOwnProperty("constructor")&&(i=e.constructor),i.prototype=new r,t(!0,i.prototype,e),n&&t(!0,i,n),i};return n}),n("util/Console",["require","lodash/get","lodash/isFunction","lodash/noop","lodash/wrap","util/createPrototype"],function(e){var t=e("lodash/get"),n=e("lodash/isFunction"),r=e("lodash/noop"),o=e("lodash/wrap"),i=e("util/createPrototype"),a=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],s=o(r),l=i({constructor:function(e){var r=this,o=n(e),i=o?e:t(e,"default",s);a.forEach(function(n){r[n]=t(e,n,i(n))})}});return l}),n("util/consoleOverride",["require","core/root","dom/injectScript","util/Console"],function(e){var t=e("core/root"),n=e("dom/injectScript"),r=e("util/Console"),o="https://getfirebug.com/firebug-lite.js#startOpened",i=function(e){var i=[],a=function(e,t){i.push([e,t])},s=function(){e.onAny(a)},l=function(){e.offAny(a),i=[]},u=function(){i.forEach(function(e){var n=e[0],r=e[1];t.console[n].apply(t.console,r)})},c=function(){t.Firebug&&t.Firebug.overrideConsole&&u()},d=t.console,p=function(){var e=t.console;d&&e&&d!==e&&(t.console=new r(function(t){return function(){Function.prototype.apply.apply(d[t],[d,arguments]);try{e[t].apply(e,arguments)}catch(n){}}}))};return s(),n(o,{container:t.document.head}).then(c).then(p).then(l,l)};return i}),n("util/networkLogger",[],function(){var e=[],t=null,n={log:function(){var n=this;t?t.apply(n,arguments):e.push(arguments)},init:function(n){var r=this;t||(t=n,e.forEach(function(e){t.apply(r,e)}),e=[])}};return n}),function(){n("util/isElement",[],function(){var e=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};return e})}(this),function(e){n("dom/getElement",["require","util/isElement"],function(t){var n=t("util/isElement"),r=function(t){return t?n(t)?t:"string"==typeof t?e.document.getElementById(t):!1:!1};return r})}(this),function(e){n("dom/getScriptElement",["require","util/each","util/defined","util/parseQueryString"],function(t){var n=t("util/each"),r=t("util/defined"),o=t("util/parseQueryString"),i=r(e)?{"externalID":"1602896565","path":"\/JS_Syndiction\/scripts\/Dansynd.js"}:"",a=function(){var t=e.document.getElementsByTagName("script"),r=0,a={},s=null,l=null,u=[];return n(t,function(e,t){u.unshift(t)}),t=u,"string"!=typeof i&&(n(i,function(e,t){r+=1,a[e]=t}),i.path&&(l=i.path,r-=1,delete a.path),r&&n(t,function(e,t){var r=o(t.src),i=!1;return n(a,function(e,t){return t!==r[e]?(i=!0,!0):void 0}),i?void 0:(s=t,!1)}),!s&&l&&n(t,function(e,t){return-1!==t.src.indexOf(l)?(s=t,!1):void 0})),s||(s=t[0]),s};return a})}(this),function(e){n("dom/getFlashVersion",["require","util/defined"],function(t){var n=t("util/defined"),r=function(){var t,r,o=-1;if(n(e.navigator.plugins)&&"object"==typeof e.navigator.plugins["Shockwave Flash"])t=e.navigator.plugins["Shockwave Flash"].description,t&&n(e.navigator.mimeTypes)&&e.navigator.mimeTypes["application/x-shockwave-flash"]&&e.navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o=[],o[0]=parseInt(t.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(t.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(t)?parseInt(t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(n(e.ActiveXObject))try{r=new e.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),r&&(t=r.GetVariable("$version"),t&&(t=t.split(" ")[1].split(","),o=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]))}catch(i){}return-1!==o&&(o=o.join(".")),o};return r})}(this),function(e){n("dom/isTransparent",[],function(){var t=function(){try{var t=e.top.location.href;if(t)return!0}catch(n){}return!1};return t})}(this),function(e,t){var r="0.7.9",o="",i="?",a="function",s="undefined",l="object",u="string",c="major",d="model",p="name",f="type",h="vendor",m="version",v="architecture",g="console",y="mobile",b="tablet",_="smarttv",w="wearable",E="embedded",T={extend:function(e,t){for(var n in t)-1!=="browser cpu device engine os".indexOf(n)&&0===t[n].length%2&&(e[n]=t[n].concat(e[n]));return e},has:function(e,t){return"string"==typeof e?-1!==t.toLowerCase().indexOf(e.toLowerCase()):!1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===u?e.split(".")[0]:t}},k={rgx:function(){for(var e,n,r,o,i,u,c,d=0,p=arguments;d<p.length&&!u;){var f=p[d],h=p[d+1];if(typeof e===s){e={};for(o in h)i=h[o],typeof i===l?e[i[0]]=t:e[i]=t}for(n=r=0;n<f.length&&!u;)if(u=f[n++].exec(this.getUA()))for(o=0;o<h.length;o++)c=u[++r],i=h[o],typeof i===l&&i.length>0?2==i.length?e[i[0]]=typeof i[1]==a?i[1].call(this,c):i[1]:3==i.length?e[i[0]]=typeof i[1]!==a||i[1].exec&&i[1].test?c?c.replace(i[1],i[2]):t:c?i[1].call(this,c,i[2]):t:4==i.length&&(e[i[0]]=c?i[3].call(this,c.replace(i[1],i[2])):t):e[i]=c?c:t;d+=2}return e},str:function(e,n){for(var r in n)if(typeof n[r]===l&&n[r].length>0){for(var o=0;o<n[r].length;o++)if(T.has(n[r][o],e))return r===i?t:r}else if(T.has(n[r],e))return r===i?t:r;return e}},x={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},j={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[p,m],[/\s(opr)\/([\w\.]+)/i],[[p,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[p,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[p,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[p,m],[/(yabrowser)\/([\w\.]+)/i],[[p,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[p,m],[/(dolfin)\/([\w\.]+)/i],[[p,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[p,"Chrome"],m],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[m,[p,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[m,[p,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[m,[p,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[p,[m,k.str,x.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[p,"Netscape"],m],[/fxios\/([\w\.-]+)/i],[m,[p,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[p,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,T.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",T.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[v,T.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[d,h,[f,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[d,[h,"Apple"],[f,b]],[/(apple\s{0,1}tv)/i],[[d,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,d,[f,b]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[d,[h,"Amazon"],[f,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[d,k.str,x.device.amazon.model],[h,"Amazon"],[f,y]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[d,h,[f,y]],[/\((ip[honed|\s\w*]+);/i],[d,[h,"Apple"],[f,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,d,[f,y]],[/\(bb10;\s(\w+)/i],[d,[h,"BlackBerry"],[f,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[d,[h,"Asus"],[f,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[d,"Xperia Tablet"],[f,b]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[h,"Sony"],[d,"Xperia Phone"],[f,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[h,d,[f,g]],[/android.+;\s(shield)\sbuild/i],[d,[h,"Nvidia"],[f,g]],[/(playstation\s[3portablevi]+)/i],[d,[h,"Sony"],[f,g]],[/(sprint\s(\w+))/i],[[h,k.str,x.device.sprint.vendor],[d,k.str,x.device.sprint.model],[f,y]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[h,d,[f,b]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[h,[d,/_/g," "],[f,y]],[/(nexus\s9)/i],[d,[h,"HTC"],[f,b]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[d,[h,"Microsoft"],[f,g]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,"Microsoft"],[f,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[d,[h,"Motorola"],[f,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[d,[h,"Motorola"],[f,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],d,[f,b]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[h,"Samsung"],d,[f,y]],[/(samsung);smarttv/i],[h,d,[f,_]],[/\(dtv[\);].+(aquos)/i],[d,[h,"Sharp"],[f,_]],[/sie-(\w+)*/i],[d,[h,"Siemens"],[f,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[h,"Nokia"],d,[f,y]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[d,[h,"Acer"],[f,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],d,[f,b]],[/(lg) netcast\.tv/i],[h,d,[f,_]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[d,[h,"LG"],[f,y]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[d,[h,"Lenovo"],[f,b]],[/linux;.+((jolla));/i],[h,d,[f,y]],[/((pebble))app\/[\d\.]+\s/i],[h,d,[f,w]],[/android.+;\s(glass)\s\d/i],[d,[h,"Google"],[f,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[d,/_/g," "],[h,"Xiaomi"],[f,y]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[f,T.lowerize],h,d]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[p,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[p,m],[/rv\:([\w\.]+).*(gecko)/i],[m,p]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[p,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[p,[m,k.str,x.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[p,"Windows"],[m,k.str,x.os.windows.version]],[/\((bb)(10);/i],[[p,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[p,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[p,"Symbian"],m],[/\((series40);/i],[p],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[p,"Firefox OS"],m],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[p,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[p,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[p,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[p,m],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[p,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[p,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[p,m]]},C=function(t,n){if(!(this instanceof C))return new C(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:o),i=n?T.extend(j,n):j;return this.getBrowser=function(){var e=k.rgx.apply(this,i.browser);return e.major=T.major(e.version),e},this.getCPU=function(){return k.rgx.apply(this,i.cpu)},this.getDevice=function(){return k.rgx.apply(this,i.device)},this.getEngine=function(){return k.rgx.apply(this,i.engine)
},this.getOS=function(){return k.rgx.apply(this,i.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this.setUA(r),this};C.VERSION=r,C.BROWSER={NAME:p,MAJOR:c,VERSION:m},C.CPU={ARCHITECTURE:v},C.DEVICE={MODEL:d,VENDOR:h,TYPE:f,CONSOLE:g,MOBILE:y,SMARTTV:_,TABLET:b,WEARABLE:w,EMBEDDED:E},C.ENGINE={NAME:p,VERSION:m},C.OS={NAME:p,VERSION:m},typeof exports!==s?(typeof module!==s&&module.exports&&(exports=module.exports=C),exports.UAParser=C):typeof n===a&&n.amd?n("lib/ua-parser/ua-parser",[],function(){return C}):e.UAParser=C;var S=e.jQuery||e.Zepto;if(typeof S!==s){var A=new C;S.ua=A.getResult(),S.ua.get=function(){return A.getUA()},S.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var n in t)S.ua[n]=t[n]}}}("object"==typeof window?window:this),function(e){n("dom/browser",["require","util/parseQueryString","dom/getFlashVersion","dom/isTransparent","lib/ua-parser/ua-parser"],function(t){var n=t("util/parseQueryString"),r=t("dom/getFlashVersion"),o=t("dom/isTransparent"),i=t("lib/ua-parser/ua-parser"),a={init:function(t){var a,s;t&&(e=t),a=new i(e.navigator.userAgent),s=a.getResult(),this.device=s.device,this.os=s.os.name,this.osVersion=s.os.version,this.userAgent=e.navigator.userAgent,this.name=s.browser.name+"_"+s.browser.version,this.query=n(),this.isFrame=e.self!==e.top,this.isTransparent=o(),this.height=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.offsetHeight,this.width=e.innerWidth||e.document.documentElement.clientWidth||e.document.body.offsetWidth,this.flashversion=r()},isTabVisible:function(){var e=!document.hasFocus();return void 0!==document.hidden?e=document.hidden:void 0!==document.mozHidden?e=document.mozHidden:void 0!==document.msHidden?e=document.msHidden:void 0!==document.webkitHidden&&(e=document.webkitHidden),!e}};return a.init(),a})}(this),!function(e){function t(){this._events={},this._conf&&r.call(this,this._conf)}function r(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function o(e){this._events={},this.newListener=!1,r.call(this,e)}function i(e,t,n,r){if(!n)return[];var o,a,s,l,u,c,d,p=[],f=t.length,h=t[r],m=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,a=n._listeners.length;a>o;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(p=p.concat(i(e,t,n[s],r+1)));return p}if("**"===h){d=r+1===f||r+2===f&&"*"===m,d&&n._listeners&&(p=p.concat(i(e,t,n,f)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!d&&(p=p.concat(i(e,t,n[s],f))),p=p.concat(i(e,t,n[s],r))):p=s===m?p.concat(i(e,t,n[s],r+2)):p.concat(i(e,t,n[s],r)));return p}p=p.concat(i(e,t,n[h],r+1))}if(l=n["*"],l&&i(e,t,l,r+1),u=n["**"])if(f>r){u._listeners&&i(e,t,u,f);for(s in u)"_listeners"!==s&&u.hasOwnProperty(s)&&(s===m?i(e,t,u[s],r+2):s===h?i(e,t,u[s],r+1):(c={},c[s]=u[s],i(e,t,{"**":c},r+1)))}else u._listeners?i(e,t,u,f):u["*"]&&u["*"]._listeners&&i(e,t,u["*"],f);return p}function a(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,i=e.shift();i;){if(o[i]||(o[i]={}),o=o[i],0===e.length){if(o._listeners){if("function"==typeof o._listeners)o._listeners=[o._listeners,t];else if(s(o._listeners)&&(o._listeners.push(t),!o._listeners.warned)){var a=l;"undefined"!=typeof this._events.maxListeners&&(a=this._events.maxListeners),a>0&&o._listeners.length>a&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace&&console.trace())}}else o._listeners=t;return!0}i=e.shift()}return!0}var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=10;o.EventEmitter2=o,o.prototype.delimiter=".",o.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},o.prototype.event="",o.prototype.once=function(e,t){return this.many(e,1,t),this},o.prototype.many=function(e,t,n){function r(){0===--t&&o.off(e,r),n.apply(this,arguments)}var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),o},o.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];for(o=0,n=this._all.length;n>o;o++)this.event=e,this._all[o].apply(this,[e].concat(r))}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var a;if(this.wildcard){a=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();i.call(this,a,s,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a){if(this.event=e,1===arguments.length)a.call(this);else if(arguments.length>1)switch(arguments.length){case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];a.apply(this,r)}return!0}if(a){for(var n=arguments.length,r=new Array(n-1),o=1;n>o;o++)r[o-1]=arguments[o];for(var l=a.slice(),o=0,n=l.length;n>o;o++)this.event=e,l[o].apply(this,r);return l.length>0||!!this._all}return!!this._all},o.prototype.emitAsync=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var n=[];if(this._all){for(var r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];for(a=0,r=this._all.length;r>a;a++)this.event=e,n.push(this._all[a].apply(this,o))}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");var s;if(this.wildcard){s=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();i.call(this,s,l,this.listenerTree,0)}else s=this._events[e];if("function"==typeof s){if(this.event=e,1===arguments.length)n.push(s.call(this));else if(arguments.length>1)switch(arguments.length){case 2:n.push(s.call(this,arguments[1]));break;case 3:n.push(s.call(this,arguments[1],arguments[2]));break;default:for(var r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];n.push(s.apply(this,o))}}else if(s){for(var r=arguments.length,o=new Array(r-1),a=1;r>a;a++)o[a-1]=arguments[a];for(var u=s.slice(),a=0,r=u.length;r>a;a++)this.event=e,n.push(u[a].apply(this,o))}return Promise.all(n)},o.prototype.on=function(e,n){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,n),this.wildcard)return a.call(this,e,n),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],n];else if(s(this._events[e])&&(this._events[e].push(n),!this._events[e].warned)){var r=l;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace&&console.trace())}}else this._events[e]=n;return this},o.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},o.prototype.addListener=o.prototype.on,o.prototype.off=function(t,n){function r(t){if(t!==e){var n=Object.keys(t);for(var o in n){var i=n[o],a=t[i];a instanceof Function||"object"!=typeof a||(Object.keys(a).length>0&&r(t[i]),0===Object.keys(a).length&&delete t[i])}}}if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");var o,a=[];if(this.wildcard){var l="string"==typeof t?t.split(this.delimiter):t.slice();a=i.call(this,null,l,this.listenerTree,0)}else{if(!this._events[t])return this;o=this._events[t],a.push({_listeners:o})}for(var u=0;u<a.length;u++){var c=a[u];if(o=c._listeners,s(o)){for(var d=-1,p=0,f=o.length;f>p;p++)if(o[p]===n||o[p].listener&&o[p].listener===n||o[p]._origin&&o[p]._origin===n){d=p;break}if(0>d)continue;return this.wildcard?c._listeners.splice(d,1):this._events[t].splice(d,1),0===o.length&&(this.wildcard?delete c._listeners:delete this._events[t]),this.emit("removeListener",t,n),this}(o===n||o.listener&&o.listener===n||o._origin&&o._origin===n)&&(this.wildcard?delete c._listeners:delete this._events[t],this.emit("removeListener",t,n))}return r(this.listenerTree),this},o.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(t=this._all,n=0,r=t.length;r>n;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},o.prototype.removeListener=o.prototype.off,o.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var n="string"==typeof e?e.split(this.delimiter):e.slice(),r=i.call(this,null,n,this.listenerTree,0),o=0;o<r.length;o++){var a=r[o];a._listeners=null}else{if(!this._events||!this._events[e])return this;this._events[e]=null}return this},o.prototype.listeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return i.call(this,n,r,this.listenerTree,0),n}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},o.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof n&&n.amd?n("lib/eventemitter2/EventEmitter2",[],function(){return o}):"object"==typeof exports?module.exports=o:window.EventEmitter2=o}(),n("core/console",["require","core/root","util/Console","lodash/noop","lib/eventemitter2/EventEmitter2"],function(e){var t=e("core/root"),n=e("util/Console"),r=e("lodash/noop"),o=e("lib/eventemitter2/EventEmitter2"),i=new Date,a=!1,s={include:null,exclude:null},l=new o,u=function(e){var t=s.exclude;return t&&t.test&&t.test(e.join(" "))},c=function(e){var t=s.include;return t&&t.test?t.test(e.join(" ")):!0},d=function(e){return function(){var n=t.console[e]||t.console.log,r=Array.prototype.slice.call(arguments);return a?(!n||"function"!=typeof n&&"object"!=typeof n||!u(r)&&c(r)&&("string"==typeof r[0]?r[0]="%s "+r[0]:r.unshift("%s"),r.splice(1,0,(new Date-i)/1e3),Function.prototype.apply.apply(n,[t.console,r]),l.emit(e,r)),void 0):!1}},p=new n(d);return l.on("error",r),p.init=function(e,t){return a=e,t&&(s=t),l},p}),n("lodash/_arrayFilter",[],function(){function e(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[++o]=a)}return i}return e}),n("lodash/_createBaseFor",[],function(){function e(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(n(i[l],l,i)===!1)break}return t}}return e}),n("lodash/_baseFor",["./_createBaseFor"],function(e){var t=e();return t}),n("lodash/_baseHas",[],function(){function e(e,t){return n.call(e,t)||"object"==typeof e&&t in e&&null===r(e)}var t=Object.prototype,n=t.hasOwnProperty,r=Object.getPrototypeOf;return e}),n("lodash/_baseKeys",[],function(){function e(e){return t(Object(e))}var t=Object.keys;return e}),n("lodash/_baseTimes",[],function(){function e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}return e}),n("lodash/_baseProperty",[],function(){function e(e){return function(n){return null==n?t:n[e]}}var t;return e}),n("lodash/_getLength",["./_baseProperty"],function(e){var t=e("length");return t}),n("lodash/isLength",[],function(){function e(e){return"number"==typeof e&&e>-1&&0==e%1&&t>=e}var t=9007199254740991;return e}),n("lodash/isArrayLike",["./_getLength","./isFunction","./isLength"],function(e,t,n){function r(r){return null!=r&&!("function"==typeof r&&t(r))&&n(e(r))}return r}),n("lodash/isArrayLikeObject",["./isArrayLike","./isObjectLike"],function(e,t){function n(n){return t(n)&&e(n)}return n}),n("lodash/isArguments",["./isArrayLikeObject"],function(e){function t(t){return e(t)&&o.call(t,"callee")&&(!a.call(t,"callee")||i.call(t)==n)}var n="[object Arguments]",r=Object.prototype,o=r.hasOwnProperty,i=r.toString,a=r.propertyIsEnumerable;return t}),n("lodash/isString",["./isArray","./isObjectLike"],function(e,t){function n(n){return"string"==typeof n||!e(n)&&t(n)&&i.call(n)==r}var r="[object String]",o=Object.prototype,i=o.toString;return n}),n("lodash/_indexKeys",["./_baseTimes","./isArguments","./isArray","./isLength","./isString"],function(e,t,n,r,o){function i(i){var s=i?i.length:a;return r(s)&&(n(i)||o(i)||t(i))?e(s,String):null}var a;return i}),n("lodash/_isPrototype",["./isFunction"],function(e){function t(t){var r=t&&t.constructor,o=e(r)&&r.prototype||n;return t===o}var n=Object.prototype;return t}),n("lodash/keys",["./_baseHas","./_baseKeys","./_indexKeys","./isArrayLike","./_isIndex","./_isPrototype"],function(e,t,n,r,o,i){function a(a){var s=i(a);if(!s&&!r(a))return t(a);var l=n(a),u=!!l,c=l||[],d=c.length;for(var p in a)!e(a,p)||u&&("length"==p||o(p,d))||s&&"constructor"==p||c.push(p);return c}return a}),n("lodash/_baseForOwn",["./_baseFor","./keys"],function(e,t){function n(n,r){return n&&e(n,r,t)}return n}),n("lodash/_createBaseEach",["./isArrayLike"],function(e){function t(t,n){return function(r,o){if(null==r)return r;if(!e(r))return t(r,o);for(var i=r.length,a=n?i:-1,s=Object(r);(n?a--:++a<i)&&o(s[a],a,s)!==!1;);return r}}return t}),n("lodash/_baseEach",["./_baseForOwn","./_createBaseEach"],function(e,t){var n=t(e);return n}),n("lodash/_baseFilter",["./_baseEach"],function(e){function t(t,n){var r=[];return e(t,function(e,t,o){n(e,t,o)&&r.push(e)}),r}return t}),n("lodash/_stackClear",[],function(){function e(){this.__data__={array:[],map:null}}return e}),n("lodash/eq",[],function(){function e(e,t){return e===t||e!==e&&t!==t}return e}),n("lodash/_assocIndexOf",["./eq"],function(e){function t(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1}return t}),n("lodash/_assocDelete",["./_assocIndexOf"],function(e){function t(t,n){var o=e(t,n);if(0>o)return!1;var i=t.length-1;return o==i?t.pop():r.call(t,o,1),!0}var n=Array.prototype,r=n.splice;return t}),n("lodash/_stackDelete",["./_assocDelete"],function(e){function t(t){var n=this.__data__,r=n.array;return r?e(r,t):n.map["delete"](t)}return t}),n("lodash/_assocGet",["./_assocIndexOf"],function(e){function t(t,r){var o=e(t,r);return 0>o?n:t[o][1]}var n;return t}),n("lodash/_stackGet",["./_assocGet"],function(e){function t(t){var n=this.__data__,r=n.array;return r?e(r,t):n.map.get(t)}return t}),n("lodash/_assocHas",["./_assocIndexOf"],function(e){function t(t,n){return e(t,n)>-1}return t}),n("lodash/_stackHas",["./_assocHas"],function(e){function t(t){var n=this.__data__,r=n.array;return r?e(r,t):n.map.has(t)}return t}),n("lodash/_nativeCreate",["./_getNative"],function(e){var t=e(Object,"create");return t}),n("lodash/_Hash",["./_nativeCreate"],function(e){function t(){}var n=Object.prototype;return t.prototype=e?e(null):n,t}),n("lodash/_Map",["./_getNative","./_root"],function(e,t){var n=e(t,"Map");return n}),n("lodash/_mapClear",["./_Hash","./_Map"],function(e,t){function n(){this.__data__={hash:new e,map:t?new t:[],string:new e}}return n}),n("lodash/_hashHas",["./_nativeCreate"],function(e){function t(t,r){return e?t[r]!==n:o.call(t,r)}var n,r=Object.prototype,o=r.hasOwnProperty;return t}),n("lodash/_hashDelete",["./_hashHas"],function(e){function t(t,n){return e(t,n)&&delete t[n]}return t}),n("lodash/_isKeyable",[],function(){function e(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}return e}),n("lodash/_mapDelete",["./_Map","./_assocDelete","./_hashDelete","./_isKeyable"],function(e,t,n,r){function o(o){var i=this.__data__;return r(o)?n("string"==typeof o?i.string:i.hash,o):e?i.map["delete"](o):t(i.map,o)}return o}),n("lodash/_hashGet",["./_nativeCreate"],function(e){function t(t,o){if(e){var a=t[o];return a===r?n:a}return i.call(t,o)?t[o]:n}var n,r="__lodash_hash_undefined__",o=Object.prototype,i=o.hasOwnProperty;return t}),n("lodash/_mapGet",["./_Map","./_assocGet","./_hashGet","./_isKeyable"],function(e,t,n,r){function o(o){var i=this.__data__;return r(o)?n("string"==typeof o?i.string:i.hash,o):e?i.map.get(o):t(i.map,o)}return o}),n("lodash/_mapHas",["./_Map","./_assocHas","./_hashHas","./_isKeyable"],function(e,t,n,r){function o(o){var i=this.__data__;return r(o)?n("string"==typeof o?i.string:i.hash,o):e?i.map.has(o):t(i.map,o)}return o}),n("lodash/_assocSet",["./_assocIndexOf"],function(e){function t(t,n,r){var o=e(t,n);0>o?t.push([n,r]):t[o][1]=r}return t}),n("lodash/_hashSet",["./_nativeCreate"],function(e){function t(t,o,i){t[o]=e&&i===n?r:i}var n,r="__lodash_hash_undefined__";return t}),n("lodash/_mapSet",["./_Map","./_assocSet","./_hashSet","./_isKeyable"],function(e,t,n,r){function o(o,i){var a=this.__data__;return r(o)?n("string"==typeof o?a.string:a.hash,o,i):e?a.map.set(o,i):t(a.map,o,i),this}return o}),n("lodash/_MapCache",["./_mapClear","./_mapDelete","./_mapGet","./_mapHas","./_mapSet"],function(e,t,n,r,o){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype["delete"]=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,i}),n("lodash/_stackSet",["./_MapCache","./_assocSet"],function(e,t){function n(n,o){var i=this.__data__,a=i.array;a&&(a.length<r-1?t(a,n,o):(i.array=null,i.map=new e(a)));var s=i.map;return s&&s.set(n,o),this}var r=200;return n}),n("lodash/_Stack",["./_stackClear","./_stackDelete","./_stackGet","./_stackHas","./_stackSet"],function(e,t,n,r,o){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype["delete"]=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,i}),n("lodash/_arraySome",[],function(){function e(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}return e}),n("lodash/_equalArrays",["./_arraySome"],function(e){function t(t,i,a,s,l,u){var c=-1,d=l&o,p=l&r,f=t.length,h=i.length;if(f!=h&&!(d&&h>f))return!1;var m=u.get(t);if(m)return m==i;var v=!0;for(u.set(t,i);++c<f;){var g=t[c],y=i[c];if(s)var b=d?s(y,g,c,i,t,u):s(g,y,c,t,i,u);if(b!==n){if(b)continue;v=!1;break}if(p){if(!e(i,function(e){return g===e||a(g,e,s,l,u)})){v=!1;break}}else if(g!==y&&!a(g,y,s,l,u)){v=!1;break}}return u["delete"](t),v}var n,r=1,o=2;return t}),n("lodash/_Uint8Array",["./_root"],function(e){var t=e.Uint8Array;return t}),n("lodash/_mapToArray",[],function(){function e(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}return e}),n("lodash/_setToArray",[],function(){function e(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}return e}),n("lodash/_equalByTag",["./_Symbol","./_Uint8Array","./_mapToArray","./_setToArray"],function(e,t,n,r){function o(o,i,y,_,w,E){switch(y){case g:return o.byteLength==i.byteLength&&_(new t(o),new t(i))?!0:!1;case l:case u:return+o==+i;case c:return o.name==i.name&&o.message==i.message;case p:return o!=+o?i!=+i:o==+i;case f:case m:return o==i+"";case d:var T=n;case h:var k=E&s;return T||(T=r),(k||o.size==i.size)&&_(T(o),T(i),w,E|a);case v:return!!e&&b.call(o)==b.call(i)}return!1}var i,a=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",p="[object Number]",f="[object RegExp]",h="[object Set]",m="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",y=e?e.prototype:i,b=e?y.valueOf:i;return o}),n("lodash/_equalObjects",["./_baseHas","./keys"],function(e,t){function n(n,i,a,s,l,u){var c=l&o,d=t(n),p=d.length,f=t(i),h=f.length;if(p!=h&&!c)return!1;for(var m=p;m--;){var v=d[m];if(!(c?v in i:e(i,v)))return!1}var g=u.get(n);if(g)return g==i;var y=!0;u.set(n,i);for(var b=c;++m<p;){v=d[m];var _=n[v],w=i[v];if(s)var E=c?s(w,_,v,i,n,u):s(_,w,v,n,i,u);if(!(E===r?_===w||a(_,w,s,l,u):E)){y=!1;break}b||(b="constructor"==v)}if(y&&!b){var T=n.constructor,k=i.constructor;T!=k&&"constructor"in n&&"constructor"in i&&!("function"==typeof T&&T instanceof T&&"function"==typeof k&&k instanceof k)&&(y=!1)}return u["delete"](n),y}var r,o=2;return n}),n("lodash/_Set",["./_getNative","./_root"],function(e,t){var n=e(t,"Set");return n}),n("lodash/_getTag",["./_Map","./_Set","./_WeakMap"],function(e,t,n){function r(e){return c.call(e)}var o="[object Map]",i="[object Object]",a="[object Set]",s="[object WeakMap]",l=Object.prototype,u=Function.prototype.toString,c=l.toString,d=e?u.call(e):"",p=t?u.call(t):"",f=n?u.call(n):"";return(e&&r(new e)!=o||t&&r(new t)!=a||n&&r(new n)!=s)&&(r=function(e){var t=c.call(e),n=t==i?e.constructor:null,r="function"==typeof n?u.call(n):"";if(r)switch(r){case d:return o;case p:return a;case f:return s}return t}),r}),n("lodash/isTypedArray",["./isLength","./isObjectLike"],function(e,t){function n(n){return t(n)&&e(n.length)&&!!j[S.call(n)]}var r="[object Arguments]",o="[object Array]",i="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",g="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",x="[object Uint32Array]",j={};j[g]=j[y]=j[b]=j[_]=j[w]=j[E]=j[T]=j[k]=j[x]=!0,j[r]=j[o]=j[v]=j[i]=j[a]=j[s]=j[l]=j[u]=j[c]=j[d]=j[p]=j[f]=j[h]=j[m]=!1;var C=Object.prototype,S=C.toString;return n}),n("lodash/_baseIsEqualDeep",["./_Stack","./_equalArrays","./_equalByTag","./_equalObjects","./_getTag","./isArray","./_isHostObject","./isTypedArray"],function(e,t,n,r,o,i,a,s){function l(l,f,m,v,g,y){var b=i(l),_=i(f),w=d,E=d;b||(w=o(l),w==c?w=p:w!=p&&(b=s(l))),_||(E=o(f),E==c?E=p:E!=p&&(_=s(f)));var T=w==p&&!a(l),k=E==p&&!a(f),x=w==E;if(x&&!b&&!T)return n(l,f,w,m,v,g);var j=g&u;if(!j){var C=T&&h.call(l,"__wrapped__"),S=k&&h.call(f,"__wrapped__");if(C||S)return m(C?l.value():l,S?f.value():f,v,g,y)}return x?(y||(y=new e),(b?t:r)(l,f,m,v,g,y)):!1}var u=2,c="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype,h=f.hasOwnProperty;return l}),n("lodash/_baseIsEqual",["./_baseIsEqualDeep","./isObject","./isObjectLike"],function(e,t,n){function r(o,i,a,s,l){return o===i?!0:null==o||null==i||!t(o)&&!n(i)?o!==o&&i!==i:e(o,i,r,a,s,l)}return r}),n("lodash/_baseIsMatch",["./_Stack","./_baseIsEqual"],function(e,t){function n(n,a,s,l){var u=s.length,c=u,d=!l;if(null==n)return!c;for(n=Object(n);u--;){var p=s[u];if(d&&p[2]?p[1]!==n[p[0]]:!(p[0]in n))return!1}for(;++u<c;){p=s[u];var f=p[0],h=n[f],m=p[1];if(d&&p[2]){if(h===r&&!(f in n))return!1}else{var v=new e,g=l?l(h,m,f,n,a,v):r;if(!(g===r?t(m,h,l,o|i,v):g))return!1}}return!0}var r,o=1,i=2;return n}),n("lodash/_isStrictComparable",["./isObject"],function(e){function t(t){return t===t&&!e(t)}return t}),n("lodash/_arrayMap",[],function(){function e(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}return e}),n("lodash/_baseToPairs",["./_arrayMap"],function(e){function t(t,n){return e(n,function(e){return[e,t[e]]})}return t}),n("lodash/toPairs",["./_baseToPairs","./keys"],function(e,t){function n(n){return e(n,t(n))}return n}),n("lodash/_getMatchData",["./_isStrictComparable","./toPairs"],function(e,t){function n(n){for(var r=t(n),o=r.length;o--;)r[o][2]=e(r[o][1]);return r}return n}),n("lodash/_baseMatches",["./_baseIsMatch","./_getMatchData"],function(e,t){function n(n){var o=t(n);if(1==o.length&&o[0][2]){var i=o[0][0],a=o[0][1];return function(e){return null==e?!1:e[i]===a&&(a!==r||i in Object(e))}}return function(t){return t===n||e(t,n,o)}}var r;return n}),n("lodash/_baseHasIn",[],function(){function e(e,t){return t in Object(e)}return e}),n("lodash/last",[],function(){function e(e){var n=e?e.length:0;return n?e[n-1]:t}var t;return e}),n("lodash/_baseSlice",[],function(){function e(e,t,n){var r=-1,o=e.length;0>t&&(t=-t>o?0:o+t),n=n>o?o:n,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}return e}),n("lodash/_parent",["./_baseSlice","./get"],function(e,t){function n(n,r){return 1==r.length?n:t(n,e(r,0,-1))}return n}),n("lodash/_hasPath",["./_baseCastPath","./isArguments","./isArray","./_isIndex","./_isKey","./isLength","./isString","./last","./_parent"],function(e,t,n,r,o,i,a,s,l){function u(u,d,p){if(null==u)return!1;var f=p(u,d);f||o(d)||(d=e(d),u=l(u,d),null!=u&&(d=s(d),f=p(u,d)));var h=u?u.length:c;return f||!!h&&i(h)&&r(d,h)&&(n(u)||a(u)||t(u))}var c;return u}),n("lodash/hasIn",["./_baseHasIn","./_hasPath"],function(e,t){function n(n,r){return t(n,r,e)}return n}),n("lodash/_baseMatchesProperty",["./_baseIsEqual","./get","./hasIn"],function(e,t,n){function r(r,s){return function(l){var u=t(l,r);return u===o&&u===s?n(l,r):e(s,u,o,i|a)}}var o,i=1,a=2;return r}),n("lodash/_basePropertyDeep",["./_baseGet"],function(e){function t(t){return function(n){return e(n,t)}}return t}),n("lodash/property",["./_baseProperty","./_basePropertyDeep","./_isKey"],function(e,t,n){function r(r){return n(r)?e(r):t(r)}return r}),n("lodash/_baseIteratee",["./_baseMatches","./_baseMatchesProperty","./identity","./isArray","./property"],function(e,t,n,r,o){function i(i){var a=typeof i;return"function"==a?i:null==i?n:"object"==a?r(i)?t(i[0],i[1]):e(i):o(i)}return i}),n("lodash/filter",["./_arrayFilter","./_baseFilter","./_baseIteratee","./isArray"],function(e,t,n,r){function o(o,i){var a=r(o)?e:t;return a(o,n(i,3))}return o}),n("lodash/_baseInRange",[],function(){function e(e,r,o){return e>=n(r,o)&&e<t(r,o)}var t=Math.max,n=Math.min;return e}),n("lodash/inRange",["./_baseInRange","./toNumber"],function(e,t){function n(n,o,i){return o=t(o)||0,i===r?(i=o,o=0):i=t(i)||0,n=t(n),e(n,o,i)}var r;return n}),n("lodash/isPlainObject",["./_isHostObject","./isObjectLike"],function(e,t){function n(n){if(!t(n)||s.call(n)!=r||e(n))return!1;var o=l(n);if(null===o)return!0;var u=o.constructor;return"function"==typeof u&&u instanceof u&&i.call(u)==a}var r="[object Object]",o=Object.prototype,i=Function.prototype.toString,a=i.call(Object),s=o.toString,l=Object.getPrototypeOf;return n}),n("lodash/mapValues",["./_baseForOwn","./_baseIteratee"],function(e,t){function n(n,r){var o={};return r=t(r,3),e(n,function(e,t,n){o[t]=r(e,t,n)}),o}return n}),n("lodash/_arrayEach",[],function(){function e(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}return e}),n("lodash/_assignMergeValue",["./eq"],function(e){function t(t,r,o){(o!==n&&!e(t[r],o)||"number"==typeof r&&o===n&&!(r in t))&&(t[r]=o)}var n;return t}),n("lodash/_assignValue",["./eq"],function(e){function t(t,r,i){var a=t[r];o.call(t,r)&&e(a,i)&&(i!==n||r in t)||(t[r]=i)}var n,r=Object.prototype,o=r.hasOwnProperty;return t}),n("lodash/_copyObjectWith",["./_assignValue"],function(e){function t(t,n,r,o){r||(r={});for(var i=-1,a=n.length;++i<a;){var s=n[i],l=o?o(r[s],t[s],s,r,t):t[s];e(r,s,l)}return r}return t}),n("lodash/_copyObject",["./_copyObjectWith"],function(e){function t(t,n,r){return e(t,n,r)}return t}),n("lodash/_baseAssign",["./_copyObject","./keys"],function(e,t){function n(n,r){return n&&e(r,t(r),n)}return n}),n("lodash/_cloneBuffer",[],function(){function e(e,t){if(t)return e.slice();var n=e.constructor,r=new n(e.length);return e.copy(r),r}return e}),n("lodash/_getSymbols",[],function(){var e=Object.getOwnPropertySymbols,t=e||function(){return[]};return t}),n("lodash/_copySymbols",["./_copyObject","./_getSymbols"],function(e,t){function n(n,r){return e(n,t(n),r)}return n}),n("lodash/_initCloneArray",[],function(){function e(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var t=Object.prototype,n=t.hasOwnProperty;return e}),n("lodash/_cloneArrayBuffer",["./_Uint8Array"],function(e){function t(t){var n=t.constructor,r=new n(t.byteLength),o=new e(r);return o.set(new e(t)),r}return t}),n("lodash/_addMapEntry",[],function(){function e(e,t){return e.set(t[0],t[1]),e}return e}),n("lodash/_arrayReduce",[],function(){function e(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}return e}),n("lodash/_cloneMap",["./_addMapEntry","./_arrayReduce","./_mapToArray"],function(e,t,n){function r(r){var o=r.constructor;return t(n(r),e,new o)}return r}),n("lodash/_cloneRegExp",[],function(){function e(e){var n=e.constructor,r=new n(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}var t=/\w*$/;return e}),n("lodash/_addSetEntry",[],function(){function e(e,t){return e.add(t),e}return e}),n("lodash/_cloneSet",["./_addSetEntry","./_arrayReduce","./_setToArray"],function(e,t,n){function r(r){var o=r.constructor;return t(n(r),e,new o)}return r}),n("lodash/_cloneSymbol",["./_Symbol"],function(e){function t(t){return e?Object(o.call(t)):{}}var n,r=e?e.prototype:n,o=e?r.valueOf:n;return t}),n("lodash/_cloneTypedArray",["./_cloneArrayBuffer"],function(e){function t(t,n){var r=t.buffer,o=n?e(r):r,i=t.constructor;return new i(o,t.byteOffset,t.length)}return t}),n("lodash/_initCloneByTag",["./_cloneArrayBuffer","./_cloneMap","./_cloneRegExp","./_cloneSet","./_cloneSymbol","./_cloneTypedArray"],function(e,t,n,r,o,i){function a(a,x,j){var C=a.constructor;switch(x){case m:return e(a);case s:case l:return new C(+a);case v:case g:case y:case b:case _:case w:case E:case T:case k:return i(a,j);case u:return t(a);case c:case f:return new C(a);case d:return n(a);case p:return r(a);case h:return o(a)}}var s="[object Boolean]",l="[object Date]",u="[object Map]",c="[object Number]",d="[object RegExp]",p="[object Set]",f="[object String]",h="[object Symbol]",m="[object ArrayBuffer]",v="[object Float32Array]",g="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",_="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",k="[object Uint32Array]";return a}),n("lodash/_initCloneObject",["./_baseCreate","./isFunction","./_isPrototype"],function(e,t,n){function r(r){return t(r.constructor)&&!n(r)?e(o(r)):{}}var o=Object.getPrototypeOf;return r}),n("lodash/constant",[],function(){function e(e){return function(){return e}}return e}),n("lodash/isBuffer",["./constant","./_root"],function(e,t){var n,r={"function":!0,object:!0},o=r[typeof exports]&&exports&&!exports.nodeType?exports:n,i=r[typeof module]&&module&&!module.nodeType?module:n,a=i&&i.exports===o?o:n,s=a?t.Buffer:n,l=s?function(e){return e instanceof s}:e(!1);return l}),n("lodash/_baseClone",["./_Stack","./_arrayEach","./_assignValue","./_baseAssign","./_baseForOwn","./_cloneBuffer","./_copyArray","./_copySymbols","./_getTag","./_initCloneArray","./_initCloneByTag","./_initCloneObject","./isArray","./isBuffer","./_isHostObject","./isObject"],function(e,t,n,r,o,i,a,s,l,u,c,d,p,f,h,m){function v(b,_,w,E,x,j){var S;if(w&&(S=x?w(b,E,x,j):w(b)),S!==g)return S;if(!m(b))return b;var A=p(b);if(A){if(S=u(b),!_)return a(b,S)}else{var O=l(b),I=O==T||O==k;if(f(b))return i(b,_);if(O==C||O==y||I&&!x){if(h(b))return x?b:{};if(S=d(I?{}:b),!_)return s(b,r(S,b))}else{if(!W[O])return x?b:{};
S=c(b,O,_)}}j||(j=new e);var P=j.get(b);return P?P:(j.set(b,S),(A?t:o)(b,function(e,t){n(S,t,v(e,_,w,t,b,j))}),A?S:s(b,S))}var g,y="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",E="[object Error]",T="[object Function]",k="[object GeneratorFunction]",x="[object Map]",j="[object Number]",C="[object Object]",S="[object RegExp]",A="[object Set]",O="[object String]",I="[object Symbol]",P="[object WeakMap]",D="[object ArrayBuffer]",N="[object Float32Array]",L="[object Float64Array]",M="[object Int8Array]",R="[object Int16Array]",F="[object Int32Array]",V="[object Uint8Array]",B="[object Uint8ClampedArray]",H="[object Uint16Array]",U="[object Uint32Array]",W={};return W[y]=W[b]=W[D]=W[_]=W[w]=W[N]=W[L]=W[M]=W[R]=W[F]=W[x]=W[j]=W[C]=W[S]=W[A]=W[O]=W[I]=W[V]=W[B]=W[H]=W[U]=!0,W[E]=W[T]=W[P]=!1,v}),n("lodash/_Reflect",["./_root"],function(e){var t=e.Reflect;return t}),n("lodash/_iteratorToArray",[],function(){function e(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}return e}),n("lodash/_baseKeysIn",["./_Reflect","./_iteratorToArray"],function(e,t){function n(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}var r,o=Object.prototype,i=e?e.enumerate:r,a=o.propertyIsEnumerable;return i&&!a.call({valueOf:1},"valueOf")&&(n=function(e){return t(i(e))}),n}),n("lodash/keysIn",["./_baseKeysIn","./_indexKeys","./_isIndex","./_isPrototype"],function(e,t,n,r){function o(o){for(var i=-1,s=r(o),l=e(o),u=l.length,c=t(o),d=!!c,p=c||[],f=p.length;++i<u;){var h=l[i];d&&("length"==h||n(h,f))||"constructor"==h&&(s||!a.call(o,h))||p.push(h)}return p}var i=Object.prototype,a=i.hasOwnProperty;return o}),n("lodash/toPlainObject",["./_copyObject","./keysIn"],function(e,t){function n(n){return e(n,t(n))}return n}),n("lodash/_baseMergeDeep",["./_assignMergeValue","./_baseClone","./_copyArray","./isArguments","./isArray","./isArrayLikeObject","./isFunction","./isObject","./isPlainObject","./isTypedArray","./toPlainObject"],function(e,t,n,r,o,i,a,s,l,u,c){function d(d,f,h,m,v,g,y){var b=d[h],_=f[h],w=y.get(_);if(w)return e(d,h,w),void 0;var E=g?g(b,_,h+"",d,f,y):p,T=E===p;T&&(E=_,o(_)||u(_)?o(b)?E=b:i(b)?E=n(b):(T=!1,E=t(_,!0)):l(_)||r(_)?r(b)?E=c(b):!s(b)||m&&a(b)?(T=!1,E=t(_,!0)):E=b:T=!1),y.set(_,E),T&&v(E,_,m,g,y),e(d,h,E)}var p;return d}),n("lodash/_baseMerge",["./_Stack","./_arrayEach","./_assignMergeValue","./_baseMergeDeep","./isArray","./isObject","./isTypedArray","./keysIn"],function(e,t,n,r,o,i,a,s){function l(c,d,p,f,h){if(c!==d){var m=o(d)||a(d)?u:s(d);t(m||d,function(t,o){if(m&&(o=t,t=d[o]),i(t))h||(h=new e),r(c,d,o,p,l,f,h);else{var a=f?f(c[o],t,o+"",c,d,h):u;a===u&&(a=t),n(c,o,a)}})}}var u;return l}),n("lodash/_isIterateeCall",["./eq","./isArrayLike","./_isIndex","./isObject"],function(e,t,n,r){function o(o,i,a){if(!r(a))return!1;var s=typeof i;return("number"==s?t(a)&&n(i,a.length):"string"==s&&i in a)?e(a[i],o):!1}return o}),n("lodash/_createAssigner",["./_isIterateeCall","./rest"],function(e,t){function n(n){return t(function(t,o){var i=-1,a=o.length,s=a>1?o[a-1]:r,l=a>2?o[2]:r;for(s="function"==typeof s?(a--,s):r,l&&e(o[0],o[1],l)&&(s=3>a?r:s,a=1),t=Object(t);++i<a;){var u=o[i];u&&n(t,u,i,s)}return t})}var r;return n}),n("lodash/mergeWith",["./_baseMerge","./_createAssigner"],function(e,t){var n=t(function(t,n,r,o){e(t,n,r,o)});return n}),n("lodash/partialRight",["./_createWrapper","./_getPlaceholder","./_replaceHolders","./rest"],function(e,t,n,r){var o,i=64,a=r(function(r,s){var l=n(s,t(a));return e(r,i,o,s,l)});return a.placeholder={},a}),n("lodash/_indexOfNaN",[],function(){function e(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}return e}),n("lodash/_baseIndexOf",["./_indexOfNaN"],function(e){function t(t,n,r){if(n!==n)return e(t,r);for(var o=r-1,i=t.length;++o<i;)if(t[o]===n)return o;return-1}return t}),n("lodash/_charsEndIndex",["./_baseIndexOf"],function(e){function t(t,n){for(var r=t.length;r--&&e(n,t[r],0)>-1;);return r}return t}),n("lodash/_charsStartIndex",["./_baseIndexOf"],function(e){function t(t,n){for(var r=-1,o=t.length;++r<o&&e(n,t[r],0)>-1;);return r}return t}),n("lodash/_stringToArray",[],function(){function e(e){return e.match(y)}var t="\\ud800-\\udfff",n="\\u0300-\\u036f\\ufe20-\\ufe23",r="\\u20d0-\\u20f0",o="\\ufe0e\\ufe0f",i="["+t+"]",a="["+n+r+"]",s="\\ud83c[\\udffb-\\udfff]",l="(?:"+a+"|"+s+")",u="[^"+t+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",f=l+"?",h="["+o+"]?",m="(?:"+p+"(?:"+[u,c,d].join("|")+")"+h+f+")*",v=h+f+m,g="(?:"+[u+a+"?",a,c,d,i].join("|")+")",y=RegExp(s+"(?="+s+")|"+g+v,"g");return e}),n("lodash/trim",["./_charsEndIndex","./_charsStartIndex","./_stringToArray","./toString"],function(e,t,n,r){function o(o,s,l){if(o=r(o),!o)return o;if(l||s===i)return o.replace(a,"");if(s+="",!s)return o;var u=n(o),c=n(s);return u.slice(t(u,c),e(u,c)+1).join("")}var i,a=/^\s+|\s+$/g;return o}),n("lodash/_arrayPush",[],function(){function e(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}return e}),n("lodash/_baseFlatten",["./_arrayPush","./isArguments","./isArray","./isArrayLikeObject"],function(e,t,n,r){function o(i,a,s,l){l||(l=[]);for(var u=-1,c=i.length;++u<c;){var d=i[u];a>0&&r(d)&&(s||n(d)||t(d))?a>1?o(d,a-1,s,l):e(l,d):s||(l[l.length]=d)}return l}return o}),n("lodash/_cachePush",["./_isKeyable"],function(e){function t(t){var r=this.__data__;if(e(t)){var o=r.__data__,i="string"==typeof t?o.string:o.hash;i[t]=n}else r.set(t,n)}var n="__lodash_hash_undefined__";return t}),n("lodash/_SetCache",["./_MapCache","./_cachePush"],function(e,t){function n(t){var n=-1,r=t?t.length:0;for(this.__data__=new e;++n<r;)this.push(t[n])}return n.prototype.push=t,n}),n("lodash/_arrayIncludes",["./_baseIndexOf"],function(e){function t(t,n){return!!t.length&&e(t,n,0)>-1}return t}),n("lodash/_arrayIncludesWith",[],function(){function e(e,t,n){for(var r=-1,o=e.length;++r<o;)if(n(t,e[r]))return!0;return!1}return e}),n("lodash/_cacheHas",["./_isKeyable"],function(e){function t(t,r){var o=t.__data__;if(e(r)){var i=o.__data__,a="string"==typeof r?i.string:i.hash;return a[r]===n}return o.has(r)}var n="__lodash_hash_undefined__";return t}),n("lodash/_createSet",["./_Set","./noop"],function(e,t){var n=e&&2===new e([1,2]).size?function(t){return new e(t)}:t;return n}),n("lodash/_baseUniq",["./_SetCache","./_arrayIncludes","./_arrayIncludesWith","./_cacheHas","./_createSet","./_setToArray"],function(e,t,n,r,o,i){function a(a,l,u){var c=-1,d=t,p=a.length,f=!0,h=[],m=h;if(u)f=!1,d=n;else if(p>=s){var v=l?null:o(a);if(v)return i(v);f=!1,d=r,m=new e}else m=l?[]:h;e:for(;++c<p;){var g=a[c],y=l?l(g):g;if(f&&y===y){for(var b=m.length;b--;)if(m[b]===y)continue e;l&&m.push(y),h.push(g)}else d(m,y,u)||(m!==h&&m.push(y),h.push(g))}return h}var s=200;return a}),n("lodash/union",["./_baseFlatten","./_baseUniq","./rest"],function(e,t,n){var r=n(function(n){return t(e(n,1,!0))});return r}),n("lodash/_createCaseFirst",["./_stringToArray","./toString"],function(e,t){function n(n){return function(o){o=t(o);var i=u.test(o)?e(o):r,a=i?i[0]:o.charAt(0),s=i?i.slice(1).join(""):o.slice(1);return a[n]()+s}}var r,o="\\ud800-\\udfff",i="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",s="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+o+i+a+s+"]");return n}),n("lodash/upperFirst",["./_createCaseFirst"],function(e){var t=e("toUpperCase");return t}),function(){n("util/buildQueryString",["require","util/each","util/defined"],function(e){var t=e("util/each"),n=e("util/defined"),r=function(e,r){var o=[];return n(r)||(r="&"),t(e,function(e,t){o.push([encodeURIComponent(e),encodeURIComponent(t)].join("="))}),o.join(r)};return r})}(this),function(e){var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(n,r,o){return o=t._getExtendedOptions(o),o.expires=t._getExpiresDate(r===e?-1:o.expires),t._document.cookie=t._generateCookieString(n,r,o),t},t.expire=function(n,r){return t.set(n,e,r)},t._getExtendedOptions=function(n){return{path:n&&n.path||t.defaults.path,domain:n&&n.domain||t.defaults.domain,expires:n&&n.expires||t.defaults.expires,secure:n&&n.secure!==e?n.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){switch(n=n||new Date,typeof e){case"number":e=new Date(n.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=encodeURIComponent(e),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toGMTString():"",r+=n.secure?";secure":""},t._getCookieObjectFromString=function(n){for(var r={},o=n?n.split("; "):[],i=0;i<o.length;i++){var a=t._getKeyValuePairFromCookieString(o[i]);r[a.key]===e&&(r[a.key]=a.value)}return r},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("="),n="",r="";t=0>t?e.length:t;try{n=decodeURIComponent(e.substr(0,t))}catch(o){}try{r=decodeURIComponent(e.substr(t+1))}catch(o){}return{key:n,value:r}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){return t._navigator.cookieEnabled||"1"===t.set("cookies.js",1).get("cookies.js")},t.enabled=t._areEnabled(),"function"==typeof n&&n.amd?n("lib/cookies/cookies",[],function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),function(){n("util/randomInt",["require"],function(){var e=function(e,t){return t||(t=e,e=0),Math.floor(Math.random()*(t-e))+e};return e})}(this),function(){n("player/Session",["require","util/each","util/extend","util/defined","util/parseQueryString","util/buildQueryString","core/console","lib/cookies/cookies","util/randomInt"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/defined"),o=e("util/parseQueryString"),i=e("util/buildQueryString"),a=e("core/console"),s=e("lib/cookies/cookies"),l=e("util/randomInt"),u="HIRO_COOKIE",c=6e5,d=12,p=(new Date).getTime(),f=function(e){var t,n,r="";for(t=0;e>t;t+=1)n=l(10),r+=n.toString();return r},h=function(e,n){var i,a=this,l=s(u);r(n)&&(c=1e3*60*n),a.session=o(l)||{},a.expired()&&(a.session.data="",a.session.id=""),a.session.data=o(a.session.data)||{},t(a.session.data,function(e,t){"false"===t&&(t=!1),"true"===t&&(t=!0),parseInt(t,10).toString()===t&&(t=parseInt(t,10)),a.session.data[e]=t}),a.session.id?a.session.newSession=!1:(a.session.newSession=!0,i=f(d),a.session.id=e?"1"+i:"2"+i,a.session.timestamp=p),l&&!a.expired()&&(a.session.timestamp=p,a.set())};return h.prototype.set=function(e){var t=this,r={};a.log("Session: set()",arguments),n(!0,t.session.data,e),n(!0,r,t.session),r.data=i(r.data),s(u,i(r),{expires:31536e3})},h.prototype.expired=function(){var e=this,t=e.session.timestamp,n=c;return n=r(e.session.data)&&r(e.session.data[n])?e.session.data[n]:c,t&&p-t>=n},h.prototype.get=function(){var e=this,t=e.session.data;return a.log("Session: get()",arguments),t=n(!0,{},t,{sessionID:e.session.id})},h.prototype.getId=function(){var e=this;return a.log("Session: getId()",arguments),e.session.id},h.prototype.isNew=function(){var e=this;return a.log("Session: isNew()",arguments),e.session.newSession},h})}(this),function(){n("util/isNumber",[],function(){var e=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};return e})}(this),function(){n("player/getPlacementCost",["require","util/isNumber"],function(e){var t=e("util/isNumber"),n=function(e){var n=0,r=t(e.placementCostDiscrepancy)?e.placementCostDiscrepancy:0,o=t(e.placementCostCommission)?e.placementCostCommission:0;return t(e.pc_s)?n=1e3*e.pc_s*(100+r)*(100+o)/1e4:t(e.placementCost)?n=e.placementCost*(100+r)*(100+o)/1e4:e.placementCostFromServer&&t(e.serverPlacementCost)&&(n=e.serverPlacementCost*(100+r)*(100+o)/1e4),n};return n})}(this),function(){n("player/defaultConfig",[],function(){return{appEngineDomain:"hiroservers.appspot.com",geoRistrictionImg:"https://hrsecsynd-a.akamaihd.net/Assets/geo_unavailable.png",playImg:"https://hrsecsynd-a.akamaihd.net/Assets/play_large.png",playList:[{customProperties:{}}],isPremiumSite:!1,blockOnFraud:!1,enableAutomaicOptimization:!1,automaticallyOptimizeWaterfall:!1,sendMovieLog:!1,sendMovieLogUrl:"//hevents.elasticbeanstalk.com",experimentId:"",fallBack:{},bannerAd:{},provider:"psuedo",externalViewLogServlet:"",moatTrackingCode:"hiromediavideo681732093",adScienceId:6961,onHoverDelay:2,extDynamicParam1:"",extDynamicParam2:"",defaultClientID:-1,persistVolumeLevel:!1,losFirstinBreak:!1,shuffleAdNetworksPerc:1,movieViewLogSampling:1,rotoscopeDefaultPrefixUrl:"http://rotoscope.hiro.tv/rotoads/ads/json?origin_url=",forceNoAutoplay:!1,movieBumperEnabled:!1,publisherId:-1,httpProtocol:"https",externalPlayerCss:["video-js.css"],additionalScripts:[],networkEventMode:0,cvlEventMode:0,adTypePreference:"application/javascript",internalAdIdLength:500,maxBleeps:10,useDynamicTimeout:!1,dynamicTimeoutSuccessEventPerc:1,initStartMaxTimeInSec:120,adDurationMinTime:15,adDurationDefaultMaxTime:65e3,DIRECT_SYNDICATION:{extraBlockedUrls:[]},isAbTest:!1,isAbTestOptimBWIgnore:!1,initNumberOfSnap:4,adOptions:{bidDelay:1e4},blankMovieUrl:"https://hrsecsynd-a.akamaihd.net/Assets/blank.mp4",xdc:{},hfdConf:{hiro_debug:!0,publisherEventsPerc:100,placementEventsPerc:100,networkEventsPerc:100,networkRequestEventsPerc:100},browserQueryConfigWhitelist:["externalID","consoleLogToNetwork","hiro_label","hiro_debug"],macroLookup:{queryKeys:["APP_NAME","BUNDLE_ID","APP_ID"]},enableGlobalErrorSupression:!0,enableIframeErrorSuppression:!0,enableIframeConsoleSuppression:!0,isUseSherlokUrl:!0,flvEventIgnoreList:["http://brxcdn3.btrll.com/71250/Scout.flv"],isAbTestingAllowed:!0,nurlTimeout:5e3,placementTimeoutMin:5,placementLifeTimeHours:24,isDisablePlacementBehaviour:!0,poCTM:!1,maxLoopsBeforePreroll:Number.MAX_VALUE,maxGlobalErrorReports:3,appEngineQaMode:!1,syncNgDomain:"sync-qa.hiro.tv/hiro-sync-web/sync",isDisableNewLook:!0}})}(this),function(){n("util/percentChance",["require","util/randomInt"],function(e){var t=e("util/randomInt"),n=function(e){return t(100)<e};return n})}(this),function(){n("util/isArray",["require","dom/$"],function(e){var t=e("dom/$");return t.isArray})}(this),function(){n("util/stringToBoolean",["require","util/each","util/isPlainObject","util/isArray"],function(e){var t=e("util/each"),n=e("util/isPlainObject"),r=e("util/isArray"),o=function(e){return"false"===e?!1:"true"===e?!0:e},i=function(e){var a=n(e)||r(e);return a?(t(e,function(t,n){e[t]=i(n)}),e):o(e)};return i})}(this),n("lodash/merge",["./_baseMerge","./_createAssigner"],function(e,t){var n=t(function(t,n,r){e(t,n,r)});return n}),function(){n("util/abTesting",["require","core/console","util/each","util/extend","util/randomInt","lodash/merge"],function(e){var t=e("core/console"),n=e("util/each"),r=e("util/extend"),o=e("util/randomInt"),i=e("lodash/merge"),a=function(e){var t=this;t.abTesting=r(!0,{},e),t.abTestingList=[]},s=function(e){var t=0,r=e;return r&&n(r,function(e,n){t+=isNaN(n.percentage)?0:n.percentage}),t},l=function(e,r,s,u,c){var d,p=e,f=(p.abTestingList,0),h=s,m=!0;return n(r,function(e,n){return f+=n.percentage,f>h?(p.abWinner=n.testName,p.abConfig=n.config,"demandLab"===p.abWinner&&(p.isDemandLab=!0),1==u&&c&&n.config&&n.config.settingsObject&&(d=new a(n.config.settingsObject),h=o(0,100),l(p,d,h,u,c)||(p.abWinner=d.abWinner,i(p.abConfig,d.abConfig),d.isDemandLab&&(p.isDemandLab=!0))),p.abConfig&&(p.abConfig.placementCostFromServer=!0),t.log("abTesting ab test winner is "+p.abWinner),m=!1,!1):void 0}),m};return a.prototype.getAbTestingList=function(){var e=this,t=e.abTesting,r=e.abTestingList;return n(t,function(e,t){n(t,function(e,t){r.push({testName:t.testName,percentage:t.percentage})})}),e.abTestingList},a.prototype.getAffiliateId=function(){var e=this,t="";return e.abWinner&&(t="ab_"+e.abWinner),t},a.prototype.getAbConfig=function(){var e=this,t=-1;return e.abConfig&&(t=e.abConfig),t},a.prototype.getAbDiceRoll=function(){var e=this;return e.abDiceRoll},a.prototype.init=function(e,n){var r=this,i=!0,a=n?n:o(0,100),u=r.abTesting,c=1,d=0;return t.log("[abTesting] - diceRoll = ",a),u.publisherSettingsAbTesting&&(i=l(r,u.publisherSettingsAbTesting,a,c,e),i&&(d=s(u.publisherSettingsAbTesting),a=n?n-d:o(0,100-d))),r.abDiceRoll=a,r.abWinner&&""!==r.abWinner||(c+=1,i=l(r,u.configAbTesting,a,c,e)),i},a})}(this),function(){n("util/buildUrl",["require","util/buildQueryString"],function(e){var t=e("util/buildQueryString"),n=function(e,n){var r=e,o="?",i=t(n);return i?(-1!==e.indexOf("?")&&(o="&"),r+=o+i):r};return n})}(this),function(e){n("dom/beacon",["require","util/extend","util/buildUrl"],function(t){var n=t("util/extend"),r=t("util/buildUrl"),o=function(t,o,i){var a;t&&(a=new e.Image,i||(o=n(!0,{cb:(new Date).getTime()},o)),t=r(t,o),a.src=t)};return o})}(this),n("util/pick",["require","util/isArray","util/each"],function(e){var t=e("util/isArray"),n=e("util/each"),r=function(e,r){var o={};return t(r)||(r=[r]),n(r,function(t,n){n in e&&(o[n]=e[n])}),o};return r}),function(e){n("player/getConfig",["require","util/each","lodash/filter","lodash/isArray","lodash/inRange","lodash/isPlainObject","lodash/mapValues","lodash/mergeWith","lodash/partialRight","lodash/trim","lodash/union","lodash/upperFirst","util/extend","util/isEmpty","util/networkLogger","dom/browser","core/console","player/Session","util/defined","player/getPlacementCost","lib/cookies/cookies","player/defaultConfig","util/randomInt","util/percentChance","util/stringToBoolean","util/abTesting","dom/beacon","util/pick"],function(t){var n=t("util/each"),r=t("lodash/filter"),o=t("lodash/isArray"),i=t("lodash/inRange"),a=t("lodash/isPlainObject"),s=t("lodash/mapValues"),l=t("lodash/mergeWith"),u=t("lodash/partialRight"),c=t("lodash/trim"),d=t("lodash/union"),p=t("lodash/upperFirst"),f=t("util/extend"),h=t("util/isEmpty"),m=t("util/networkLogger"),v=t("dom/browser"),g=t("core/console"),y=t("player/Session"),b=t("util/defined"),_=t("player/getPlacementCost"),w=(t("lib/cookies/cookies"),t("player/defaultConfig")),E=t("util/randomInt"),T=t("util/percentChance"),k=t("util/stringToBoolean"),x=t("util/abTesting"),j=t("dom/beacon"),C=t("util/pick"),S=function(e){return e},A=u(l,function(e,t){return o(e)?t:void 0}),O=A,I=function(e){var t={};return e&&"object"==typeof e&&n(e,function(e,n){var r=e.replace("window.hiroConfig.","").replace("window.","");t[r]=n}),t},P=function(e){var t=!1;return t=b(e.clipURL)&&""!=e.clipURL&&b(e.videoTitle)&&""!=e.videoTitle},D=function(e){var t,r=e,o=!1;return!h(e)&&b(e.playList)&&e.playList!=[]&&(t=e.playList,n(t,function(e,t){o=b(t.url)&&""!=t.url&&b(t.customProperties)&&!h(t.customProperties)&&b(t.customProperties.videoTitle)&&""!=t.customProperties.videoTitle}),o=o&&b(e.placeholderImage)&&""!=e.placeholderImage),o||(r={}),r},N=function(e,t){var n=e,r={0:"PREMIUM",1:"SYNDICATION",2:"SUPPLY_PARTNER",3:"MOBILE",4:"DIRECT_SYNDICATION"},o=(t||0===t)&&r[t]?r[t]:"";return e[o]&&(n=O(e,e[o])),n},L=function(e,t){var n,r=e;return t&&e.AFFILIATE_MANAGER_SETTINGS&&(n=e.AFFILIATE_MANAGER_SETTINGS[t],n&&(r=O(e,n))),r},M=function(e,t){var n=new y(e,t.sessionTimeOut);t.sessionID=n.getId(),n.isNew()&&!e&&n.set(),t.isLpSession=!1,e?(t.userInitiate=!1,t.isLpSession=!0,t.isInSecondClick=!1,f(t,t.session),n.set(O(t.session,{externalID:t.externalID+(t.noScSuffix?"":"_sc"),subExternalID:t.subExternalID,eventDiceRoll:t.eventDiceRoll,publisherEventsPerc:t.publisherEventsPerc,placementEventsPerc:t.placementEventsPerc,networkEventsPerc:t.networkEventsPerc,networkRequestEventsPerc:t.networkRequestEventsPerc,sessionTimeOut:t.sessionTimeOut,isInSecondClick:!0,isLpSession:!0}))):O(t,n.get())},R=12,F=function(e){var t,n,r="";for(t=0;e>t;t+=1)n=E(10),r+=n.toString();return r},V=function(e){var t=Number(e.maxLoopRotations);switch(isNaN(t)||t){case!0:case-1:t=Number.MAX_VALUE;break;case 0:t=1}return t},B=function(e){var t=Number(e.scale_start);return t=isNaN(t)||!i(t,0,1)?0:t},H=function(t){var n=v.query.hfd||e._hiro_hfd;return n&&t.hfdConf&&O(t,t.hfdConf),t},U=function(e){var t={};return n(e,function(e,n){t[e.toUpperCase()]=n}),t},W=function(e){return s(e,c)},q=function(e){return s(e,function(t,n){var r="additional"+p(n),i=e[r];return o(t)&&i?d(t,i):a(t)?q(t):t})},$=function(e,t){t&&t.externalID&&t.externalID!==e.externalID&&(e.subExternalID=e.externalID,e.externalID=t.externalID)},z=function(e,t,o,i,a){var s,l,u,c,d,p,f="ignore_optim_bw",y="1"===v.query.lp,b={},A=S({
    splashImageFit: true,
  splashImageMaintainProportion: false,
    muteButton: 'https://hrsecsynd-a.akamaihd.net/Assets/on.png',
    overlayImage:  'https://hrsecsynd-a.akamaihd.net/Assets/new_play.png',
geoRistrictionImg: 'https://hrsecsynd-a.akamaihd.net/Assets/geo_unavailable.png',
playImg: 'https://hrsecsynd-a.akamaihd.net/Assets/play_large.png',
 
  playList: [
    {
      customProperties: {
        
      }
    }
  ],
  customControls: {
    zIndex: 2,
    autoHide: {
      enabled: false,
      fullscreenOnly: false,
      hideStyle: 'none'
    },
    stop: true,
    play: true,
    scrubber: true,
    time: true,
    mute: true,
    volume: true,
    fullscreen: true,
    timeColor: '#9e9fad',
    borderRadius: '0px',
    sliderGradient: 'none',
    backgroundColor: '#242424',
    backgroundGradient: 'none',
    sliderBorder: '1px solid rgba(128, 128, 128, 0.7)',
    volumeSliderColor: '#9a97ba',
    bufferColor: '#a0a3d0',
    buttonColor: '#a3a3a3',
    tooltipColor: '#000000',
    volumeSliderGradient: 'none',
    tooltipTextColor: '#ffffff',
    progressGradient: 'none',
    progressColor: '#3d4bf5',
    volumeBorder: '1px solid rgba(128, 128, 128, 0.7)',
    bufferGradient: 'none',
    timeSeparator: ' ',
    durationColor: '#706f7c',
    callType: 'default',
    sliderColor: '#a3a3a3',
    disabledWidgetColor: '#555555',
    buttonOverColor: '#9aa7f4',
    timeBgColor: 'rgb(0, 0, 0, 0)',
    volumeColor: '#353afd',
    buttonOffColor: 'rgba(130,130,130,1)',
    timeBorder: '0px solid rgba(0, 0, 0, 0.3)',
    height: 20,
    opacity: 1.0
  },
  width: 300,
  height: 250,
  noPrerollUserInitiate: false,
  userInitiate: false,
  userInitiateAfterPreroll: false,
  isSynchCacheLayer: 100,
  useJbossIframeSettings: true,
  publisherEventsPerc: 1,
  placementEventsPerc: 10,
  networkEventsPerc: 1,
  networkRequestEventsPerc: 10,
  pauseOnAdClick: false,
  enableAutomaicOptimization: true,
  automaticallyOptimizeWaterfall: false,
  allowPrerollsOnLoop: false,
  blockIP: true,
 /* AFFILIATE_MANAGER_SETTINGS: 
			{

				'11': 
					{ 
						persistentPreroll: false,
						userInitiateAfterPreroll: true
					},
					'27':  
					{ 
						persistentPreroll: false,
						userInitiateAfterPreroll: true
				}
			},
*/
               AFFILIATE_MANAGER_SETTINGS: 
			{

				'573760187': 
					{ 
						server: ['esp-events.appsynd.net'],
						appEngineDomain:"esp-sync.appsynd.net",
						sendMovieLogUrl: "https://esp-bean.appsynd.net"
					},
				 '13': 
                                      { 
                                              server: ['esp-events.appsynd.net'],
                                              appEngineDomain:"esp-sync.appsynd.net",
                                              sendMovieLogUrl: "https://esp-bean.appsynd.net"
                                      }

			},
			
  DIRECT_SYNDICATION: {                     
extraBlockedUrls : [], 
blockBlacklistedDomains : false
},
  
	approvedVendorUrls:
	[ 
		"zentrick.com",
		"coullmedia.com",
		"spotxcdn.com",
		"adsafeprotected.com",
		"hiro.tv",
		"v.adsrvr.org",
		"dashbida.com",
		"innovid.com",
		"tubemogul.com",
		"btrll.com",
		"optimatic.com",
		"vindicosuite.com",
		"tremormedia.com",
		"tidaltv.com",
		"yumenetworks.com",
		"telemetryverification.net",
		"lijit.com",
		"angsrvr",
		"serving-sys.com",
		"provenpixel.com",
		"vizu.com",
		"liverail.com",
		"videologygroup.com",
		"SyndPlugins",
		"adform.net",
		"c1.rfihub.net",
		"flashtalking.com",
		"usweb.dotomi.com",
		"d2f8tie0ouoft.cloudfront.net",
		"bsl-sf.voicefive.com",
		"d1lcq4x153aesu.cloudfront.net",
		"m7i8s8i6.ssl.hwcdn.net",
		"te-e71f54d7.syndn.net",
		"adyapper.com",
		"betrad.com",
		"chibis.adotube.com",
		"dx4atryjnj8gb.cloudfront.net",
		"playercdn.jivox.com",
		"cdn.amgdgt.com",
		"d5frjulruv2gm.cloudfront.net",
		"spongecell.com",
		"liquidustv.com",
		"tlvmedia.com",
		"pubmatic.com",
		"pointroll.com",
		"mixpo.com",
		"ddddemkrpfu23.cloudfront.net",
		"doubleverify.com",
		"collective-media.net",
		"measuread.com",
		"2mdn.net/ads/richmedia/studio",
		"videoplaza.tv",
		"admedia.com",
		"d3h8av4a0dy1g.cloudfront.net",
		"vidible.tv",
		"springserve.com",
		"adforge",
		"ANGPassbackSelector",
		"osmf.swf",
		"sascdn.com",
		"beachfrontmedia.com",
		"stickyadstv.com",
		"videohub.tv",
		"vpsurvey",
		"videe.tv",
		"cdn.hiberniacdn.com/frt/vpaid/ANG",
		"vertamedia.com",
		"rllcll.com",
		"hrsecsynd-a.akamaihd.net",
		"ybpangea-a.akamaihd.net",
		"uppercutsec-a.akamaihd.net",
		"yimg.com",
		"lkqd.net",
		"dzga99c7xcvph.cloudfront.net"

	],
  
	approvedVendorClasses:
	[ 
		"VastSC",
		"com.yahoo",
		"com.altitude",
		"tv.adap",
		"com.spotxchange",
		"com.google",
		"com.liverail",
		"com.integralads",
		"com.telemetry",
		"MoatWrapper",
		"com.eastvisionsystems",
		"com.bigpondmedia",
		"tv.reelfeed",
		"zentrick",
		"VGSBSAP",
		"vpaidSS",
		"com.tubemogul",
		"org.osmf",
		"com.adotube",
		"com.dotomi.VPAID",
		"com.visiblemeasures.advertising",
		"com.jivox",
		"com.spongecell.ad",
		"tdi.ads::VPAIDBase",
		"com.optimatic",
		"com.pubmatic",
		"com.clearstream.vpaid.actionscript::VPAIDWrapper",
		"parent_fla::MainTimeline",
		"com.comscore.vce",
		"parent_fla",
		"VPAIDWrapper",
		"MasterVPAID",
		"com.pictela.vpaid",
		"com.fuiszmedia",
		"ANGPassbackSelector",
		"ANGUserSyncer",
		"com.adobe",
		"com.iab",
		"com.sas",
		"vpsurvey",
		"com.bfmedia",
		"com.appnexus",
		"com.vizu",
		"com.sr",
		"com.whiteops",
		"com.quibus"
	],
  
  blackVendorExceptions:[
  	"videojam-v2v-videojam"
  	],
  monitoredVendors: [
  "fuse-client.mirra"
  ],

  transparencyLowerMarks: [
  'ads.ondemandkorea',
  'ad.burstdirectads',
  'ads.avazu',
  'us-ads.openx',
  'cdn.intermarkets.net',
  'cdn.districtm.ca',
  'javascript:window',
  'zedo.com',
    '101system',
    'afy11',
    'sitescout',
    'fastclick',
    'realmedia',
    'undefined',
    'pubmatic',
    'openx',
    'doubleclick',
    'adnxs',
    'burstdirectads',
    'rubiconproject',
    'yieldmanager',
    'jeetyetmedia',
    'crtinv',
    'da-ads',
    'redirect.ad-feeds.com',
    'xtendmedia',
    'software.hiro.tv',
    'vindicosuite',
    'lijit',
    'porn',
    'google',
    '{',
    'bing',
    'srv744',
    'primesite',
    'rtbfy',
    '%%',
    'clearpier.com',
    'feiwei.tv',
    'prime-site-1',
    'premium-site-38.com',
    'yahoonetplus.com',
    'd341y4dudrfjax.cloudfront.net'	,
	'smartadserver.com'
],
  extraBlockedUrls: [
    'boyofthemonth',
    'cock',
    'twink',
    'oral',
    'fuck',
    'suck',
    'sex',
    'adult',
    'porn',
    'slut',
    'dyke',
    'horny',
    'bitch',
    'pussy',
    'xxx',
    'nude',
    'naked',
    'hump',
    'screwed',
    'chick',
    'mature',
    'milf',
    'dirty',
    'tits',
    'shemale'
  ],
  scale_start: 0.00001,
  lob_start: 0.8,
  onClickEnabled: false,
  session: {
    scale_start: 0.000001,
    lob_start: 0.8,
    userInitiate: false,
    onClickEnabled: false
  },
  blockedSelectedDomains: [
  ],
  addToBlockedSelectedDomains: [  
  ],
  blockBlacklistedDomains : true,
  sendMovieLog: false,
  sendMovieLogUrl: "//hevents.elasticbeanstalk.com",
  appEngineSynchMode: false,
  allowCookies: 1,
  IAS_percentage: 0,
  DV_percentage : 8,
  adScienceMonitorPixel: false,
  moatPercentage: 0,
  moatTrackingCode: 'hiromediavideo681732093',
  placementCostFromServer: true,
  adScienceId: 6961,
  blockOnIASFraud: false,
  startTimerSecs: 33,
  initTimerSecs: 33,
  useEventsServer: false,
  serverTrafficSplit: false,
  useCmsSettings: false,
  logoUrl: "",
  blockBleepOnChanel:true,
  prerollsMaxBids: 0,
  midrollsMaxBids: 0,
  postrollsMaxBids: 0,
  blockUnknownVendor: true,
  RUH_percentage: 0,
  maxBleeps:10,
  sendPreRequestEvent: true,
  blockBrowserNames: ['IE_10' , 'IE_9' , 'IE_8' , 'IE_7' , 'IE_6'],
  useDomValidatorHoneyPot: false,
  nurlTimeout: 3000,
  blockIAS: true,
  maxLoopRotations:30,
  placementTimeoutMin: 2,
  skipScriptCheck: true,
  networkEventMode:1,
  eventsServerBasePath: "/events/EventServlet",
  server: ['esp-events.apcaps.net'],
  server2: ['esp-events2.apcaps.net'],
  globalMutationWatchdog: true,
  suppressDomainOpt: false,
  isDisableNewLook: true,
  map: {
		'ao.udv': 'adOptions.useDomValidator'
	},
adOptions: {
                useDomValidator: true,
				useScriptPreloadOverride: true,
				blockingScriptPreloadOverride: true,
				useScriptPreloadOverrideSrcChange: true,
                blockingDomValidators: ['hostileIframeValidator','scriptValidator','volumeValidator','hostileObjectValidator','scriptPreloadValidator'],
                domValidators: {
                containerIframeValidator : false,
		hostileObjectValidator: {
						options: {
										maxElementSize: 30,
										allowSameBasePathSrc: true,
										objectWhitelist: [
														/^https?:\/\/.*?\.scorecardresearch\.com\/static\/swf\/.*?\/(lt604|o).swf$/
														 ],
									smallObjectWhitelist:  [/^about:blank$/,"//d2qyyy30tr7ear.cloudfront.net/swf/OVVBeacon.swf","//bundle.clearstream.tv/OVVBeacon.swf","//s.tpcserve.com/2/4.14.6/fpx.swf","//s.tpcserve.com/2/4.14.6/viz11.swf","//cdn2.brandads.net/player/check_throttle-008.swf","//yvapstatic.zenfs.com/Darla.swf","//cdn2.brandads.net/player/OVVBeacon.swf","//cdn.zentrick.com/openvv/2.5/OVVBeacon.swf","adsafeprotected.com","altitude-arena.com","tubemogul.com","adap.tv","innovid.com","btrll.com","vindicosuite.com","serving-sys.com","moatads.com","provenpixel.com","telemetryverification.net","stickyadstv.com","acexedge.com","googlesyndication.com","tidaltv.com","doubleverify.com","assuretag.com","tremormedia.com","fqtag.com","telemetryverification.net","yumenetworks.com","adotube.com","tagsrvcs.com","advertising.com"]
								}
								},
		volumeValidator: {
							options: {							
									maxBleepsJs:3
									}
									},																								
		 hostileIframeValidator: {
						options: {
										maxElementSize: 30,
										smallFrameWhitelist: [
											"liverail.com",
											"advertising.com",
											"doubleverify.com",
											"lijit.com",
											"tpc.googlesyndication.com/sodar",
											"ads.pubmatic.com/AdServer/js",
											"quasar.coull.com",
											"dvtps.com",
											"scanscout.com",
											"lkqd.net",
										        "fqtag.com",
										        "areyouahuman.com",
										        "//redir.adap.tv/redir/mobile/mobile-ad-source.html",
										        "//betrad.com/ba.html",
										        "smartadserver.com",
											"doubleclick.net",
											"assuretag.com"

										],
										frameWhitelist: [
											"https://scontent.lrcdn.net/outbound-tcdn-static/measurement/nacl_beacon.html",
											"https://scontent.lrcdn.net/outbound-cdn-static/measurement/nacl_beacon.html"
										]
								}
		},
	 
		scriptValidator: {
		  
		  options: {
			
                                      scriptWhitelist: [/^safari-extension:\/\//, /^about:\/\//, /^chrome-extension:\/\//, /^chrome:\/\//, /^tmtb:\/\//, /^resource:\/\//,/https?\/\/.*doubleverify\.com/,/^https?:\/\/cdn\.hiberniacdn\.com\/frt\/vpaid\/ANGUserSyncer-3-1\.js$/,"adsafeprotected.com","rllcll.com","yumenetworks.com","simpli.fi","vidible.tv","adsrvs.com","tremorvideo.com","adexcite.com","q1mediahydraplatform.com","doubleverify.com","edgexads.com","areyouahuman.com","google.com","googleadservices.com","googletagmanager.com","imrworldwide.com","tagsrvcs.com","lkqd.net","adhigh.net","lrcdn.net","lijit.com","adlooxtracking.com","krxd.net","c3tag.com","pxltgr.com","media6degrees.com","beachfrontmedia.com","stickyadstv.com","advertising.com","spotxcdn.com","springserve.com", "adap.tv", "voicefive.com", "liverail.com", "2mdn.net", "btrll.com", "moatads.com", "serving-sys.com", "mixpo.com", "googlesyndication.com", "tidaltv.com","ajax.googleapis.com", "vindicosuite.com", "fqtag.com", "doubleclick.net", "acexedge.com", "scorecardresearch.com", "mdotlabs.com", "clearstream.tv", "tremormedia.com", "bluekai.com", "crwdcntrl.net", "google-analytics.com", "pubmatic.com", "insightexpressai.com", "adnxtr.com", "adrta.com", "yabidos.com", "adzmath.com", "dotomi.com", "betrad.com", "zenfs.com", "quantserve.com", "adadvisor.net", "algovid.com", "grapeshot.co.uk", "dmtry.com", "adledge.com", "timeinc.com", "d3b3ehuo35wzeh.cloudfront.net", "sascdn.com", "adnxs.com", "altitude-arena.com", "s3.amazonaws.com/clearstream", "s3.amazonaws.com/clearstream-bundle-staging", "s3.amazonaws.com/restrictive", "s3.amazonaws.com/s3.maketutorial.com","imasdk.googleapis.com","adyapper.com","tpcserve.com","assuretag.com","altitudeplatform.com","adserver.genesismediaus.com"]
		  }

	  }

	}
},

 


	// preffering SWF-vpaid over JS-vpaid
   mediaTypeSortPreferences: function( a, b ) {
                              
    var calculateWeight = function (media) {
                                                                                          
                              var result = 10;
                              if (media.src && media.type) {
                                             switch( media.type ) {
                                                            case 'video/mp4': 
                                                                           result = 0;
                                                                           break;
                                                            case 'video/webm':
                                                                           result = 1;
                                                                           break;
                                                            case 'video/x-flv':
                                                                           result = 2;
                                                                           break;
                                                            case 'application/x-shockwave-flash':
                                                                           result = 3;
                                                                           break;
                                                            case 'application/javascript':
                                                                           result = 4;
                                                                           break;
                                                            default:
                                                                           result = 5;
                                                                           break;
                                             }
                              }
                              return result;
               },
               weight_a = calculateWeight(a),
               weight_b = calculateWeight(b);

               return weight_a - weight_b;

},
flvEventIgnoreList: ['http://brxcdn3.btrll.com/71250/Scout.flv'],
isAbTestingAllowed : true,
  downloaderOpts: {
 forceUseDomains: [
  'btrll.com'
 ]
}
 
}
),z=S({"server":["esp-events.syndtm.net"],"server2":["esp-events2.syndtm.net"],"appEngineDomain":"esp-sync.syndtm.net","sendMovieLogUrl":"https:\/\/esp-bean.syndtm.net"}),G=S(),K=S(),Y=S(0),X=S({"window.hiroConfig.onHoverEnabled":"false","window.hiroConfig.IAS_percentage":"4","events":{"xdcbeacon":[]},"window.hiroConfig.xdc":{"count":4,"beacons":["https:\/\/r.turn.com\/r\/beacon?b2=ZJECS_kcxoV2DXjqHmMzRmk5xGLvBTvMG3n5QKB5Jw04_tOTWg5E5WnU2sClzWW6XXSXyJzkS0Cr0R93R4uRQQ&cid="],"url":"https:\/\/comedysec-a.akamaihd.net\/indexpixel.html"},"placementCostDiscrepancy":-15,"themes":"FC-Claim","window.hiroConfig.noPrerollUserInitiate":"false","window.hiroConfig.onClickEnabled":"true","window.hiroConfig.blockOnIASFraud":"false","affiliateManagerId":1646053584,"window.hiroConfig.scale_start":"0","serverPlacementCost":5,"window.hiroConfig.splashImg":"https:\/\/s3-a.akamaihd.net\/images\/Poster\/common\/BA_claimtofame_poster300_pctm.jpg","window.hiroConfig.startVolume":"0","window.hiroConfig.userInitiate":"false","window.hiroConfig.videoTitle":"Artists, musicians and places that inspire us","affiliateManagerType":1,"window.hiroConfig.userInitiateAfterPreroll":"true","publisherId":27231,"window.hiroConfig.volumeLocationOnBar":"0.8","window.hiroConfig.lob_start":"0.8","window.hiroConfig.offHoverEnabled":"false","window.hiroConfig.maxLoopRotations":"1","externalID":"1602896565","window.hiroConfig.allowPrerollsOnLoop":"false","window.hiroConfig.abTesting":[{"testName":"demandLab","percentage":4,"config":{"externalID":"DNT-ES1-DEMAND-GG-KTM","consoleID":"es1","settingsObject":[{"testName":"Opt.Opt_No_Boost","percentage":7.5},{"testName":"ab_permutationOpt","percentage":3}]}},{},{"testName":"ab_permutationOpt","percentage":3}],"serverExecutionTime":9,"placementCostCommission":35,"themeConfig":{"movieLinkUrl":"http:\/\/claim-fame.com\/?utm_source=ads&utm_medium=banner&utm_campaign=claim-fame","playList":[{"url":"https:\/\/s3-a.akamaihd.net\/ENCODING\/169p_OUT\/brokenarrow\/BA_claimtofame.mp4","customProperties":{"videoTitle":"Claim to Fame","videoDescription":"The Must-Watch Olympic Athletes at Rio 2016","videoKeyWords":"","videoDurationSecs":"","isDefault":"","geoInclude":[],"geoExclude":[]}}],"placeholderImage":"https:\/\/s3-a.akamaihd.net\/images\/Poster\/common\/BA_claimtofame_poster300_pctm.jpg","movieBumper":"","movieBumperPosition":"","message":"","logoUrl":"https:\/\/s3-a.akamaihd.net\/images\/Logo\/common\/BA_claimtofame_logo.png"}}),Q={},J=function(e){var t=r(e,function(e){return e.testName&&e.percentage});return t&&t.length>0?t:null};g.log("getConfig: getConfig()"),b=O(b,w,A,G),b=O(b,e),X&&"object"==typeof X&&(b=N(b,X.affiliateManagerType)),b.useJbossIframeSettings&&(u=I({"window.hiroConfig.onHoverEnabled":"false","window.hiroConfig.IAS_percentage":"4","events":{"xdcbeacon":[]},"window.hiroConfig.xdc":{"count":4,"beacons":["https:\/\/r.turn.com\/r\/beacon?b2=ZJECS_kcxoV2DXjqHmMzRmk5xGLvBTvMG3n5QKB5Jw04_tOTWg5E5WnU2sClzWW6XXSXyJzkS0Cr0R93R4uRQQ&cid="],"url":"https:\/\/comedysec-a.akamaihd.net\/indexpixel.html"},"placementCostDiscrepancy":-15,"themes":"FC-Claim","window.hiroConfig.noPrerollUserInitiate":"false","window.hiroConfig.onClickEnabled":"true","window.hiroConfig.blockOnIASFraud":"false","affiliateManagerId":1646053584,"window.hiroConfig.scale_start":"0","serverPlacementCost":5,"window.hiroConfig.splashImg":"https:\/\/s3-a.akamaihd.net\/images\/Poster\/common\/BA_claimtofame_poster300_pctm.jpg","window.hiroConfig.startVolume":"0","window.hiroConfig.userInitiate":"false","window.hiroConfig.videoTitle":"Artists, musicians and places that inspire us","affiliateManagerType":1,"window.hiroConfig.userInitiateAfterPreroll":"true","publisherId":27231,"window.hiroConfig.volumeLocationOnBar":"0.8","window.hiroConfig.lob_start":"0.8","window.hiroConfig.offHoverEnabled":"false","window.hiroConfig.maxLoopRotations":"1","externalID":"1602896565","window.hiroConfig.allowPrerollsOnLoop":"false","window.hiroConfig.abTesting":[{"testName":"demandLab","percentage":4,"config":{"externalID":"DNT-ES1-DEMAND-GG-KTM","consoleID":"es1","settingsObject":[{"testName":"Opt.Opt_No_Boost","percentage":7.5},{"testName":"ab_permutationOpt","percentage":3}]}},{},{"testName":"ab_permutationOpt","percentage":3}],"serverExecutionTime":9,"placementCostCommission":35,"themeConfig":{"movieLinkUrl":"http:\/\/claim-fame.com\/?utm_source=ads&utm_medium=banner&utm_campaign=claim-fame","playList":[{"url":"https:\/\/s3-a.akamaihd.net\/ENCODING\/169p_OUT\/brokenarrow\/BA_claimtofame.mp4","customProperties":{"videoTitle":"Claim to Fame","videoDescription":"The Must-Watch Olympic Athletes at Rio 2016","videoKeyWords":"","videoDurationSecs":"","isDefault":"","geoInclude":[],"geoExclude":[]}}],"placeholderImage":"https:\/\/s3-a.akamaihd.net\/images\/Poster\/common\/BA_claimtofame_poster300_pctm.jpg","movieBumper":"","movieBumperPosition":"","message":"","logoUrl":"https:\/\/s3-a.akamaihd.net\/images\/Logo\/common\/BA_claimtofame_logo.png"}}),h(u)?b.useCmsSettings&&(b.failedUsedCmsSettings="Empty publisherSettings"):(u.blockedSelectedDomains&&(u.blockedSelectedDomains=u.blockedSelectedDomains.concat(b.blockedSelectedDomains)),u.abTesting&&(u.abTesting=J(u.abTesting),u.abTesting&&(Q.publisherSettingsAbTesting=u.abTesting),b.abTesting&&(b.abTesting=J(b.abTesting),b.abTesting&&(Q.configAbTesting=b.abTesting,u.abTesting=b.abTesting.concat(u.abTesting)))),P(u)&&(d={url:u.clipURL,customProperties:{videoDescription:u.videoDescription,videoTitle:u.videoTitle,videoTags:u.videoTags,videoKeyWords:u.videoKeyWords,videoDurationSecs:u.videoDurationSecs}},u.playList=[d]),b.useCmsSettings&&(g.log("getConfig: Using theme config from CMS"),l=D(u.themeConfig),O(u,l),h(l)&&(b.failedUsedCmsSettings="Missing field"),delete u.themeConfig),delete u.clipURL,delete u.videoDescription,delete u.videoTitle,delete u.videoTags,delete u.videoKeyWords,delete u.videoDurationSecs,O(b,u))),O(b,K),z&&!h(z)&&(b=L(b,b.affiliateManagerId),O(b,z)),!h(t)&&t.abTesting&&(t.abTesting=J(t.abTesting),t.abTesting&&(Q={},Q.configAbTesting=t.abTesting)),O(b,t);try{O(b,JSON.parse(v.query.hiro_config))}catch(Z){}if(O(b,o),O(b,a),c=C(v.query,b.browserQueryConfigWhitelist),O(b,c),(!z||h(z))&&(b=L(b,b.affiliateManagerId)),b=H(b),b.macros=W(U(b.macros)),b.macroLookup&&n(b.macroLookup.macros,function(e,t){b.macroLookup.macros[e]=U(t)}),b.consoleID=b.consoleID?b.consoleID:b.accountID,b.cms_co=b.cms_co?b.cms_co:b.consoleID,b.SynchCache=T(b.isSynchCacheLayer),b.eventDiceRoll=E(100),b.httpProtocol||(b.httpProtocol=location.protocol.replace(/:/g,"")),b=k(b),b.isPremiumSite&&M(y,b),b.sessionID=F(R),b.isLpSession&&b.secondaryPlayer&&(b.userInitiate=!0),i&&(b.version=i),b.scale_start=B(b),b.scale_start>.5?b.onHoverEnabled=b.offHoverEnabled=!1:.5!==b.scale_start&&(b.scale_start=0),b.scale_hover<=.1&&(b.onHoverEnabled=!1),b.onHoverEnabled&&(b.onClickEnabled=!0),(b.iframe||b.inFrame)&&(b.version+="-iframe"),1===Y&&(b.experimentId="tf-"+b.version,b.localTrafficSplit&&(b.folderName=b.localTrafficSplit)),$(b,u),h(Q)&&b.abTesting&&(Q.configAbTesting=J(b.abTesting)),!h(Q)){var et,tt=b.externalID,nt=new x(Q),rt=(nt.init(b.isAbTestingAllowed,b.abTestingDiceRole),function(e){void 0!==e.prerollsMaxBids&&(e.prerollsMaxBidsOverride=e.prerollsMaxBids),void 0!==e.midrollsMaxBids&&(e.midrollsMaxBidsOverride=e.midrollsMaxBids),void 0!==e.postrollsMaxBids&&(e.postrollsMaxBidsOverride=e.postrollsMaxBids),delete e.prerollsMaxBids,delete e.midrollsMaxBids,delete e.postrollsMaxBids});b.abTesting=nt.getAffiliateId(),b.abDiceRoll=nt.getAbDiceRoll(),b.abTesting&&(b.experimentId=b.abTesting),"ab_NE_CDN"===nt.getAffiliateId()&&b.alternateClipURL&&(g.log("NE_CDN: "+b.alternateClipURL),b.playList.length>0?b.playList[0].url=b.alternateClipURL:b.playList.url=b.alternateClipURL),et=nt.getAbConfig(),b.isAbTest=et&&-1!=et,p=nt.getAffiliateId().toLowerCase(),b.isAbTestOptimBWIgnore=p.split("client").length>1&&p.split(f).length>1,rt(et),O(b,et),b.clipURL&&(b.playList.length>0?b.playList[0].url=b.clipURL:b.playList.url=b.clipURL,delete b.clipURL),nt.isDemandLab&&(b.farmId=1,b.placementCostFromServer=!0,b.subExternalID=tt),b.abTestingList=nt.getAbTestingList()}return s=2===b.farmId&&b.server2?b.server2:b.server,b=q(b),b.serverUsed=s[E(b.server.length)],b.movieLinkUrl=b.movieClickPrefix&&-1!=b.movieClickPrefix.indexOf("http")?b.movieClickPrefix+b.movieLinkUrl:b.movieLinkUrl,b.maxLoopRotations=V(b),b.calculatedPlacementCost=_(b),g.log("getConfig: getConfig(), Finished building base config object: ",b),m.init(function(){var e=Array.prototype.slice.call(arguments);b.consoleLogToNetwork&&j("https://consolelog-electricsheep.netdna-ssl.com/console.png",{data:e.join(" ")})}),b};return z})}(this),function(){n("player/PlayerCollection",["require","util/each","util/defined","util/isNumber","dom/getElement"],function(e){var t=e("util/each"),n=e("util/defined"),r=e("util/isNumber"),o=e("dom/getElement"),i=function(){var e=this;e.players={},e.count=0,e.firstPlayerApi=!1};return i.prototype.add=function(e,t){var n=this,r=n.players;r[e]=t,n.count+=1},i.prototype.remove=function(e){var t=this,n=t.players;delete n[e],t.count-=1},i.prototype.get=function(e){var t=this;return t.players[e]},i.prototype.find=function(e){var i,a=this,s=!1,l=0,u=a.players;return n(e)||(e=0),"string"!=typeof e&&e[0]&&(e=e[0]),i=o(e),r(e)||i?(e=parseInt(e,10),t(u,function(t,n){return i&&n.element===i||!i&&l===e?(s=n,!1):(l+=1,void 0)}),s):!1},i})}(this),n("core/buildEnv",[],function(){return{isDebugBuild:!1}}),function(e){var t="108.71-hotfix-28";n("core/startup",["require","util/extend","util/each","util/isEmpty","util/parseQueryString","util/isPlainObject","util/defined","util/consoleOverride","util/networkLogger","dom/getElement","dom/getScriptElement","dom/addEvent","dom/browser","core/console","player/getConfig","player/PlayerCollection","core/buildEnv"],function(n){var r,o,i,a,s,l,u,c,d=n("util/extend"),p=n("util/each"),f=n("util/isEmpty"),h=n("util/parseQueryString"),m=n("util/isPlainObject"),v=n("util/defined"),g=n("util/consoleOverride"),y=n("util/networkLogger"),b=n("dom/getElement"),_=n("dom/getScriptElement"),w=n("dom/addEvent"),E=n("dom/browser"),T=n("core/console"),k=n("player/getConfig"),x=n("player/PlayerCollection"),j=n("core/buildEnv"),C=e.document,S=new x,A=[],O=function(t,n){var r=n||"";return e.hiro&&e.hiro[t]&&(r=e.hiro[t],delete e.hiro[t]),r},I=O("config",{}),P=O("ready"),D=e.hiro||{},N=function(e){return S.find(e)},L=function(){var e,t=0,n=S.count;for(t=0;n>t;t+=1)e=S.find(t),S.remove(e.playerId),e.remove()},M=!1,R=function(n,r){M||(M=!0,T.log("Startup: setupApi",arguments),e.hiro=function(t){var o=r&&r.apply(this,arguments);return T.log("hiro()",arguments),o?(T.log("hiro(), found player"),o.api()):"function"==typeof t?e.hiro.ready(t):n&&(f(t)||m(t))?n.apply(this,arguments):!1},d(e.hiro,D,{version:t}),e.hiro.ready=function(t){return T.log("hiro.ready()",arguments),t!==e.hiro&&t.call(e.hiro,e.hiro),e.hiro},e.hiro.init=n,e.hiro.find=r,e.hiro.destroy=L,e.hiro.isLpSession=function(){return u.isLpSession},p(A,function(t,n){e.hiro.ready(n)}))},F=function(n){var c,p,h,m,v=S.count,g=i?i(v):v;return T.log("Startup: init",arguments),f(n)&&v?(T.log("Startup: init, player already initialized. returning api reference."),r):(c=n?k(I,D,l,t,n):u,h=b(c.player),p=o(d(!0,c,{scriptElement:a,scriptUrl:s}),I),h&&(m=S.find(h))?m:(p.playerId=g,p.init(),p.initialized?(S.add(g,p),r||(r=p.api()),R(F,N),C.readyState&&"complete"!==C.readyState&&c.deferredInit?w(e,"load",function(){c.autoInit!==!1&&p.start()}):c.autoInit!==!1&&p.start(),p.config.userInitiate&&p.loaded(),p.api()):p.api()))},V=function(){"false"!==l.autoInit&&D.autoInit!==!1&&F()},B=function(){var t=E.query.hfd||e._hiro_hfd,n=j.isDebugBuild||E.query.hiro_log||t,r=E.query.hiro_console,o="undefined"!==r&&"true"!==r,i={exclude:/^(Event|NetworkEvents|PublisherEvents)/,include:o?new RegExp(r):null},a=T.init(n,i);r&&(g(a),a.emit("info",[c]))},H=function(){var n="$VER";v(e)&&(t="108.71-hotfix-28",n+="SION$"),t===n&&(t="development"),c="Running Hiro version: "+t,v(e.console)&&(e.console.info?e.console.info(c):e.console.log&&e.console.log(c)),y.log(c)},U=function(n){var r=function(){C.body?(u=k(I,D,l,t),V(),R(F,N)):e.setTimeout(r,1)};return H(),B(),T.log("Startup: Browser is: ",E,E.name,E.userAgent),a=_(),s=a.src,l=h(s),e.injectCompanionOverride&&(D.injectCompanionOverride=e.injectCompanionOverride),P&&"function"==typeof P&&A.push(P),e.hiro.ready=function(e){A.push(e)},o=function(){return n.createPlayer.apply(this,arguments)},i=n.getPlayerId,r(),S};return U},!1,!0)}(this),function(){n("util/cssDimension",["require","util/isNumber"],function(e){var t=e("util/isNumber"),n=function(e){return t(e)&&0!==e?e+"px":e};return n})}(this),n("lodash/_mergeDefaults",["./_baseMerge","./isObject"],function(e,t){function n(o,i,a,s,l,u){return t(o)&&t(i)&&(u.set(i,o),e(o,i,r,n,u)),o}var r;return n}),n("lodash/defaultsDeep",["./_apply","./_mergeDefaults","./mergeWith","./rest"],function(e,t,n,r){var o,i=r(function(r){return r.push(o,t),e(n,o,r)});return i}),n("lodash/_basePick",["./_arrayReduce"],function(e){function t(t,n){return t=Object(t),e(n,function(e,n){return n in t&&(e[n]=t[n]),e},{})}return t}),n("lodash/pick",["./_baseFlatten","./_basePick","./rest"],function(e,t,n){var r=n(function(n,r){return null==n?{}:t(n,e(r,1))});return r}),n("util/createVideoWrapper",["require","dom/createElement","dom/$"],function(e){var t=e("dom/createElement"),n=e("dom/$"),r=function(e,r,o){var i=t("div",{id:"syndbox",style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),a=t("div",{id:"syndboxvideo"}),s=t("div",{id:"syndboxtitle"}),l=t("div",{id:"syndboxshare"}),u=t("div",{id:"syndboxfb"}),c=t("div",{id:"syndboxtw"}),d=t("span"),p=t("i",{"class":"hirofb"}),f=t("span",{"class":"syndboxaction"}),h=t("i",{"class":"hirotw"}),m=t("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+o,target:"_blank"}),v=t("a",{href:"https://twitter.com/intent/tweet?text="+r+"&url="+o,target:"_blank"});return n(i).append(a).append(s).append(l),n(a).append(e),n(s).append(r),n(l).append(u).append(c),n(u).append(d).append(f),n(d).append(p),n(f).append(m),n(m).append("Share"),d=t("span"),f=t("span",{"class":"syndboxaction"}),n(d).append(h),n(c).append(d).append(f),n(f).append(v),n(v).append("Tweet"),i};return r}),function(){n("dom/emptyElement",[],function(){var e=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};return e})}(this),function(){n("core/Event",["require","core/console"],function(e){var t=e("core/console"),n=function(){return this};return n.prototype={trigger:function(e){var n,r,o,i,a,s=e.split("."),l=s.shift(),u="";if(this.events&&this.events[l])for(r=this.events[l].slice(0),i=0;i<r.length;i+=1){if(o=r[i],u="."+(o.namespaces||[]).join("."),n=null,s.length){for(a=0;a<s.length;a+=1)if(-1!==u.indexOf("."+s[a])){n=o.callback;break}}else n=o.callback;n&&(t.log("Event: Triggered event %s, calling: %o",e,n),n.apply(o.context||this,[l].concat(Array.prototype.slice.call(arguments,1))))}this.propagateTo&&this.propagateTo!==this&&this.propagateTo.trigger&&(t.log("Event: Propagating event %s, to: %o",e,this.propagateTo),this.propagateTo.trigger.apply(this.propagateTo,arguments))},on:function(e,t,n){var r,o,i,a,s=e.split(" ");if(this.events=this.events||{},"function"==typeof t)for(a=0;a<s.length;a+=1)r=s[a],o=r.split("."),i=o.shift(),this.events[i]=this.events[i]||[],this.events[i].push({callback:t,namespaces:o,context:n})},off:function(e,n){var r,o,i,a,s,l,u,c,d=e&&e.split(" "),p=!1;if(d){if(this.events)for(l=0;l<d.length;l+=1){if(r=d[l],a=r.split("."),s=a.shift(),!s)for(s in this.events)this.events.hasOwnProperty(s)&&this.off(s+d[l],n);
if(!a.length&&!n)return delete this.events[s],t.log("Event: Removed callbacks for event %s",r),void 0;if(this.events&&this.events[s])for(u=0;u<this.events[s].length;u+=1){if(o=this.events[s][u],i="."+(o.namespaces||[]).join("."),p=!1,a.length){for(c=0;c<a.length;c+=1)if(-1!==i.indexOf("."+a[c])){p=!0;break}}else p=!0;n&&o.callback!==n||!p||(this.events[s].splice(u,1),u-=1)}}}else for(s in this.events)this.events.hasOwnProperty(s)&&this.off(s)},one:function(e,n){var r=this,o=function(){"function"==typeof n&&n.apply(this,arguments),r.off(e,o)};t.log("Event:one() called with event(s) %s and callback %o",e,n),r.on(e,o)},propagateEventsTo:function(e){e instanceof n&&(this.propagateTo=e)},cancelPropagate:function(){this.propagateTo=!1}},n})}(this),function(e){n("core/registerFlashTrigger",["require","core/console"],function(t){var n=t("core/console"),r=function(t,o){var i=r.triggers[t];"pong"!==o&&n.log("flashTrigger()",arguments);try{return i&&i.apply(i,Array.prototype.slice.call(arguments,1))}catch(a){e.setTimeout(function(){throw n.log("flashTrigger() exception",a),a},0)}},o=function(t,o){var i;return n.log("registerFlashTrigger()",o),o||(o=e),o.hiro||(o.hiro={}),o.hiro._trigger?r=o.hiro._trigger:o.hiro._trigger=r,r.triggers||(r.triggers=[]),i=r.triggers,i.push(t),i.length-1};return o})}(this),function(){n("util/prepareUrls",["require","util/each","util/defined"],function(e){var t=e("util/each"),n=(e("util/defined"),function(e,n){var r={};return t(n,function(t,n){r[t]=e+"/"+n}),r});return n})}(this),function(){function e(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function t(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function n(t,n,i){if(l.isSupported(n.version))t.innerHTML=l.getHTML(n,i);else if(n.expressInstall&&l.isSupported([6,65]))t.innerHTML=l.getHTML(e(n,{src:n.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title});else if(t.innerHTML.replace(/\s/g,"")||(t.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2>"+"<h3>"+(u[0]>0?"Your version is "+u:"You have no flash plugin installed")+"</h3>"+("A"==t.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+o+"'>here</a></p>"),"A"==t.tagName&&(t.onclick=function(){location.href=o})),n.onFail){var a=n.onFail.call(this);"string"==typeof a&&(t.innerHTML=a)}r&&(window[n.id]=document.getElementById(n.id)),e(this,{getRoot:function(){return t},getOptions:function(){return n},getConf:function(){return i},getApi:function(){return t.firstChild}})}var r=document.all,o="http://www.adobe.com/go/getflashplayer",i="function"==typeof jQuery,a=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,s={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(t,r,o){return"string"==typeof t&&(t=document.getElementById(t.replace("#",""))),t?("string"==typeof r&&(r={src:r}),new n(t,e(e({},s),r),o)):void 0};var l=e(window.flashembed,{conf:s,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e&&e.GetVariable("$version")}catch(r){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=e&&e.GetVariable("$version")}catch(o){}}}return t=a.exec(t),t?[t[1],t[3]]:[0,0]},asString:function(e){if(null===e||void 0===e)return null;var n=typeof e;switch("object"==n&&e.push&&(n="array"),n){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+e+'"';case"array":return"["+t(e,function(e){return l.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push('"'+o+'":'+l.asString(e[o]));return"{"+r.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,n){t=e({},t);var o='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.cachebusting&&(t.src+=(-1!=t.src.indexOf("?")?"&":"?")+Math.random()),o+=t.w3c||!r?' data="'+t.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',o+=">",(t.w3c||r)&&(o+='<param name="movie" value="'+t.src+'" />'),t.width=t.height=t.id=t.w3c=t.src=null,t.onFail=t.version=t.expressInstall=null;for(var i in t)t[i]&&(o+='<param name="'+i+'" value="'+t[i]+'" />');var a="";if(n){for(var s in n)if(n[s]){var u=n[s];a+=s+"="+encodeURIComponent(/function|object/.test(typeof u)?l.asString(u):u)+"&"}a=a.slice(0,-1),o+='<param name="flashvars" value=\''+a+"' />"}return o+="</object>"},isSupported:function(e){return u[0]>e[0]||u[0]==e[0]&&u[1]>=e[1]}}),u=l.getVersion();i&&(jQuery.tools=jQuery.tools||{version:"@VERSION"},jQuery.tools.flashembed={conf:s},jQuery.fn.flashembed=function(e,t){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,e,t))})})}(),n("lib/flashembed/toolbox.flashembed",function(e){return function(){var t;return t||e.flashembed}}(this)),function(e){n("util/FlashDownloader",["require","dom/$","core/Event","core/registerFlashTrigger","dom/getFlashVersion","core/console","util/extend","util/prepareUrls","util/buildQueryString","dom/browser","lib/flashembed/toolbox.flashembed","util/createPrototype"],function(t){var n,r,o=t("dom/$"),i=t("core/Event"),a=t("core/registerFlashTrigger"),s=t("dom/getFlashVersion"),l=s(),u=t("core/console"),c=t("util/extend"),d=t("util/prepareUrls"),p=t("util/buildQueryString"),f=t("dom/browser"),h=t("lib/flashembed/toolbox.flashembed"),m={},v=0,g=o.Deferred(),y=!1,b=1,_=t("util/createPrototype"),w=function(){var e;y&&(e=["[downloader]"].concat(Array.prototype.slice.call(arguments)),u.log.apply(u,e))},E=function(e){var t,n,r={};return r["@HsqH@"]="'",r["@HescdqH@"]='\\"',r["@HquestH@"]="?",r["@HltH@"]="<",r["@HgtH@"]=">",r["@HampH@"]="&",r["@HnumsignH@"]="#",t=new RegExp(Object.keys(r).join("|"),"g"),n=e.replace(t,function(e){return r[e]})},T=function(e){var t,n=b;return b+=1,t={eventWrapperId:n,triggerFlashDownloaderEvent:function(t){var r,o=[];o.push("tab is "+(f.isTabVisible()?"visible":"invisible")),o.push("evId: "+n),o.push(Array.prototype.slice.call(arguments,1)),r=o.join("; "),w('trigger "'+t+'"',r),e.trigger(t,r)}}},k=function(t){var n,i=this,s=function(){var e=i.config;e.htmlContainerId&&(o("#"+e.htmlContainerId).remove(),e.flashDownloaderApiObj=null,e.htmlContainerId=null)},u=function(e){var t,n,l,u,c=function(){return i.trigger.apply(i,arguments)};e.flashObjectId=a(c),e.htmlContainerId="hiro-afd-"+e.flashObjectId,l=o("<div/>").attr("id",e.htmlContainerId).css("width","1px").css("height","1px").appendTo(e.container).get(0),u=d(e.folderName,{flashDownloaderUrl:"FlashDownloader.swf"}),w("swfFilePath",u),n={objectId:e.flashObjectId,isDebug:e.isDebug},t={src:u.flashDownloaderUrl,id:e.htmlContainerId,allowscriptaccess:"always",flashvars:p(n),onFail:function(){i.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_NOT_AVAILABLE","Failed to embed FlashDownloader",C()),s()}},r=new Date,e.flashDownloaderApiObj=h(l,t)},f=function(){return i.config.flashDownloaderApiObj&&i.config.flashDownloaderApiObj.getApi()},b=function(){var e=(i.config,f());e&&e.ping()},_=function(){var e=f();e&&e.viewableRequest()},k=function(){var e=f();return e&&e.isViewable()},x=function(t){i.config,e.setTimeout(function(){var e;w("Trying Flash download of url:",t.url),t.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_DOWNLOAD",j(t.requestId)),e=f(),e?(t.flashDownloaderInternalEventsCallback("request"),e.downloadRequest({targetURL:t.url,requestId:t.requestId})):n(t.requestId,"NE_FLASH_DOWNLOADER_NOT_AVAILABLE")},0)},j=function(e){return"requestId: "+e},C=function(){return"Flash version: "+l},S=function(e){var t,n=i.config;return t="fd"+n.flashObjectId+"-"+v,v+=1,m[t]={url:e.url,requestId:t,flashDownloaderNetworkEventsWrapper:e.flashDownloaderNetworkEventsWrapper,flashDownloaderInternalEventsCallback:e.flashDownloaderInternalEventsCallback,success:function(n){e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS",j(t)),e.success(n)},error:function(n,r){e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent(n,j(t),r),e.error(r||"error")}},m[t]},A=function(e){var t=m[e];return delete m[e],t},O=function(e){var t=(i.config,S(e)),n=e.flashDownloaderReasonEvent||"NE_FLASH_DOWNLOADER_REQUEST_FORCED";t.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent(n,j(t.requestId),C()),g.then(function(){x(t)})};n=function(e,t){var n=A(e);n.error(t)},i.config=c({},t),y=i.config.isDebug,i.performDownload=O,i.requestPing=b,i.readyStateDeferred=g,i.requestViewability=k,i.viewableRequest=_,i.destroyHtmlContainer=s,i.flashDownloaderPublisherEventsWrapper=T(i.config.flashDownloaderPublisherEvents),i.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_INIT",C()),i.on("ready",function(){var e=(i.config,new Date),t=(e.getTime()-r.getTime())/1e3;i.flashDownloaderPublisherEventsWrapper.triggerFlashDownloaderEvent("PE_FLASH_DOWNLOADER_READY","FlashDownloader ready after "+t+" seconds",C()),g.resolve()}),i.on("downloadResponse",function(e,t,n){var r,a,s,l,u=(i.config,null);if(r=JSON.parse(t),a=E(n),s=A(r.requestId),w("downloadResponse",r,a),"COMPLETE"===r.code)try{l=o.parseXML(a)}catch(c){u="XML parse exception: "+c.message.substring(0,100)+"; ",a=null}else u="Download error";null===u?s.success(l):(u+="; Result: "+t,a&&"string"==typeof a&&(u+="; Error: "+a.substring(0,100)),w(u),s.error("NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR",u))}),i.on("traceToConsole",function(e,t){w(t)}),u(i.config)};return n=_({base:i,constructor:k,download:function(e){var t=this;t.performDownload({url:e.url,success:e.success,error:e.error,flashDownloaderReasonEvent:e.flashDownloaderReasonEvent,flashDownloaderNetworkEventsWrapper:e.flashDownloaderNetworkEventsWrapper,flashDownloaderInternalEventsCallback:e.flashDownloaderInternalEventsCallback})},isViewable:function(){var e=this;return e.apiObj,e.requestViewability()},viewableCheck:function(){var e=this;return e.readyStateDeferred.then(function(){return e.viewableRequest()})},ping:function(){var e=this;e.requestPing()},destroy:function(){var e=this;e.destroyHtmlContainer()},createFlashDownloaderEventsWrapper:T},{getListenerNetworkEventIdsArray:function(){return["NE_FLASH_DOWNLOADER_ENABLED","NE_FLASH_DOWNLOADER_AJAX","NE_FLASH_DOWNLOADER_AJAX_SUCCESS","NE_FLASH_DOWNLOADER_REQUEST_HTTPS","NE_FLASH_DOWNLOADER_REQUEST_CORS","NE_FLASH_DOWNLOADER_REQUEST_CONFIG","NE_FLASH_DOWNLOADER_REQUEST_DOMAIN","NE_FLASH_DOWNLOADER_REQUEST_FORCED","NE_FLASH_DOWNLOADER_NOT_AVAILABLE","NE_FLASH_DOWNLOADER_DOWNLOAD","NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR","NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS"]}})})}(this),function(){n("util/extractDomainFromUrl",["require","util/maybeDecodeURIComponent"],function(e){var t=e("util/maybeDecodeURIComponent"),n=function(e){var n="",e=t(e);return n=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],n=n.split(":")[0]};return n})}(this),n("dom/Deferred",["require","dom/$"],function(e){var t=e("dom/$");return t.Deferred}),function(e){n("dom/installFlashDownloader",["require","core/console","util/extend","util/FlashDownloader","dom/$","core/Event","dom/generateTimeout","util/extractDomainFromUrl","dom/Deferred"],function(t){var n=t("core/console"),r=t("util/extend"),o=t("util/FlashDownloader"),i=t("dom/$"),a=t("core/Event"),s=t("dom/generateTimeout"),l=t("util/extractDomainFromUrl"),u=t("dom/Deferred"),c=function(t){var c,d,p=5e3,f=!1,h=t.raisePublisherEvent,m=t.downloaderOpts&&t.downloaderOpts.forceUseDomains,v=function(){var n,r=new a,i=function(t,r){h(t,r),"PE_FLASH_DOWNLOADER_READY"===t&&(n=!1,c.on("pong",function(){n=!1}),d=e.setInterval(function(){if(!f){if(n)return e.clearInterval(d),c.destroy(),v(),void 0;n=!0,c.ping()}},p))};r.one("PE_FLASH_DOWNLOADER_INIT",i),r.one("PE_FLASH_DOWNLOADER_READY PE_FLASH_DOWNLOADER_NOT_AVAILABLE",i),c=new o({folderName:t.folderName,isDebug:t.isDebug,flashDownloaderPublisherEvents:r,container:t.container})},g=function(e,t){e.forceUseFlashDownloader=!0,e.flashDownloaderReasonEvent||(e.flashDownloaderReasonEvent=t)},y=function(e){var t,n=l(e);if(n&&m)for(t=0;t<m.length;t++)if(n.indexOf(m[t])>-1)return!0;return!1};return v(),i.ajaxPrefilter("*",function(e,n,o){var a=i.Deferred();e.useFlashDownloaderFallback&&(e.fdFirstTime||(e.flashDownloaderNetworkEventsWrapper=c.createFlashDownloaderEventsWrapper(e.flashDownloaderNetworkEvents),e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_ENABLED"),e.fdFirstTime=!0),t.forceUseFlashDownloader?g(e,"NE_FLASH_DOWNLOADER_REQUEST_CONFIG"):y(e.url)?g(e,"NE_FLASH_DOWNLOADER_REQUEST_DOMAIN"):0===window.location.protocol.indexOf("https:")&&0===e.url.indexOf("http:")&&g(e,"NE_FLASH_DOWNLOADER_REQUEST_HTTPS"),e.forceUseFlashDownloader||(e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_AJAX"),o.done(function(t,n,r){e.flashDownloaderInternalEventsCallback("request"),e.flashDownloaderNetworkEventsWrapper.triggerFlashDownloaderEvent("NE_FLASH_DOWNLOADER_AJAX_SUCCESS"),a.resolve(t,n,r)}),o.fail(function(){var t=r(!0,{fdFirstTime:e.fdFirstTime,flashDownloaderNetworkEventsWrapper:e.flashDownloaderNetworkEventsWrapper,flashDownloaderInternalEventsCallback:e.flashDownloaderInternalEventsCallback},n);g(t,"NE_FLASH_DOWNLOADER_REQUEST_CORS"),i.ajax(t).then(a.resolve,a.reject)}),a.promise(o)))}),i.ajaxTransport("+*",function(e){return e.forceUseFlashDownloader?{send:function(t,n){c.download(r(!0,{},e,{success:function(e){n(200,"success",{xml:e})},error:function(e){n(500,e)}}))},abort:function(){}}:void 0}),{remove:function(){f=!0,e.clearInterval(d),d=null},viewableRequest:function(){try{var e=new u,t=s(e.reject,5e3);return c.on("viewableResponse",function(n,r){t(),e.resolve(r)}),c.viewableCheck(),e.promise()}catch(r){return n.log("failed viewableRequest function ",r),e.resolve(-1)}}}};return c})}(this),function(e,t){"function"==typeof n&&n.amd?n("lib/iab/adblockDetector",[],t):"object"==typeof module&&module.exports?module.exports=t():e.adblockDetector=t()}(this,function(){return function(e){function t(e){var t,n;try{t=JSON.parse(e)}catch(r){try{n=new Function("return "+e),t=n()}catch(r){i("Failed secondary JSON parse",!0)}}return t}function n(e){return"function"==typeof e}function r(e,t){var n,r,o=t,i=document;if(r=i.createElement(e),o)for(n in o)o.hasOwnProperty(n)&&r.setAttribute(n,o[n]);return r}function o(e,t,n){y?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)}function i(t,n){(b.debug||n)&&e.console&&e.console.log&&(n?console.error("[ABD] "+t):console.log("[ABD] "+t))}function a(e){i("start beginTest"),1!=C&&(g=!0,s(e),j.quick="testing",S.test=setTimeout(function(){l(e,1)},5))}function s(e){var t,n,o=document,a=o.body,s="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null==e||"string"==typeof e)return i("invalid bait being cast"),void 0;for(null!=e.style&&(s+=e.style),E=r("div",{"class":e.cssClass,style:s}),i("adding bait node to DOM"),a.appendChild(E),t=0;t<k.nullProps.length;t++)n=E[k.nullProps[t]];for(t=0;t<k.zeroProps.length;t++)n=E[k.zeroProps[t]]}function l(e,t){var n,r=document.body,o=!1;if(null==E&&(i("recast bait"),s(e||T)),"string"==typeof e)return i("invalid bait used",!0),u()&&setTimeout(function(){g=!1},5),void 0;for(S.test>0&&(clearTimeout(S.test),S.test=0),null!==r.getAttribute("abp")&&(i("found adblock body attribute"),o=!0),n=0;n<k.nullProps.length;n++){if(null==E[k.nullProps[n]]){o=!0,i("found adblock null attr: "+k.nullProps[n]);break}if(1==o)break}for(n=0;n<k.zeroProps.length&&1!=o;n++)0==E[k.zeroProps[n]]&&(o=!0,i("found adblock zero attr: "+k.zeroProps[n]));if(void 0!==window.getComputedStyle){var a=window.getComputedStyle(E,null);("none"==a.getPropertyValue("display")||"hidden"==a.getPropertyValue("visibility"))&&(o=!0,i("found adblock computedStyle indicator"))}v=!0,o||t++>=b.maxLoop?(C=o,i("exiting test loop - value: "+C),c(),u()&&setTimeout(function(){g=!1},5)):S.test=setTimeout(function(){l(e,t)},b.loopDelay)}function u(){if(null===E)return!0;try{n(E.remove)&&E.remove(),document.body.removeChild(E)}catch(e){}return E=null,!0}function c(){var e,t;if(null!==C)for(e=0;e<w.length;e++){t=w[e];try{null!=t&&(n(t.complete)&&t.complete(C),C&&n(t.found)?t.found():C===!1&&n(t.notfound)&&t.notfound())}catch(r){i("Failure in notify listeners "+r.Message,!0)}}}function d(){var t,n=!1;document.readyState&&"complete"==document.readyState&&(n=!0),t=function(){a(T,!1)},n?t():o(e,"load",t)}var p="1.0",f="offset",h="client",m=function(){},v=!1,g=!1,y=void 0===e.addEventListener,b={loopDelay:50,maxLoop:5,debug:!0,found:m,notfound:m,complete:m},_=function(){var e={};this.addUrl=function(t){return e[t]={url:t,state:"pending",format:null,data:null,result:null},e[t]},this.setResult=function(n,r,o){var i=e[n];if(null==i&&(i=this.addUrl(n)),i.state=r,null==o)return i.result=null,void 0;if("string"==typeof o)try{o=t(o),i.format="json"}catch(a){i.format="easylist"}return i.data=o,i}},w=[],E=null,T={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},k={nullProps:[f+"Parent"],zeroProps:[]};k.zeroProps=[f+"Height",f+"Left",f+"Top",f+"Width",f+"Height",h+"Height",h+"Width"];var x,j={quick:null,remote:null},C=null,S={test:0,download:0},A={version:p,init:function(e){var t,n;if(e){n={complete:m,found:m,notfound:m};for(t in e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?n[t.toLowerCase()]=e[t]:b[t]=e[t]);w.push(n),x=new _,d()}}};return A}}),function(e){n("dom/serializeXml",["require","util/defined"],function(t){var n=t("util/defined"),r=function(t){return t.xml||n(e.XMLSerializer)&&(new e.XMLSerializer).serializeToString(t)};return r})}(this),function(){n("dom/xmlString",["require","dom/createElement","dom/serializeXml"],function(e){var t=e("dom/createElement"),n=e("dom/serializeXml"),r=function(e,r){var o=t(e,r,!0);return n(o)};return r})}(this),function(){n("dom/beaconPost",["require","util/extend","util/buildUrl","dom/xmlString","dom/$"],function(e){var t=(e("util/extend"),e("util/buildUrl")),n=e("dom/xmlString"),r=e("dom/$"),o=function(e){var o,i=e.url,a=e.xmlRootElementName||null,s=e.sendAsXml===!0;return o=s&&a?{request:n(a,e.postData)}:e.postData,e.getData&&(i=t(i,e.getData)),r.ajax({url:i,data:o,xhrFields:{withCredentials:!0},method:"POST"})};return o})}(this),function(){n("util/buildEventsServerUrl",["require"],function(){var e=function(e){var t,n;return n=e.eventsServerBasePath?e.eventsServerBasePath:(e.useEventsServer?"/hiro-events":"/hiro")+"/HiroServlet",t=e.httpProtocol+"://"+e.serverUsed+n};return e})}(this),function(e){n("beacons/PublisherEvents",["require","util/extend","util/defined","dom/beaconPost","dom/browser","util/each","core/console","util/buildEventsServerUrl","dom/Deferred"],function(t){var n=t("util/extend"),r=t("util/defined"),o=t("dom/beaconPost"),i=t("dom/browser"),a=t("util/each"),s=t("core/console"),l=t("util/buildEventsServerUrl"),u=t("dom/Deferred"),c={},d=0,p=0,f=0,h=function(e){var t=this;if(r(e.eventDiceRoll))var o=e.eventDiceRoll;else s.log("Error : diceRoll is empty!!");e=t.config=n(!0,{},c,e),t.sendPublisherEventsFlag=o<e.publisherEventsPerc,t.sendPlacementEventsFlag=o<e.placementEventsPerc,s.log("PublisherEvents: PublisherEvents(), sendPlacementEventsFlag: "+t.sendPlacementEventsFlag+", sendPublisherEventsFlag: "+t.sendPublisherEventsFlag)};return h.PLACEMENT_REFERENCE=1,h.PLACEMENT_LOADED=11,h.PLACEMENT_ERROR=1337,h.PLACEMENT_MULTIBURN=21,h.INTEGRAL_AD_SAFE_BLOCK=2200,h.PLACEMENT_BLOCKED_PLACEMENT_DOMAIN=2201,h.PLACEMENT_BLOCKED_DIV_NOT_EMPTY=2202,h.PLACEMENT_BLOCKED_SELECTED_DOMAINS=2203,h.PLACEMENT_BLOCKED_EXTRA_BLOCKED_URLS=2204,h.PLACEMENT_BLOCKED_NO_MY_ELEMENT=2206,h.PLACEMENT_BLOCKED_MOVIE_GEO=2207,h.PLACEMENT_BLOCKED_BROWSER_NAME=2208,h.GLOBAL_MUTATION_WATCHDOG=200,h.PLACEMENT_NOT_TRANSPARENT=300,h.NO_PREROLL=3,h.HAS_PREROLL=4,h.SYNC_SUCCESS=6,h.SYNC_EMPTY=63,h.SYNC_APP_ENGINE_EMPTY_RESPONSE=64,h.SYNC_UNKOWN_ERROR=69,h.MOVIE_START=72,h.MOVIE_CONTINUE=74,h.PREROLL_BID_START=7,h.MOVIE_FAILED=73,h.PE_FLASH_DOWNLOADER_INIT=80,h.PE_FLASH_DOWNLOADER_NOT_AVAILABLE=81,h.PE_FLASH_DOWNLOADER_READY=82,h.AD_BLOCKER_DETECTED=90,h.AD_BLOCKER_NOT_DETECTED=91,h.SNAP_PRE_INIT_SUCCESS=150,h.SNAP_REQUEST_FOR_NEW_OBJECT=151,h.SNAP_IS_ACTIVE_FAILED=152,h.FIRST_PREROLL_IMPRESSION=10,h.INTEGRAL_AD_SAFE_RANK=500,h.INTEGRAL_AD_SAFE_VIEWABILITY=501,h.SAFE_FRAME_DETECTED=600,h.START_CALLED_VIA_API=601,h.CLICK_THROUGH_POSTER=3001,h.CLICK_THROUGH_POSTER_FRAUD=3005,h.CLICK_THROUGH_CONTENT=3002,h.CLICK_THROUGH_LOGO=3003,h.CLICK_THROUGH_OVERLAY=3004,h.BIDDING_OPPORTUNITY=40,h.BIDDING_SUCCESS=41,h.BIDDING_FAILURE=42,h.LOOP_FINISHED=700,h.getRoll=function(){return diceRoll},h.prototype.send=function(t,r,c){var m,v,g,y,b=this,_=b.config,w="",E=11===t,T=1===t,k=100===t,x=t===h.BIDDING_OPPORTUNITY,j=t===h.BIDDING_SUCCESS||t===h.BIDDING_FAILURE,C=E?e.document.referrer:"",S=E&&r&&r.price?r.price:0;return c=n(!0,{},c),m=new Date,T&&(p=m,f=m),E&&(d=m),x&&(m=c.eventStartTime),j&&(d=c.eventStartTime),c.force||(!E||b.sendPlacementEventsFlag)&&(E||b.sendPublisherEventsFlag)?(E&&(r=r&&r.message?r.message:""),null===r&&(r=""),j?v=m-d:k?(v=m-f,f=m):v=m-p,0>v&&(v=0),g=E?_.placementEventsPerc:_.publisherEventsPerc,c.samplingValue&&(g=c.samplingValue),s.log("PublisherEvents: send(), sending: ",arguments),y={"event-type":t,"account-id":_.consoleID,data:r||"","external-id":_.externalID,samplingPerc:g,os:i.os+" "+i.osVersion,scriptVersion:_.version,referrer:C,extDynamicParam1:_.extDynamicParam1,extDynamicParam2:_.extDynamicParam2,experimentId:_.experimentId,freePlacement:_.isInSecondClick&&_.isLpSession?!0:!1,userAgent:i.userAgent,flash:i.flashversion,browser:i.name,affiliateId:_.subExternalID,url:_.domain,userDate:(new Date).toString(),sessionID:_.sessionID,delay_from_previous_in_sec:v/1e3,"UTF-8":!0,focusParam:i.isTabVisible()},_.calculatedPlacementCost&&(y.placementCost=_.calculatedPlacementCost),S&&(y.placementCost=S),E&&_.abTestingList&&_.abTestingList.length>0&&(a(_.abTestingList,function(e,t){w+=t.testName+":"+t.percentage+";"}),w=w.slice(0,-1),y.data=""!=y.data?y.data+";":"",y.data+="abDiceRoll:"+_.abDiceRoll+";"+"experimentId:"+_.experimentId.toString()+"; experimentsList:: "+w),o({url:l(_)+"/PublisherEventServlet",sendAsXml:!0,xmlRootElementName:"publish-event-request",postData:y,getData:{"event-type":y["event-type"],"UTF-8":y["UTF-8"]}})):(new u).reject()},h})}(this),function(){n("util/extractFilenameFromUrl",["require","util/maybeDecodeURIComponent"],function(e){var t=e("util/maybeDecodeURIComponent"),n=function(e,n){var r="",o=t(e),i=o.split("/");return i.length>0&&(r=i[i.length-1]),n||(r=r.split(".")[0]),r};return n})}(this),function(){n("beacons/ViewLog",["require","util/extend","dom/beacon","dom/browser","core/console","util/percentChance","util/extractFilenameFromUrl"],function(e){var t=e("util/extend"),n=e("dom/beacon"),r=e("dom/browser"),o=e("core/console"),i=e("util/percentChance"),a=e("util/extractFilenameFromUrl"),s={},l=function(e){var n=this;n.config=t(!0,{},s,e)};return l.prototype.log=function(e){var t=this,s=t.config,l=a(e),u={farmId:s.farmId,mediaSellerId:s.mediaSellerId,publisherId:s.publisherId,externalMovieId:l,eventType:0,domain:s.domain,url:s.url,browser:r.name,operatingSys:r.os+" "+r.osVersion,samplingPerc:s.movieViewLogSampling,affiliateId:s.subExternalID,experimentId:s.experimentId,sessionID:s.sessionID,scriptVersion:s.version,cms_co:s.cms_co,type:"movie"};s.sendMovieLog&&i(s.movieViewLogSampling)&&(o.log("ViewLog: log()"),n(s.sendMovieLogUrl,{payload:JSON.stringify(u)}))},l})}(this),function(){n("dom/beaconGet",["require","dom/$","dom/Deferred"],function(e){var t=e("dom/$"),n=e("dom/Deferred"),r=function(e){var r=e.url,o=e.timeout,i=new n;return t.ajax({url:r,timeout:o}).done(function(e){i.resolve(e)}).fail(i.reject),i.promise()};return r})}(this),function(){n("util/stripEmailParameters",[],function(){var e=function(e){return e=e.replace(/=[^&]+(@|%40)[^&]*/gi,"="),e.replace(/([?&](username|name)=)([^&]*)/gi,"")};return e})}(this),function(e){n("player/extractParentURL",["require","util/stripEmailParameters"],function(t){var n=t("util/stripEmailParameters"),r=["xurl","referrer","referrer1","ref","ref1","ref2","rf","loc","pub_url"],o="",i="",a=function(e){var t=e;try{t=decodeURIComponent(e)}catch(n){}return t},s=function(e){var t,n,r="",o=a(e);return o=a(o),t=0===o.indexOf("http://")?7:0===o.indexOf("https://")?8:0,n=o.substring(t).search(/[\/?}&$]/),-1===n&&(n=o.length),r=o.substring(t,t+n)},l=function(e){var t=s(e).split(".");return t[t.length-2]+"."+t[t.length-1]},u=function(e,t){return l(e)===l(t)},c=10,d=function(e,t){var n,r=c,o=s(e),i=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/;if(c+=1,null===e||""===e||"source_url_enc_hidden"===e||"undefined"===e||""===o||"["===e.charAt(0)||"%5B"===e.substr(0,3)||"{"===e.charAt(0)||"%7B"===e.substr(0,3))r-=1e3;else{for(o=o.toLowerCase(),n=0;n<t.length;n+=1)-1!==o.indexOf(t[n].toLowerCase())&&(r-=10+n);i.test(o)&&(r-=30),-1===e.indexOf(".")&&(r-=20)}return r},p=function(e){var t="",n=e.indexOf("?"),r="";return-1!==n&&(e=e.substr(n),e=a(e),n=e.indexOf("http://"),r=e.indexOf("&",n),r=-1!==r?r:e.length,-1!==n&&(t=e.substring(n,r))),t},f=function(t,n){var r="";r+=";;isPremiumSite="+t,r+=";;tag_url="+n,r+=";;top.location.href=";try{r+=e.top.location.href}catch(i){}r+=";;Window.location.href=";try{r+=e.location.href}catch(i){}r+=";;document.referrer=";try{r+=o=e.document.referrer}catch(i){}r+=";;Window.parent.location.href=";try{r+=e.parent.location.href}catch(i){}return r=r.substr(0,2e3)},h={},m=function(e,t){var n,r,o,i,a=e.indexOf("?");if(!h[e]&&(h[e]={},-1!==a))for(n=e.substring(a+1,e.length),r=n.split("&"),i=0;i<r.length;i+=1)o=r[i].split("="),h[e][o[0]]=o[1];return void 0!==h[e][t]?h[e][t]:""},v=function(t){var n,o,s,l=[],u=["","","",""];if(t)u[0]=t;else{try{u[0]=e.location.href.toString()}catch(c){}try{u[1]=e.parent.location.href.toString()}catch(c){}try{u[2]=e.document.referrer}catch(c){}}for(n=0;n<u.length;n+=1)for(o=0;o<r.length;o+=1)s=m(u[n],r[o]),""!==s&&(l.push(a(s)),0==n&&4==o&&(i=s));return l},g=function(e,t){var n,r,o,i,a,s="";for(r=0;r<e.length;r+=1){if(n=e[r].url.toLowerCase(),i=n.indexOf("?"),a=n.indexOf("%3F"),-1!==i&&(n=n.substr(0,i)),-1!==a&&(n=n.substr(0,a)),void 0===t)return s;for(o=0;o<t.length;o+=1)if(""!==t[o]&&-1!==n.indexOf(t[o].toLowerCase())){s="ebl:"+t[o]+":"+e[r].url;break}}return s},y=function(t){var r,o,i,a,l,c,h,y,b,_=[],w="",E="",T="",k="",x=!1;if(t.root&&(e=t.root),o=e.location.href.toString(),t.useSourceParam&&(b=m(t.scriptUrl,t.useSourceParam===!0?"ref1":t.useSourceParam),b&&(o=b)),!t.isPremiumSite&&!b){r=o,_.push({url:o,mark:d(o,t.transparencyLowerMarks)});try{w=e.top.location.href.toString()}catch(j){}x=!!w;try{E=e.parent.location.href.toString()}catch(j){}try{T=e.document.referrer}catch(j){}if(_.push({url:E,mark:d(E,t.transparencyLowerMarks)}),c=v(),c.length>0)for(h=0;h<c.length;h+=1)_.push({url:c[h],mark:d(c[h],t.transparencyLowerMarks)});if(i=p(r),""===i&&(r=T,i=p(r)),""!==i&&(r=i,i=p(r),""!==i&&(r=i),a=r.indexOf(","),-1!==a&&(r=r.substring(0,a)),o=r,_.push({url:o,mark:d(o,t.transparencyLowerMarks)})),y={url:T,mark:d(T,t.transparencyLowerMarks)},x||_.push(y),c=v(t.scriptUrl),c.length>0)for(h=0;h<c.length;h+=1)_.push({url:c[h],mark:d(c[h],t.transparencyLowerMarks)});x&&_.push({url:w,mark:d(w,t.transparencyLowerMarks)}),k=g(_,t.extraBlockedUrls),x&&_.push(y),_.sort(function(e,t){return t.mark-e.mark}),o=_[0].url}return l=n(u(T,o)?T:o),o={url:l,domain:s(l),data:"selectedParent="+l+f(t.isPremiumSite,t.scriptUrl),blockedDomainString:k,isBlocked:""!==k}};return y})}(this),n("lodash/_baseSome",["./_baseEach"],function(e){function t(t,n){var r;return e(t,function(e,t,o){return r=n(e,t,o),!r}),!!r}return t}),n("lodash/some",["./_arraySome","./_baseIteratee","./_baseSome","./isArray","./_isIterateeCall"],function(e,t,n,r,o){function i(i,s,l){var u=r(i)?e:n;return l&&o(i,s,l)&&(s=a),u(i,t(s,3))}var a;return i}),n("lodash/_baseClamp",[],function(){function e(e,n,r){return e===e&&(r!==t&&(e=r>=e?e:r),n!==t&&(e=e>=n?e:n)),e}var t;return e}),n("lodash/startsWith",["./_baseClamp","./toInteger","./toString"],function(e,t,n){function r(r,o,i){return r=n(r),i=e(t(i),0,r.length),r.lastIndexOf(o,i)==i}return r}),function(){n("player/Placement",["require","util/each","util/extend","util/buildQueryString","dom/beaconGet","dom/browser","dom/getElement","core/console","beacons/PublisherEvents","player/extractParentURL","lodash/some","lodash/startsWith","dom/Deferred"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/buildQueryString"),o=e("dom/beaconGet"),i=e("dom/browser"),a=e("dom/getElement"),s=e("core/console"),l=e("beacons/PublisherEvents"),u=e("player/extractParentURL"),c=e("lodash/some"),d=e("lodash/startsWith"),p=e("dom/Deferred"),f=function(e){var t=/^(?:(?:2[0-4]\d|25[0-5]|1\d{2}|[1-9]?\d)\.){3}(?:2[0-4]\d|25[0-5]|1\d{2}|[1-9]?\d)(?:\:(?:\d|[1-9]\d{1,3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5]))?$/,n=/(^127\.0\.0\.1)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)/;return t.test(e)&&!n.test(e)},h=function(e,n,r){var o="";return s.log("Placement: checkBlockedDomain()",arguments),e=e.toLowerCase(),r&&f(e)?"bl: IP :"+e:(t(n,function(t,n){return""===n?!0:-1!==e.indexOf(n.toLowerCase())?(o="bl:"+n+":"+e,!1):void 0}),o)},m=function(e,n){var r=new l(e),a=new p,s="tab is "+(i.isTabVisible()?"visible;":"invisible;"),u=function(t){var n="no cms data;",o=t;return e.failedUsedCmsSettings&&(o?o.message=n+e.failedUsedCmsSettings:o={message:n+e.failedUsedCmsSettings}),r.send(l.PLACEMENT_LOADED,o)};return r.send(l.PLACEMENT_REFERENCE,s+n.parentUrlData),e.nurl?o({url:e.nurl,timeout:e.nurlTimeout}).then(function(e){u(e).then(a.resolve,a.reject)},function(){u().then(a.resolve,a.reject)}):u().then(a.resolve,a.reject),n.isTransparent||r.send(l.PLACEMENT_NOT_TRANSPARENT,null),n.blockedReason.length&&t(n.blockedReason,function(e,t){r.send(t.id,t.data)}),a.promise()},v=function(e){var t=e&&e.parentNode,n=t&&t.parentNode,r=n||t,o=r&&r.innerHTML||"N/A";return o.replace(/\s/g," ")},g=function(e){var t=this;t.config=n(!0,{},e)};return g.prototype.init=function(){var e,t=this,n=t.config,o=u({isPremiumSite:n.isPremiumSite,extraBlockedUrls:n.extraBlockedUrls||[],transparencyLowerMarks:n.transparencyLowerMarks||[],scriptUrl:n.scriptUrl,useSourceParam:n.useSourceParam}),p=n.player&&a(n.player),f=[],g=i.query.qaDomain||o.domain,y=h(g,n.blockedSelectedDomains,n.blockIP),b=function(e){return d(i.name,e)};return s.log("Placement: init()"),y?f=[{id:l.PLACEMENT_BLOCKED_SELECTED_DOMAINS,data:y}]:o.isBlocked&&(f=[{id:l.PLACEMENT_BLOCKED_EXTRA_BLOCKED_URLS,data:o.blockedDomainString}]),c(n.blockBrowserNames,b)&&(f=[{id:l.PLACEMENT_BLOCKED_BROWSER_NAME,data:n.blockBrowserNames.join(",")}]),n.skipScriptCheck||-1!==n.scriptUrl.indexOf("hiro")||(f=[{id:l.PLACEMENT_BLOCKED_NO_MY_ELEMENT,data:n.scriptUrl}]),p&&p.children.length>0&&(f=[{id:l.PLACEMENT_BLOCKED_DIV_NOT_EMPTY,data:"Player: "+n.player+" innerHTML: "+v(n.scriptElement)},{id:l.PLACEMENT_MULTIBURN,data:"PLAYER_DIV_NOT_EMPTY"}]),n.url=o.url,n.domain=g,s.log(" blockedReason "+f),e=m(n,{parentUrlData:o.data+";;macros="+r(n.macros),isTransparent:i.isTransparent,blockedReason:f}),{url:n.url,domain:n.domain,blockedReason:f,placementLoadedPromise:e}},g})}(this),function(e){function t(e,n){n=n||{},this._id=t._generateUUID(),this._promise=n.promise||Promise,this._frameId=n.frameId||"CrossStorageClient-"+this._id,this._origin=t._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=n.timeout||3e3,this._listener=null,this._installListener();
var r;n.frameId&&(r=document.getElementById(n.frameId)),r&&this._poll(),r=r||this._createFrame(e),this._hub=r.contentWindow}t.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},t._getOrigin=function(e){var t,n,r;return t=document.createElement("a"),t.href=e,t.host||(t=window.location),n=t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol,r=n+"//"+t.host,r=r.replace(/:80$|:443$/,"")},t._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=0|16*Math.random(),n="x"==e?t:8|3&t;return n.toString(16)})},t.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(t,n){var r=setTimeout(function(){n(new Error("CrossStorageClient could not connect"))},e._timeout);e._requests.connect.push(function(e){return clearTimeout(r),e?n(e):(t(),void 0)})}))},t.prototype.set=function(e,t,n){return this._request("set",{key:e,value:t,ttl:n})},t.prototype.get=function(){var e=Array.prototype.slice.call(arguments);return this._request("get",{keys:e})},t.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},t.prototype.clear=function(){return this._request("clear")},t.prototype.getKeys=function(){return this._request("getKeys")},t.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},t.prototype._installListener=function(){var e=this;this._listener=function(t){var n,r,o;if(!e._closed&&t.origin===e._origin)if("cross-storage:unavailable"!==t.data){if(-1!==t.data.indexOf("cross-storage:")&&!e._connected){if(e._connected=!0,!e._requests.connect)return;for(n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r);delete e._requests.connect}if("cross-storage:ready"!==t.data){try{o=JSON.parse(t.data)}catch(i){return}o.id&&e._requests[o.id]&&e._requests[o.id](o.error,o.result)}}else{if(e._closed||e.close(),!e._requests.connect)return;for(r=new Error("Closing client. Could not access localStorage in hub."),n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},t.prototype._poll=function(){var e,t;e=this,t=setInterval(function(){return e._connected?clearInterval(t):(e._hub&&e._hub.postMessage("cross-storage:poll",e._origin),void 0)},1e3)},t.prototype._createFrame=function(e){var n,r;n=window.document.createElement("iframe"),n.id=this._frameId;for(r in t.frameStyle)t.frameStyle.hasOwnProperty(r)&&(n.style[r]=t.frameStyle[r]);return window.document.body.appendChild(n),n.src=e,n},t.prototype._request=function(e,t){var n,r;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(r=this,r._count++,n={id:this._id+":"+r._count,method:"cross-storage:"+e,params:t},new this._promise(function(e,t){var o,i;o=setTimeout(function(){r._requests[n.id]&&(delete r._requests[n.id],t(new Error("Timeout: could not perform "+n.method)))},r._timeout),r._requests[n.id]=function(n,r){return clearTimeout(o),n?t(new Error(n)):(e(r),void 0)},Array.prototype.toJSON&&(i=Array.prototype.toJSON,Array.prototype.toJSON=null),r._hub.postMessage(JSON.stringify(n),r._origin),i&&(Array.prototype.toJSON=i)}))},"undefined"!=typeof module&&module.exports?module.exports=t:"undefined"!=typeof exports?exports.CrossStorageClient=t:"function"==typeof n&&n.amd?n("CrossStorageClient",[],function(){return t}):e.CrossStorageClient=t}(this),n("player/InternalCookieHandler",["require","CrossStorageClient","dom/$","dom/Deferred","core/console","util/createPrototype","lib/es6-promise/es6-promise"],function(e){var t=e("CrossStorageClient"),n=(e("dom/$"),e("dom/Deferred")),r=e("core/console"),o=e("util/createPrototype"),i=e("lib/es6-promise/es6-promise").Promise,a=o({constructor:function(e){var o=this,a=(e.timeout||1e4,function(e){var a,s=e&&e.url?new t(e.url,{promise:i,timeout:e.timeout||1e4}):null;return r.log("InternalCookieHandler: connectToStorage()"),s?(o.storage=s,a=s.onConnect()):(a=new n,a.reject()),a});o.ttl=e.ttl||864e5,o.sessionCount=e.count||3,o.connectToStorageDeferred=a(e)},startNewSessionAndAnalyze:function(){var e=this,t=e.connectToStorageDeferred,r=e.storage,o=new n;return t.then(function(){return r.get("sessionsInfo")}).then(function(t){return t?t.sessionCount=t.sessionCount+1:t={sessionCount:1,impressionCount:0},r.set("sessionsInfo",t,e.ttl),t}).then(function(t){return t&&t.sessionCount>e.sessionCount?(t={sessionCount:1,impressionCount:0},r.set("sessionsInfo",t,e.ttl),o.resolve()):o.reject(),o.promise()})},setImpression:function(){var e=this,t=e.connectToStorageDeferred,n=e.storage;t.then(function(){return n.get("sessionsInfo")}).then(function(t){t?(t.impressionCount=t.impressionCount+1,t.sessionCount=0):sessionInfo={sessionCount:0,impressionCount:1},n.set("sessionsInfo",t,e.ttl)})}});return a}),function(){n("player/HiroPlayerPlaylist",["require","util/each","util/extend","core/console"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("core/console"),o=function(e){var t=this,r=e.playlist;r||(r=[]),t.length=r.length,t.currentIndex=0,t.loopFinished=!1,t.playedMovies=0,t.first=!0,t.maxLoopRotations=e.maxLoopRotations,t.adCounters=e.adCounters,n(!0,t,r)};return o.prototype.next=function(){var e=this;return e.first=!1,e.currentIndex+=1,e.playedMovies+=1,e.adCounters.incRotationIndex(),r.log("HiroPlayerPlaylist: next() ",e),e.finished()&&e.loop(),e.currentIndex},o.prototype.add=function(e){var n=this,o=n.length;r.log("HiroPlayerPlaylist: add() ",arguments),e.length&&"string"!=typeof e||(e=[e]),t(e,function(e,t){n[e+o]=t}),n.length+=e.length},o.prototype.reset=function(){var e=this;e.currentIndex=0,e.playedMovies=0,e.loopFinished=!1,e.first=!0},o.prototype.clear=function(){var e=this,t=0;for(r.log("HiroPlayerPlaylist: clear() ",e),t=0;t<e.length;t+=1)delete e[t];e.reset(),e.length=0},o.prototype.loop=function(){var e=this;return e.playedMovies>=e.maxLoopRotations&&(e.loopFinished=!0,e.playedMovies=0),e.currentIndex=0,r.log("HiroPlayerPlaylist: loop() ",e),e.loopFinished},o.prototype.finished=function(){var e=this;return r.log("HiroPlayerPlaylist: finished() ",e),e.currentIndex>=e.length||e.playedMovies>=e.maxLoopRotations},o.prototype.current=function(){var e=this;return r.log("HiroPlayerPlaylist: current() ",e),e[e.currentIndex]},o.prototype.index=function(){var e=this;return r.log("HiroPlayerPlaylist: index() ",e),e.currentIndex},o.prototype.isFirst=function(){var e=this;return r.log("HiroPlayerPlaylist: isFirst() ",e),e.first},o})}(this),function(){n("player/ApiBase",[],function(){var e=function(e){return e&&"function"==typeof e?function(t){e.call(this,{type:t})}:void 0},t=[],n=[],r=function(e){var t=this;t.apiEvents=e};return r.prototype.on=function(r,o,i){var a=this,s=e(o);return n.push(s),t.push(o),a.apiEvents.on(r,s,i),a},r.prototype.one=function(r,o,i){var a=this,s=e(o);return n.push(s),t.push(o),a.apiEvents.one(r,s,i),a},r.prototype.off=function(e,r,o){var i,a=this,s=0;if(r){for(;t[s]&&t[s]!==r;)s+=1;i=n[s]}return a.apiEvents.off(e,i,o),a},r})}(this),function(){n("util/rejectedPromise",["require","dom/$"],function(e){var t=e("dom/$"),n=function(e){var n=t.Deferred();return n.reject(e),n.promise()};return n})}(this),n("player/StageManager",["require","dom/$","core/console","util/extend","util/rejectedPromise"],function(e){var t=e("dom/$"),n=e("core/console"),r=e("util/extend"),o=e("util/rejectedPromise"),i=t.when,a={show:t.noop,hide:t.noop},s={placeholder:a,showPlaceholderOnInit:!0},l=function(e){var t=this;t.options=r(!0,{},s,e),t.options.showPlaceholderOnInit&&t.options.placeholder.show()};return l.prototype.enter=function(e){var t=this,r=t.options,a=r.placeholder,s=function(){return e.show()},l=function(){t.currentActor=e};return n.log("StageManager: enter()",arguments),t.currentActor===e?(n.log("StageManager: enter(), actor already on stage, ignoring"),void 0):e&&!t.currentActor?(n.log("StageManager: enter(), showing actor"),i(a.hide()).then(s).then(l)):(n.log("StageManager: enter(), stage not available, rejecting"),o())},l.prototype.exit=function(e){var t=this,r=t.options,a=r.placeholder,s=function(){return a.show()},l=function(){t.currentActor=!1};return n.log("StageManager: exit()",arguments),e&&e===t.currentActor?(n.log("StageManager: exit(), hiding actor"),i(e.hide()).then(s).then(l)):(n.log("StageManager: exit(), actor not on stage, rejecting"),o())},l.prototype.current=function(){var e=this;return n.log("StageManager: current()"),e.currentActor},l}),n("player/playAdBreak",["require","dom/$","core/console"],function(e){var t=e("dom/$"),n=e("core/console"),r=function(e,r){var o,i,a=t.Deferred(),s=a.promise(),l=0,u=0,c=0,d=t.Deferred(),p=r.prerollsMaxBids,f=r.midrollsMaxBids,h=r.postrollsMaxBids,m=r.prerollsMaxBidsOverride,v=r.midrollsMaxBidsOverride,g=r.postrollsMaxBidsOverride,y=r.placeholderImageElementTrigger,b=function(){var t,n,r=e.maxAdsPerBreak,o=e.maxBidsPerBreak;switch(e.product){case 0:t=p,n=0===m?r:m;break;case 1:t=f,n=0===v?r:v;break;case 2:t=h,n=0===g?r:h}return n?n:o?o:t?t:r},_=e&&b(),w=function(e){var r=t.Deferred();return n.log("playAdBreak()/waitUntilAdComplete()",i),e||(e=o),t.when(o&&o.atEnd()).always(r.resolve),r.promise()},E=function(e){var o=function(){return n.log("playAdBreak()/waitUntilCanPlayAd()/returnNextAd()",i),e};return n.log("playAdBreak()/waitUntilCanPlayAd()",i,d.state()),"pending"===d.state()&&(r.startAfter?r.startAfter(e).then(d.resolve,d.reject):d.resolve()),t.when(w(),d.promise()).then(o,o)},T=function(e){var t=function(){return e.play()},a=function(){return n.log("playAdBreak()/startNextAd()/returnAd()",i),e},s=function(){return e&&e.destroy(),r.stageManager.exit(e)},l=function(){var t=function(){w(e).then(s)};return r.stageManager.enter(e).then(t)};return o&&o.destroy(),o=e,n.log("playAdBreak()/startNextAd()",i),l().then(t).then(a,a)},k=function(e){var t=function(){return n.log("playAdBreak()/waitUntilBidTime()/returnNextAd()",i),e};return n.log("playAdBreak()/waitUntilBidTime()",i),o.atBidTime?o.atBidTime().then(t,t):o.atEnd(r.adBreakBufferTime).then(t,t)},x=function(){r.adBreakProgress&&r.adBreakProgress.apply(e,arguments)},j=function(e){var t=e&&e.options&&e.options.parallelBid;n.log("playAdBreak()/handleBidEnd()",i),t||(l+=1)},C=function(e){return n.log("playAdBreak()/removeFailedAd()",i),o===e&&(o=!1),e.destroy(),r.stageManager.current()===e?r.stageManager.exit(e):void 0},S=function(){w().then(a.resolve)},A=function(){n.log("playAdBreak()/biddingSuccess()",i),u+=1,c+=1,x("biddingsuccess")},O=function(){n.log("playAdBreak()/biddingFailure()",i),u+=1,x("biddingfailure")},I=function(){var t=!1;return i=[e.productFullName,e.insertionPoint,l],n.log("playAdBreak()/bidForNextAd()",i,d.state(),e.destroyed),"rejected"!==d.state()&&!e.destroyed&&c<e.maxAdsPerBreak&&_>u&&(t=!0,l>=e.maxAdsPerBreak&&(l=0),n.log("playAdBreak()/bidForNextAd() continue",i,d.state(),c,u)),t?e.bid().progress(x).done(A).fail(O).always(j).then(E).then(T).then(k).then(null,C).always(I):(n.log("playAdBreak() no more ads",i,e.maxAdsPerBreak),S(),void 0)};return n.log("playAdBreak()",arguments),e?I():a.resolve(),s.done(function(){x("done")}).fail(function(){x("fail")}).always(function(){e&&e.log("ad break complete"),x("complete")}),!e||0!==e.product&&2!==e.product||y(a.resolve),s};return r}),function(e){var t=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change(function(){r.hidden()||(r.unbind(n),e())});return n},change:function(e){if(!r.isSupported())return!1;t+=1;var n=t;return r._callbacks[n]=e,r._listen(),n},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported(),n="prerender";if(!t||n!=r.state())return e(),t;var o=r.change(function(t,i){n!=i&&(r.unbind(o),e())});return o},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!r._doc.visibilityState&&!r._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof n&&n.amd?n("lib/visibilityjs/visibility.core",[],function(){return r}):e.Visibility=r}(this),function(){n("player/PlaylistHandler",["require","dom/$","core/console","util/each","util/extend","util/rejectedPromise","player/playAdBreak","dom/generateTimeout","lib/visibilityjs/visibility.core"],function(e){var t=e("dom/$"),n=e("core/console"),r=e("util/each"),o=e("util/extend"),i=e("util/rejectedPromise"),a=e("player/playAdBreak"),s=e("dom/generateTimeout"),l=e("lib/visibilityjs/visibility.core"),u=10,c={startClipAfter:t.noop,onClipPlay:t.noop,onClipFailed:t.noop,maxLoopRotations:1/0},d=function(e){var n=this;o(n,c,e),n.placementLifeTimerDeferred=t.Deferred(),n.isDisablePlacementBehaviour||s(n.placementLifeTimerDeferred.resolve,1e3*60*60*n.placementLifeTimeHours)};return d.prototype.startPlaylist=function(){var e,o,c,d,p=this,f=p.playlist,h=p.startClipAfter,m=p.onClipPlay,v=p.onClipFailed,g=p.stageManager,y=p.injectFallback,b=p.allowPrerollsOnLoop,_=p.currentTime,w=p.isActive,E=function(e){return p.adBreaks.sync(e)},T=function(e){var s,l,d=e.adBreaks,f=e.syncError,h=o.atEnd();return n.log("PlaylistHandler: prepareAdBreaks()",arguments),f?void 0:(r(d,function(e,r){var d,f=p.createAdBreak(r),m=f.insertionPoint/1e3,v=-u,y=t.Deferred(),b=function(){return"pending"!==h.state()},_=function(){return b()?i():void 0},E=function(){n.log("PlaylistHandler: prepareAdBreaks()/cleanupAdBreak()",f.insertionPoint),f.destroy()},T=function(){n.log("PlaylistHandler: prepareAdBreaks()/cleanupAdBreakImmediately()",f.insertionPoint),f.destroy(0)},k=function(){var e=a(f,{startAfter:function(){var t=function(){return g.exit(o)},r=function(){return b()?i():g.enter(o)},a=function(){return o.resume()};return n.log("PlaylistHandler: playAdBreakWhenReady()/startAfter()",f.insertionPoint),f.isPostroll()?h:(n.log("PlaylistHandler: playAdBreakWhenReady()/startAfter() resolving",f.insertionPoint),e.then(r).then(a),o.pause().then(t))},adBreakProgress:p.adBreakProgress,adBreakBufferTime:u,stageManager:g,placeholderImageElementTrigger:p.placeholderImageElementTrigger,prerollsMaxBids:p.prerollsMaxBids,midrollsMaxBids:p.midrollsMaxBids,postrollsMaxBids:p.postrollsMaxBids,prerollsMaxBidsOverride:p.prerollsMaxBidsOverride,midrollsMaxBidsOverride:p.midrollsMaxBidsOverride,postrollsMaxBidsOverride:p.postrollsMaxBidsOverride}),t=function(){return"pending"!==e.state()?i():void 0};return f.isPostroll()||(n.log("PlaylistHandler: prepareAdBreaks()/playAdBreakWhenReady() is midroll",f.insertionPoint),h.then(t).then(T)),n.log("PlaylistHandler: prepareAdBreaks()/playAdBreakWhenReady()",f.insertionPoint),e};f.isPostroll()||(v=m-u,0>v&&(v=0)),f.isPreroll()?s=f:(n.log("PlaylistHandler: startPlaylist()/prepareAdBreaks(), preparing hook at",v),f.isPostroll()||(d=t.when(l).then(_).then(w)),t.when(o.at(v,!0),d).then(k).then(E).always(y.resolve),l=y.promise(),f.isPostroll()&&(c=y.promise(),c.then(function(){c=null})))}),s)},k=function(r,o){var i=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()/currentClipComplete()",e),e?e.atEnd():void 0},s=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()/canPlayClip()"),t.when(h(r,o),i())},l=f.isFirst(),u=l||b||!p.isDisablePlacementBehaviour,c=function(){var e=t.Deferred(),n=e.promise(),i=r&&r.hadImpressions(),a=!i;return!o&&l&&a&&y()?e.reject("fallback"):e.resolve(),n},d=function(){r&&(r.destroy(),r=null)};return n.log("PlaylistHandler: startPlaylist()/waitUntilCanPlayClip()"),u||(r=null),a(r,{startAfter:s,adBreakProgress:p.adBreakProgress,stageManager:g,prerollsMaxBids:p.prerollsMaxBids,midrollsMaxBids:p.midrollsMaxBids,postrollsMaxBids:p.postrollsMaxBids,prerollsMaxBidsOverride:p.prerollsMaxBidsOverride,midrollsMaxBidsOverride:p.midrollsMaxBidsOverride,postrollsMaxBidsOverride:p.postrollsMaxBidsOverride,placeholderImageElementTrigger:p.placeholderImageElementTrigger}).then(c).always(d).then(s)},x=function(){var t=function(){return o.play(_)},r=function(){return g.exit(o)},i=function(){var e=function(){o.atEnd().then(r)};return g.enter(o).then(e)};return n.log("PlaylistHandler: startPlaylist()/playPreparedClip()"),e=o,i().then(t).then(m,v)},j=function(){if(p.movieBumperEnabled&&p.movieBumper){var e=p.createClip(p.movieBumper),r=function(){return e.play()},o=function(){return g.exit(e)},i=function(){var t=function(){e.atEnd().then(o)};return g.enter(e).then(t)},a=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilBumperEnd()"),e.atEnd()};return e.volume(p.initialClipVolume),e.hide(),n.log("PlaylistHandler: startPlaylist()/playBumperClip()"),i().then(r).then(a)}return t.Deferred().resolve()},C=function(){return n.log("PlaylistHandler: startPlaylist()/waitUntilClipEnd()"),t.when(c,e.atEnd())},S=function(){n.log("PlaylistHandler: startPlaylist()/playNextClip()"),_=0,g.exit(e),f.next(),d()};return d=function(e){var r=f.current(),i=f.loopFinished,a=t.Deferred(),u=t.Deferred(),c=p.isActive,h=function(e){e.appEngineRestriction?u.reject(e):u.resolve(e)},m=function(){f.reset(),d()},v=function(e){var t;return o=p.createClip(r.url),t=E(r),t.then(u.resolve,h),t.then(a.resolve,a.reject),u.then(T).then(function(t){return e&&(t=null),k(t,e)}).then(j).then(x).then(C).then(S).fail(function(e){"reloop"===e&&d(e)})},g=function(e){var t;return l.isSupported()?t=l.change(function(){l.hidden()||e.resolve()}):void 0},y=function(){var e=t.Deferred(),n=s(e.resolve,1e3*60*p.placementTimeoutMin),r=g(e);return p.hidePlaceHolderImage(),p.userInitiate(e).then(n).then(function(){r&&l.unbind(r)}).then(function(){"resolved"===e.state()?d():v(!0)})};if(n.log("PlaylistHandler: startPlaylist()/playCurrentClip()"),i){n.log("PlaylistHandler: startPlaylist()/playCurrentClip(), loop finished");var b=t.Deferred(),_=t.noop,w=function(){_="resolved"===p.placementLifeTimerDeferred.state()?t.noop:s(function(){c().then(b.resolve,function(){w()})},1e3*60*p.placementTimeoutMin)};p.isDisablePlacementBehaviour||w(),p.onLoopFinished(),p.hidePlaceHolderImage(),p.userInitiate(b).then(_).then(m)}return r&&!i?"reloop"===e?y():c().then(function(){p.isDisablePlacementBehaviour||p.showPlaceHolderImage(),v()},y):a.resolve(),a.promise()},d()},d})}(this),function(){n("util/shuffle",["require"],function(){var e=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e};return e})}(this),function(){n("util/isFunction",[],function(){var e=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};return e})}(this),function(){n("util/map",["require","util/each","util/isPlainObject","util/isArray","util/isFunction"],function(e){var t=e("util/each"),n=e("util/isPlainObject"),r=e("util/isArray"),o=e("util/isFunction"),i=function(e,a,s,l){var u;return n(e)&&(u={}),r(e)&&(u=[]),s===!0&&(s=void 0,l=!0),t(e,function(t,c){var d=c;l&&(n(c)||r(c))?d=i(c,a,s,l):o(a)&&(d=a.call(s,c,t,e)),u[t]=d}),u};return i})}(this),function(e){n("bidding/SyncRequest",["require","util/each","util/extend","dom/$","dom/createElement"],function(t){var n=t("util/each"),r=t("util/extend"),o=t("dom/$"),i=t("dom/createElement"),a=function(){var e=new Date,t=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()+" "+e.getHours()+"/"+e.getMinutes()+"/"+e.getSeconds();return t},s={"is-json":!0,"sync-type":"STREAMING","sync-time":a(),"external-publisher-id":"","placement-domain":"",forceResponse:!1,version:"","client-id":0,ABtest:"","suppress-domain-optimization":!1},l=(e.document,function(e){return o(i(e,!1,!0))}),u=function(e){var t={};return n(e,function(e,n){s.hasOwnProperty(e)&&(t[e]=n)}),t},c=function(e){var t=l("movies");return o.isArray(e)||(e=[e]),n(e,function(e,n){t.append(l("movie").attr({title:n.title,"external-id":n["external-id"]}).append(l("video-url").text(n.url)))}),t},d=function(e){var t=l("synchronization-request").attr(u(e)).append(c(e.movies));return t[0].xml||(new XMLSerializer).serializeToString(t[0])},p=function(e){var t=r({},s,{"sync-time":a()}),n=function(){var t=e.parameters.ABtest||"";return""!=t&&e.parameters.ABtest.toUpperCase().split("CLIENT").length>1&&(t=""),t},i={method:"get",dataType:"json",data:{"UTF-8":!0,cache_buster:(new Date).getTime(),useCache:!0,"is-json":!0,"external-id":e.parameters.movies[0]["external-id"],"external-publisher-id":e.parameters["external-publisher-id"],"placement-domain":e.parameters["placement-domain"],"block-blacklisted-domains":e.parameters["block-blacklisted-domains"],"server-domain":e.parameters.serverDomain,ABtest:n(),"suppress-domain-optimization":e.parameters["suppress-domain-optimization"],forceResponse:e.parameters.forceResponse,isMobileApp:e.parameters.isMobileApp?e.parameters.isMobileApp:!1},parameters:t};return e=r(!0,{},i,e),e.parameters.ABtest=e.data.ABtest,e.data.synchReq=d(e.parameters),o.ajax(e)};return p})}(this),function(e){n("bidding/AdBreaks",["require","util/each","util/extend","util/defined","core/console","util/shuffle","util/map","util/percentChance","bidding/SyncRequest","dom/$"],function(t){var n,r=t("util/each"),o=t("util/extend"),i=t("util/defined"),a=t("core/console"),s=t("util/shuffle"),l=(t("util/map"),t("util/percentChance")),u=t("bidding/SyncRequest"),c=t("dom/$"),d="hiroservers.appspot.com",p="ab_client_opt_no_boost",f=function(e){var t=e.serverDomain?e.serverDomain:e.accountID+".hiro.tv",n="https://"+t+"/hiro/HiroServlet/ClientSynchronizationServlet",r=e.appEngineProtocol?e.appEngineProtocol:"https";return e.synchCache?(n=r+"://"+e.appEngineDomain+"/SynchServlet/"+e.accountID,e.appEngineQaMode&&(n=n+"?syncNgDomain="+e.syncNgDomain)):e.appEngineQaMode&&(n=r+"://"+e.syncNgDomain),n},h=function(e){var t={};return r(e,function(e,n){n.url=n.url||n.URL,delete n.URL,n.uniqueLimitUnit=parseInt(n.uniqueLimitUnit,10),t[n.id]=n}),t},m=function(e,t){var n,r=e.length;return a.log("AdBreak: adNetworkShuffle()",arguments),0===e[r-1]&&(n=e.pop()),t.shuffleAdNetworks&&(e=s(e)),0===n&&e.push(n),a.log("AdBreak: adNetworkShuffle() done",e),e},v=function(e,t){var n,o=e.length,i=[],s=0,u=0;return a.log("AdBreak: boostAdNetworks()",arguments),r(e,function(e,r){n=l(t[r].boostShare),u=n?t[r].boost:0,s=o+u,o-=1,i.push({id:r,score:s}),a.log("AdBreak: boostAdNetworks(), adNetworkId and score ",r,s)}),i.sort(function(e,t){return t.score-e.score}).map(function(e){return e.id})},g=function(e,t){var n=[];return r(e,function(e,r){var o=t[r];o&&o.url&&n.push(o)}),n},y=function(e){var t=null;return r(e,function(e,n){n.isVideo&&n.adNetworkIds&&1==n.product&&(t=n.adNetworkIds)}),t},b=function(e,t){var n={};return r(e,function(r,o){var i;if(o.isVideo&&o.adNetworkIds){if(t.prerollsOnly&&0!==o.insertionPoint)return;if(0===o.maxAdsPerBreak&&(o.maxAdsPerBreak=1),o.adNetworkIds=m(o.adNetworkIds,{shuffleAdNetworks:t.shuffleAdNetworks}),t.abTesting!==p&&(o.adNetworkIds=v(o.adNetworkIds,t.adNetworks)),o.prioritizedCampaignsCount=t.syncData.prioritizedCampaignsCount||t.prioritizedCampaignsCount||0,i=g(o.adNetworkIds,t.adNetworks),i.length&&(n[o.insertionPoint]={adBreak:o,adNetworks:i,adViewLog:t.adViewLog,redirectionEvent:t.redirectionEvent,networkEvents:t.networkEvents,capping:{placementDomainLists:t.syncData.placementDomainLists||[],isTransparent:t.isTransparent,clientRegion:t.networkEvents.clientLocation.client_region,clientCity:t.networkEvents.clientLocation.client_city}},t.splashPrerolls&&0==o.insertionPoint)){var a=y(e);n[o.insertionPoint].adBreak.postSplashNetworks=g(a,t.adNetworks)}}}),n};return n=function(e){var t=this,n={appEngineDomain:d};t.options=o(!0,{},n,e),t.options.syncUrl=f(e),t.options.syncParameters={version:"3.0.0.0."+e.accountID,forceResponse:e.forceResponse,"external-publisher-id":e.externalID,"placement-domain":e.domain,"block-blacklisted-domains":e.blockBlacklistedDomains,serverDomain:e.serverDomain,isMobileApp:e.isMobileApp,ABtest:e.abTesting,"suppress-domain-optimization":e.suppressDomainOpt}},n.prototype.sync=function(t){var n=this,i=n.options,s=i.accountID+"_"+t.url.split("/").slice(-1),l=[{"external-id":s,title:t.customProperties?t.customProperties.videoTitle:"",url:t.url}],d=function(e,t,n){return"parsererror"===e&&t&&-1!==t.indexOf(n)},p=function(e,t,n){var o=e.responseText,i=["APP_ENGINE_PLACEMENT_DOMAIN_RESTRICTION","APP_ENGINE_MOVIE_GEO_RESTRICTION"],s=!1;return a.log("AdBreaks: sync()/handleError()",arguments),r(i,function(e,n){return d(t,o,n)?(s=n,!1):void 0}),s||o||""!==e.responseType||(o=e.response),{syncError:!0,appEngineRestriction:s,response:o,errorThrown:n}},f=function(e){var t,r,o,s=e.movieSchema,l=s&&s.adNetworksDictionary||e.adNetworksDictionary,u=s&&s.adBreakSet||e.adBreakSet;return a.log("AdBreaks: sync()/handleResponse()",arguments),n.movieId=s&&s.id||"",n.publisherId=e.publisherId,e.clientLocation&&e.clientLocation.countryId&&!n.clientLocation&&(n.clientLocation={client_country:e.clientLocation.countryId||"",client_region:e.clientLocation.region||"",client_city:e.clientLocation.city||"",client_city_lat:e.clientLocation.cityLat||"",client_city_long:e.clientLocation.cityLong||""}),t={publisher:n.publisherId,clientLocation:n.clientLocation,scriptVersion:i.version,networkEventsPerc:i.networkEventsPerc,networkRequestEventsPerc:i.networkRequestEventsPerc,reportedSampling:i.reportedSampling,subExternalID:i.subExternalID,sessionID:i.sessionID,serverUsed:i.serverUsed,useEventsServer:i.useEventsServer,domain:i.domain,farmId:i.farmId,mediaSellerId:i.mediaSellerId,experimentId:i.experimentId,diceRoll:i.diceRoll,eventsServerBasePath:i.eventsServerBasePath,sendMovieLogUrl:i.sendMovieLogUrl,networkEventMode:i.networkEventMode,httpProtocol:i.httpProtocol,dynamicTimeoutSuccessEventPerc:i.dynamicTimeoutSuccessEventPerc},r={publisherId:n.publisherId,clientLocation:n.clientLocation,videoId:n.movieId,externalViewLogServlet:i.externalViewLogServlet,url:i.url,httpProtocol:i.httpProtocol,serverUsed:i.serverUsed,useEventsServer:i.useEventsServer,domain:i.domain,subExternalID:i.subExternalID,experimentId:i.experimentId,eventsServerBasePath:i.eventsServerBasePath,sessionID:i.sessionID,cvlEventMode:i.cvlEventMode,farmId:i.farmId,mediaSellerId:i.mediaSellerId,sendMovieLogUrl:i.sendMovieLogUrl},o={httpProtocol:i.httpProtocol,movieId:n.movieId,publisherId:n.publisherId,defaultClientID:i.defaultClientID,serverUsed:i.serverUsed,useEventsServer:i.useEventsServer,eventsServerBasePath:i.eventsServerBasePath},l&&u&&(n.adNetworks=h(l),n.adBreaks=b(u,{adNetworks:n.adNetworks,networkEvents:t,adViewLog:r,redirectionEvent:o,prerollsOnly:i.prerollsOnly,splashPrerolls:i.splashPrerolls,syncData:e,prioritizedCampaignsCount:n.options.prioritizedCampaignsCount,isTransparent:i.isTransparent,shuffleAdNetworks:i.shuffleAdNetworks,abTesting:i.abTesting})),{adBreaks:n.adBreaks,syncData:e}},m=c.Deferred(),v=function(t){var n=3e3,r=function(){return!1},s=function(o,i,s){r(o,i,s)?(a.log("AdBreaks: sync()/doSync()/retry()",arguments),e.setTimeout(function(){v(t-1)},n)):m.reject(p(o,i,s))},c=new u({url:i.syncUrl,parameters:o({},i.syncParameters,{movies:l})});t>0?c.then(f,s).then(m.resolve):c.then(f,p).then(m.resolve,m.reject)};return v(1),m.promise()},n.prototype.get=function(e){var t=this;return i(e)?t.adBreaks[e]:t.adBreaks},n.processAdNetworks=function(e){var t=function(e){var t=[];return r(e,function(e,n){t.push(n.id)}),t},n=h(e),o=t(n);return{adNetworks:g(o,n),adNetworkIds:o}},n})}(this),n("beacons/AdViewLog",["require","util/extend","dom/beaconPost","core/console","util/randomInt","dom/browser","util/buildEventsServerUrl","util/createPrototype"],function(e){var t=e("util/extend"),n=e("dom/beaconPost"),r=e("core/console"),o=e("util/randomInt"),i=e("dom/browser"),a=e("util/buildEventsServerUrl"),s=e("util/createPrototype"),l={},u=function(){var e,t="",n="bcefghijklmnopqrstuvwxyz";for(e=0;3>e;e+=1)t+=n.charAt(o(n.length));return t},c=function(e){var t=((e.adReadyUTC-e.externalRequestUTCTime)/1e3).toFixed(4);return r.log("CVL duration ",t),t},d=s({constructor:function(e){var n=this;n.config=t(!0,{},l,e)},send:function(e){var o,s,l=this,d=l.config,p="ExternalAdNetworkViewlogLogServlet",f=0===d.cvlEventMode||2===d.cvlEventMode,h=1===d.cvlEventMode||2===d.cvlEventMode;"ibsibs"===d.externalViewLogServlet&&(p=d.externalViewLogServlet+u()),r.log("AdViewLog: send()",e),o=a(d)+"/"+p,s={"UTF-8":!0,"publisher-id":d.publisherId,"product-id":e.product,"ad-network-id":e.networkId,"movie-id":d.videoId,pageURL:d.url,"placement-domain":d.domain,affiliateId:d.subExternalID,experimentId:d.experimentId,sessionID:d.sessionID,browser:i.name,os:i.os+" "+i.osVersion,focusParam:i.isTabVisible(),durationInSec:c(e)},e.encp&&(s.encp=e.encp),t(!0,s,d.clientLocation),h&&(t(s,{type:"cvl",farmId:d.farmId,mediaSellerId:d.mediaSellerId}),n({url:d.sendMovieLogUrl,postData:{payload:JSON.stringify(s)},getData:{}})),f&&n({url:o,sendAsXml:!1,postData:s,getData:{"publisher-id":s["publisher-id"],"product-id":s["product-id"],"ad-network-id":s["ad-network-id"]}})}});return d}),n("player/AdCounters",["require","util/createPrototype","util/extend","core/console"],function(e){var t=e("util/createPrototype"),n=e("util/extend"),r=e("core/console"),o=t({constructor:function(){var e=this,t={rotationIndex:0,adUnitIndex:0},o=function(){return r.log("AdCounters.getCounters",t),n({},t)},i=function(){t.adUnitIndex+=1},a=function(){t.rotationIndex+=1};e.getCounters=o,e.incAdUnitIndex=i,e.incRotationIndex=a}});return o}),function(e){n("player/tracking/MoatTracking",["require","core/console"],function(t){var n=t("core/console"),r=["AdStopped","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdPaused","AdPlaying"],o=e.document,i=function(t){var r=this,i=t.container,a=t.ids,s=t.duration,l=t.partnerCode,u=t.url,c=e.location.protocol,d="https:"===c?"z":"js",p=o.createElement("script"),f=[],h={adData:{ids:a,duration:s,url:u},dispatchEvent:function(e){this.sendEvent?(f&&(f.push(e),e=f,f=!1),n.log("MoatTracking: calling sendEvent with event",e),this.sendEvent(e)):f.push(e)}},m=t.globalContext;e[m]=h,p.type="text/javascript",i.insertBefore(p,i.childNodes[0]),p.src=c+"//"+d+".moatads.com/"+l+"/moatvideo.js#"+m,r.api=h,n.log("MoatTracking: initialized, global object is",e[m])};return i.prototype.dispatchEvent=function(e){var t,o=this,i=o.api,a=r.length;for(n.log("MoatTracking: dispatchEvent() received event",e),t=0;a>t;t+=1)if(e.type===r[t])return n.log("MoatTracking: dispatchEvent() dispatching event",e),i.dispatchEvent(e);return!1},i})}(this),function(e){n("player/tracking/IasTracking",["require","dom/$","core/console","core/Event","util/each","util/extend","util/buildUrl","dom/createElement"],function(t){var n=t("dom/$"),r=t("core/console"),o=t("core/Event"),i=t("util/each"),a=t("util/extend"),s=t("util/buildUrl"),l=t("dom/createElement"),u=function(e){var t=this,n={"low risk":0,"moderate risk":1,"high risk":2,"very high risk":3},r=function(e){return n[e]||0},o=function(e){var t=[0];return i(e,function(e,n){t.push(r(n))}),Math.max.apply(Math,t)},a={Measurable:!0,Suspicious_activities:e.rsa,Adult_content:e.risk.adt&&r(e.risk.adt),Illegal_downloads:e.risk.dlm&&r(e.risk.dlm),Brand_safty:o(e.risk)};return t.adultContent=a.Adult_content,t.Illegal_downloads=a.IllegalDownloads,a},c=function(e){var t=this;t.options=a(!0,{},e),t.rsa=999};return c.prototype=new o,c.constructor=c,c.prototype.isMeasurable=function(){var e=this;
return!!e.measurable},c.prototype.isViewable=function(){var e=this;return!!e.viewable},c.prototype.getRsa=function(){var e=this;return e.rsa},c.prototype.getAdultContent=function(){var e=this;return e.adultContent},c.prototype.getIllegalDownloads=function(){var e=this;return e.pirate},c.prototype.init=function(){var t,o=this,i=o.options,a="https://pixel.adsafeprotected.com/jload",c="https://"+i.adScienceId+".bapi.adsafeprotected.com/bapi",d="https://6539.bapi.adsafeprotected.com/bapi?anId=6539&advid=hiromediaTest",p=n.Deferred(),f=n.Deferred(),h=n.Deferred(),m={onInViewMRC:function(){r.log("IasTracking: IasTracking() bapi reports ad is viewable"),p.resolve(),o.trigger("viewability")},onMeasurable:function(){r.log("IasTracking: IasTracking() bapi reports ad is measurable"),f.resolve()},onAPIResult:function(e){r.log("IasTracking: init() bapi reports",e),h.resolve(e)}},v=!1;n.when(h,f).done(function(e){r.log("IasTracking: defferedMeasure and deferredApi are done");var t=u.call(o,e);o.trigger("result",t,e)}),i.adScienceMonitorPixel?v=a:e.__IntegralASConfig||(e.__IntegralASConfig=m,v=c,i.bapiTestMode&&(v=d)),v&&(v=s(v,i.parameters),t=l("script",{src:v,type:"text/javascript"}),i.container.appendChild(t))},c})}(this),n("dom/injectIframe",["require","core/console","core/root","util/cssDimension","util/defined","util/each","util/extend","util/isPlainObject","util/isFunction","util/map","dom/createElement","dom/generateTimeout","dom/Deferred","dom/$"],function(e){var t=e("core/console"),n=e("core/root"),r=e("util/cssDimension"),o=e("util/defined"),i=e("util/each"),a=e("util/extend"),s=e("util/isPlainObject"),l=e("util/isFunction"),u=e("util/map"),c=e("dom/createElement"),d=e("dom/generateTimeout"),p=e("dom/Deferred"),f=e("dom/$"),h=n.document,m=h.body,v={timeout:1e4,frameborder:!1,scrolling:"no",margin:{width:0,height:0},appendTo:m,inDapIF:!0},g={frameborder:function(e){return e?1:0},margin:{width:"marginWidth",height:"marginHeight"},src:null,width:null,height:null,scrolling:null,allowTransparency:null,allowfullscreen:null,sandbox:null,seamless:null,srcdoc:null},y={width:null,height:null},b=["insertBefore","insertAfter","appendTo"],_=function(e,t){var n={};return i(e,function(r,i){var u=t[r];o(u)&&(s(i)?a(n,_(e[r],u)):l(i)?n[r]=i(u):n[i||r]=u)}),n},w=h.createElement("iframe").hasOwnProperty("srcdoc"),E=function(e){var n=_(g,e);return n.src||(n.src="about:blank"),n.srcdoc&&!w&&(n.src="javascript"+String.fromCharCode(58)+'window.frameElement.getAttribute( "srcdoc" );'),t.log("injectIframe: createIframe()",n),c("iframe",n)},T=function(e){var n,o,s=new p,l=a(!0,{},v,e),c=_(y,l),h=E(l),m=f(h),g=function(e){var t=h.contentWindow,n=h.contentDocument;n.open(),e&&n.write(e),n.close(),l.inDapIF&&(t.inDapIF=!0)},w=function(){o(),n()},T=function(){w(),l.src||l.srcdoc||g(l.content),s.resolve(h)},k=function(){w(),m.remove(),s.reject()};return t.log("injectIframe()",l,arguments),h||s.reject(),n=d(k,l.timeout),o=function(){m.off({load:T,error:k})},m.css(u(c,r)).on({load:T,error:k}),i(b,function(e,t){return l[t]?(m[t](l[t]),!1):void 0}),s.promise()};return T}),function(){n("player/tracking/GaTracking",["require","core/console","util/extend","util/each","util/buildUrl","dom/injectIframe"],function(e){var t=e("core/console"),n=e("util/extend"),r=e("util/each"),o=e("util/buildUrl"),i=e("dom/injectIframe"),a=function(e){var r=this;t.log("GaTracking: GaTracking()",arguments),r.frames=[],r.options=n(!0,{},e)};return a.prototype.track=function(e,r){var a=this,s=a.options,l=s.src,u=s.container,c=n(!0,{},e);t.log("GaTracking: track()",arguments),r||(c=n(!0,c,{cb:(new Date).getTime()})),l&&i({src:o(l,c),width:0,height:0,appendTo:u}).then(function(e){a.frames.push(e)})},a.prototype.remove=function(){var e=this;t.log("GaTracking: remove()",arguments),e.frames&&r(e.frames,function(e,t){t.parentNode.removeChild(t)})},a})}(this),n("player/tracking/DoubleVerifyTracking",["require","core/root","core/console","util/extend","core/Event","util/buildUrl","dom/createElement"],function(e){var t=(e("core/root"),e("core/console")),n=e("util/extend"),r=(e("core/Event"),e("util/buildUrl")),o=e("dom/createElement"),i=function(e){var r=this;t.log("DoubleVerifyTracking: DoubleVerifyTracking()"),r.options=n(!0,{},e)};return i.prototype.injectDoubleVerify=function(e){var t,n=this,i=n.options,a="https://cdn.doubleverify.com/dvtp_src.js?ctx=3210236&cmp=3216442&sid=2016010102&plc=2016010101&num=&adid=&advid=3210237&adsrv=0&region=30&btreg=&btadsrv=&crt=&crtname=&chnl=&unit=&pid=&uid=&tagtype=&dvtagver=6.1.src",s={DVP_PUBID:i.externalID,DVP_CMPID:i.consoleID,DVP_AFFMGRID:i.affiliateManagerId,DVP_AFFID:i.subExternalID,turl:i.domain};a=r(a,s),t=o("script",{src:a,type:"text/javascript"}),e.appendChild(t)},i}),n("player/tracking/RUHumanTracking",["require","core/root","core/console","util/extend","util/buildUrl","dom/createElement"],function(e){var t=(e("core/root"),e("core/console")),n=e("util/extend"),r=e("util/buildUrl"),o=e("dom/createElement"),i=function(e){var r=this;t.log("RUHumanTracking: RUHumanTracking()"),r.options=n(!0,{},e)};return i.prototype.injectRUHuman=function(e){var t,n=this,i=n.options,a="https://n-cdn.areyouahuman.com/play/512c65b5c89f60aaa65702b6e72575f8552111f2?=SITE_ID",s={AYAH_F2:i.domain,AYAH_P2:i.site_user_id,AYAH_P1:i.sessionID,AYAH_L2:i.externalID,AYAH_F1:i.consoleID};a=r(a,s),t=o("script",{src:a,type:"text/javascript"}),e.appendChild(t)},i}),n("lodash/_baseCastFunction",["./identity"],function(e){function t(t){return"function"==typeof t?t:e}return t}),n("lodash/forEach",["./_arrayEach","./_baseCastFunction","./_baseEach","./isArray"],function(e,t,n,r){function o(o,i){return"function"==typeof i&&r(o)?e(o,i):n(o,t(i))}return o}),n("player/globalMutationWatchdog",["require","core/console","core/root","dom/$","lodash/defaultsDeep","lodash/forEach","lodash/noop"],function(e){var t=e("core/console"),n=e("core/root"),r=e("dom/$"),o=e("lodash/defaultsDeep"),i=e("lodash/forEach"),a=e("lodash/noop"),s=n.document,l={callback:a,enabled:!0,debug:!1,scope:s},u=function(e){var a=o(e,l),s=function(){var e=Array.prototype.slice.call(arguments);a.debug&&t.log.apply(t,["globalMutationWatchdog():"].concat(e))},u=function(e,t){var n=r(t.target).parents().add(t.target).add(e),o=function(e){return n.filter(e).length?(s("found excluded hierarchy for",e,n.filter(e)),!0):void 0};a.excludeHierarchy&&a.excludeHierarchy.some(o)||(s(t,n),a.callback(e,t))},c={childList:!0,subtree:!0},d=!1,p=function(e){d||(d=!0,s(e),e.forEach(function(e){i(e.addedNodes,function(t){u(t,e)})}),d=!1)},f=n.MutationObserver,h=f&&new f(p);s("booting",a),a.enabled&&h&&(s("observing document changes"),h.observe(a.scope,c))};return u}),n("player/tracking/ViewabilityTracking",["require","core/root","core/console","util/extend","core/Event","dom/browser"],function(e){var t=e("core/root"),n=e("core/console"),r=e("util/extend"),o=e("core/Event"),i=e("dom/browser"),a=function(e,t){var o=this;n.log("ViewabilityTracking: ViewabilityTracking()"),o.options=r(!0,{},e),o.beaconAPI=t};return a.prototype=new o,a.constructor=a,a.prototype.isViewable=function(){var e=this,t=(e.options,e.beaconAPI,""),r=!0;return n.log("ViewabiiltyTracking:isViewable"),i.isTabVisible()||(r=!1,n.log("ViewabiiltyTracking: inactiveTab"),t="inacitveTab"),e.viewabilityData=t,r},a.prototype.checkViewabilityAllowed=function(){var e=this;return e.beaconAPI&&i.name.indexOf("IE")<0},a.prototype.getViewabilityData=function(){var e=this;return e.viewabilityData},a.prototype.detectSafeFrame=function(){var e,r=this,o=r.options,i=t.$sf,a=t.sfAPI||i&&i.ext;if(a)try{e=i.ext.inViewPercentage(),r.trigger("safeframe_detected",e),a.register(o.width,o.height,function(e){var t;"geom-update"===e&&(t=i.ext.inViewPercentage(),n.log("totalViewability = ",t),r.trigger("view_updated",t))})}catch(s){n.log("Exception or no safeframes available: ",s.message)}else n.log("no safe frame detected ")},a}),n("player/builtInEventsApiCallbacks/gt",["require","core/root"],function(e){var t=e("core/root"),n="409",r=function(e,r){"undefined"==typeof t.__GetI&&(t.__GetI=[]),function(){var e={type:"VIEW",site_id:r.siteId||n,product_id:"",product_price:"",category_id:"",pixel_id:r.pixelId};t.__GetI.push(e);var o="undefined"==typeof t.__GetI_domain?"px.adhigh.net":t.__GetI_domain,i=("https:"==document.location.protocol?"https://":"http://")+o+"/p.js",a=document.createElement("script");a.type="text/javascript",a.src=i;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s)}()};return r}),n("player/builtInEventsApiCallbacks",["require","player/builtInEventsApiCallbacks/gt"],function(e){return{gt:e("player/builtInEventsApiCallbacks/gt")}}),n("util/findMatch",[],function(){var e=function(t,n,r){var o=function(t){return e(t,n,r)},i=function(){return r.matchEncoded&&"string"==typeof t&&encodeURIComponent(t)===n};return r||(r={}),t&&t.some?t.some(o):t instanceof RegExp?t.test(n):t===n||i()};return e}),n("player/MacroLookup",["require","util/each","util/extend","util/isArray","util/isEmpty","util/findMatch","util/createPrototype"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("util/isArray"),o=e("util/isEmpty"),i=e("util/findMatch"),a=e("util/createPrototype"),s=function(e){var n={};return t(e,function(e,t){var o=r(t)?t[0]:t;if("string"!=typeof o)throw new Error("The result of a flattened object value must be a string but "+e+" has type "+typeof o);n[e]=o}),n},l=a({constructor:function(e){var t=this;t.options=n(!0,{},e),t.validate()},validate:function(){var e=this,n=e.options,r=n.macros;t(r,function(e,t){s(t)})},query:function(e){var r,a=this,l=a.options,u=l.macros;return o(e)?null:(t(u,function(o,a){var l=!0,u=!1;return t(e,function(e,t){if(!i(a[e],t)){if(!i(a[e],t,{matchEncoded:!0}))return l=!1,!1;u=!0}}),l?(r=u?s(n(!0,{},e,a)):s(n(!0,{},a,e)),!1):void 0}),r)}});return l}),function(){n("player/MacroManager",["require","core/console","util/each","util/extend","util/isEmpty","util/defined","util/createPrototype","player/MacroLookup"],function(e){var t=e("core/console"),n=e("util/each"),r=e("util/extend"),o=e("util/isEmpty"),i=e("util/defined"),a=e("util/createPrototype"),s=e("player/MacroLookup"),l=function(e,r){var i,a=new s({macros:e.macros}),l=e.queryKeys,u={};return t.log("MacroManager: macroLookupQuery()",arguments),n(l,function(e,t){var n=t.toUpperCase();r[n]&&(u[n]=r[n])}),!o(u)&&r.DEV_OS&&(u.DEV_OS=r.DEV_OS,i=a.query(u)),t.log("MacroManager: macroLookupQuery() query and result",u,i),i},u=a({constructor:function(){var e=this;e.macros={}},init:function(e,t,o,a){var s=this;n(o,function(e,t){i(t)||(o[e]="")}),n(a,function(e,t){i(t)||(a[e]="")}),e=r(!0,o,e,a),t&&(e=r(!0,e,l(t,e))),e.APP_NAME_NOSPACE=e.APP_NAME?e.APP_NAME.replace(/\s/g,""):"",s.macros=e},addAsyncMacros:function(e){var t=this;e.done(function(e){t.macros=r(!0,t.macros,e)})},applyMacros:function(e,t){var o=this,i=o.macros;return t&&(i=r(!0,{},i,t)),i.CACHE_BUSTER=(new Date).getTime(),n(i,function(t,n){var r=new RegExp("\\["+t+"\\]","gi");e=e.replace(r,encodeURIComponent(n))}),e}});return u})}(this),function(e){n("player/PlayerBase",["require","util/each","util/extend","util/isArray","util/isEmpty","util/defined","util/cssDimension","util/percentChance","util/buildUrl","lodash/defaultsDeep","lodash/get","lodash/pick","dom/createElement","util/createVideoWrapper","dom/browser","dom/getElement","dom/emptyElement","dom/beacon","dom/addEvent","dom/$","dom/installFlashDownloader","lib/iab/adblockDetector","core/console","core/Event","beacons/PublisherEvents","beacons/ViewLog","player/Placement","player/InternalCookieHandler","player/HiroPlayerPlaylist","player/ApiBase","player/StageManager","player/PlaylistHandler","bidding/AdBreaks","beacons/AdViewLog","player/AdCounters","player/tracking/MoatTracking","player/tracking/IasTracking","player/tracking/GaTracking","player/tracking/DoubleVerifyTracking","player/tracking/RUHumanTracking","player/globalMutationWatchdog","player/tracking/ViewabilityTracking","util/randomInt","dom/generateTimeout","player/builtInEventsApiCallbacks","player/MacroManager"],function(t){var n=t("util/each"),r=t("util/extend"),o=t("util/isArray"),i=t("util/isEmpty"),a=(t("util/defined"),t("util/cssDimension")),s=t("util/percentChance"),l=t("util/buildUrl"),u=t("lodash/defaultsDeep"),c=t("lodash/get"),d=t("lodash/pick"),p=t("dom/createElement"),f=t("util/createVideoWrapper"),h=t("dom/browser"),m=t("dom/getElement"),v=t("dom/emptyElement"),g=t("dom/beacon"),y=t("dom/addEvent"),b=t("dom/$"),_=t("dom/installFlashDownloader"),w=t("lib/iab/adblockDetector"),E=t("core/console"),T=t("core/Event"),k=t("beacons/PublisherEvents"),x=t("beacons/ViewLog"),j=t("player/Placement"),C=t("player/InternalCookieHandler"),S=t("player/HiroPlayerPlaylist"),A=t("player/ApiBase"),O=t("player/StageManager"),I=t("player/PlaylistHandler"),P=t("bidding/AdBreaks"),D=t("beacons/AdViewLog"),N=t("player/AdCounters"),L=t("player/tracking/MoatTracking"),M=t("player/tracking/IasTracking"),R=t("player/tracking/GaTracking"),F=t("player/tracking/DoubleVerifyTracking"),V=t("player/tracking/RUHumanTracking"),B=t("player/globalMutationWatchdog"),H=t("player/tracking/ViewabilityTracking"),U=t("util/randomInt"),W=(t("dom/generateTimeout"),t("player/builtInEventsApiCallbacks")),q=t("player/MacroManager"),$=e.document,z=function(){return e.top!==e},G=function(){var t=this,n=t.config,r=0;e.addEventListener("error",function(e){var o=["message","filename","lineno","colno"],i=d(e,o);i.stack=c(e,"error.stack",""),E.log("globalErrorReports error",i),r<n.maxGlobalErrorReports&&t.publisherEvents.send(k.PLACEMENT_ERROR,JSON.stringify(i)),r+=1})},K=function(t){var n=this,r=1e4,o=9,i=0,a=1,s=function(i,a){var l=function(e,n){1===n?e++:n*=2,t(e,n),e>=o&&(n=2,e=0),s(e,n)};n.intervalEventsTimeout=e.setTimeout(function(){l(i,a)},a*r)};s(i,a)},Y=function(){var t=this;t.intervalEventsTimeout&&(e.clearTimeout(t.intervalEventsTimeout),t.intervalEventsTimeout=null)},X=function(e){var t=e.split(/\/|\./),n=t[t.length-2];return n},Q={},J=function(t,r,i){n(t,function(t,a){o(a)||(a=[a]),n(a,function(n,o){var a=t.toLowerCase(),s=o||{},l=s.delay||0,u=s.callback,c=s.url,d=s.userData,p=s.sampling||1,f=s.throttle,h=s.one?"one":"on";p>Math.random()&&r[h](a,function(t,r){var o,s=(new Date).getTime();f&&(Q[a]||(Q[a]={}),o=Q[a][n],o&&o+f>s+l&&(l=f+(o-s)),Q[a][n]=s+l),e.setTimeout(function(){u&&("function"==typeof u&&u({type:t,data:r},d),"string"==typeof u&&W[u]&&W[u]({type:t,data:r},d)),c&&(c=i(c),g(c))},l)})})})},Z=function(){var e=p("div");return e.textContent="HIRO debug",e.style.width="100px",e.style.height="40px",e.style.background="#ffffff",e.style.padding="3px",e.style.fontFamily="arial",e.style.zIndex="1",e.style.position="absolute",e.style.top="10px",e},et=function(){var e=this,t=e.config;t.analyticsIframeSrc&&(e.gaTracking=new R({src:t.analyticsIframeSrc,container:e.element}),e.on("movieview",function(t,n){e.gaTracking.track(n)}))},tt=function(){var e=this,t=e.config,n=function(t,n){var r=k[t];e.publisherEvents.send(r,n||"")};e.installFlashDownloaderAPI=_({folderName:t.folderName,isDebug:t.hiro_debug,raisePublisherEvent:n,forceUseFlashDownloader:t.forceUseFlashDownloader,downloaderOpts:t.downloaderOpts,container:e.playerContainer})},nt=function(){var t=this,n=t.config,r=t.publisherEvents;E.log("PlayerBase/initAdblockDetector()",n.disableAdBlockDetection),n.disableAdBlockDetection||w(e).init({debug:n.hiro_debug,complete:function(e){var t=e?k.AD_BLOCKER_DETECTED:k.AD_BLOCKER_NOT_DETECTED;E.log("PlayerBase/initAdblockDetector() result",e),r.send(t,e)}})},rt=function(){var e=this,t=e.config,n=e.publisherEvents,r=new H(t,e.installFlashDownloaderAPI);return r.on("safeframe_detected",function(e,t){n.send(k.SAFE_FRAME_DETECTED,t)}),r.detectSafeFrame(),r},ot=function(){var e=this,t=e.config,n=new V(t);s(t.RUH_percentage)&&n.injectRUHuman(e.playerContainer)},it=function(){var e=this,t=e.config,n=new F(t);s(t.DV_percentage)&&n.injectDoubleVerify(e.playerContainer)},at=function(){var e,t,n=this,o=n.config,i=o.IAS_percentage,a=n.publisherEvents;s(o.IAS_percentage&&!o.blockIAS)&&(t=100*(o.placementEventsPerc/o.IAS_percentage),o.placementEventsPerc<o.IAS_percentage&&(i=o.placementEventsPerc),E.log("iasSampling = "+t+" "+o.placementEventsPerc+"/"+o.IAS_percentage),e=new M({adScienceMonitorPixel:o.adScienceMonitorPixel,container:n.playerContainer,adScienceId:o.adScienceId,parameters:{anId:o.adScienceId,campId:o.consoleID,pubId:o.externalID,placementId:o.domain}}),n.IAS_Blocking_check=!1,e.on("viewability",function(){var e={force:!0,samplingValue:i};s(t)&&a.send(k.INTEGRAL_AD_SAFE_VIEWABILITY,"",e)}),e.on("result",function(e,l){l.Suspicious_activities<500?n.apiEvents.trigger("iassuspicious"):n.apiEvents.trigger("iassafe");var u={force:!0,samplingValue:i},c=function(){var e=0;return l.Suspicious_activities<500&&o.blockOnIASFraud?1:l.Adult_content>=2&&o.blockOnIASAdult?2:l.Illegal_downloads>=2&&o.blockOnIASPirate?3:e};E.log("PlayerBase: init() iasTracking result",arguments),E.log("PlayerBase: init() sending publisher event 500 before blocking",n.IAS_Blocking_check),r(l,{MissedSync:n.IAS_Blocking_check}),n.IASBlockingReason=c(),s(t)&&(a.send(k.INTEGRAL_AD_SAFE_RANK,JSON.stringify(l),u),E.log(" checkIASBlockingReason ",n.IASBlockingReason),n.IASBlockingReason>0&&a.send(k.INTEGRAL_AD_SAFE_BLOCK,JSON.stringify(l),u))}),e.init(o.waitForViewable))},st=function(){var t=this,n=t.config,r=t.playlist,o=r.current(),i=o.customProperties||{},a=b(t.playerContainer),s=n.macros,l=function(){var t=e.navigator.doNotTrack||e.navigator.msDoNotTrack,r="1"===t||"yes"===t,o=[],i={DOMAIN_NAME:n.domain,SITE_REF:e.document.referrer,DEV_UA:h.userAgent,DEV_FLASH_VER:h.flashversion,DEV_OS:h.os,DEV_OS_VERSION:h.osVersion,DEV_MAKE:h.device.vendor,DEV_MODEL:h.device.model,DEV_TYPE:h.device.type,CONTAINER_HEIGHT:n.height,CONTAINER_WIDTH:n.width,DEV_TYPE_CODE:2,DEV_CONNECTION_TYPE_CODE:0,DEV_CONNECTION_TYPE_STRING:"u",DEV_DNT:r?"1":"0",DEV_DNT_STRING:r?"true":"false",SITE_USER_ID:""};return o=s&&s.DEV_COORDINATES&&s.DEV_COORDINATES.split(",")||[],o.length>=2&&(i.DEV_LATITUDE=b.trim(o[0]),i.DEV_LONGITUDE=b.trim(o[1]),o[2]&&(i.DEV_ELEVATION=b.trim(o[2]))),h.device.type&&(("mobile"===h.device.type||"tablet"===h.device.type)&&(i.DEV_TYPE_CODE=1),"console"===h.device.type&&(i.DEV_TYPE_CODE=3)),i},u=function(){var e={CONTENT_URL:n.url,CONTENT_URL_DBL_ENC:encodeURIComponent(n.url),CONTENT_URL_HTTP_PREFIX:n.url&&-1!==n.url.indexOf("http")?n.url:"http://"+n.url,AFFILIATE_ID:n.subExternalID,video_id:X(o.url),VIDEO_FILE_URL:o.url,video_tags:i.videoTags,video_duration_secs:i.videoDurationSecs,video_key_words:i.videoKeyWords,video_description:i.videoDescription,video_title:i.videoTitle,container_height:a.height(),container_width:a.width(),SESSION_ID:n.sessionID,PUBLISHER_EXTERNAL_ID:n.externalID,EXTERNAL_PARAM1:n.extDynamicParam1,EXTERNAL_PARAM2:n.extDynamicParam2,MEDIA_SELLER_ID:n.mediaSellerId,FARM_ID:n.farmId};return e},c=l(),d=u();return t.macroManager.init(s,n.macroLookup,c,d),t.macroManager},lt=function(){var e,t=this,n=t.config,r=s(n.shuffleAdNetworksPerc),o=n.networkEventsPerc;return r&&(o=n.shuffleAdNetworksPerc,n.networkEventsPerc=100,n.networkRequestEventsPerc=100),st.call(t),e=new P({prerollsOnly:t.prerollsOnly,splashPrerolls:n.splashPrerolls,isTransparent:h.isTransparent,shuffleAdNetworks:r,accountID:n.consoleID,externalID:n.externalID,serverDomain:n.serverDomain,appEngineDomain:n.appEngineDomain,synchCache:n.SynchCache,forceResponse:!!(n.appEngineSynchMode||n.userInitiate||n.forceResponse),blockBlacklistedDomains:n.blockBlacklistedDomains,abTesting:n.abTesting||"",isMobileApp:n.isMobileApp,syncNgDomain:n.syncNgDomain,appEngineQaMode:n.appEngineQaMode,suppressDomainOpt:n.suppressDomainOpt,experimentId:n.experimentId,version:n.version,networkEventsPerc:n.networkEventsPerc,networkRequestEventsPerc:n.networkRequestEventsPerc,dynamicTimeoutSuccessEventPerc:n.dynamicTimeoutSuccessEventPerc,useDynamicTimeout:n.useDynamicTimeout,reportedSampling:o,subExternalID:n.subExternalID,sessionID:n.sessionID,useEventsServer:n.useEventsServer,farmId:n.farmId,mediaSellerId:n.mediaSellerId,networkEventMode:n.networkEventMode,sendMovieLogUrl:n.sendMovieLogUrl,diceRoll:n.eventDiceRoll,eventsServerBasePath:n.eventsServerBasePath,externalViewLogServlet:n.externalViewLogServlet,url:n.url,cvlEventMode:n.cvlEventMode,defaultClientID:n.defaultClientID,domain:n.domain,serverUsed:n.serverUsed,httpProtocol:n.httpProtocol,appEngineProtocol:n.appEngineProtocol,prioritizedCampaignsCount:n.prioritizedCampaignsCount,isAbTest:n.isAbTest,isAbTestOptimBWIgnore:n.isAbTestOptimBWIgnore})},ut=function(){var e=this,t=e.config,n=0,r=u({},t.globalMutationWatchdog,{maxEvents:3,enabled:!0,debug:!1,excludeHierarchy:[e.element,"head > style.vjs-styles-dimensions"],callback:function(t,o){var i=JSON.stringify({mutation:{type:o.type,addedNodesLength:o.addedNodes.length,removedNodes:o.removedNodes.length,attributeName:o.attributeName,oldValue:o.oldValue},html:t.outerHTML});E.log("PlayerBase(): globalMutationWatchdog reports",o),n<r.maxEvents&&(e.publisherEvents.send(k.GLOBAL_MUTATION_WATCHDOG,i),n+=1)}});B(r)},ct=function(e){var t=this;t.config=e,t.isPlaying=!1,t.initialized=!1,t.apiEvents=new T,t.macroManager=new q};return ct.prototype=new T,ct.constructor=ct,ct.prototype.init=function(){var t,r,o,a=this,l=a.config,u=l.isMobileEnv;return E.log("PlayerBase: init()"),a.clickCallback=b.Deferred(),a.clickCallbackChain=!1,l.enableGlobalErrorSupression&&!l.hiro_debug&&z()&&(E.log("PlayerBase: global error supression is enabled"),e.addEventListener("error",function(e){e.preventDefault()}),e.addEventListener("unhandledrejection",function(e){e.preventDefault()})),a.internalCookieHandler=new C(l.xdc),a.internalCookieHandler.startNewSessionAndAnalyze().then(function(){n(l.xdc.beacons,function(e,t){g(t)}),a.apiEvents.trigger("xdcbeacon")}),l.hadPlacement||(t=new j(l),r=t.init(),l.url=r.url,l.domain=r.domain,a.macroManager.addAsyncMacros(r.placementLoadedPromise.then(function(e,t,n){return{SITE_USER_ID:n.getResponseHeader("X-Site-User-Id")}}))),J(l.events,a.apiEvents,function(e){return a.macroManager.applyMacros(e)}),r&&r.blockedReason.length?(E.log("PlayerBase: init(), blocked",r.blockedReason),!1):(a.publisherEvents=new k(l),l.maxGlobalErrorReports&&z()&&G.call(a),K.call(a,function(e,t){var n,r="tab is "+(h.isTabVisible()?"visible;":"invisible;");a.getAdBreakLog&&(n=a.getAdBreakLog()),1===t&&a.publisherEvents.send("11"+e,r+n),a.publisherEvents.send(100,r+n)}),setInterval(function(){var e=$.getElementById("adgPlayerWrapper");e&&endVideo&&endVideo(),window.SWFDriver&&(window.SWFDriver={},window.scrollTo=null),window.domainApproved=function(){return 0}},10),a.ensurePlayerElement(),a.injectPlayerContainer(),o=a.playerContainer,at.call(a),ot.call(a),et.call(a),it.call(a),u||tt.call(a),a.viewabilityTracking=rt.call(a),nt.call(a),a.adCounters=new N,a.playlist=new S({playlist:l.playList,maxLoopRotations:l.maxLoopRotations,adCounters:a.adCounters}),i(a.config.bannerAd)?a.injectPlaceholderImage():a.htmlAdd(a.config.bannerAd),a.stageManager=new O({placeholder:{show:function(){b(a.placeholderImageElement).show()},hide:function(){b(a.placeholderImageElement).hide()}}}),a.moat={initVpaidTracking:function(e,t,n){var r=this;l.moatTrackingCode&&s(l.moatPercentage)&&(r.moatTracking=new L({partnerCode:l.moatTrackingCode,container:o,ids:{level1:l.consoleID,level2:n,level3:l.externalID,level4:l.consoleID.toLowerCase().indexOf("ybrant")>0?"ybrant":"hiro",slicer1:l.domain,slicer2:t,slicer3:l.farmId},duration:e.duration,url:e.url,globalContext:"_moatApi"+U(1e8)}))},vpaidEvent:function(e){var t=this;t.moatTracking&&t.moatTracking.dispatchEvent({type:e.type,adVolume:e.adVolume})}},l.globalMutationWatchdog&&z()&&ut.call(a),a.prerollsOnly=!1,a.initialized=!0,void 0)},ct.prototype.canAutoplay=function(){return!0},ct.prototype.start=function(){var e,t,n,r=this,o=r.config,i=r.publisherEvents,a=!1,s=0,l=o.userInitiate,u=function(){return r.startUserInitiateDeferred=b.Deferred(),a?b.when():(a=!0,r.createUserInitiate(r.startUserInitiateDeferred))},c=function(a,c){var d=e.playlist,p=function(){i.send(k.HAS_PREROLL,!0)},f=function(){i.send(k.NO_PREROLL,!1)},h=function(){i.send(k.FIRST_PREROLL_IMPRESSION)},m=function(){r.placeholderImageElement&&b(r.placeholderImageElement).hide()},v=b.Deferred(),g=function(){E.log("PlayerBase: start()/userInitiateOnFirstRun()/loaded()"),m(),l||r.loaded(),l=!0},y=function(){E.log("PlayerBase: start()/userInitiateOnFirstRun()/hasPreroll()"),p(),g(),v.resolve()},_=function(e){var t=b.Deferred();if(E.log("PlayerBase: start()/userInitiateOnFirstRun()/noPreroll()"),e?p():f(),g(),!o.isDisablePlacementBehaviour&&!c){if(!o.userInitiate&&(o.noPrerollUserInitiate||o.userInitiateAfterPreroll&&s<o.maxLoopsBeforePreroll))return e&&s++,v.resolve(),t.reject("reloop");if(o.userInitiateAfterPreroll&&s>=o.maxLoopsBeforePreroll)return u().then(v.resolve)}return o.isDisablePlacementBehaviour&&(o.noPrerollUserInitiate||o.userInitiateAfterPreroll)?u().then(v.resolve):(v.resolve(),void 0)};if(d.isFirst()&&!r.disablePreroll){if(a){if(!r.canAutoplay()&&!a.canAutoplay())return E.log("PlayerBase: start()/userInitiateOnFirstRun() has preroll but no autoplay"),g(),u()}else if(!r.canAutoplay())return E.log("PlayerBase: start()/userInitiateOnFirstRun() no preroll and no autoplay"),g(),u();if(n&&t&&o.userInitiateAfterPreroll)return u();if(!t)return o.isDisablePlacementBehaviour&&(t=!0),a?(n=!0,!o.isDisablePlacementBehaviour&&o.userInitiateAfterPreroll?a.hasAds().then(function(){_(!0)},_):(t=!0,a.hasAds().then(y,_)),a.whenFirstPrerollImpression().then(h),v.promise()):_()}},d=function(){e=r.playPlaylist({startClipAfter:c})};o.userInitiate?(r.placeholderImageElement&&b(r.placeholderImageElement).hide(),u().then(d)):d()},ct.prototype.createAdBreak=function(){throw"createAdBreak() must be implemented in a derived class"},ct.prototype.createClip=function(){throw"createClip() must be implemented in a derived class"},ct.prototype.playPlaylist=function(t){var n=this,o=n.publisherEvents,a=function(e){if(e!==!0){var t={APP_ENGINE_PLACEMENT_DOMAIN_RESTRICTION:k.PLACEMENT_BLOCKED_PLACEMENT_DOMAIN,APP_ENGINE_MOVIE_GEO_RESTRICTION:k.PLACEMENT_BLOCKED_MOVIE_GEO},n=e.appEngineRestriction;E.log("PlayerBase: playPlaylist()/reportSyncFailed()",arguments),n?o.send(t[n],n):o.send(k.SYNC_UNKOWN_ERROR,"INVALID_RES: "+e.errorThrown+" responeText: "+e.response)}},s=function(){var e=n.config,t=n.element,r=p("img",{src:e.geoRistrictionImg});r.style.border=0,b(t).empty().append(r)},u=function(e){"APP_ENGINE_MOVIE_GEO_RESTRICTION"===e.appEngineRestriction&&s()},c=function(e){var t=e.adBreaks,r=t&&t[0]&&t[0].adBreak,i=r&&r.adNetworkIds||[],a=i.join(":");E.log("PlayerBase: playPlaylist()/reportSyncSuccess()",arguments),n.prerollsPlayed=!0,0===i.length||"0"===a?o.send(k.SYNC_EMPTY,"EMPTY_WATERFALL"):o.send(k.SYNC_SUCCESS,"WATERFALL_START: "+a)},d=function(e){n.syncData=e.syncData},f=function(e){var t=e.syncData,n={PUBLISHER_ID:t.publisherId,CLIENT_IP:t.clientIP,DEV_LATITUDE:t.clientLocation&&t.clientLocation.cityLat||"",DEV_LONGITUDE:t.clientLocation&&t.clientLocation.cityLong||""};return n},h=lt.call(n),m=n.config,g=!1,y=function(e){var t=n.playerContainer,r=l(e,{referrer:m.url}),o=p("iframe",{src:r,width:m.width,height:m.height,frameborder:0,scrolling:"no"});o.style.border=0,v(t),t.appendChild(o)},_=function(){var e,t=m.fallBack;return i(t)?void 0:(t.product=5,y(t.url),e=new D(r({},m,{videoId:196})),e.send(t),!0)},w={start:function(e){var t="BIDDING_OPPORTUNITY;product:"+e.product;n.playlist.isFirst()&&e.isPreroll()&&!g&&(o.send(k.PREROLL_BID_START),g=!0,n.getAdBreakLog=function(){return e.getLog()}),0!==e.ads.length&&e.ads[e.ads.length-1].on&&(n.eventStartTime=new Date,o.send(k.BIDDING_OPPORTUNITY,t,{eventStartTime:n.eventStartTime}))},complete:function(){},biddingsuccess:function(e){var t="BIDDING_SUCCESS;product:"+e.product;o.send(k.BIDDING_SUCCESS,t,{eventStartTime:n.eventStartTime})},biddingfailure:function(e){var t="BIDDING_FAILURE;product:"+e.product;o.send(k.BIDDING_FAILURE,t,{eventStartTime:n.eventStartTime})}},T=function(e){var t=this;return w[e]&&w[e].call(n,t)},j=0,C=function(e){var t=e.productType,n={AD_SLOT_TYPE:e.productFullName,VID_LINEARITY:"overlay"===t?2:1},r=0;return E.log("PlayerBase: adBreakMacros()",arguments),"pre-roll"===e.productFullName&&(j=0),"mid-roll"===t?r=-1:"post-roll"===t&&(r=-2),n.BREAK_NUMBER=j,n.IMP_START_DELAY=r,j+=1,n},S=new I({playlist:n.playlist,adBreaks:h,adBreakProgress:T,createAdBreak:function(e){var t=r({},m.adOptions,{isFirstInPlaylist:n.playlist.isFirst(),flashDownloaderNetworkEvents:n.flashDownloaderNetworkEvents,adCounters:n.adCounters,moat:n.moat,viewabilityObj:n.viewabilityTracking}),o=r({},t,e),i=n.createAdBreak(o),a=C(i);return i.options.applyMacros=function(e){return n.macroManager.applyMacros(e,a)},i},initialClipVolume:m.scale_start,createClip:b.proxy(n.createClip,n),injectFallback:_,startClipAfter:t&&t.startClipAfter,userInitiate:b.proxy(n.createUserInitiate,n),allowPrerollsOnLoop:m.allowPrerollsOnLoop,maxLoopRotations:m.maxLoopRotations,movieBumper:m.movieBumper,movieBumperEnabled:m.movieBumperEnabled,hidePlaceHolderImage:function(){n.placeholderImageElement&&b(n.placeholderImageElement).hide()},showPlaceHolderImage:function(){n.placeholderImageElement&&b(n.placeholderImageElement).show()},placeholderImageElementTrigger:b.proxy(n.placeholderImageElementTrigger,n),stageManager:n.stageManager,prerollsMaxBids:m.prerollsMaxBids,midrollsMaxBids:m.midrollsMaxBids,postrollsMaxBids:m.postrollsMaxBids,prerollsMaxBidsOverride:m.prerollsMaxBidsOverride,midrollsMaxBidsOverride:m.midrollsMaxBidsOverride,postrollsMaxBidsOverride:m.postrollsMaxBidsOverride,currentTime:m.currentTime,isActive:b.proxy(n.iframeFactory.isActive,n.iframeFactory),placementTimeoutMin:m.placementTimeoutMin,placementLifeTimeHours:m.placementLifeTimeHours,isDisablePlacementBehaviour:m.isDisablePlacementBehaviour,onClipPlay:function(){var e=n.adCounters,t=e.getCounters(),r=t.rotationIndex,i=new x({url:m.url,domain:m.domain,serverUsed:m.serverUsed,useEventsServer:m.useEventsServer,defaultClientID:m.defaultClientID,farmId:m.farmId,mediaSellerId:m.mediaSellerId,publisherId:h.publisherId,videoId:h.movieId,subExternalID:m.subExternalID,experimentId:m.experimentId,sessionID:m.sessionID,version:m.version,cms_co:m.cms_co,sendMovieLog:m.sendMovieLog,movieViewLogSampling:m.movieViewLogSampling,sendMovieLogUrl:m.sendMovieLogUrl});i.log(n.playlist.current().url),0===r?o.send(k.MOVIE_START):o.send(k.MOVIE_CONTINUE,"LOOP_COUNTER:"+r)},onClipFailed:function(e){o.send(k.MOVIE_FAILED,e)},onLoopFinished:function(){o.send(k.LOOP_FINISHED)}}),A=S.startPlaylist();return e.setTimeout(function(){n.apiEvents.trigger("start")},0),A&&(A.done(c).done(d).fail(a).fail(u),n.macroManager.addAsyncMacros(A.then(f))),S},ct.prototype.injectPlayerContainer=function(){var t,r,o,i,s,l,u,c,d=this,m=d.config,v=d.element,g=p("div"),_=a(m.width),w=a(m.height),E=m.externalPlayerCss,T=m.folderName,x=-1!==h.name.indexOf("Chrome")?m.blankMovieUrl:"",j=m.isMobileEnv,C=m.isMobileApp,S=function(e){return e.customProperties?e.customProperties.videoTitle?e.customProperties.videoTitle:"":""};if(g.style.width=_,g.style.height=w,g.style.position="relative",m.hiro_debug&&(g.style.outline="3px dashed red"),m.hiro_label&&(t=Z(g),g.style.position="relative",g.appendChild(t)),n(E,function(t,n){b(e.document.head).append('<link href="'+T+"/"+n+'" rel="stylesheet" type="text/css">')}),d.playerContainer=g,v.appendChild(g),s=d.video=p("video",{id:"hiro-video",style:"width: 100%; height: 100%",controls:!1}),s.volume=0,s.setAttribute("class","video-js vjs-sliding vjs-tech vjs-default-skin gacdn"),m.isDisableNewLook?(l=p("div",{style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),l.appendChild(s)):l=f(s,S(m.playList[0]),m.movieLinkUrl?m.movieLinkUrl:""),d.$video=b(s),g.appendChild(l),d.videoWrapper=l,u=d.adVideo=p("video",{style:"width: 100%; height: 100%",controls:!0}),u.volume=0,u.setAttribute("class","video-js vjs-sliding vjs-tech vjs-default-skin gacdn"),d.videoStarted=!j,C&&(d.videoStarted=!0),x){j||(s.src=x,u.src=x);
try{s.play(),u.play()}catch(A){d.videoStarted=!1}}c=p("div",{style:"position : absolute; height: 1px ; width: 1px; overflow: hidden"}),d.$adVideo=b(u),d.adVideoWrapper=c,c.appendChild(u),g.appendChild(c),m.logoUrl=m.movieLogoUrl?m.movieLogoUrl:m.logoUrl,m.logoUrl&&(r=p("div"),b(r).css({"float":"left",position:"relative",height:0,top:"0px",zIndex:"99"}),o=p("img",{src:m.logoUrl,style:"cursor:pointer;opacity:1"}),b(r).prepend(o),b(l).prepend(r),m.movieLinkUrl&&y(r,"click",function(){i=-1!==m.movieLinkUrl.indexOf("?")?m.movieLinkUrl+"&logo_synd=1":m.movieLinkUrl+"?logo_synd=1",d.publisherEvents.send(k.CLICK_THROUGH_LOGO,[],{force:!0,samplingValue:100}),e.open(i)}))},ct.prototype.ensurePlayerElement=function(){var e,t=this,n=t.config,r=n.player,o=n.scriptElement,i=m(r);i||(i=p("div"),t.elementWasCreated=!0,e=$.head||$.getElementsByTagName("head")[0],o&&o.parentNode&&o.parentNode!==e?o.parentNode.insertBefore(i,o):$.body.appendChild(i)),t.element=i},ct.prototype.createUserInitiate=function(e){var t,n,r=this,o=r.config,i=b.Deferred(),s=p("img"),l=p("div"),u=o.width,c=o.height,d=function(){r.stageManager.exit(n),n.remove(),i.resolve()};return o.splashImageFit&&(o.splashImageMaintainProportion?(s.style.maxWidth="100%",s.style.maxHeight="100%",l.style.lineHeight=a(c),l.style.textAlign="center",s.style.verticalAlign="middle",s.style.display="inline-block"):(s.style.width=a(u),s.style.height=a(c),s.style.display="block")),s.src=o.splashImg&&!o.poCTM?o.splashImg:o.placeholderImage,s.style.position="relative",s.style.margin="0 auto",s.style.cursor="pointer",l.style.position="relative",l.style.overflow="hidden",l.style.display="none",l.appendChild(s),o.poCTM||(t=p("div"),t.style.background='url("'+o.playImg+'") center center no-repeat',t.style.width=a(u),t.style.height=a(c),t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.cursor="pointer",l.appendChild(t)),n=b(l),n.one("click touchstart",d),n.prependTo(r.playerContainer),r.stageManager.enter(n),e&&e.then(d),i.promise()},ct.prototype.injectPlaceholderImage=function(){var t,n,r=this,o=r.config,i={force:!0,samplingValue:100},a=r.publisherEvents,s=function(){r.disablePreroll=!0,r.clickCallback.resolve(),r.startUserInitiateDeferred&&r.startUserInitiateDeferred.resolve()};o.placeholderImage&&!r.placeholderImageElement&&(n=p("img",{src:o.placeholderImage}),n.style.width="100%",n.style.height="100%",r.placeholderImageElement=n,b(r.playerContainer).prepend(n),(o.movieLinkUrl||o.poCTM)&&(n.style.cursor="pointer",y(n,"click",function(){o.poCTM&&s(),o.movieLinkUrl&&!r.wasPosterClick&&(t=l(o.movieLinkUrl,{clickOnPoster:1}),r.apiEvents&&r.apiEvents.trigger("contentclickbeacon"),o.poCTM||e.open(t)),r.wasPosterClick?a.send(k.CLICK_THROUGH_POSTER_FRAUD,[],i):a.send(k.CLICK_THROUGH_POSTER,[],i),r.wasPosterClick=!0})))},ct.prototype.placeholderImageElementTrigger=function(e){var t=this;t.clickCallbackChain?t.clickCallback=b.Deferred():t.clickCallbackChain=!0,t.clickCallback.then(e)},ct.prototype.htmlAdd=function(e){var t,n,o=this,i=o.config,s=i.width,u=i.height;t=p("iframe",{src:l(e.url,{referrer:i.url}),width:a(s),height:a(u),frameborder:0,scrolling:"no"}),o.placeholderImageElement=t,b(o.playerContainer).prepend(t),e.product=4,n=new D(r({},i,{videoId:196})),n.send(e)},ct.prototype.removePlaceholderImage=function(){var e=this,t=e.placeholderImageElement;t&&(b(t).remove(),e.placeholderImageElement=null)},ct.prototype.remove=function(){var e=this,t=e.element,n=e.playerContainer;Y.call(e),e.removePlaceholderImage(),e.gaTracking&&e.gaTracking.remove(),n.parentNode.removeChild(n),t&&e.elementWasCreated&&t.parentNode.removeChild(t),e.installFlashDownloaderAPI&&e.installFlashDownloaderAPI.remove()},ct.prototype.loaded=function(){var e=this,t=e.config;t.loaded&&"function"==typeof t.loaded&&t.loaded(),e.apiEvents.trigger("load")},ct.prototype.api=function(){var e=this,t=new A(e.apiEvents);return r(t,{}),t},ct.prototype.error=function(e){E.error("Player Error: "+e)},ct})}(this),function(){n("dom/minimizeElement",[],function(){var e=function(e){e&&(e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden")};return e})}(this),function(){n("dom/expandElement",[],function(){var e=function(e){e&&(e.style.position="",e.style.width="",e.style.height="",e.style.overflow="")};return e})}(this),n("bidding/ViewCount",["require","util/createPrototype"],function(e){var t=e("util/createPrototype"),n=t({increment:function(e){var t=this;t[e]||(t[e]=0),t[e]+=1},decrement:function(e){var t=this;t[e]||(t[e]=0),t[e]-=1}});return n}),n("lodash/_arrayEachRight",[],function(){function e(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}return e}),n("lodash/_baseForRight",["./_createBaseFor"],function(e){var t=e(!0);return t}),n("lodash/_baseForOwnRight",["./_baseForRight","./keys"],function(e,t){function n(n,r){return n&&e(n,r,t)}return n}),n("lodash/_baseEachRight",["./_baseForOwnRight","./_createBaseEach"],function(e,t){var n=t(e,!0);return n}),n("lodash/forEachRight",["./_arrayEachRight","./_baseCastFunction","./_baseEachRight","./isArray"],function(e,t,n,r){function o(o,i){return"function"==typeof i&&r(o)?e(o,i):n(o,t(i))}return o}),n("bidding/AdBreakBase",["require","util/each","util/extend","core/console","dom/$","util/createPrototype","core/Event","bidding/AdBreaks","bidding/ViewCount","lodash/forEachRight"],function(e){var t=e("util/each"),n=e("util/extend"),r=e("core/console"),o=e("dom/$"),i=e("util/createPrototype"),a=e("core/Event"),s=e("bidding/AdBreaks"),l=e("bidding/ViewCount"),u=e("lodash/forEachRight"),c=function(e){var t=["pre-roll","mid-roll","post-roll","overlay"];return(0>e||e>=t.length)&&(e=0),t[e]},d=function(e){var t=["channelId","main","pre-roll","mid-roll","post-roll","overlay","linear-overlay"];return t[e]},p=new l,f=i({base:a,constructor:function(e){var t=this,i=e.adBreak,a=i&&i.product;r.log("AdBreakBase: AdBreakBase()",arguments,t),n(!0,t,i,{adNetworks:e.adNetworks,networkEvents:e.networkEvents,productFullName:c(a),productType:d(a)}),t.hasAdsDeferred=o.Deferred(),t.prerollImpressionDeferred=o.Deferred(),t.ads=[],t.bidArray=[],t.options=e,t.options.capping.breakLimitViews=new l,t.options.capping.sessionLimitViews=p,t.options.capping.isAbTest=t.options.isAbTest,t.options.capping.isAbTestOptimBWIgnore=t.options.isAbTestOptimBWIgnore,t.impressionsCount=0,t.logStartTime=(new Date).getTime(),t.logString=[],t.adNetworksTryDictionary={}},countImpression:function(){var e=this,t=e.options;t.capping,e.impressionsCount+=1},hadImpressions:function(){var e=this;return e.impressionsCount>0},bid:function(e){var t,i,a=this,l=a.ads,c=l.length,d=n(!0,{indexInBreak:c},a.options),p=d.apiEvents,f=d.isFirstInPlaylist,h=a.isPreroll()&&0===c,m=d.firstPrerollNetworks,v=a.adNetworksTryDictionary,g=a.bidArray,y=function(){var e=o.Deferred(),t=function(t,n,o,i){"pending"===e.state()&&(r.log("AdBreakBase: bid()/nextBidToComplete()",t,n),g.splice(n,1),e[t].apply(o,i))};return r.log("AdBreakBase: bid()/nextBidToComplete()",g),u(g,function(n,r){n.progress(function(){e.notify.apply(n,arguments)}),n.then(function(){t("resolve",r,n,arguments)},function(){t("reject",r,n,arguments)})}),e.promise()},b=e&&e.allowParallelBid;return!b&&g.length?y():(r.log("AdBreakBase: bid()",arguments,a),d.adBreak.postSplashNetworks&&c>0&&(d.adNetworks=d.adBreak.postSplashNetworks),f&&h&&m&&(r.log("AdBreakBase: bid(), usingFirstPrerollNetworks"),d.parallelBid=!0,n(d,s.processAdNetworks(m))),t=a.createAd(d,v),l.push(t),t.on("log",function(e,t){a.log(t)}),t.on("adstart",function(){"pending"===a.prerollImpressionDeferred.state()&&a.prerollImpressionDeferred.resolve()}),t.on("adstart",function(){a.countImpression(t.getNetworkId());var e=a.isPreroll()?"preroll":a.isPostroll()?"postroll":"midroll";p.trigger("adstart",{adBreakType:e,countImpressionInBreak:a.impressionsCount,cms:d.cms_co})}),t.on("adimpression",function(){p.trigger("adimpression",{}),a.trigger("adimpression")}),t.on("adclickbeacon",function(){p.trigger("adclickbeacon")}),t.on("advideostart adfirstquartileApi admidpointApi adthirdquartileApi adcompleteApi",function(e){p.trigger(e)}),t.on("aderror",function(){"pending"===a.prerollImpressionDeferred.state()&&a.prerollImpressionDeferred.reject(),p.trigger("aderror",{})}),t.on("adpaused adpause",function(){a.trigger("adpause",{ad:t})}),t.on("adplaying adresume",function(){a.trigger("adresume",{ad:t})}),r.log("AdBreakBase: bid() bidding on networks",c),i=t.init(),"pending"===a.hasAdsDeferred.state()&&i.then(a.hasAdsDeferred.resolve,a.hasAdsDeferred.reject),g.push(i),d.parallelBid?a.bid({allowParallelBid:!0}):y())},play:function(){},destroy:function(e){var n=this;r.log("AdBreakBase: destroy()",n.ads,arguments),n.destroyed=!0,t(n.ads,function(t,n){n.destroy(e)})},hasAds:function(){var e=this;return e.hasAdsDeferred.promise()},whenFirstPrerollImpression:function(){var e=this;return e.prerollImpressionDeferred.promise()},isPreroll:function(){var e=this;return 0===e.insertionPoint},isPostroll:function(){var e=this;return-1===e.insertionPoint},log:function(e){var t=this,n=(new Date).getTime(),r=n-t.logStartTime;t.logString+=r+" "+e+";"},getLog:function(){var e=this;return e.logString},canAutoplay:function(){return!0}});return f}),function(){n("bidding/Vast",["require","dom/$","core/console","core/Event"],function(e){var t,n=e("dom/$"),r=e("core/console"),o=e("core/Event"),i=function(e,t,r,o,i,a){n(t,e).each(function(e,t){var s=n(t),l=n.isFunction(o)?o(t):o,u=s.text();a&&(r=i,l=l.replace(".creative",".ad")),r.on(l,function(){r.trigger("beacon",u,l)})})},a=function(e){var t,r=0,o=.01,i=60,a=60*i;return e?(t=e.trim().match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/),n.each([a,i,1,o],function(e,n){r+=n*parseInt(t[e+1],10)||0}),r):!1},s=function(e,t,r){var o=n(r);n.each(t,function(t,n){var r=o.attr(n);r&&(e[n]=r)})},l=function(e){var t=n(e),r={};n("StaticResource",t).each(function(e,t){r.type="static",r.URI=n(t).text(),r.creativeType=n(t).attr("creativeType")}),n("IFrameResource",t).each(function(e,t){r.type="iframe",r.URI=n(t).text()}),n("HTMLResource",t).each(function(e,t){r.type="html",r.html=n(t).text()})},u=function(e,t,o){var a=this,u=n(e);r.log("CompanionCreative: CompanionCreative()"),a.resource=l(e),a.clickThroughUrl=n("CompanionClickThrough",u).text(),s(a,["id","width","height","expandedWidth","expandedHeight","apiFramework"],e),i(e,"TrackingEvents Tracking[event=creativeView]",a,"creativeView.creative",t,o)},c=function(e,t,o){var a=this,u=n(e);r.log("NonLinearCreative: NonLinearCreative()"),a.resource=l(e),a.clickThroughUrl=n("NonLinearClickThrough",u).text(),s(a,["id","width","height","expandedWidth","expandedHeight","scalable","maintainAspectRatio","minSuggestedDuration","apiFramework"],e),i(e,"TrackingEvents Tracking",a,function(e){return n(e).attr("event")+".creative"},t,o)},d=function(e,t,o){var l=this,u=n(e);r.log("LinearCreative: LinearCreative()"),l.clickThroughUrl=n("VideoClicks ClickThrough",u).text(),n.each({"TrackingEvents Tracking":function(e){return n(e).attr("event")+".creative"},"VideoClicks ClickTracking":"videoclick.creative","VideoClicks CustomClick":function(e){var t=n(e).attr("id");return t&&(t+="."),"videocustomclick"+t+".creative"}},function(n,a){r.log("LinearCreative: Preparing beacons for %s",n),i(e,n,l,a,t,o)}),o||(l.duration=a(n("Duration",u).text()),l.media=[],n("MediaFiles MediaFile",u).each(function(e,t){var r=n(t),o=r.text(),i={};o&&(i.src=r.text(),s(i,["id","delivery","type","bitrate","width","height","scalable","maintainAspectRatio","apiFramework"],t),l.media.push(i))}))},p=function(e,t,o){var i=n(e),a=null;return n("Linear",i).length?(a=new d(e,t,o),a.type="linear"):n("NonLinearAds NonLinear",i).length?(a=new c(e,t,o),a.type="nonlinear"):n("CompanionAds Companion",i).length&&(a=new u(e,t,o),a.type="companion"),a?(a.creative=e,a.adParameters=n("AdParameters",i).text(),s(a,["id","sequence","adID"],e)):r.log("Creative: Creative() unknown or empty creative type"),a},f=function(e,o,a,s){var l=n(e),u=this;u.ad=e,u.type="video",u.wrapLevel=s,u.id=l.attr("id"),u.errorUrl=n("Error",l).text(),u.creatives=[],u.hasMedia=!1,u.wrapperLoading=!1,n("InLine",l).length&&(r.log("Vast: found InLine ad"),i(e,"Impression",u,"impression.ad"),u.appendCreatives(),o.call(u)),n("Wrapper",l).length&&(r.log("Vast: found Wrapper"),s>=5?(r.warn("Vast: Wrapper level cant be more than 5"),o&&o.call(u,"Wrapper level")):(u.wrapperLoading=!0,u.isWrapper=!0,a.loadVast(a.processUrl(n("VASTAdTagURI",l).text())).done(function(r){var l;s+=1,l=new t(r,function(t){u.ads=t,n.each(t,function(t,n){n.appendCreatives(e,!0),i(e,"Impression",n,"impression.wrapper.ad")}),o&&o.call(u)},a,s),u.wrapperLoading=l.wrapperLoading}).fail(function(e,t,n){r.warn("Vast: failed loading wrapper"),o&&o.call(u,n)})))};return d.prototype=new o,d.prototype.constructor=d,c.prototype=new o,c.prototype.constructor=c,u.prototype=new o,u.prototype.constructor=u,f.prototype=new o,f.prototype.constructor=f,f.prototype.appendCreatives=function(e,t){var r=this,o=e?n(e):n(r.ad);n("Creatives Creative",o).each(function(e,n){var o=new p(n,r,t);o&&o.type&&(t||o.propagateEventsTo(r),r.creatives.push(o),o.media&&o.media.length>0&&(r.hasMedia=!0),o.sequence&&(r.creativeSequence||(r.creativeSequence=[]),r.creativeSequence[o.sequence]||(r.creativeSequence[o.sequence]=[]),r.creativeSequence[o.sequence].push(o)))})},t=function(e,t,o,i){var a=n(e),s=[],l=[],u=this;u.wrapperLoading=!1,u.version=e.documentElement.getAttribute("version"),r.log("Vasts: VAST version %s",this.version),"2.0"!==u.version&&"3.0"!==u.version&&r.warn("Vasts: XML VAST version not supported!"),n("Ad",a).length||t(!1),n("Ad",a).each(function(e,r){var a=function(e){return function(){this.ads?n.each(this.ads,function(e,t){s.push(t)}):s.push(this),l.splice(e,1),!l.length&&t&&t(s)}},c=new f(r,a(e),o,i);u.wrapperLoading=c.wrapperLoading,u.wrapperLoading&&(l[e]=a(e))})}})}(this),function(){n("bidding/Vast_one",["require","dom/$","core/console","core/Event"],function(e){var t,n=e("dom/$"),r=e("core/console"),o=e("core/Event"),i=function(e,t,r,o,i,a){n(t,e).each(function(e,t){var s=n(t),l=n.isFunction(o)?o(t):o,u=s.text();a&&(r=i,l=l.replace(".creative",".ad")),r.on(l,function(){r.trigger("beacon",u,l)})})},a=function(e){var t,r=0,o=.01,i=60,a=60*i;return e?(t=e.trim().match(/^(?:(?:(\d+):)?(\d+):)?(\d+)(?:\.(\d+))?$/),n.each([a,i,1,o],function(e,n){r+=n*parseInt(t[e+1],10)||0}),r):!1},s=function(e,t,r){var o=n(r);n.each(t,function(t,n){var r=o.attr(n);r&&(e[n]=r)})},l=function(e){var t=n(e),r={};n("CODE",t).each(function(e,t){r.type="html",r.html=n(t).text()}),s(r,["id","width","height","expandedWidth","expandedHeight","resourceType","creativeType"],e)},u=function(e){var t=this,o=n(e);r.log("NonLinearCreative: NonLinearCreative()"),n("NonLinearAds NonLinear",o).each(function(e,r){t.resource=l(r),t.clickThroughUrl=n("NonLinearClickThrough",n(r)).text(),t.apiFramework=n("AdParameters",n(r)).attr("apiFramework")})},c=function(e,t,o){var u,c=this,d=n(e);r.log("LinearCreative: LinearCreative()"),c.clickThroughUrl=n("Video VideoClicks ClickThrough",d).text(),n.each({"TrackingEvents Tracking":function(e){return n(e).attr("event")+".creative"},"Video VideoClicks ClickTracking":function(e){return n(e).attr("id")+".creative"},"Video VideoClicks ClickThrough":"videoclick.creative","Video VideoClicks CustomClick":function(e){var t=n(e).attr("id");return t&&(t+="."),"videocustomclick"+t+".creative"}},function(n,a){r.log("LinearCreative: Preparing beacons for %s",n),i(e,n,c,a,t,o)}),o||(c.duration=a(n("Video Duration",d).text()),u=n("Video AdParameters",d).attr("apiFramework"),c.media=[],n("Video MediaFiles MediaFile",d).each(function(e,t){var r=n(t),o=r.text(),i={};o&&(i.src=r.text(),s(i,["id","delivery","type","bitrate","width","height"],t),u&&(i.apiFramework=u),c.media.push(i))}),n("CompanionAds Companion",d).each(function(e,t){c.resource=l(t)}))},d=function(e,t,r){var o=this,i=n(e),a=null;return o.media=[],n("Video",i).length&&(a=new c(e,t,r),a.type="linear"),n("NonLinearAds NonLinear",i).length&&(a=new u(e,t,r),a.type="nonlinear"),a.creative=e,a.adParameters=n("AdParameters",i).text(),a},p=function(e,o,a,s){var l=n(e),u=this;u.ad=e,u.type="video",u.wrapLevel=s,u.id=l.attr("id"),u.errorUrl=n("Error",l).text(),u.creatives=[],u.hasMedia=!1,u.wrapperLoading=!1,n("InLine",l).length&&(r.log("Vast: found InLine ad"),i(e,"Impression URL",u,"impression.ad"),u.appendCreatives(),o.call(u)),n("Wrapper",l).length&&(r.log("Vast: found Wrapper"),s>=5?(r.warn("Vast: Wrapper level cant be more than 5"),o&&o.call(u,"Wrapper level")):(u.wrapperLoading=!0,u.isWrapper=!0,a.loadVast(a.processUrl(n("VASTAdTagURI",l).text())).done(function(r){var l;s+=1,l=new t(r,function(t){u.ads=t,n.each(t,function(t,n){n.appendCreatives(e,!0),i(e,"Impression URL",n,"impression.wrapper.ad")}),o&&o.call(u)},a,s),u.wrapperLoading=l.wrapperLoading}).fail(function(e,t,n){r.warn("Vast: failed loading wrapper"),o&&o.call(u,n)})))};return c.prototype=new o,c.prototype.constructor=c,u.prototype=new o,u.prototype.constructor=u,p.prototype=new o,p.prototype.constructor=p,p.prototype.appendCreatives=function(e,t){var r=this,o=e?n(e):n(r.ad);n("InLine",o).each(function(e,n){var o=new d(n,r,t);o&&(t||o.propagateEventsTo(r),r.creatives.push(o),o.media&&o.media.length>0&&(r.hasMedia=!0))})},t=function(e,t,o,i){var a=n(e),s=[],l=[],u=this;u.wrapperLoading=!1,u.version="1.0",r.log("Vasts: VAST version 1.0"),n("Ad",a).length||t(!1),n("Ad",a).each(function(e,r){var a=function(e){return function(){this.ads?n.each(this.ads,function(e,t){s.push(t)}):s.push(this),l.splice(e,1),!l.length&&t&&t(s)}},c=new p(r,a(e),o,i);u.wrapperLoading=c.wrapperLoading,u.wrapperLoading&&(l[e]=a(e))})}})}(this),function(e){n("player/initMraidScript",["require","core/console","util/extend","dom/injectScript"],function(t){var n=t("core/console"),r=t("util/extend"),o=t("dom/injectScript"),i=function(t){var i=e,a=i.document,s=a.getElementsByTagName("head").item(0),l=function(e){return i.mraid?t.success&&t.success():t.error&&t.error("mraid"),e},u=r({},t,{container:s,success:l});i.mraid?(n.log("initMraid: window.mraid already loaded"),t.success&&t.success()):(n.log("initMraid: attempting dynamic injection"),o("mraid.js",u))};return i})}(this),function(){n("bidding/MraidAd",["require","core/console","player/initMraidScript"],function(e){var t=e("core/console"),n=e("player/initMraidScript"),r=function(e,r){var o=this,i=[];n({success:function(){t.log("MraidAd: mraid init success"),o.type="mraid",i.push(o),r(i)},error:function(e){t.log("MraidAd: mraid init failed",e),r(!1)},timeout:15e3})};return r})}(this),function(){n("bidding/BiddingFactory",["require","core/console","bidding/Vast","bidding/Vast_one","bidding/MraidAd","dom/$"],function(e){var t=e("core/console"),n=e("bidding/Vast"),r=e("bidding/Vast_one"),o=e("bidding/MraidAd"),i=e("dom/$"),a=function(e,a,s,l){var u,c=!1,d=function(e,o,i){var a,s=e.documentElement.nodeName.toLowerCase(),l=e.documentElement.getAttribute("version");switch(s){case"videoadservingtemplate":t.log("BiddingFactoryXml: XML VAST 1.0 found"),a=new r(e,o,i,0);break;case"vast":t.log("BiddingFactoryXml: XML VAST found"),("2.0"===l||"3.0"==l)&&(a=new n(e,o,i,0))}if(!a)throw new Error("BiddingFactoryXml failed");return a},p=function(e,t){var n=-1!==e.indexOf("mraid.js"),r=!1;if(!n)throw new Error("BiddingFactoryHtml failed");return r=new o(e,t)},f=function(e){try{e()}catch(n){t.log("BiddingFactory: tryIgnore()",e,n)}},h=function(){var n=e,r=!1;t.log("BiddingFactory: trying xml");try{r=i.isXMLDoc(n)}catch(o){t.log("isXMLDoc exception: "+o.message)}if(!r){t.log("BiddingFactory: parsing xml");try{n=i.parseXML(n)}catch(o){t.log("parseXML exception: "+o.message),n=null}}n&&(c=new d(n,s,l))},m=function(){t.log("BiddingFactory: trying html"),c=new p(e,s)},v=function(){f(m)},g=function(){t.log("BiddingFactory: still no ads, trying to force xml then html"),f(h),c||v()},y={"text/xml":h,"application/xml":h,"text/html":v};if(e&&(a&&(-1!==a.indexOf(";")&&(a=a.split(";")[0]),u=y[a],u&&u()),c||g()),!c)throw new Error("BiddingFactory failed");return c};return a})}(this),n("util/noop",[],function(){var e=function(){};return e}),function(){n("bidding/BiddingArena",["require","util/each","util/extend","dom/$","dom/browser","core/console","core/Event","bidding/BiddingFactory","util/FlashDownloader","util/noop"],function(e){var t,n=e("util/each"),r=e("util/extend"),o=e("dom/$"),i=(e("dom/browser"),e("core/console")),a=e("core/Event"),s=e("bidding/BiddingFactory"),l=e("util/FlashDownloader"),u=l.getListenerNetworkEventIdsArray(),c=e("util/noop"),d=2e4,p=function(e,t,n,r){var o=e.split("?"),i=t+"_"+n+"_"+r,a="?hc=t"+i;return o.length>1?o.join("?hc=t"+i+"&"):e.concat(a)},f=function(e){return i.log("BiddingArena: tryUrl() trying %s",e.url),e.timeout=e.timeout||d,e.useFlashDownloaderFallback=!0,e.url.indexOf("isUseSherlokUrl=false")<0&&e.isUseSherlokUrl&&(e.url=p(e.url,e.product,e.indexInBreak,e.waterfallIndex)),o.ajax(e)};return t=function(e){i.log("BiddingArena: BiddingArena()",arguments),this.adNetworks=e.adNetworks,this.started=!1,this.beforeSuccess=e.beforeSuccess,this.applyMacros=e.applyMacros,this.checkNetworkCapped=e.checkNetworkCapped,this.internalAdIdLength=e.internalAdIdLength,this.currentAdCounters=e.currentAdCounters,this.indexInBreak=e.indexInBreak,this.product=e.product,this.prioritizedCampaignsCount=e.prioritizedCampaignsCount,this.validAdNetworksCount=0,this.isUseSherlokUrl=e.isUseSherlokUrl,this.shouldSendPreRequestEvent=e.sendPreRequestEvent&&!e.isMobileEnv,this.numberOfTries=e.numberOfTries?e.numberOfTries:Number.MAX_VALUE,this.adNetworksTryDictionary=e.adNetworksTryDictionary?e.adNetworksTryDictionary:{},this.viewabilityObj=e.viewabilityObj},t.prototype=new a,t.prototype.constructor=t,t.prototype.start=function(){var e,t=this,l=function(e){return i.log("BiddingArena: processUrl()",e),e=t.applyMacros(e),i.log("BiddingArena: processUrl() done",e),e.trim()};e=function(d,p){var h,m,v,g,y,b,_=new a,w=function(e){t.trigger(e,m)},E=!0,T=function(e){var n=E&&t.shouldSendPreRequestEvent?w:c;return E=!1,f({url:e,indexInBreak:t.indexInBreak,product:t.product,waterfallIndex:d,isUseSherlokUrl:t.isUseSherlokUrl,flashDownloaderNetworkEvents:_,flashDownloaderInternalEventsCallback:n})},k=function(){t.validAdNetworksCount+=1,t.adNetworksTryDictionary[h.id]++,b=l(h.url),b&&(m.url=b),t.trigger(t.shouldSendPreRequestEvent?"prerequest":"request",m);for(var e=0;e<u.length;e++)_.on(u[e],function(e,n){t.trigger(e,m,n)});T(b).done(x).fail(j)},x=function(a,u,c){var p,f=c.getResponseHeader("content-type"),h=o.Deferred(),v={loadVast:T,processUrl:l};i.log("BiddingArena: start() success. Raw response: ",a);try{p=new s(a,f,function(i,a){var s=function(e){var n="";try{n=e.getElementsByTagName("VASTAdTagURI")[0],n?n=n.innerHTML:(n=e.getElementsByTagName("MediaFile")[0],n=n?n.innerHTML:e.outerHTML,n=n.substring(0,t.internalAdIdLength))}catch(r){}return n},l=function(){var e=o.Deferred();return n(i,function(e,n){n.propagateEventsTo&&n.propagateEventsTo(t),n=r(n,m),n.url||(n.url=b)}),i.length>0&&(m.type=i[0].type,m.elementType=i[0].elementType,"rotoscope"===m.type&&(m.internalAdId=s(i[0].ad))),t.trigger("success",i,e),t.trigger("response",m,"success"),e.promise()},u=function(){i&&i.length>0&&i[0].hasMedia?(m.type=i[0].type,"rotoscope"===m.type&&(m.internalAdId=s(i[0].ad))):t.trigger("response",m,a),e(d+1,m)};o.when(t.beforeSuccess&&t.beforeSuccess(i)).then(l).then(h.resolve,u)},v)}catch(g){i.log("BiddingFactory exception",g),t.trigger("response",m,g),e(d+1,m)}return p},j=function(n,r,o){t.trigger("response",m,o),e(d+1,m)},C=function(e,n,r){return{transferNetwork:n>1?t.adNetworks[n-1]:"",networkId:e.id,currentWaterfallIndex:n,externalRequestUTCTime:new Date,shouldSample:r&&e.samplingRate<1,url:e.url,currentAdCounters:t.currentAdCounters,dynamicTimeout:e.dynamicTimeout,maxDuration:e.maxDuration||0,requireViewability:e.requireViewability||e.url&&-1!=e.url.indexOf("vc=t")||!1,impressionBeaconUrls:e.impressionBeaconUrls||e.beacons}};p&&t.trigger("transfer",p),d>=t.adNetworks.length||t.prioritizedCampaignsCount>0&&t.validAdNetworksCount>=t.prioritizedCampaignsCount?(i.log("BiddingArena: failure"),t.trigger("failure")):(h=t.adNetworks[d],h.id?(t.adNetworksTryDictionary[h.id]||(t.adNetworksTryDictionary[h.id]=0),y=!0,h.samplingRate&&(y=Math.random()<=h.samplingRate),m=C(h,d,y),g=t.checkNetworkCapped&&t.checkNetworkCapped(h),v=g?g.cappedReason:!1,y||v||(v="minFillRate",g.cappedReason=v),v?(i.log("BiddingArena: capping",m,v,g.data),t.trigger("capping",m,g),e(d+1)):t.numberOfTries<=t.adNetworksTryDictionary[h.id]?(i.log("BiddingArena: skipping because of number of tries",t.numberOfTries,t.adNetworks[d].triedCount),e(d+1)):m.requireViewability&&t.viewabilityObj?t.viewabilityObj.isViewable()?t.viewabilityObj.checkViewabilityAllowed()?t.viewabilityObj.beaconAPI.viewableRequest().then(function(n){n===!0?k():(g={cappedReason:"viewability",data:-1===n?"1:ovv-exception":"1:ovv"},t.trigger("capping",m,g),e(d+1))},function(){g={cappedReason:"viewability",data:"1:ovv-timeout"},t.trigger("capping",m,g),e(d+1)}):k():(g={cappedReason:"viewability",data:"1:"+t.viewabilityObj.getViewabilityData()},t.trigger("capping",m,g),e(d+1)):k()):t.trigger("failure"))},i.log("BiddingArena: start()"),t.started=!0,t.one("success failure",function(){t.started=!1}),e(0)},t.prototype.isStarted=function(){return this.started},t})}(this),function(){n("bidding/Capping",["require","core/console","dom/$","util/each","util/percentChance","util/extend"],function(e){var t=e("core/console"),n=e("dom/$"),r=e("util/each"),o=e("util/percentChance"),i=e("util/extend"),a=function(e,n){return t.log("Capping: isBreakLimited()",arguments),n&&e.breakLimit&&n[e.id]>0},s=function(e,n){return t.log("Capping: isSessionLimited()",arguments),n&&e.sessionLimit&&n[e.id]>e.sessionLimit},l=function(e,t){var o=!1;return r(e,function(e,r){return o=-1!==n.inArray(r.toString(),t)||-1!==n.inArray(parseInt(r,10),t),o?!1:void 0}),o},u=function(e,n){var r=e.whiteListsAsArray,o=e.blackListsAsArray,i=e.excludeListsAsArray,a=(e.optWhiteListsAsArray,e.optBlackListsAsArray,function(){return l(n,r)}),s=function(){return l(n,i)},u=function(){return l(n,o)};return t.log("Capping: isBlacklisted()",arguments),r&&r.length?!a():!s()&&u()},c=function(e,n,r){var i=e.optWhiteListsAsArray,a=e.optBlackListsAsArray,s=function(){return l(n,i)},u=function(){return l(n,a)};return t.log("Capping: isOptimizedBlacklisted()",arguments),r?(t.log("Capping: isOptimizedBlacklisted() - abTest ignore optimized BW list",null),!1):i&&i.length&&o(95)?!s():o(95)&&u()},d=function(e,t,n){var o=e.connectedCityList||e.connectedCities,i=o&&o.length>0,a=t?t.toLowerCase().trim():t,s=n?n.toLowerCase().trim():n,l=function(e){return e&&e.regionId&&e.regionId.trim().length>0&&e.cityId&&e.cityId.trim().length>0&&e.permitted&&"boolean"==typeof e.permitted};return i&&r(o,function(e,t){l(t)&&a===t.regionId.toLowerCase().trim()&&s===t.cityId.toLowerCase().trim()&&t.permitted===!0&&(i=!1)}),i},p=function(e,n){return t.log("Capping: isTransparencyRequired()",arguments),e.requireFullTransparency&&!n},f=function(e,t){var n="";switch(t){case"optimizedBlacklist":n="optimizedBlacklist";break;case"viewability":n=e.viewabilityObj.getViewabilityData();break;default:n=""}return n},h=function(e,n){var r=this;t.log("Capping: Capping()",arguments),r.options=i(!0,{},e),r.viewabilityObj=n};return h.prototype.check=function(e){var n=this,r=n.options,o=!1;return t.log("Capping: checkNetwork()",arguments),n.options&&void 0!=n.options.sessionLimitViews&&n.options.sessionLimitViews.increment(e.id),s(e,r.sessionLimitViews)?o="sessionLimit":a(e,r.breakLimitViews)?o="breakLimit":c(e,r.placementDomainLists,r.isAbTest&&r.isAbTestOptimBWIgnore)?o="optimizedBlacklist":u(e,r.placementDomainLists)?o="blacklist":p(e,r.isTransparent)?o="transparency":d(e,r.clientRegion,r.clientCity)&&(o="cityRestriction"),o?"sessionLimit"!=o&&n.options&&void 0!=n.options.sessionLimitViews&&n.options.sessionLimitViews.decrement(e.id):n.options&&void 0!=n.options.breakLimitViews&&n.options.breakLimitViews.increment(e.id),t.log("cappedReason: ",o),{cappedReason:o,data:f(n,o)}},h})}(this),function(){n("bidding/optimization/waterfallOptimizationRules",["require","core/console","util/each"],function(e){var t=e("core/console"),n=e("util/each"),r={impressionFirst:function(e,r,o){return t.log("WaterfallOptimizationRules: impressionFirst input:",arguments),n(e,function(e,n){var i=r[n],a=0;if(i)for(var e=0;i.impressions&&e<i.impressions.length;e++)a+=i.impressions[e];o[n]+=a,t.log("WaterfallOptimizationRules: impressionFirst score:",n,o[n])}),o},failureLast:function(e,r,o){return t.log("WaterfallOptimizationRules: failureLast input:",arguments),n(e,function(e,n){var i=r[n],a=-1,s=-1;i&&i.failures&&i.failures.length>0&&(a=i.failures[i.failures.length-1]),i&&i.impressions&&i.impressions.length>0&&(s=i.impressions[i.impressions.length-1]),a>-1&&(s>a?o[n]-=a:o[n]=-1*a),t.log("WaterfallOptimizationRules: failureLast score:",n,o[n])}),o}};return r})}(this),function(){n("bidding/optimization/AdNetworksStats",["require","core/console","util/createPrototype"],function(e){var t=e("core/console"),n=e("util/createPrototype"),r=n({constructor:function(){var e=this;e.stats={}},impression:function(e,n){var r=this;t.log("AdNetworksStats: impression()",arguments,r),r.setStats(e,"impressions",n)},failure:function(e,n){var r=this;t.log("AdNetworksStats: failure()",arguments,r),r.setStats(e,"failures",n)},getStats:function(){var e=this;return e.stats},setStats:function(e,t,n){var r=this;r.stats[e]||(r.stats[e]={impressions:[],failures:[]}),r.stats[e][t].push(n)}});return r})}(this),function(){n("bidding/optimization/WaterfallOptimization",["require","core/console","util/createPrototype","util/each","bidding/optimization/waterfallOptimizationRules","bidding/optimization/AdNetworksStats"],function(e){var t=e("core/console"),n=e("util/createPrototype"),r=e("util/each"),o=e("bidding/optimization/waterfallOptimizationRules"),i=e("bidding/optimization/AdNetworksStats"),a=n({constructor:function(){var e=this;t.log("WaterfallOptimization:constructor"),e.globalCounter=1,e.adNetworksStats=new i},reportStats:function(e,n){var r=this;t.log("WaterfallOptimizationRules: reportStats()",e,n),"adstart"==e||"advideostart"==e?r.adNetworksStats.impression(n,r.globalCounter):"aderror"==e&&r.adNetworksStats.failure(n,r.globalCounter)},executeRules:function(e,n,i){var a=this,s={},l=function(){for(var t={},n=0;n<e.length;n++)t[e[n]]=0;return t},u=function(){for(var t=0;t<e.length;t++){var n=e[t];p.push({id:n,score:d[n]})}},c=function(e){for(var t={},o=[],i=0;i<n.length;i++)t[n[i].id]=n[i];return r(e,function(e,n){var r=t[n];r&&r.url&&o.push(r)}),o},d=l(),p=[];t.log("WaterfallOptimizationRules: executeRules()",a.adNetworksStats.getStats());for(var f=0;i&&f<i.length;f++)o[i[f]]&&(d=o[i[f]](e,a.adNetworksStats.getStats(),d));return u(),s.adNetworkIds=p.sort(function(e,t){return t.score-e.score}).map(function(e){return e.id}),s.adNetworks=c(s.adNetworkIds,n),a.globalCounter++,s}});return a})}(this),function(){n("beacons/NetworkEvents",["require","util/extend","dom/beacon","dom/beaconPost","dom/browser","core/console","util/randomInt","util/buildEventsServerUrl","dom/$"],function(e){var t,n,r=e("util/extend"),o=(e("dom/beacon"),e("dom/beaconPost")),i=e("dom/browser"),a=e("core/console"),s=e("util/randomInt"),l=e("util/buildEventsServerUrl"),u=e("dom/$"),c=function(e,n,r){var o;switch(n){case t.PRE_REQUEST:case t.REQUEST:case t.REQUEST_FOR_STATISTIC_COMAPRISON:o=r;break;case t.VPAID_IMPRESSION:case t.VIDEO_IMPRESSION:case t.VPAID_JS_IMPRESSION:e.viewStartRequestUTC=r,o=e.externalRequestUTCTime;break;case t.FIRST_QUARTILE:case t.MIDPOINT:case t.THIRD_QUARTILE:case t.COMPLETE:o=e.viewStartRequestUTC;break;default:o=e.externalRequestUTCTime}var i=((r-o)/1e3).toFixed(4);return a.log("[NetworkEvents] - durationInSec, type =",i,n),i},d=function(e,n,r){var o=this,i=o.config,s=i.networkEventsPerc,l=i.networkRequestEventsPerc,u=i.dynamicTimeoutSuccessEventPerc<=0?1:i.dynamicTimeoutSuccessEventPerc;
return r&&r.force?100:e.shouldSample?100:n===t.REQUEST?l:n===t.DYNAMIC_TIMEOUT_SUCCESS?(a.log("getSampleRate - dynamicTimeoutSuccessEventPerc",u),u):t.INTERACTION_RANGE_FIRST<n&&n<t.INTERACTION_RANGE_LAST?100:s},p=function(){return n||(n=[9,91,92,1901,1902,1911,1912,1921]),n},f=function(e){return-1!=u.inArray(e,n||p())};return t=function(e){var t=this;t.config=e,t.diceRoll=s(100)},t.INTERACTION_RANGE_FIRST=1e3,t.INTERACTION_CLICK=1001,t.EVENT_INTERACTION_CLICK_FRAUD=1003,t.INTERACTION_RANGE_LAST=1099,t.NE_FLASH_DOWNLOADER_ENABLED=1901,t.NE_FLASH_DOWNLOADER_AJAX=1902,t.NE_FLASH_DOWNLOADER_AJAX_SUCCESS=1903,t.NE_FLASH_DOWNLOADER_REQUEST_HTTPS=1911,t.NE_FLASH_DOWNLOADER_REQUEST_CORS=1912,t.NE_FLASH_DOWNLOADER_REQUEST_CONFIG=1913,t.NE_FLASH_DOWNLOADER_REQUEST_DOMAIN=1914,t.NE_FLASH_DOWNLOADER_REQUEST_FORCED=1915,t.NE_FLASH_DOWNLOADER_NOT_AVAILABLE=1919,t.NE_FLASH_DOWNLOADER_DOWNLOAD=1921,t.NE_FLASH_DOWNLOADER_DOWNLOAD_ERROR=1922,t.NE_FLASH_DOWNLOADER_DOWNLOAD_SUCCESS=1923,t.EVENT_CAPPING_UNKNOWN=200,t.EVENT_CAPPING_SESSION=201,t.EVENT_CAPPING_NOT_MATCH_CITY=203,t.EVENT_CAPPING_MIN_FILLRATE=206,t.EVENT_CAPPING_VIEWABILITY=207,t.EVENT_CAPPING_TRASPARENCY=208,t.EVENT_CAPPING_BLACKLIST=209,t.EVENT_CAPPING_BLOCK_UNKNOWN_VENDOR=213,t.EVENT_CAPPING_UNKNOWN_VENDOR=214,t.EVENT_CAPPING_EXCEPTION_VENDOR=215,t.EVENT_CAPPING_MONITORED_VENDOR=216,t.INVALID_DOM_VENDOR=217,t.BLOCK_INVALID_DOM_VENDOR=218,t.EVENT_CAPPING_BREAK_LIMIT=219,t.HONEYPOT_DETECTION_DOM_VENDOR=221,t.PRE_REQUEST=111,t.REQUEST=11,t.REQUEST_FOR_STATISTIC_COMAPRISON=1,t.RESPONSE=2,t.EMPTY_RESPONSE_TIMEOUT=20,t.EMPTY_RESPONSE=21,t.VIDEO_RESPONSE=22,t.VPAID_FLV_RESPONSE=23,t.ROTOSCOPE_RESPONSE=24,t.VPAID_JS_RESPONSE=25,t.SOUND_BLEEP_REPORTED=30,t.VIDEO_IMPRESSION=32,t.VPAID_IMPRESSION=33,t.ROTOSCOPE_IMPRESSION=34,t.VPAID_JS_IMPRESSION=35,t.IMPRESSION=3,t.AD_PLAY=7,t.ADVANCE_NETWORK=9,t.EVENT_AD_VIDEO_START=300,t.FIRST_QUARTILE=325,t.MIDPOINT=350,t.THIRD_QUARTILE=375,t.COMPLETE=399,t.EVENT_AD_ERROR_ON_INIT=82,t.AD_ERROR_ON_LOAD=83,t.EVENT_START_AD_TIMEOUT=85,t.EVENT_INIT_AD_TIMEOUT=861,t.MOBILE_AD_ERROR_ON_LOAD=89,t.BEFORE_ROTOSCOPE=90,t.DYNAMIC_TIMEOUT_SUCCESS=93,t.MOBILE_AD_PARAMS_INIT=4,t.SCRIPT_LOADED_SUCCESSFUL=43,t.AD_LIMIT_DURATION_EXCEEDED=403,t.AD_READY=5,t.AD_LOADED=51,t.UNEXPECTED_INIT_REQUEST=60,t.HANDSHAKE_FAILURE=64,t.TRANSFER_NETWORK=700,t.RESPONSE_DATA_EMPTY="empty",t.RESPONSE_DATA_VIDEO="video",t.RESPONSE_DATA_VPAID="vpaid",t.RESPONSE_DATA_ROTOSCOPE="rotoscope",t.prototype.send=function(e,n,s,u){var p,h,m,v=this,g=v.config,y=0===g.networkEventMode||2===g.networkEventMode,b=1===g.networkEventMode||2===g.networkEventMode,_=d.call(v,e,n,u),w=t.REQUEST===n?v.diceRoll:t.DYNAMIC_TIMEOUT_SUCCESS===n?_-1:g.diceRoll,E=n===t.AD_READY,T=new Date,k=null;if(!f(n))return!s||s.internalAdId||s.eventData||(s={eventData:s}),E&&(e.adReadyUTC=T),_>w&&(a.log("NetworkEvents: send()",e,n,s),p={publisher:g.publisher,operatingSys:i.os+" "+i.osVersion,scriptVersion:g.scriptVersion,browser:i.name,userAgent:i.userAgent,flash:i.flashversion,experimentId:g.experimentId,samplingPerc:_,wtrflId:n!==t.REQUEST?e.adNetworksIdString:"",wtrflIndx:e.currentWaterfallIndex,affiliateId:g.subExternalID,durationInSec:c.call(v,e,n,T),networkId:e.networkId,sessionID:g.sessionID,product:e.product,event_type:n,domain:g.domain,indexInBreak:e.indexInBreak,rotationIndex:e.currentAdCounters&&e.currentAdCounters.rotationIndex,adUnitIndex:e.currentAdCounters&&e.currentAdCounters.adUnitIndex,adId:0,internalAdId:s&&s.internalAdId?s.internalAdId:"",data:s&&s.eventData?s.eventData:"","UTF-8":!0,focusParam:i.isTabVisible()},r(!0,p,g.clientLocation),h=l(g)+"/NetworkEventServlet",m={event_type:p.event_type,publisher:p.publisher,networkId:p.networkId,sessionID:p.sessionID,product:p.product,indexInBreak:p.indexInBreak,wtrflIndx:p.wtrflIndx,rotationIndex:p.rotationIndex,adUnitIndex:p.adUnitIndex},y&&(k=o({url:h,sendAsXml:!1,xmlRootElementName:"NetworkEvent",postData:p,getData:m})),b&&(r(p,{type:"network",farmId:g.farmId,publisherId:p.publisher,mediaSellerId:g.mediaSellerId,networkId:p.networkId}),k=o({url:g.sendMovieLogUrl.replace(/\/$/,"")+"/network",postData:{payload:JSON.stringify(p)},getData:m}))),n===t.REQUEST&&v.send(e,t.REQUEST_FOR_STATISTIC_COMAPRISON,{eventData:e.url+";"+e.transferNetwork}),k},t})}(this),function(){n("beacons/RedirectionEvent",["require","util/extend","dom/beacon","dom/browser","core/console","util/buildEventsServerUrl"],function(e){var t=e("util/extend"),n=e("dom/beacon"),r=e("dom/browser"),o=e("core/console"),i=e("util/buildEventsServerUrl"),a={},s=function(e){var n=this;n.config=t(!0,{},a,e)};return s.prototype.send=function(e,t){var a,s=this,l=s.config,u=new Date,c=u.getMonth()+1+"/"+u.getDate()+"/"+u.getFullYear()+" "+u.getHours()+"/"+u.getMinutes()+"/"+u.getSeconds();o.log("RedirectionEvent: send()",e),a=i(l)+"/RedirectionServlet",n(a,{movieID:l.movieId,clipID:e.networkId,location:e.product,clientID:l.defaultClientID,clientTime:c,publisherId:l.publisherId,adUrl:t,onlyLog:!0,flash:r.flashversion})},s})}(this),n("bidding/builtInDomValidators/helpers/getLog",["require","util/noop"],function(e){var t=e("util/noop"),n=function(e){var n=e&&e.log,r=e&&e.name;return n?function(){var e=Array.prototype.slice.call(arguments);return n.apply(this,[r].concat(e))}:t};return n}),n("bidding/builtInDomValidators/helpers/safeIndexOf",[],function(){var e=function(e,t){var n=e.length,r=0;for(r=0;n>r;r+=1)try{if(e[r]===t)return r}catch(o){}return-1};return e}),n("dom/isIframe",[],function(){var e=function(e){return e.tagName&&"iframe"===e.tagName.toLowerCase()};return e}),n("lodash/escapeRegExp",["./toString"],function(e){function t(t){return t=e(t),t&&r.test(t)?t.replace(n,"\\$&"):t}var n=/[\\^$.*+?()[\]{}|]/g,r=RegExp(n.source);return t}),n("util/findUrlMatch",["require","core/root","util/findMatch","lodash/escapeRegExp"],function(e){var t=e("core/root"),n=e("util/findMatch"),r=e("lodash/escapeRegExp"),o=t.Map?new t.Map:null,i=function(e){return e&&e.map?e.map(i):e&&"string"==typeof e&&0!==e.indexOf("http")?0===e.indexOf("//")?new RegExp("^https?:"+r(e)+"$"):new RegExp("^https?://([^/]*\\.)?"+r(e)+"/"):e},a=function(e){var t=o&&o.get(e);return t||(t=i(e),o&&o.set(e,t)),t},s=function(e,t){return n(a(e),t)};return s}),n("util/getAbsoluteUrl",["require","core/root"],function(e){var t=e("core/root"),n=t.document,r=n.createElement("a"),o=function(e){return r.href=e,r.href};return o}),n("bidding/builtInDomValidators/scriptPreloadValidator",["require","bidding/builtInDomValidators/helpers/getLog","bidding/builtInDomValidators/helpers/safeIndexOf","dom/isIframe","lodash/merge","util/findUrlMatch","util/getAbsoluteUrl"],function(e){var t=e("bidding/builtInDomValidators/helpers/getLog"),n=e("bidding/builtInDomValidators/helpers/safeIndexOf"),r=e("dom/isIframe"),o=e("lodash/merge"),i=e("util/findUrlMatch"),a=e("util/getAbsoluteUrl"),s=[],l=function(e){var t=e.tagName&&e.tagName.toLowerCase();return"script"===t},u={description:"Add script preload handler and fail on invalid script",filter:"html",options:{allowInlineScript:!0,scriptWhitelist:[]},validate:function(e){var u,c=(e.node.ownerDocument,new e.Deferred),d=t(e),p=e.context,f=p&&p.adOptions,h=f&&f.domValidators,m=f&&f.blockingDomValidators,v=h&&h.scriptValidator,g=v&&v.options,y=o(this.options,g),b=y.scriptWhitelist,_=y.allowInlineScript,w={},E=function(e){var t=a(e),n=i(b,t),r=!e,o=_&&r||n;return d("src",t),d("isInlineScript",r),d("isWhitelisted",n),d("isValid",o),!o},T=function(t){return E(t)?(d("shouldBlockSrc",m&&-1!==m.indexOf(e.name)),w.src=t&&a(t)||"",c.reject(),!m||-1!==m.indexOf(e.name)):void 0},k=function(e){try{return e.contentWindow&&e.contentDocument}catch(t){}return!1};return u=function(e){var t,o=["appendChild","insertBefore","replaceChild"],i=function(t){var n=e.Node.prototype[t],r=function(e){var t=e.setAttribute,n=Object.getPrototypeOf(e),r=Object.getOwnPropertyDescriptor(n,"src");return r?(d("Overriding script src changing methods"),e.setAttribute=function(n,r){return d("Attempted script.setAttribute change",n,r),"src"===n&&T(r)?void 0:t.apply(e,arguments)},Object.defineProperty(e,"src",{enumerable:!0,get:r.get,set:function(t){return d("Attempted script.src change",t),T(t)?void 0:r.set.apply(e,arguments)}}),void 0):(d("Overriding script src changing methods not supported"),void 0)};e.Node.prototype[t]=function(e){if(e&&l(e)){if(d("Attempted script insertion",e.src),T(e.src))return;r(e)}return n.apply(this,arguments)}},a=function(){var t=e.HTMLDocument.prototype.createElement;e.HTMLDocument.prototype.createElement=function(){var e=t.apply(this,arguments);return e&&r(e)&&(d("child iframe created"),e.addEventListener("load",function(){d("child iframe loaded"),u(e.contentWindow)})),e}},c=n(s,e);if(d("Found context",e&&c),e&&-1===c){d("Overriding insertion methods",e),s.push(e);try{t=!!e.Node.prototype}catch(p){t=!1}t&&(a(e),o.forEach(i))}},k(e.element)&&e.node===e.element.contentDocument.documentElement?(d("Overriding container"),u(e.element.contentWindow),{isValid:c.promise(),info:w}):void 0}};return u}),n("bidding/builtInDomValidators/containerIframeValidator",["require","bidding/builtInDomValidators/helpers/getLog"],function(e){var t=e("bidding/builtInDomValidators/helpers/getLog"),n={description:"Fail on friendly iframe mutation",filter:"iframe",validate:function(e){var n=e.node,r=e.element,o=t(e),i=n===r,a=e.mutation,s=a&&a.attributeName,l=a&&i;return o("isMutationOnOurElement",l),{isValid:!l,info:{attributeName:s,value:s&&n.getAttribute(s),oldValue:a&&a.oldValue}}}};return n}),n("bidding/builtInDomValidators/helpers/checkSmall",[],function(){var e=function(e,t){return e.width<=t||e.height<=t};return e}),n("dom/getElementSize",[],function(){var e=function(e){var t=[],n=function(){return e.getBoundingClientRect()},r=function(e){return JSON.stringify({width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left})},o=n(),i=r(o),a=o.width,s=o.height;return t.push(["final calculated dimensions",i]),{width:a,height:s,log:t}};return e}),n("dom/whenIframeAccesible",["require","core/root","core/console","dom/Deferred","dom/isIframe","util/findMatch"],function(e){var t=e("core/root"),n=e("core/console"),r=e("dom/Deferred"),o=e("dom/isIframe"),i=e("util/findMatch"),a=t.document,s=function(e){var n,r,o;return n=a.createElement("a"),n.href=e,n.host||(n=t.location),r=n.protocol&&":"!==n.protocol?n.protocol:t.location.protocol,o=r+"//"+n.host,o=o.replace(/:80$|:443$/,"")},l=function(e){var a=new r,u=s(e.src),c=s(t.location.href),d=["about:blank",/^javascript:/],p=i(d,u),f=p||u===c,h=function(){a.resolve()},m=function(){a.reject()},v=function(){n.log("whenIframeAccesible(): retry()"),l(e).then(h,m)},g=function(){e.removeEventListener("load",v),e.removeEventListener("error",m)},y=function(){try{return e.contentWindow&&e.contentDocument}catch(t){}return!1};return n.log("whenIframeAccesible()",e.src,u,f),o(e)&&f?y()?h():(e.addEventListener("load",v),e.addEventListener("error",m)):m(),a.promise().always(g)};return l}),n("bidding/builtInDomValidators/hostileIframeValidator",["require","util/findUrlMatch","bidding/builtInDomValidators/helpers/getLog","bidding/builtInDomValidators/helpers/checkSmall","dom/getElementSize","dom/whenIframeAccesible"],function(e){var t=e("util/findUrlMatch"),n=e("bidding/builtInDomValidators/helpers/getLog"),r=e("bidding/builtInDomValidators/helpers/checkSmall"),o=e("dom/getElementSize"),i=e("dom/whenIframeAccesible"),a={description:"Fail on large unknown hostile iframe",filter:"iframe",checkSubtree:!0,options:{maxElementSize:5,frameWhitelist:[],smallFrameWhitelist:[]},validate:function(e){var a=this.options,s=e.node,l=s.src,u=n(e),c=a.frameWhitelist,d=a.smallFrameWhitelist,p=o(s),f=r(p,a.maxElementSize),h=t(c,l),m=t(d,l),v=f&&m,g=function(){u("whenIframeAccesible",this.state())},y=function(){return i(s).always(g)};return u("src",l),u("isWhitelisted",h),u("isSmallWhitelisted",v),u("size",JSON.stringify(p)),u("isSmall",f),{isValid:h||v||y(),info:{src:l,width:p.width,height:p.height}}}};return a}),n("bidding/builtInDomValidators/hostileObjectValidator",["require","core/root","util/findUrlMatch","bidding/builtInDomValidators/helpers/getLog","util/getAbsoluteUrl","dom/getElementSize","bidding/builtInDomValidators/helpers/checkSmall"],function(e){var t=e("core/root"),n=e("util/findUrlMatch"),r=e("bidding/builtInDomValidators/helpers/getLog"),o=e("util/getAbsoluteUrl"),i=e("dom/getElementSize"),a=e("bidding/builtInDomValidators/helpers/checkSmall"),s=function(e){var n=i(e),r=t.document.createElement("iframe"),o=function(e,n){var r,o,i=t.getComputedStyle(e),a=i&&i.length;for(r=0;a>r;r+=1)o=i.item(r),n.style[o]=i.getPropertyValue(o)},a=e.parentNode;return o(e,r),r.width=e.width,r.height=e.height,["width","height"].forEach(function(t){e[t]&&"auto"===r.style[t]&&(r.style[t]="",r[t]=e[t])}),r.setAttribute("frameborder",0),a&&(a.insertBefore(r,e.nextSibling),n=i(r),a.removeChild(r)),n},l={description:"Fail on large unknown object",filter:"object, embed",checkSubtree:!0,options:{maxElementSize:5,objectWhitelist:[],smallObjectWhitelist:[],allowSameBasePathSrc:!0,useObjectElementSizeFix:!0},validate:function(e){var l=this.options,u=function(){var n=e.node.querySelector("object"),r=n&&n.getAttribute("data"),o=-1!==t.navigator.userAgent.indexOf("Trident");return o?e.node:r&&/(OVVBeacon[^\/\.]*?\.swf\??.*|throttle\.swf)$/gi.test(r)?n:e.node},c=u(),d=c.tagName&&c.tagName.toLowerCase(),p={object:function(){var e=c.querySelector('param[name="movie"]');return c.data?c.data:e&&e.value?e.value:void 0},embed:function(){return c.src?c.src:void 0}},f=p[d]&&p[d].call(),h=e.context,m=r(e),v=h.ad,g=v.attributes,y=g&&g.src,b=l.useObjectElementSizeFix,_=l.objectWhitelist,w=l.smallObjectWhitelist,E=l.allowSameBasePathSrc,T=o(f),k=o(y),x=!f||f===o(""),j=T.replace(/[^?#]*\/(.*)/,"$1"),C=o(".")+j,S=E&&T===C,A=T===k,O=b?s(c):i(c),I=a(O,l.maxElementSize),P=n(_,T),D=n(w,T),N=I&&D;return m("src",T),m("adSrc",k),m("isEmptySrc",x),m("isSameDomainSrc",S,C),m("isWhitelisted",P),m("isSmallWhitelisted",N),m("isKnownObject",A),m("size",JSON.stringify(O)),m("isSmall",I),{isValid:x||S||P||A||N,info:{src:x?"":T,width:O.width,height:O.height,tagName:d}}}};return l}),n("bidding/builtInDomValidators/scriptBlacklistValidator",["require","util/findUrlMatch","bidding/builtInDomValidators/helpers/getLog"],function(e){var t=e("util/findUrlMatch"),n=e("bidding/builtInDomValidators/helpers/getLog"),r={description:"Fail on blacklisted script",filter:"script",options:{scriptBlacklist:[]},validate:function(e){var r=this.options,o=e.node,i=o.src,a=n(e),s=r.scriptBlacklist,l=t(s,i);return a("src",i),a("isBlackListed",l),{isValid:!l,info:{src:i}}}};return r}),n("bidding/builtInDomValidators/scriptValidator",["require","util/findUrlMatch","bidding/builtInDomValidators/helpers/getLog"],function(e){var t=e("util/findUrlMatch"),n=e("bidding/builtInDomValidators/helpers/getLog"),r={description:"Fail on non-whitelisted script",filter:"script",options:{allowInlineScript:!0,scriptWhitelist:[]},validate:function(e){var r=this.options,o=e.node,i=o.src,a=n(e),s=r.scriptWhitelist,l=r.allowInlineScript,u=!i,c=t(s,i),d=u&&l||c;return a("src",i),a("isInlineScript",u),a("isWhitelisted",c),{isValid:d,info:{src:i}}}};return r}),n("bidding/builtInDomValidators/volumeValidator",["require","bidding/builtInDomValidators/helpers/getLog","bidding/builtInDomValidators/helpers/safeIndexOf"],function(e){var t=e("bidding/builtInDomValidators/helpers/getLog"),n=e("bidding/builtInDomValidators/helpers/safeIndexOf"),r=[],o={description:"Fail on volume",filter:"video, audio",options:{maxBleepsJs:3},validate:function(e){var o=this.options,i=new e.Deferred,a=e.context,s=t(e),l=a.ad,u=e.node,c=o.maxBleepsJs,d=0,p={src:u.currentSrc,tagName:u.tagName&&u.tagName.toLowerCase()},f=function(){var e=l.isMute(),t=u.volume,n=!u.muted,r=n&&t>0;s("volumeChange",t,n,e),e&&r&&(d+=1,s("bleep",d+"/"+c,u.currentSrc),c>d?u.muted=!0:(p.src=u.currentSrc,i.reject()))},h=n(r,u),m=-1!==h;if(!m)return l.isMute()&&(u.muted=!0),u.addEventListener("volumechange",f),i.promise().always(function(){u.removeEventListener("volumechange",f),r.splice(h,1)}),s("src",u.currentSrc),r.push(u),{isValid:i.promise(),info:p}}};return o}),n("bidding/builtInDomValidators",["require","bidding/builtInDomValidators/scriptPreloadValidator","bidding/builtInDomValidators/containerIframeValidator","bidding/builtInDomValidators/hostileIframeValidator","bidding/builtInDomValidators/hostileObjectValidator","bidding/builtInDomValidators/scriptBlacklistValidator","bidding/builtInDomValidators/scriptValidator","bidding/builtInDomValidators/volumeValidator"],function(e){var t={scriptPreloadValidator:e("bidding/builtInDomValidators/scriptPreloadValidator"),containerIframeValidator:e("bidding/builtInDomValidators/containerIframeValidator"),hostileIframeValidator:e("bidding/builtInDomValidators/hostileIframeValidator"),hostileObjectValidator:e("bidding/builtInDomValidators/hostileObjectValidator"),scriptBlacklistValidator:e("bidding/builtInDomValidators/scriptBlacklistValidator"),scriptValidator:e("bidding/builtInDomValidators/scriptValidator"),volumeValidator:e("bidding/builtInDomValidators/volumeValidator")};return t}),n("bidding/AdBase",["require","core/root","core/console","core/Event","util/extend","util/each","util/isArray","dom/Deferred","util/createPrototype","bidding/builtInDomValidators"],function(e){var t=e("core/root"),n=e("core/console"),r=e("core/Event"),o=e("util/extend"),i=e("util/each"),a=e("util/isArray"),s=e("dom/Deferred"),l=e("util/createPrototype"),u=e("bidding/builtInDomValidators"),c=l({base:r,defaults:{bidDelay:0,useDomValidator:!0,blockingDomValidators:[],domValidators:u},constructor:function(e,t){var l=this,u=[[["adstart","advideostart"],"aderror adstopped destroyed"],"adfirstquartile","admidpoint","adthirdquartile","adcomplete",["adstopped","aderror destroyed"]];l.options=o(!0,{},l.defaults,e),l.promises={},l.iframeFactory=e.iframeFactory,l.adNetworksTryDictionary=t,n.log("AdBase: AdBase()",arguments),i(u,function(e,t){var n,r,o=new s;a(t)&&(n=t[1],t=t[0],a(t)&&(r=t[1],t=t[0])),l.promises[t]=o.promise(),l.on(t,o.resolve),r&&l.on(r,o.resolve),n&&l.on(n,function(){o.reject(l)})}),r.apply(l,arguments)},destroy:function(){var e=this;n.log("AdBase: destroy()"),e.trigger("destroyed")},play:function(){var e=this,t=e.promises;return n.log("AdBase: play()"),t.adstart},atEnd:function(){var e=this,t=e.promises;return n.log("AdBase: atEnd()"),t.adstopped},atBidTime:function(){var e=this,n=e.options,r=n.bidDelay,o=e.promises,i=new s,a=i.promise(),l=function(){t.setTimeout(i.resolve,r)};return o.adstart.then(l,i.reject),o.adstopped.then(i.resolve,i.reject),n.parallelBid&&i.resolve(),a},setNetworkId:function(e){var t=this;n.log("AdBase: setNetworkId()"),t.networkId=e},getNetworkId:function(){var e=this;return n.log("AdBase: getNetworkId()"),e.networkId}});return c}),function(){n("util/tryRotoscope",["require","dom/$"],function(e){var t=e("dom/$"),n=function(e,n){var r=function(e){return console.log("buildRotoscopeUrl()",e),n+e};return t.ajax({url:r(e),dataType:"json"})};return n})}(this),n("util/cache",[],function(){var e=function(e){var t={};return function(){var n=Array.prototype.slice.call(arguments),r=JSON.stringify(n);return t[r]||(t[r]=e.apply(this,arguments)),t[r]}};return e}),n("player/HtmlVideoClip",["require","core/root","core/console","dom/$","util/defined","util/each","util/cache","dom/createElement","dom/getFlashVersion","util/buildUrl","util/createPrototype"],function(e){var t=e("core/root"),n=e("core/console"),r=e("dom/$"),o=e("util/defined"),i=e("util/each"),a=e("util/cache"),s=e("dom/createElement"),l=e("dom/getFlashVersion"),u=e("util/buildUrl"),c=e("util/createPrototype"),d=c({constructor:function(e,t,o,a){var s=this,l=function(e){var t=[];return r.isArray(e)||(e=[e]),i(e,function(e,n){var r={};n&&("string"==typeof n?r.src=n:(r.src=n.src||n.url,n.type&&(r.type=n.type)),t.push(r))}),t};n.log("HtmlVideoClip: HtmlVideoClip()",arguments),s.movieLinkUrl=o,s.video=t,s.$video=r(t),s.sources=l(e),s.publisherEvents=a},show:function(){var e=this,t=e.$video;n.log("HtmlVideoClip: show()"),t.show()},hide:function(){var e=this,t=e.$video;n.log("HtmlVideoClip: hide()"),t.hide()},at:function(e){var t,o,i=this,a=i.video,s=i.$video,l=r.Deferred(),u=function(r){var i="ended"===r.type;/^\d+%$/.test(e)&&a.duration&&(e=parseFloat(e.replace("%",""))/100,e*=a.duration),0>e&&a.duration&&(e+=a.duration,0>e&&(e=0)),!isNaN(e)&&(e<=a.currentTime||i)&&(n.log("HtmlVideoClip: time at",a.currentSrc,e,a.currentTime),t(),o(),l.resolve())};return n.log("HtmlVideoClip: adding at",e),t=on.call(i,s,"timeupdate",u),o=on.call(i,s,"ended",u),l.promise()},atEnd:function(e){var t=this,n=t.$video,o=r.Deferred();return e?this.at(-e):(t.ended?o.resolve():one.call(t,n,"ended",function(){t.ended=!0,o.resolve()}),o.promise())},play:function(e){var o,a=this,l=a.video,c=a.$video,d=a.sources,p=r.Deferred(),f=function(){i(d,function(e,t){var n=s("source",t);c.append(n)})},h=function(e){e.play()},m=function(e){(e.target===l||e.target===l.lastChild)&&(n.log("HtmlPlayerBase: play() video error event",e),l.removeEventListener("error",m,!0),p.reject(e))},v=function(){f(),c.one("loadstart",function(){var e=function(e){var n=e.originalEvent&&e.originalEvent.touches,r=n&&n[0].pageY||e.pageY,o=l.offsetTop+l.offsetHeight-r,i=u(a.movieLinkUrl,{logo_synd:1}),s={force:!0,samplingValue:100};!l.paused&&o>40&&a.pause(),a.publisherEvents.send(3002,[],s),t.open(i)};l.removeEventListener("error",m,!0),a.isCurrentSrc=!0,o=on.call(a,c,"volumechanged",function(){a.currentVolume=l.volume}),a.currentVolume&&(l.volume=a.currentVolume),a.movieLinkUrl&&c.on("click",e),c.one("emptied",function(){a.isCurrentSrc=!1,o(),a.movieLinkUrl&&c.off("click",e)})}),l.load(),h(l)};return n.log("HtmlVideoClip: play()",arguments),one.call(a,c,"playing",function(){e&&a.seek(e).then(p.resolve,p.reject),p.resolve()}),l.addEventListener("error",m,!0),c.children().length?(c.one("emptied",v).empty(),l.load()):(c.empty(),v()),p.promise()},pause:function(){var e=this,t=e.video,o=e.$video,i=r.Deferred();return n.log("HtmlVideoClip: pause()",arguments),e.ended?void 0:(one.call(e,o,"pause",function(){e.pausedPosition=t.currentTime,i.resolve()}),t.pause(),i.promise())},resume:function(){var e=this;return n.log("HtmlVideoClip: resume()",arguments),e.ended?void 0:e.pausedPosition?e.play(e.pausedPosition):void 0},stop:function(){var e=this,t=e.video,r=e.$video;n.log("HtmlVideoClip: stop()",arguments),e.ended||e.isCurrentSrc&&(t.pause(),r.empty())},isPlaying:function(){var e=this,t=e.video;return e.isCurrentSrc&&!t.paused},volume:function(e){var t=this,r=t.video;return n.log("HtmlVideoClip: volume()",arguments),o(e)?(t.currentVolume=e,t.isCurrentSrc&&(r.volume=t.currentVolume)):(e=t.currentVolume,t.isCurrentSrc&&(e=r.volume)),e},duration:function(){var e=this,t=e.video,n=e.$video,o=r.Deferred(),i=function(){var e=t.duration;isFinite(e)?o.resolve(e):o.reject(e)};return t.duration?i():one.call(e,n,"loadedmetadata",i),o.promise()},seek:function(e){var t=this,o=t.video,i=t.$video,a=r.Deferred(),s=!1;return n.log("HtmlVideoClip: seek()",arguments,t),/^\d+%$/.test(e)?t.duration().then(function(){return e=parseFloat(e.replace("%",""))/100,e*=o.duration,t.seek(e)}):(one.call(t,i,"seeked",function(){n.log("HtmlVideoClip: seek() seeked"),s&&s(),a.resolve()}),t.seekable(e)?o.currentTime=e:(n.log("HtmlVideoClip: seek() not seekable, adding handler"),one.call(t,i,"loadedmetadata.seek.htmlplayerbase",function(){t.seekable(e)?o.currentTime=e:(n.log("HtmlVideoClip: seek() still not seekable, rejecting"),a.reject())})),a.promise())},seekable:function(e){var t=this,r=t.video,o=r.seekable,a=!1;return n.log("HtmlVideoClip: seekable()",arguments,t),i(o,function(t){return o.start(t)<=e&&o.end(t)>=e?(a=!0,!1):void 0}),a}},{canAutoplay:a(function(){var e=s("video"),t=!1;try{e.play(),t=!e.paused,e=null}catch(n){}return t}),canPlayType:a(function(e){var n=t.document.createElement("video"),r=!1;return r=n.canPlayType(e),n=null,r}),canPlayFlash:a(function(){var e=l();return-1!==e}),canPlay:function(e){var t=!1;return n.log("HtmlVideoClip: canPlay()",arguments),r.isArray(e)||(e=[e]),i(e,function(e,n){var r;return n&&(r="string"==typeof n?n:n.type,t=d.canPlayTypes(r))?!1:void 0}),t}});return d}),n("bidding/HtmlAdWrapper",["require","core/root","util/each","util/extend","core/console","bidding/BiddingArena","bidding/Capping","bidding/optimization/WaterfallOptimization","beacons/NetworkEvents","beacons/AdViewLog","beacons/RedirectionEvent","dom/$","dom/beacon","dom/createElement","dom/minimizeElement","dom/expandElement","util/createPrototype","dom/generateTimeout","bidding/AdBase","util/randomInt","util/tryRotoscope","player/HtmlVideoClip","util/FlashDownloader"],function(e){var t,n=e("core/root"),r=e("util/each"),o=e("util/extend"),i=e("core/console"),a=e("bidding/BiddingArena"),s=e("bidding/Capping"),l=e("bidding/optimization/WaterfallOptimization"),u=e("beacons/NetworkEvents"),c=e("beacons/AdViewLog"),d=e("beacons/RedirectionEvent"),p=e("dom/$"),f=e("dom/beacon"),h=(e("dom/createElement"),e("dom/minimizeElement")),m=e("dom/expandElement"),v=e("util/createPrototype"),g=e("dom/generateTimeout"),y=e("bidding/AdBase"),b=e("util/randomInt"),_=e("util/tryRotoscope"),w=e("player/HtmlVideoClip"),E=e("util/FlashDownloader"),T=E.getListenerNetworkEventIdsArray(),k=function(e,t){var n;switch(e){case"video":case"flv":n=u.VIDEO_RESPONSE;break;case"vpaid flash":n=u.VPAID_FLV_RESPONSE;break;case"rotoscope":n=u.ROTOSCOPE_RESPONSE;break;case"vpaid js":n=u.VPAID_JS_RESPONSE}return n+t},x={prerequest:function(e,t){e.send(t,u.PRE_REQUEST)},request:function(e,t){e.send(t,u.REQUEST)},response:function(e,t,n){var r=u.RESPONSE_DATA_EMPTY,o=u.RESPONSE;t.type&&"success"===n?(r=t.type+";"+t.elementType,o=k(t.type,0)):(o=u.EMPTY_RESPONSE,r=u.RESPONSE_DATA_EMPTY,n&&(r=r+";"+n,"timeout"===n&&(o=u.EMPTY_RESPONSE_TIMEOUT))),e.send(t,o,r),t.internalAdId=null},capping:function(e,t,n){var r={breakLimit:u.EVENT_CAPPING_BREAK_LIMIT,sessionLimit:u.EVENT_CAPPING_SESSION,blacklist:u.EVENT_CAPPING_BLACKLIST,optimizedBlacklist:u.EVENT_CAPPING_BLACKLIST,transparency:u.EVENT_CAPPING_TRASPARENCY,cityRestriction:u.EVENT_CAPPING_NOT_MATCH_CITY,viewability:u.EVENT_CAPPING_VIEWABILITY,minFillRate:u.EVENT_CAPPING_MIN_FILLRATE},o=r[n.cappedReason]||u.EVENT_CAPPING_UNKNOWN;e.send(t,o,n.data)}},j={init:{networkEvent:u.AD_LOADED,networkEventData:{eventData:"Successful init"}},adimpression:{adTrigger:"impression",creativeTrigger:"creativeView",networkEvent:u.IMPRESSION,networkEventData:{},adViewLog:!0},advideostart:{creativeTrigger:"start",networkEvent:u.EVENT_AD_VIDEO_START,networkEventData:{}},adfirstquartile:{creativeTrigger:"firstQuartile",networkEvent:u.FIRST_QUARTILE,networkEventData:{},apiTrigger:"adfirstquartileApi"},admidpoint:{creativeTrigger:"midpoint",networkEvent:u.MIDPOINT,apiTrigger:"admidpointApi"},adthirdquartile:{creativeTrigger:"thirdQuartile",networkEvent:u.THIRD_QUARTILE,apiTrigger:"adthirdquartileApi"},adcomplete:{creativeTrigger:"complete",networkEvent:u.COMPLETE,apiTrigger:"adcompleteApi"},adpause:{creativeTrigger:"paused"},adresume:{creativeTrigger:"resume"},adclickthru:{creativeTrigger:"videoclick",networkEvent:u.INTERACTION_CLICK,isMulti:!0},soundbleepreported:{networkEvent:u.SOUND_BLEEP_REPORTED}},C=new l,S=v({base:y,defaults:{mraidDefaultTimeout:3e4,fraudClickInterval:30,undefinedNumValue:-1},init:function(){for(var e=this,l=e.options,h=l.adBreak,m=l.indexInBreak,v=h.adNetworkIds.join(":"),y=new s(l.capping,l.viewabilityObj),E=new u(l.networkEvents),S=new c(l.adViewLog),A=p.Deferred(),O=p.Deferred(),I=p.Deferred(),P=l.canAutoplay,D=function(e){var t="VPAID"===e.apiFramework,n="application/javascript"===e.type;return t&&n},N=function(e){var t="application/x-shockwave-flash"===e.type;return t},L=function(e){return"video/x-flv"===e.type},M=function(e){return"VPAID"===e.apiFramework},R=function(e){var n,r=e&&e[0],o=function(e){var t=[];if(e)for(var n=0;n<e.length;n++)if(void 0!==e[n].media)for(var r=0;r<e[n].media.length;r++){var o=e[n].media[r];o.creative=e[n],t.push(o)}return t},a=o(r.creatives),s=function(e){var n=p.Deferred(),o=w.canPlayFlash();if(i.log("HtmlAdWrapper: canPlayAds()/checkMedia()",e),e&&e.src&&e.type&&(D(e)||w.canPlayType(e.type)||o&&(N(e)||L(e)))){if(r.elementType=e.type,r.creatives[0]=e.creative,r.creatives[0].media[0]=e,D(e))r.type="vpaid js";else if(N(e))r.type="vpaid flash",r.isVpaid=M(e);else if(L(e))r.type="flv",r.isVpaid=!1;else if(i.log("HtmlAdWrapper: canPlayAds()/checkMedia() canAutoplay:",P()),!P())return E.send(r,u.BEFORE_ROTOSCOPE,"No Autoplay"),_(e.src,l.rotoscopeDefaultPrefixUrl).done(function(n){r.type="rotoscope",n.adParameters.clickThrough={url:e.creative.clickThroughUrl,id:e.creative.clickThroughUrl,playerHandles:!0},r.creatives[0].adParameters=JSON.stringify(n.adParameters),t={eventType:u.MOBILE_AD_PARAMS_INIT,data:"Param init successful"}}).fail(function(){var e=this;t={eventType:u.MOBILE_AD_ERROR_ON_LOAD,data:e.url}});n.resolve()}return n.reject(),n.promise()},c=p.Deferred(),d=0,f=function(){d+=1,n()},n=function(){var e=void 0!==a&&a.length>d?a[d]:void 0;e?s(e).done(c.resolve).fail(f):c.reject()},h=l.mediaTypeSortPreferences?l.mediaTypeSortPreferences:function(e,t){var n=function(e){var t=10;if(e.src&&e.type)switch(e.type){case"video/mp4":t=0;break;case"video/webm":t=1;break;case"video/x-flv":t=2;break;case"application/javascript":t=3;break;case"application/x-shockwave-flash":t=4;break;default:t=5}return t},r=n(e),o=n(t);return r-o};return i.log("HtmlAdWrapper: canPlayAds()"),a&&a.length>0&&a.sort(h),n(),c.promise()},F=function(){if(l.waterfallOptimizationRules&&l.waterfallOptimizationRules.length>0){var e=C.executeRules(h.adNetworkIds,l.adNetworks,l.waterfallOptimizationRules);i.log("adNetworkIds before and after optimization: ",h.adNetworkIds,e.adNetworkIds),h.adNetworkIds=e.adNetworkIds,l.adNetworks=e.adNetworks;var t=e.adNetworkIds.join(":");return v!==t&&(v="cr_"+t),e.adNetworks}return l.adNetworks},V=new a({adNetworks:F(),beforeSuccess:R,applyMacros:l.applyMacros,checkNetworkCapped:p.proxy(y.check,y),internalAdIdLength:l.internalAdIdLength,currentAdCounters:l.currentAdCounters,indexInBreak:m,product:h.product,prioritizedCampaignsCount:h.prioritizedCampaignsCount,isUseSherlokUrl:l.isUseSherlokUrl,isMobileEnv:l.isMobileEnv,sendPreRequestEvent:l.sendPreRequestEvent,numberOfTries:l.numberOfTries,adNetworksTryDictionary:e.adNetworksTryDictionary,viewabilityObj:e.options.viewabilityObj}),B={product:h.product,indexInBreak:m,adNetworksIdString:v},H=function(e,t){return"video"===e.type||"rotoscope"===e.type||t&&t.indexOf("los=0")>-1},U=function(t,a){var s,c,p=t[0],h=b(100),m=e.options.dynamicTimeoutSuccessEventPerc<=0?1:e.options.dynamicTimeoutSuccessEventPerc,v=m>h||!p.dynamicTimeout||!e.options.useDynamicTimeout?1e3*e.options.initStartMaxTimeInSec+10:1e3*p.dynamicTimeout,y=g(function(){w("Impression timeout"),E.send(p,u.EVENT_INIT_AD_TIMEOUT,p.type)},v),_=function(t){y(),m>h&&E.send(p,u.DYNAMIC_TIMEOUT_SUCCESS,p.type),e.unit=t,t.propagateEventsTo(e),a.resolve(),A.resolve(e)},w=function(t){c.off(),c.finish&&c.finish(),y(),E.send(p,u.ADVANCE_NETWORK,t),e.iframeFactory.returnAd({container:e.options.container,adIframe:c.options.friendlyIframe,ad:c}),a.reject()},T=function(e,t,n){var r="aderror";"fatal"===t&&(c.isShouldRemove=!0),n||(n=[u.EVENT_AD_ERROR_ON_INIT,p.type]),n&&2==n.length&&(E.send(p,n[0],n[1]),r=n[1]),w(r)},x=function(e,t){c.off("adimpression adretrieved",x),c.off("aderror",T),c.pause(),g(function(){I.resolve()},2e3),t&&"adretrieved"===e&&(p.encp=t),E.send(p,u.AD_READY,t),_(c)},P=function(){c.off("viewabilityrequest",P),e.options.viewabilityObj.isViewable()?e.options.viewabilityObj.checkViewabilityAllowed()?e.options.viewabilityObj.beaconAPI.viewableRequest().then(function(t){t===!0?c.viewabilityResponse():(E.send(p,u.EVENT_CAPPING_VIEWABILITY,-1===t?"2:ovv-exception":"2:ovv"),e.destroy())},function(){E.send(p,u.EVENT_CAPPING_VIEWABILITY,"2:ovv-timeout"),e.destroy()
}):c.viewabilityResponse():(E.send(p,u.EVENT_CAPPING_VIEWABILITY,"2:"+e.options.viewabilityObj.getViewabilityData()),e.destroy())};i.log("HtmlAdWrapper: bid() bidding succeeded"),i.log("[initAdUnit] - dynamicTimeoutEvPerc, dynamicTimeout, useDynamicTimeout, diceRoll =",m,v,e.options.useDynamicTimeout,h),e.recentClickInSec=0,r(t,function(e,t){o(t,B,{viewStartRequestUTC:new Date})}),e.setNetworkId(p.networkId),e.iframeFactory.buildAd(t,l).then(function(h){var m=function(){c.isShouldRemove=!0,"pending"===a.state()?w():e.unit?e.destroy():e.iframeFactory.returnAd({container:e.options.container,adIframe:c.options.friendlyIframe,ad:c})};return h?(c=h,s=p.creatives[0],p.on("beacon",function(e,t){f(t)}),c.honeyPotDomValidatorFailure&&c.honeyPotDomValidatorFailure.then(function(e){var t=e.validatorName,n=-1!==l.blockingDomValidators.indexOf(t),o=";;",i=function(){var n=[t];return r(e.validation.info,function(e,t){n.push(e+":"+t)}),n.join(o)},a=[],s=u.HONEYPOT_DETECTION_DOM_VENDOR;n&&a.unshift("snap internalAdId:"+c.internalAdId),E.send(p,s,{eventData:i(),internalAdId:a.join(o)})}),c.domValidationFailure.then(function(e){var t=e.validatorName,n=-1!==l.blockingDomValidators.indexOf(t),o=function(){var o=";;",i={type:"static",addedNodes:[],removedNodes:[],target:e.node},a=e.mutation||i,s=e.node,l=u.INVALID_DOM_VENDOR,d=c.options.friendlyIframe,f=function(){return s.ownerDocument!==d.contentDocument},h=function(){var n=[t];return r(e.validation.info,function(e,t){n.push(e+":"+t)}),n.join(o)},m=function(){var e="";try{s.contentDocument&&(e="contentDocument:"+s.contentDocument.documentElement.innerHTML)}catch(t){}return e},v=m(),g=function(e,t){if(t instanceof RegExp)return t.toString();if(t===a)return{type:a.type,addedNodesLength:a.addedNodes.length,removedNodes:a.removedNodes.length,attributeName:a.attributeName,oldValue:a.oldValue};if(t!==s)return t},y=function(){var t;try{t=JSON.stringify(e,g)}catch(n){}return t},b=["in nested iframe: "+f(),"validation data:"+y(),"html:"+s.outerHTML,v];n&&(b.unshift("snap internalAdId:"+c.internalAdId),l=u.BLOCK_INVALID_DOM_VENDOR),E.send(p,l,{eventData:h(),internalAdId:b.join(o)})};i.log("HtmlAdWrapper: initAdUnit() validation failed",e),n&&m(),o()}),c.on("networkevent",function(e,t,n){E.send(p,t,n)}),c.one("errorAdTimeout",function(){E.send(p,u.AD_LIMIT_DURATION_EXCEEDED,p.type)}),j.adimpression.networkEventData.eventData=c.type,r(j,function(t,i){var a=c.one;i.isMulti&&(a=c.on),a.apply(c,[t,function(t,a){var h,m,v="",g="-||-";if(i.adTrigger&&p.trigger(i.adTrigger),i.creativeTrigger&&s.trigger(i.creativeTrigger),i.networkEvent){if(m=o({},!0,i.networkEventData),a&&(h=a.split(";adId:"),h.length>1?(p.internalAdId=h[1],m.internalAdId=p.internalAdId,m.eventData=h[0]):m.eventData=h[0]),"adfirstquartile"===t&&(c.getResources&&(v=c.getResources()),m.internalAdId=m.internalAdId?v+g+m.internalAdId:v),"adclickthru"===t)if(e.recentClickWas)i.networkEvent=u.EVENT_INTERACTION_CLICK_FRAUD;else{var y=new d(l.redirectionEvent);e.recentClickWas=!0,y.send(p,c.url),s.clickThroughUrl&&(s.clickThroughUrl=l.applyMacros(s.clickThroughUrl),n.open(s.clickThroughUrl)),e.trigger("adclickbeacon")}"soundbleepreported"===t||"init"===t?E.send(p,i.networkEvent,i.networkEventData):O.then(function(){if("impression"===i.adTrigger)m.internalAdId=c.internalAdId?c.internalAdId:"",E.send(p,k(p.type,10),m),r(p.impressionBeaconUrls,function(e,t){t=l.applyMacros(t),f(t)});else{var t=E.send(p,i.networkEvent,m);t&&t.done(function(){i.apiTrigger&&e.trigger(i.apiTrigger)})}})}"impression"===i.adTrigger&&(O.then(function(){S.send(p)}),E.send(p,u.ADVANCE_NETWORK,p.type))}])}),c.one("initVpaidTracking",function(e,t){l.moat&&l.moat.initVpaidTracking(t,p.product+"-"+p.indexInBreak,p.networkId)}),c.on("adevent",function(e,t){l.moat&&l.moat.vpaidEvent(t)}),p.requireViewability&&c.one("viewabilityrequest",P),H(c,p.url)?c.one("init adretrieved",function(e,t){I.resolve(),c.off("aderror",T),t&&"adretrieved"===e&&(p.encp=t),E.send(p,u.AD_READY,t),_(c)}):(c.one("init",function(){c.play()}),c.on("adimpression adretrieved",x)),e.networkEvents=E,c.on("aderror",T),c.one("adstart advideostart aderror",function(){C.reportStats(arguments[0],p.networkId)}),c.init(t,e.options.useDynamicTimeout?v:e.defaults.undefinedNumValue),c):(A.reject(e),void 0)})},W=0;W<T.length;W++)V.on(T[W],function(e,t,n){E.send(t,u[e],n)});return V.on("success",function(e,t,n){U(t,n)}),V.on("failure",function(){A.reject(e)}),V.on("prerequest request response capping",function(e,n,r){o(n,B),x[e].call(null,E,n,r),t&&(E.send(n,t.eventType,t.data),t=null)}),V.on("transfer",function(e,t){E.send(t,u.TRANSFER_NETWORK)}),e.sendImpressionDeferred=O,e.playPauseDeffered=I,A.notify("start"),V.start(),A.promise()},removeAdContainer:function(){var e=this,t=e.options,n=t.container,r=e.wasRemoved,o=e.unit,i=o&&o.options.friendlyIframe,a=e.iframeFactory;!r&&o&&(e.wasRemoved=!0,o.cancelPropagate(),a.returnAd({container:n,adIframe:i,ad:o}))},show:function(){var e=this,t=e.unit,n=t&&t.options.friendlyIframe,r=n&&n.parentNode;r&&(m(r),r.style.width="100%",r.style.height="100%",r.style.position="absolute"),t&&t.show&&t.show()},hide:function(){var e=this,t=e.unit,n=t&&t.options.friendlyIframe,r=n&&n.parentNode;r&&h(r),t&&t.hide&&t.hide()},play:function(){var e=this,t=e.unit,n=e.sendImpressionDeferred,r=e.playPauseDeffered,o=e.networkEvents;return t&&r.then(function(){e.adDurationTimeOut=g(function(){t.trigger("errorAdTimeout"),e.destroy()},t.getAdMaxDuration()||e.iframeFactory.getAdDurationDefaultMaxTime()),t.play(),o.send(t.ad,u.AD_PLAY),n.resolve()}),e.base.prototype.play.apply(e,arguments)},pause:function(){var e=this,t=e.unit;t&&t.pause()},paused:function(){var e=this,t=e.unit;return t.paused()},destroy:function(){var e=this,t=e.unit,n=t&&t.videoElement,r=e.videoSoundTimer,o=e.adDurationTimeOut,i=e.playPauseDeffered;return i&&i.reject(),o&&o(),t&&(e.hide(),e.removeAdContainer(),t.destroy(),t.off(),e.unit=null),n&&(p(n).off(),p(n).removeClass("hrmvol")),r&&r(),e.base.prototype.destroy.apply(e,arguments)}});return S}),n("bidding/HtmlAdBreak",["require","util/each","bidding/AdBreakBase","bidding/HtmlAdWrapper","util/createPrototype","util/extend"],function(e){var t=e("util/each"),n=e("bidding/AdBreakBase"),r=e("bidding/HtmlAdWrapper"),o=e("util/createPrototype"),i=e("util/extend"),a=o({base:n,show:function(){var e=this,n=e.ads;t(n,function(e,t){t.show()})},hide:function(){var e=this,n=e.ads;t(n,function(e,t){t.hide()})},createAd:function(e,t){return e=i(e,{currentAdCounters:e.adCounters.getCounters()}),e.adCounters.incAdUnitIndex(),new r(e,t)},canAutoplay:function(){var e=this,t=e.ads,n=t[0],r=n.unit;return r.canAutoplay}});return a}),n("player/ui/OverlayButton",["require","core/console","core/Event","util/extend","dom/$","util/cssDimension","util/createPrototype","dom/addEvent","dom/createElement"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),o=e("dom/$"),i=e("util/cssDimension"),a=e("util/createPrototype"),s=(e("dom/addEvent"),e("dom/createElement")),l=a({base:n,defaults:{overlayImage:"https://hrsecsynd-a.akamaihd.net/Assets/new_play.png",imageWidth:48,imageHeight:48},constructor:function(e){var n=this;t.log("OverlayButton: OverlayButton()",arguments),n.options=r(!0,{},n.defaults,e)},init:function(){var e,n,r=this,a=r.options,l="display:none;position: relative;top: 0px;color: #FFF;text-align: center;font-size: 28px;background: rgba(51,51,51,0.75);font-weight: bolder;font-family: arial;z-index: 2147483647; padding-top: 130px;",u="display:none;position: relative;top: 0px;color: #FFF;text-align: center;font-size: 28px;background: rgba(51,51,51,0.75);font-weight: bolder;font-family: arial;z-index: 2147483647; padding-top: 35px;",c=a.isDisableNewLook?l:u;t.log("OverlayButton: init()",arguments),e=s("img",{src:r.options.overlayImage}),n=s("div",{style:c}),r.divElement=n,n.style.width=i(r.options.width),n.style.height=i(r.options.height),e.style.width=i(r.options.imageWidth),e.style.height=i(r.options.imageHeight),o(n).append("Watch The<br /> Full Video<br />").append(e),r.muteButtonElement=e,o(r.options.container).prepend(n),o(n).on("click",function(){r.trigger("updateSrc"),r.destroy()})},destroy:function(){var e=this;t.log("OverlayButton: destroy()",arguments),o(e.divElement).remove()},hide:function(){var e=this;t.log("OverlayButton: hide()",arguments),o(e.divElement).hide()},show:function(){var e=this;t.log("OverlayButton: show()",arguments),o(e.divElement).show(),e.isShow=!0},isShouldShow:function(){var e=this,t=e.isShow;return t}});return l}),n("util/proxyMethods",["require","util/each"],function(e){var t=e("util/each"),n=function(e,n){var r=n.from,o=n.to,i=n.additionalHandlers||[];t(e,function(e,t){o[t]=function(){r[t]&&(r[t].apply(r,arguments),i[t]&&i[t].apply(o,arguments))}})};return n}),function(){n("player/HiroVideoPlayer",["require","util/each","dom/createElement","dom/$","dom/getElement","core/console","core/Event","dom/generateTimeout","dom/minimizeElement","dom/expandElement","player/ui/OverlayButton","util/cssDimension","util/proxyMethods"],function(e){var t=(e("util/each"),e("dom/createElement"),e("dom/$")),n=(e("dom/getElement"),e("core/console")),r=e("core/Event"),o=e("dom/generateTimeout"),i=e("dom/minimizeElement"),a=e("dom/expandElement"),s=e("player/ui/OverlayButton"),l=e("util/cssDimension"),u=e("util/proxyMethods"),c=function(e,r,i,a,l){var c=this,d=t.Deferred(),p=["stop","volume","currentTime","duration","paused"],f=e.indexOf("_sv.mp4"),h=function(e){c.started&&c.trigger("click",e)};n.log("HiroVideoPlayer: HiroVideoPlayer()",arguments,c),c.config=a,c.player=r,c.atEndDeferred=t.Deferred(),c.playStartedDefered=t.Deferred(),c.videoContainer=i,c.source=e,c.started=!1,c.apiEvents=l,u(p,{from:c.player,to:c}),-1!==f&&(c.overlay=new s({width:a.width,height:a.isDisableNewLook?a.height:169,container:r.el(),isDisableNewLook:a.isDisableNewLook}),c.overlay.init(),c.overlay.on("updateSrc",function(){c.player.src(e.substring(0,f)+"_extended.mp4"),c.trigger("overlay_clicked")}),c.playStartedDefered.then(function(){o(function(){c.at(-3).then(function(){c.player.off("click",h),c.overlay.show()})},1e3)})),c.player.on("ended",function(){c.started&&(c.apiEvents&&c.apiEvents.trigger("moviecomplete"),c.overlay&&c.overlay.destroy(),c.atEndDeferred.resolve())}),c.player.on("click",h),c.player.on("touchend",function(e){c.player.currentTime()&&!c.player.paused()&&c.trigger("touchend",e)}),c.player.on("error",function(){c.trigger("error")}),c.player.on("play",function(){c.trigger("play")}),c.player.on("playing",function(){c.trigger("playing")}),c.player.on("pause",function(){c.trigger("pause")}),c.trigger("init"),c.whenLoaded=d.resolve()};return c.prototype=new r,c.constructor=c,c.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.timeout(),e.timeout=null)},c.prototype.at=function(e,r){var o=this,i=t.Deferred();return n.log("HiroVideoPlayer: adding at",e),o.playStartedDefered.then(function(){var t=function(t){if(o.started){var n="ended"===t.type,r=o.player.duration(),a=r&&r>2;/^\d+%$/.test(e)&&a&&(e=parseFloat(e.replace("%",""))/100,e*=o.player.duration()),0>e&&a&&(e+=r,0>e&&(e=0)),!isNaN(e)&&(e<=o.player.currentTime()&&a||n)&&i.resolve()}};o.player.on("timeupdate",t),r?o.player.on("ended",i.reject):o.player.on("ended",t)}),i.promise()},c.prototype.atEnd=function(){var e=this,t=e.atEndDeferred;return t.promise()},c.prototype.play=function(e){var r=this,o=r.whenLoaded,i=t.Deferred();return o.then(function(){var t=r.player,o=r.source,a=r.apiEvents;r.started||(t.on("loadstart",function(){r.started=!0,r.playStartedDefered.resolve()}),t.src(o),t.load(),t.volume(r.config.scale_start),r.currentVolume=r.config.scale_start,t.on("volumechange",function(){var e=t.muted()?0:t.volume();a&&(0===e?a.trigger("mute",{status:!0}):0===r.currentVolume&&a.trigger("mute",{status:!1})),r.currentVolume=e}),t.one("playing",function(){i.resolve(),a&&(a.trigger("moviestart",{adBreakType:"video",countImpressionInBreak:1,cms:r.config.cms_co}),a.trigger("movieview",{url:o}))}),t.on("error",function(){var e=t.error();r.wasfirstError?e?i.reject(e.message):i.reject():(r.wasfirstError=!0,t.src(o),t.load(),t.play())})),n.log("HiroVideoPlayer: play()"),e&&t.currentTime(e),t.play()}),i.promise()},c.prototype.pause=function(){var e=this,r=e.whenLoaded,o=t.Deferred();return e.apiEvents,r.then(function(){var t=e.player,r=e.atEndDeferred;n.log("HiroVideoPlayer: pause()"),"resolved"===r.state()?o.reject():(t.pause(),o.resolve(),e.isPaused=!0)}),o.promise()},c.prototype.resume=function(){var e=this,r=e.whenLoaded,o=t.Deferred();return e.apiEvents,r.then(function(){var t=e.player;n.log("HiroVideoPlayer: resume()"),e.isPaused&&(t.play(),e.isPaused=!1),o.resolve()}),o.promise()},c.prototype.hide=function(){var e=this,t=e.videoContainer,r=e.overlay;n.log("HiroVideoPlayer: hide()"),r&&r.hide(),i(t)},c.prototype.currentSrc=function(){var e=this,t=e.player;return n.log("HiroVideoPlayer: currentSrc()"),t.currentSrc()},c.prototype.getBoundingClientRect=function(){var e=this,t=e.player;return n.log("HiroVideoPlayer: getBoundingClientRect()"),t.el().getBoundingClientRect()},c.prototype.show=function(){var e=this,t=e.whenLoaded;t.then(function(){var t=e.videoContainer,r=e.config,o=e.overlay;n.log("HiroVideoPlayer: show()"),a(t),t.style.display="",t.style.width=l(r.width),t.style.height=l(r.height),o&&o.isShouldShow()&&o.show()})},c})}(this),n("lodash/_baseFind",[],function(){function e(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}return e}),n("lodash/_baseFindIndex",[],function(){function e(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}return e}),n("lodash/find",["./_baseEach","./_baseFind","./_baseFindIndex","./_baseIteratee","./isArray"],function(e,t,n,r,o){function i(i,s){if(s=r(s,3),o(i)){var l=n(i,s);return l>-1?i[l]:a}return t(i,s,e)}var a;return i}),n("lodash/_baseDelay",[],function(){function e(e,r,o){if("function"!=typeof e)throw new TypeError(n);return setTimeout(function(){e.apply(t,o)},r)}var t,n="Expected a function";return e}),n("lodash/defer",["./_baseDelay","./rest"],function(e,t){var n=t(function(t,n){return e(t,1,n)});return n}),n("bidding/HtmlVideoAd",["require","core/console","core/Event","core/root","util/extend","util/each","dom/$","player/HiroVideoPlayer","util/createPrototype"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("core/root"),o=e("util/extend"),i=e("util/each"),a=e("dom/$"),s=e("player/HiroVideoPlayer"),l=e("util/createPrototype"),u=40,c=l({base:n,constructor:function(e,n){var r=this,l=e.creatives[0],u=function(e){var t=[];return a.isArray(e)||(e=[e]),i(e,function(e,n){var r={};n&&("string"==typeof n?r.src=n:(r.src=n.src||n.url,n.type&&(r.type=n.type)),t.push(r))}),t},c=u(l.media);r.sources=c,r.player=new s(r.sources,n.videoPlayer,n.adVideoWrapper,n),t.log("HtmlVideoAd: HtmlVideoAd()",arguments),r.options=o(!0,{},r.defaults,n),r.type="video",r.ad=e},init:function(){var e=this,n=(e.options,e.player),o={0:"advideostart",25:"adfirstquartile",50:"admidpoint",75:"adthirdquartile",100:"adcomplete"},a={click:function(t,r){var o=n.getBoundingClientRect(),i=r.clientY,a=i-o.top;a<o.height-u&&e.trigger("adclickthru")},touchend:function(){e.trigger("adclickthru")},pause:function(){e.trigger("adpause")},play:function(){e.trigger("adresume")},playing:function(){e.trigger("adimpression"),e.trigger("playing")},error:function(){e.trigger("aderror")}};t.log("HtmlVideoAd: init()",arguments),i(o,function(t,r){n.at(t+"%").then(function(){e.trigger(r)})}),e.on("adcomplete",function(){r.setTimeout(function(){e.trigger("adstopped")},0)}),i(a,function(e,t){n.on(e,t)}),e.removeEventHandlers=function(){i(a,function(e,t){n.off(e,t)})},e.trigger("init")},destroy:function(){var e=this,n=e.isShown;t.log("HtmlVideoAd: destroy()",arguments),e.removeEventHandlers(),n&&e.hide()},play:function(e){var t=this,n=t.player;t.options,n.play(e)},getAdMaxDuration:function(){var e=this,t=e.options;return e.ad.maxDuration>=t.adDurationMinTime?1e3*e.ad.maxDuration:t.adDurationDefaultMaxTime},pause:function(){var e=this,t=e.player;t.pause()},paused:function(){var e=this,t=e.player;return t.paused()},show:function(){var e=this,t=e.player;t.show(),e.isShown=!0},hide:function(){var e=this,t=e.player;t.hide(),e.isShown=!1},getResources:function(){var e=this,t=e.player;return t.currentSrc()}});return c}),function(){n("util/versionCompare",[],function(){var e=function(e,t){var n,r,o=String(e).split("."),i=t.split("."),a=0,s=Math.max(o.length,i.length);for(s=Math.min(3,s),e&&t||(s=0),a=0;s>a;a+=1){if(n=parseInt(o[a],10)||0,r=parseInt(i[a],10)||0,r>n)return!0;if(n>r)return!1;if(a===s-1&&n===r)return!0}return!1};return e})}(this),n("rotoscope/player/createHtmlLayout",["require"],function(){var e={normal:'<canvas style="display:none;" width="{width}px" height="{height}px"></canvas>',thumbnail:void 0,fullscreen:void 0},t=function(t){var n=e[t.viewMode]||e.normal;if(!n)throw"The {viewMode} is not supported.".replace("{viewMode}",t.viewMode);return n.replace("{width}",t.width).replace("{height}",t.height)};return t}),n("rotoscope/player/Event",["require"],function(){var e={CLICK:"click",PLAY:"play",PAUSE:"pause"};return e}),function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof n&&n.amd)n("lib/q/q",e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var t="undefined"!=typeof window?window:self,r=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=r,this}}}(function(){function e(e){return function(){return K.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===nt(e)||e instanceof q}function r(e,t){if(H&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(rt)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+rt+"\n");e.stack=o(i)}}function o(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var o=t[r];s(o)||i(o)||!o||n.push(o)}return n.join("\n")}function i(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function a(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function s(e){var t=a(e);if(!t)return!1;var n=t[0],r=t[1];return n===W&&r>=$&&lt>=r}function l(){if(H)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=a(n);if(!r)return;return W=r[0],r[1]}}function u(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function c(e){return e instanceof h?e:y(e)?C(e):j(e)}function d(){function e(e){t=e,i.source=e,X(n,function(t,n){c.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],o=Z(d.prototype),i=Z(h.prototype);if(i.promiseDispatch=function(e,o,i){var a=Y(arguments);n?(n.push(a),"when"===o&&i[1]&&r.push(i[1])):c.nextTick(function(){t.promiseDispatch.apply(t,a)})},i.valueOf=function(){if(n)return i;var e=v(t);return g(e)&&(t=e),e},i.inspect=function(){return t?t.inspect():{state:"pending"}},c.longStackSupport&&H)try{throw new Error}catch(a){i.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(n){t||e(c(n))},o.fulfill=function(n){t||e(j(n))},o.reject=function(n){t||e(x(n))},o.notify=function(e){t||X(r,function(t,n){c.nextTick(function(){n(e)})},void 0)},o}function p(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=d();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function f(e){return p(function(t,n){for(var r=0,o=e.length;o>r;r++)c(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return x(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(h.prototype);if(r.promiseDispatch=function(n,o,i){var a;try{a=e[o]?e[o].apply(r,i):t.call(r,o,i)}catch(s){a=x(s)}n&&n(a)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function m(e,t,n,r){return c(e).then(t,n,r)}function v(e){if(g(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function g(e){return e instanceof h}function y(e){return t(e)&&"function"==typeof e.then}function b(e){return g(e)&&"pending"===e.inspect().state}function _(e){return!g(e)||"fulfilled"===e.inspect().state}function w(e){return g(e)&&"rejected"===e.inspect().state}function E(){ot.length=0,it.length=0,st||(st=!0)}function T(e,t){st&&("object"==typeof process&&"function"==typeof process.emit&&c.nextTick.runAfter(function(){-1!==Q(it,e)&&(process.emit("unhandledRejection",t,e),at.push(e))}),it.push(e),t&&"undefined"!=typeof t.stack?ot.push(t.stack):ot.push("(no stack) "+t))}function k(e){if(st){var t=Q(it,e);-1!==t&&("object"==typeof process&&"function"==typeof process.emit&&c.nextTick.runAfter(function(){var n=Q(at,e);-1!==n&&(process.emit("rejectionHandled",ot[t],e),at.splice(n,1))}),it.splice(t,1),ot.splice(t,1))}}function x(e){var t=h({when:function(t){return t&&k(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return T(t,e),t}function j(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return tt(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=d();return c.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function S(e){return h({isDef:function(){}},function(t,n){return N(e,t,n)},function(){return c(e).inspect()})}function A(e,t,n){return c(e).spread(t,n)}function O(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=r[e](t)}catch(s){return x(s)}return a.done?c(a.value):m(a.value,o,i)}try{a=r[e](t)}catch(s){return n(s)?c(s.value):x(s)}return m(a,o,i)}var r=e.apply(this,arguments),o=t.bind(t,"next"),i=t.bind(t,"throw");return o()}}function I(e){c.done(c.async(e)())}function P(e){throw new q(e)}function D(e){return function(){return A([this,L(arguments)],function(t,n){return e.apply(t,n)})}}function N(e,t,n){return c(e).dispatch(t,n)}function L(e){return m(e,function(e){var t=0,n=d();return X(e,function(r,o,i){var a;g(o)&&"fulfilled"===(a=o.inspect()).state?e[i]=a.value:(++t,m(o,function(r){e[i]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:i,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function M(e){if(0===e.length)return c.resolve();var t=c.defer(),n=0;return X(e,function(r,o,i){function a(e){t.resolve(e)}function s(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(e){t.notify({index:i,value:e})}var u=e[i];n++,m(u,a,s,l)},void 0),t.promise}function R(e){return m(e,function(e){return e=J(e,c),m(L(J(e,function(e){return m(e,z,z)})),function(){return e})})}function F(e){return c(e).allSettled()}function V(e,t){return c(e).then(void 0,void 0,t)}function B(e,t){return c(e).nodeify(t)}var H=!1;try{throw new Error}catch(U){H=!!U.stack}var W,q,$=l(),z=function(){},G=function(){function e(){for(var e,r;n.next;)n=n.next,e=n.task,n.task=void 0,r=n.domain,r&&(n.domain=void 0,r.enter()),t(e,r);for(;s.length;)e=s.pop(),t(e);o=!1}function t(t,n){try{t()}catch(r){if(a)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var n={task:void 0,next:null},r=n,o=!1,i=void 0,a=!1,s=[];if(G=function(e){r=r.next={task:e,domain:a&&process.domain,next:null},o||(o=!0,i())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)a=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){i=u,l.port1.onmessage=e,e()};var u=function(){l.port2.postMessage(0)};i=function(){setTimeout(e,0),u()}}else i=function(){setTimeout(e,0)};return G.runAfter=function(e){s.push(e),o||(o=!0,i())},G}(),K=Function.call,Y=e(Array.prototype.slice),X=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),Q=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=e(Array.prototype.map||function(e,t){var n=this,r=[];return X(n,function(o,i,a){r.push(e.call(t,i,a,n))},void 0),r}),Z=Object.create||function(e){function t(){}return t.prototype=e,new t},et=e(Object.prototype.hasOwnProperty),tt=Object.keys||function(e){var t=[];for(var n in e)et(e,n)&&t.push(n);return t},nt=e(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var rt="From previous event:";c.resolve=c,c.nextTick=G,c.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(c.longStackSupport=!0),c.defer=d,d.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(Y(arguments,1)):e.resolve(n)}},c.Promise=p,c.promise=p,p.race=f,p.all=L,p.reject=x,p.resolve=c,c.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},c.join=function(e,t){return c(e).join(t)},h.prototype.join=function(e){return c([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},c.race=f,h.prototype.race=function(){return this.then(c.race)},c.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function o(t){try{return"function"==typeof e?e(t):t}catch(n){return x(n)}}function i(e){if("function"==typeof t){r(e,s);try{return t(e)}catch(n){return x(n)}}return x(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,l=d(),u=!1;return c.nextTick(function(){s.promiseDispatch(function(e){u||(u=!0,l.resolve(o(e)))},"when",[function(e){u||(u=!0,l.resolve(i(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!c.onerror)throw r;c.onerror(r)}n||l.notify(t)}]),l.promise},c.tap=function(e,t){return c(e).tap(t)},h.prototype.tap=function(e){return e=c(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},c.when=m,h.prototype.thenResolve=function(e){return this.then(function(){return e})},c.thenResolve=function(e,t){return c(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},c.thenReject=function(e,t){return c(e).thenReject(t)},c.nearer=v,c.isPromise=g,c.isPromiseAlike=y,c.isPending=b,h.prototype.isPending=function(){return"pending"===this.inspect().state},c.isFulfilled=_,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},c.isRejected=w,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ot=[],it=[],at=[],st=!0;c.resetUnhandledRejections=E,c.getUnhandledReasons=function(){return ot.slice()},c.stopUnhandledRejectionTracking=function(){E(),st=!1},E(),c.reject=x,c.fulfill=j,c.master=S,c.spread=A,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},c.async=O,c.spawn=I,c["return"]=P,c.promised=D,c.dispatch=N,h.prototype.dispatch=function(e,t){var n=this,r=d();return c.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},c.get=function(e,t){return c(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},c.set=function(e,t,n){return c(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},c.del=c["delete"]=function(e,t){return c(e).dispatch("delete",[t])},h.prototype.del=h.prototype["delete"]=function(e){return this.dispatch("delete",[e])},c.mapply=c.post=function(e,t,n){return c(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},c.send=c.mcall=c.invoke=function(e,t){return c(e).dispatch("post",[t,Y(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,Y(arguments,1)])},c.fapply=function(e,t){return c(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},c["try"]=c.fcall=function(e){return c(e).dispatch("apply",[void 0,Y(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,Y(arguments)])},c.fbind=function(e){var t=c(e),n=Y(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Y(arguments))])}},h.prototype.fbind=function(){var e=this,t=Y(arguments);return function(){return e.dispatch("apply",[this,t.concat(Y(arguments))])}},c.keys=function(e){return c(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},c.all=L,h.prototype.all=function(){return L(this)},c.any=M,h.prototype.any=function(){return M(this)},c.allResolved=u(R,"allResolved","allSettled"),h.prototype.allResolved=function(){return R(this)},c.allSettled=F,h.prototype.allSettled=function(){return this.then(function(e){return L(J(e,function(e){function t(){return e.inspect()}return e=c(e),e.then(t,t)}))})},c.fail=c["catch"]=function(e,t){return c(e).then(void 0,t)},h.prototype.fail=h.prototype["catch"]=function(e){return this.then(void 0,e)},c.progress=V,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},c.fin=c["finally"]=function(e,t){return c(e)["finally"](t)},h.prototype.fin=h.prototype["finally"]=function(e){return e=c(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},c.done=function(e,t,n,r){return c(e).done(t,n,r)},h.prototype.done=function(e,t,n){var o=function(e){c.nextTick(function(){if(r(e,i),!c.onerror)throw e;c.onerror(e)})},i=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),i.then(void 0,o)},c.timeout=function(e,t,n){return c(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=d(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},c.delay=function(e,t){return void 0===t&&(t=e,e=void 0),c(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=d();return setTimeout(function(){n.resolve(t)},e),n.promise})},c.nfapply=function(e,t){return c(e).nfapply(t)},h.prototype.nfapply=function(e){var t=d(),n=Y(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},c.nfcall=function(e){var t=Y(arguments,1);return c(e).nfapply(t)},h.prototype.nfcall=function(){var e=Y(arguments),t=d();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},c.nfbind=c.denodeify=function(e){var t=Y(arguments,1);return function(){var n=t.concat(Y(arguments)),r=d();return n.push(r.makeNodeResolver()),c(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=Y(arguments);return e.unshift(this),c.denodeify.apply(void 0,e)},c.nbind=function(e,t){var n=Y(arguments,2);return function(){function r(){return e.apply(t,arguments)}var o=n.concat(Y(arguments)),i=d();return o.push(i.makeNodeResolver()),c(r).fapply(o).fail(i.reject),i.promise
}},h.prototype.nbind=function(){var e=Y(arguments,0);return e.unshift(this),c.nbind.apply(void 0,e)},c.nmapply=c.npost=function(e,t,n){return c(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=Y(t||[]),r=d();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},c.nsend=c.nmcall=c.ninvoke=function(e,t){var n=Y(arguments,2),r=d();return n.push(r.makeNodeResolver()),c(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=Y(arguments,1),n=d();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},c.nodeify=B,h.prototype.nodeify=function(e){return e?(this.then(function(t){c.nextTick(function(){e(null,t)})},function(t){c.nextTick(function(){e(t)})}),void 0):this},c.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var lt=l();return c}),n("rotoscope/player/FrameRotoscope",["require"],function(){var e=function(e,t,n,r){this.mImage=e,this.mWidth=n,this.mHeight=r,this.mX=0,this.mY=t*r};return e}),n("rotoscope/player/FrameModel",["require","lib/q/q","rotoscope/player/FrameRotoscope"],function(e){var t=e("lib/q/q"),n=e("rotoscope/player/FrameRotoscope"),r=function(e,t){this._mSourceList=e,this._mNumOfImagesToLoad=e.length,this._mNumOfLoadedImages=0,this._mLoadedImgList=[],this._mIsCompleted=!1,this._mDeferred=void 0,this._mFrameWidth=t.frameWidth,this._mFrameHeight=t.frameHeight,this._mNumberOfFrames=0};return r.A_HUNDRED=100,r.prototype.loadFrames=function(){var e,n;for(this._mDeferred=t.defer(),this._mIsCompleted=!1,this._mNumOfLoadedImages=0,e=0;e<this._mNumOfImagesToLoad;e++)n=new Image,n.onload=this._onLoad.bind(this,e),n.onerror=this._onError.bind(this),n.src=this._mSourceList[e];return this._checkProgress(),this._mDeferred.promise},r.prototype.getNumOfFrames=function(){return this._mNumberOfFrames},r.prototype.getFrame=function(e){var t=Math.ceil(this._mNumberOfFrames/this._mNumOfLoadedImages),r=Math.floor(e/t),o=e-t*r;return new n(this._mLoadedImgList[r],o,this._mFrameWidth,this._mFrameHeight)},r.prototype._onLoad=function(e,t){var n=t.target;this._mIsCompleted||(this._mNumOfLoadedImages++,this._mLoadedImgList[e]=n,this._mNumberOfFrames+=n.height/this._mFrameHeight,this._checkProgress())},r.prototype._onError=function(){this._mIsCompleted||(this._mIsCompleted=!0,this._mDeferred.reject(new Error("Failed to load frames.")))},r.prototype._checkProgress=function(){var e=Math.ceil(this._mNumOfLoadedImages/this._mNumOfImagesToLoad*r.A_HUNDRED);this._mDeferred.notify(e),this._mNumOfImagesToLoad!=this._mNumOfLoadedImages||this._mIsCompleted||(this._mIsCompleted=!0,this._mDeferred.resolve(this._mLoadedImgList))},r}),n("rotoscope/player/Player",["require","lib/q/q","rotoscope/player/Event"],function(e){var t=e("lib/q/q"),n=e("rotoscope/player/Event"),r=function(e,t,o){this._mView=e,this._mFrameModel=t,this._mEventEmitter=o,this._mFPS=r.DEFAULT_FPS,this._mCurrentFrame=0,this._mAnimationrequestId=0,this._mStartTime=0,this._mPlayDeferred=void 0,this._mCachedCurrentFrameIndex=void 0,this._mTotalDuration=0,this._mCachedProgress=-1,this._mEventEmitter.addListener(n.PLAY,this.resume.bind(this)),this._mEventEmitter.addListener(n.PAUSE,this.pause.bind(this))};return r.DEFAULT_FPS=10,r.A_THOUSAND=1e3,r.A_HUNDRED=100,r.prototype.init=function(e){return this._mFPS=e&&e.fps||r.DEFAULT_FPS,this._mFrameModel.loadFrames().then(this._computeTotalDuration.bind(this))},r.prototype.play=function(){return this._mPlayDeferred=t.defer(),this._mCurrentFrame=0,this._startLoop(),this._mView.show(),this._mPlayDeferred.promise},r.prototype.stop=function(){this._stopLoop(),this._mPlayDeferred&&this._mPlayDeferred.resolve()},r.prototype.pause=function(){this._stopLoop()},r.prototype.resume=function(){this._startLoop()},r.prototype.getTotalDuration=function(){return this._mTotalDuration},r.prototype.getRemainingTime=function(){var e=this._mCurrentFrame/this._mFPS,t=this.getTotalDuration()-e;return Math.max(0,t)},r.prototype.getCurrentPlayingTime=function(){var e=this._mCurrentFrame/this._mFPS;return e},r.prototype._computeTotalDuration=function(){this._mTotalDuration=this._mFrameModel.getNumOfFrames()/this._mFPS},r.prototype._stopLoop=function(){cancelAnimationFrame(this._mAnimationrequestId)},r.prototype._startLoop=function(){this._mStartTime=window.performance.now(),this._mAnimationrequestId=requestAnimationFrame(this._render.bind(this))},r.prototype._render=function(){var e,t=window.performance.now(),n=(t-this._mStartTime)/r.A_THOUSAND;return this._mCurrentFrame+=n*this._mFPS,e=Math.floor(this._mCurrentFrame),this._notifyProgress(e),e>=this._mFrameModel.getNumOfFrames()?(this.stop(),void 0):(e>=0&&e!==this._mCachedCurrentFrameIndex&&(this._mCachedCurrentFrameIndex=e,this._mView.render(this._mFrameModel.getFrame(e))),this._mAnimationrequestId=requestAnimationFrame(this._render.bind(this)),this._mStartTime=t,void 0)},r.prototype._notifyProgress=function(e){for(var t=Math.floor(e/this._mFrameModel.getNumOfFrames()*r.A_HUNDRED);t>this._mCachedProgress;)this._mCachedProgress+=1,this._mPlayDeferred.notify(this._mCachedProgress)},r}),n("rotoscope/player/View",["require","rotoscope/player/Event"],function(e){var t=e("rotoscope/player/Event"),n=function(e,t){this._mCanvas=e.querySelector("canvas"),this._m2dContext=this._mCanvas.getContext("2d"),this._mEventEmitter=t,this._initEventListeners()};return n.prototype.render=function(e){var t=e.mWidth/e.mHeight,n=0,r=0,o=this._mCanvas.width,i=this._mCanvas.height;t>o/i?(i=o/t,r=(this._mCanvas.height-i)/2):(o=i*t,n=(this._mCanvas.width-o)/2),this._m2dContext.drawImage(e.mImage,e.mX,e.mY,e.mWidth,e.mHeight,n,r,o,i)},n.prototype.show=function(){this._mCanvas.style.display="block",this._initCanvasSize()},n.prototype._initEventListeners=function(){var e=t;this._mCanvas.addEventListener("click",function(){this._mEventEmitter.emit(e.CLICK)}.bind(this),!1)},n.prototype._initCanvasSize=function(){var e=this._mCanvas.getBoundingClientRect();this._mCanvas.width=e.width,this._mCanvas.height=e.height},n}),n("rotoscope/vpaid/VpaidLinearRotoscope",["require","rotoscope/player/createHtmlLayout","rotoscope/player/Event","rotoscope/player/FrameModel","rotoscope/player/Player","rotoscope/player/View","lib/eventemitter2/EventEmitter2"],function(e){var t=e("rotoscope/player/createHtmlLayout"),n=e("rotoscope/player/Event"),r=e("rotoscope/player/FrameModel"),o=e("rotoscope/player/Player"),i=e("rotoscope/player/View"),a=e("lib/eventemitter2/EventEmitter2"),s=0,l=25,u=50,c=75,d=100,p=-2,f=-2,h="2.0",m=function(){var e=this,t=e.creativeData.AdParameters;if(!t)throw"No ad parameters passed";try{e.options=JSON.parse(t)}catch(n){throw"The AdParameters is not valid JSON."}},v=function(){var e=this,t=e.options,n=t.sources,r=t.clickThrough,o=r&&r.url&&r.id&&void 0!==r.playerHandles,i=parseInt(t.fps);if(!o)throw"No click behaviour given";if(isNaN(parseInt(t.frameWidth))||isNaN(parseInt(t.frameHeight)))throw"Invalid frame size.";if(isNaN(i)||0>=i)throw"Invalid FPS value.";if(!n||!n.length)throw"No sources given"},g=function(){var e=this;e.isPlayerReady=!0,e.eventEmitter.emit("AdLoaded"),e.eventEmitter.emit("AdDurationChange")},y=function(){var e=this,t=e.options,n=t.clickThrough;e.eventEmitter.emit("AdClickThru",n.url,n.id,n.playerHandles)},b=function(e){var t=this;t.eventEmitter.emit("AdError",e.message)},_=function(e){var t=this;switch(e){case s:t.eventEmitter.emit("AdVideoStart");break;case l:t.eventEmitter.emit("AdVideoFirstQuartile");break;case u:t.eventEmitter.emit("AdVideoMidpoint");break;case c:t.eventEmitter.emit("AdVideoThirdQuartile");break;case d:t.eventEmitter.emit("AdVideoComplete")}},w=function(){for(var e=this,t=e.slot;t.firstChild;)t.removeChild(t.firstChild)},E=function(){var e=this;e.slot=null,e.videoSlot=null,e.creativeData={},e.environmentVars={},e.options={},e.player=null,e.isStarted=!1,e.isPlayerReady=!1,e.eventEmitter=new a};return E.prototype.handshakeVersion=function(e){var t=this;return t.peerVersion=e,h},E.prototype.getAdLinear=function(){return!0},E.prototype.initAd=function(e,n,a,s,l,u){var c=this,d=function(){var e=document.createElement("div");return document.body.appendChild(e),e};c.creativeData=l||{},c.environmentVars=u||{},c.slot=u.slot||d();try{m.call(c),v.call(c),c.slot.innerHTML=t({viewMode:a,width:e,height:n})}catch(p){return c.eventEmitter.emit("AdError",p),void 0}c.player=new o(new i(c.slot,c.eventEmitter),new r(c.options.sources,{frameWidth:c.options.frameWidth,frameHeight:c.options.frameHeight}),c.eventEmitter),c.isStarted=!1,c.isPlayerReady=!1,c.player.init({fps:c.options.fps}).then(g.bind(c),b.bind(c))},E.prototype.startAd=function(){var e=this;return e.isStarted?(e.eventEmitter.emit("AdError","The ad is already started."),void 0):(e.eventEmitter.addListener(n.CLICK,y.bind(e)),e.player.play().progress(_.bind(e)),e.eventEmitter.emit("AdImpression"),e.eventEmitter.emit("AdStarted"),void 0)},E.prototype.stopAd=function(){var e=this,t=n;e.player.stop(),w.call(e),e.eventEmitter.removeAllListeners(t.CLICK),e.eventEmitter.removeAllListeners(t.PLAY),e.eventEmitter.removeAllListeners(t.PAUSE),e.eventEmitter.emit("AdStopped")},E.prototype.subscribe=function(e,t,n){var r=this;r.eventEmitter.addListener(t,e.bind(n))},E.prototype.unsubscribe=function(e){var t=this;t.eventEmitter.removeAllListeners(e)},E.prototype.getAdDuration=function(){var e=this;return e.isPlayerReady?e.player.getTotalDuration():p},E.prototype.getAdRemainingTime=function(){var e=this;return e.isPlayerReady?e.player.getRemainingTime():f},E}),function(){n("bidding/vpaid/VpaidPlayer",["require","util/extend","dom/createElement","dom/$","core/console","core/Event","util/versionCompare","dom/generateTimeout","dom/expandElement","beacons/NetworkEvents","rotoscope/vpaid/VpaidLinearRotoscope"],function(e){var t=e("util/extend"),n=e("dom/createElement"),r=e("dom/$"),o=e("core/console"),i=e("core/Event"),a=e("util/versionCompare"),s=e("dom/generateTimeout"),l=(e("dom/expandElement"),e("beacons/NetworkEvents")),u=e("rotoscope/vpaid/VpaidLinearRotoscope"),c={adParameters:null},d="2.0",p=function(e){return a(e,d)},f=5e3,h=function(e){var t;return e.length>2&&(t=e.pop()),e.reverse(),t&&e.push(t),e},m=function(e){var t,i=this,a=i.config,l=n("div"),c=r(l),d=a.isVideoNew,p=i.video,h=a.friendlyIframe,m=h.contentWindow,v=h.contentDocument,g=v.body;if(o.log("VpaidPlayer: vpaidFactory()",arguments),i.slot=l,d){var y=p.getVideoElement?p.getVideoElement():p;g.appendChild(y)}if(g.appendChild(l),c.css({position:"absolute",top:"0px",left:"0px"}),"rotoscope"===a.adType)t=new u,i.trigger("scriptLoad",t);else{var b=n("script"),_=r(b),w=s(function(){i.trigger("error","script timeout"),_.remove()},f);_.on("load",function(){var e=m.getVPAIDAd;w(),e&&"function"==typeof e&&(t=e()),t?i.trigger("scriptLoad",t):i.trigger("error","script load")}),_.on("error",function(){w(),i.trigger("error","script error")}),b.src=e,g.appendChild(b)}},v=function(){var e=this;o.log("VpaidPlayer: unloadAd()",arguments,e)},g=function(e,n){var i=this,a=(r(n.video),new l(n.networkEvents)),s=n.networkData;o.log("VpaidPlayer: VpaidPlayer()",arguments,i),i.config=t({},c,n),i.url=e,i.video=n.video,i.networkEvents=a,i.on("error",function(e,t){s&&t&&0===t.indexOf("script")&&a.send(s,l.AD_ERROR_ON_LOAD,t),v.call(i)})};return g.prototype=new i,g.constructor=g,g.prototype.adCall=function(){var e,t=this,n=Array.prototype.slice.call(arguments),r=n.shift(),o=t.adUnit;if(!o||!o[r])return!1;if(("subscribe"===r||"unsubscribe"===r)&&(n=h(n)),e=function(e,t){return t[r].apply(t,n)},o)try{return e(null,o)}catch(i){t.trigger("error",""+i)}},g.prototype.create=function(){var e=this,t=e.url,n=e.config,r=e.networkEvents,o=n.networkData;e.on("scriptLoad",function(t,n){e.adUnit=n,o&&r.send(o,l.SCRIPT_LOADED_SUCCESSFUL,o.type+" Script load successful"),p(e.adCall("handshakeVersion","2.0"))?e.trigger("ready"):(o&&r.send(o,l.HANDSHAKE_FAILURE,o.type+" Handshake failed"),e.trigger("error","handshakeVersion"))}),m.call(e,t)},g.prototype.init=function(){var e=this,t=e.config,n={AdParameters:t.adParameters},r={slot:e.slot,videoSlot:e.video,videoSlotCanAutoPlay:t.videoSlotCanAutoPlay};return o.log("VpaidPlayer: init()",arguments,e),e.adCall("initAd",t.width,t.height,"normal","",n,r)},g.prototype.stop=function(){var e=this;return e.adCall("subscribe","AdStopped",v,e),e.adCall("stopAd")},g.prototype.clearTimeout=function(){var e=this;e.timeout&&(e.timeout(),e.timeout=null)},g})}(this),function(){n("player/HiroVideoProxy",["require","util/createPrototype","util/each","util/tryRotoscope","core/console","core/Event","core/root","util/proxyMethods","dom/$","dom/createElement","rotoscope/player/createHtmlLayout","rotoscope/player/Player","rotoscope/player/View","rotoscope/player/FrameModel","lib/q/q","lib/eventemitter2/EventEmitter2"],function(e){var t=e("util/createPrototype"),n=e("util/each"),r=e("util/tryRotoscope"),o=e("core/console"),i=e("core/Event"),a=(e("core/root"),e("util/proxyMethods")),s=e("dom/$"),l=e("dom/createElement"),u=e("rotoscope/player/createHtmlLayout"),c=e("rotoscope/player/Player"),d=e("rotoscope/player/View"),p=e("rotoscope/player/FrameModel"),f=e("lib/q/q"),h=e("lib/eventemitter2/EventEmitter2"),m=["src","volume","currentSrc","played","paused","type","currentTime","duration"],v=["show","hide","css","empty"],g=["progress","timeupdate"],y=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadstart","volumechange","loadedmetadata","pause","play","playing","ratechange","seeked","stalled","suspend","waiting"],b=t({base:i,constructor:function(e,t){var n=this,r=function(){var e=t.friendlyIframe,n=(e.contentWindow,e.contentDocument),r=n.body,o=l("div");return r.appendChild(o),o};o.log("HiroVideoProxy: HiroVideoProxy()",arguments,n),n.video=e,n.eventsDeferred={},n.options=t,n.slot=r(),n.emitter=new h},init:function(){var e=this,t=e.video,i=e.options,l=function(){e.eventsDeferred.loadeddata.resolve(),e.eventsDeferred.loadedmetadata.resolve(),e.eventsDeferred.durationchange.resolve()},b=function(t){var n=t.adParameters,r=n.fps,o=new h;e.slot.innerHTML=u({viewMode:"normal",width:i.width,height:i.height}),e.player=new c(new d(e.slot,o),new p(n.sources,{frameWidth:n.frameWidth,frameHeight:n.frameHeight}),o),e.player.init({fps:r}).then(l,e.eventsDeferred.error.resolve)},_=function(t,l){n(y,function(t,n){e.eventsDeferred[n]=f.defer()}),a(v,{from:s(t),to:e}),e.addEventListener=function(){var t=arguments[0],n=arguments[1],r=function(){n({type:t}),("pause"===t||"play"===t||"playing"===t)&&(e.eventsDeferred[t]=f.defer(),e.eventsDeferred[t].promise.then(r))};e.eventsDeferred[t]?e.eventsDeferred[t].promise.then(r):g.indexOf(t)>=0?e.emitter.on("internalProgress",function(){n({type:"timeupdate"})}):o.log("HiroVideoProxy: Event name is not supported "+t)},e.removeEventListener=function(){},e.load=function(){},e.play=function(){e.eventsDeferred.loadeddata.promise.then(function(){e.player.play().progress(function(t){e.emitter.emit("internalProgress"),100===t&&e.eventsDeferred.ended.resolve()}),e.eventsDeferred.playing.resolve(),e.eventsDeferred.play.resolve()})},e.pause=function(){e.player.pause(),e.eventsDeferred.pause.resolve()},e.canPlayType=function(){return l.canPlayType.apply(l,arguments)},n(m,function(t,n){Object.defineProperty(e,n,{get:function(){return"currentTime"===n&&e.player?e.player.getCurrentPlayingTime():"duration"===n&&e.player?e.player.getTotalDuration():l[n]},set:function(t){l[n]=t,"src"===n&&f(r(t,i.rotoscopeDefaultPrefixUrl)).then(function(e){b(e)},function(){e.eventsDeferred.abort.resolve(),e.eventsDeferred.error.resolve()})}})}),Object.defineProperty(e,"style",{get:function(){return e.slot.style}}),Object.defineProperty(e,"parentNode",{get:function(){return e.slot.parentNode}})};_(e.slot,t)},getVideoElement:function(){var e=this,t=e.video;return t}});return b})}(this),n("player/ui/MuteButton",["require","core/console","core/Event","util/extend","dom/$","util/cssDimension","util/createPrototype","dom/addEvent","dom/createElement"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),o=e("dom/$"),i=e("util/cssDimension"),a=e("util/createPrototype"),s=e("dom/addEvent"),l=e("dom/createElement"),u=a({base:n,defaults:{muteButton:"https://hrsecsynd-a.akamaihd.net/Assets/on.png",muteState:!0,cssWidth:32,cssHeight:32},constructor:function(e){var n=this;t.log("MuteButton: MuteButton()",arguments),n.options=r(!0,{},n.defaults,e),n.options.muteState=n.options.baseVolume>=.5?!1:!0},init:function(){var e,n,r=this;t.log("MuteButton: init()",arguments),e=l("img",{src:r.options.muteButton,style:"cursor:pointer;opacity:"+(r.options.muteState?"0.5":"1")}),n=l("div"),r.divElement=n,o(n).css({"float":"right",height:0,position:"relative",right:"10px",top:"10px","z-index":9999}),e.style.width=i(r.options.cssWidth),e.style.height=i(r.options.cssHeight),o(n).prepend(e),r.muteButtonElement=e,o(r.options.container).prepend(n),s(e,"click",function(){var e=r.options.muteState?"unmute":"mute";r.trigger(e)})},destroy:function(){var e=this;t.log("MuteButton: destroy()",arguments),o(e.divElement).remove()},hide:function(){var e=this;t.log("MuteButton: hide()",arguments),o(e.divElement).hide()},show:function(){var e=this;t.log("MuteButton: show()",arguments),o(e.divElement).show()},mute:function(){var e=this,n=o(e.muteButtonElement);t.log("MuteButton: mute()",arguments),e.options.muteState=!0,n.css({opacity:.5})},unmute:function(){var e=this,n=o(e.muteButtonElement);t.log("MuteButton: unmute()",arguments),e.options.muteState=!1,n.css({opacity:1})},isMute:function(){var e=this;return t.log("MuteButton: isMute()",arguments),e.options.muteState}});return u}),n("bidding/vpaid/HtmlVpaidAd",["require","core/console","core/Event","core/root","util/extend","util/each","dom/generateTimeout","dom/createElement","dom/$","bidding/vpaid/VpaidPlayer","player/HiroVideoProxy","player/ui/MuteButton","util/createPrototype"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("core/root"),o=e("util/extend"),i=e("util/each"),a=(e("dom/generateTimeout"),e("dom/createElement")),s=e("dom/$"),l=e("bidding/vpaid/VpaidPlayer"),u=e("player/HiroVideoProxy"),c=e("player/ui/MuteButton"),d=e("util/createPrototype"),p=d({base:n,constructor:function(e,n){var r,i=this,d=e.creatives[0].media[0],p=n.url||d.src,f=n.adParameters||e&&e.creatives[0].adParameters,h=n.container,m=!1;if(i.playerContainer=h,n.video||n.videoPlayer?r=n.video||n.videoPlayer:(r=a("video"),m=!0),n.isMute=s.proxy(i.isMute,i),n.videoCanAutoPlay){var v=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(r)),"volume");i.videoElement=r,i.videoElementCss=s(r),n.videoPlayer||Object.defineProperty(r,"volume",{enumerable:!0,configurable:!0,set:function(e){0!==e&&n.isMute()||v.set.apply(r,arguments)}})}else i.videoElement=new u(r,n),i.videoElementCss=i.videoElement,i.videoElement.init();i.player=new l(p,{width:n.width,height:n.height,friendlyIframe:n.friendlyIframe,video:i.videoElement,videoSlotCanAutoPlay:!0,adParameters:f,networkEvents:n.networkEevents,networkData:e,isVideoNew:m,adType:e.type}),t.log("HtmlVpaidAd: HtmlVpaidAd()",arguments),i.options=o(!0,{},i.defaults,n),i.type=e.type,i.muteButton=new c(i.options),i.muteButton.propagateEventsTo(i),i.currentVolume=n.baseVolume,i.canAutoplay=!0,i.ad=e,i.isVideoNew=m,n.videoPlayer||(i.videoElement.volume=n.baseVolume)},init:function(){var e=this,n=e.muteButton,o=e.player,a=e.options,s=(e.playerContainer,e.videoElement,{AdLoaded:"init",AdError:"aderror",AdLog:"adlog",AdImpression:"adimpression",AdStarted:"adstart",AdVideoStart:"advideostart",AdVideoFirstQuartile:"adfirstquartile",AdVideoMidpoint:"admidpoint",AdVideoThirdQuartile:"adthirdquartile",AdVideoComplete:"adcomplete",AdStopped:"adstopped",AdClickThru:"adclickthru",AdPaused:"adpaused",AdPlaying:"adplaying"}),l=function(n){return function(){t.log("HtmlVpaidAd: init()/eventTrigger() triggering",n),"adlog"===n&&t.log("HtmlVpaidAd: adlog",arguments),e.trigger(n)}},u=function(){var n,r;e.isShown||(n=e.videoElementCss.width(),r=e.videoElementCss.height(),(n>1||r>1)&&(t.log("HtmlVpaidAd: resize called"),e.videoElementCss.css({width:"1px",height:"1px"})))},c=!a.videoPlayer&&a.videoCanAutoPlay&&r.MutationObserver&&new r.MutationObserver(function(){c.disconnect(),u(),c.observe(e.videoElement,{attributes:!0,attributeFilter:["style"]})});t.log("HtmlVpaidAd: init()",arguments),o.on("error",function(){e.trigger("aderror")}),e.on("adcomplete",function(){r.setTimeout(function(){e.trigger("adstopped")},0)}),e.on("init adstart advideostart",function(){a.baseVolume<.5&&o.adCall("setAdVolume",0)}),e.on("unmute",function(){n.unmute(),e.currentVolume=e.currentVolume>=.1?e.currentVolume:.5,o.adCall("setAdVolume",e.currentVolume)}),e.on("mute",function(){n.mute();var t=o.adCall("getAdVolume");t&&(e.currentVolume=t),o.adCall("setAdVolume",0)}),e.on("adpaused",function(){e.pausedDeferred&&e.pausedDeferred.resolve(),e.isPaused=!0}),e.on("adplaying",function(){e.pausedDeferred=null,e.isPaused=!1}),c&&(e.observer=c,c.observe(e.videoElement,{attributes:!0,attributeFilter:["style"]})),o.on("ready",function(){i(s,function(e,t){o.adCall("subscribe",e,l(t))}),o.init()}),n.init(),o.create()},destroy:function(){var e=this,n=e.muteButton,r=e.player,o=e.videoElementCss,i=e.observer;t.log("HtmlVpaidAd: destroy()",arguments),o.off(),n.destroy(),r&&r.stop(),i&&i.disconnect(),o.empty()},play:function(){var e=this,n=e.player,r=e.isPaused;t.log("HtmlVpaidAd: play()",arguments),r?e.resume():n.adCall("startAd")},getAdMaxDuration:function(){var e=this,t=e.options;return e.ad.maxDuration>=t.adDurationMinTime?1e3*e.ad.maxDuration:t.adDurationDefaultMaxTime},pause:function(){var e=this,n=e.player;t.log("HtmlVpaidAd: pause()",arguments),e.pausedDeferred||(e.pausedDeferred=s.Deferred(),n.adCall("pauseAd"))},paused:function(){var e=this;return t.log("HtmlVpaidAd: paused()",arguments),e.isPaused},resume:function(){var e=this,n=e.player,r=e.pausedDeferred;t.log("HtmlVpaidAd: resume()",arguments),r?r.then(function(){t.log("HtmlVpaidAd: player.adCall resumeAd"),n.adCall("resumeAd")}):n.adCall("resumeAd")},isMute:function(){var e=this,t=e.muteButton;return t.isMute()},show:function(){var e=this,t=e.videoElementCss,n=e.options;t&&(e.isShown=!0,t.css({width:n.width,height:n.height}))},hide:function(){var e=this,t=this.videoElementCss;t&&(e.isShown=!1,t.css({width:"1px",height:"1px"}))},getResources:function(){var e=this,t=e.videoElement;return t.src}});return p}),n("bidding/HtmlFlashAd",["require","core/console","core/Event","core/root","core/registerFlashTrigger","util/each","util/extend","util/randomInt","util/buildQueryString","util/prepareUrls","util/createPrototype","util/networkLogger","dom/browser","dom/beacon","dom/Deferred","lib/flashembed/toolbox.flashembed","dom/generateTimeout","util/cssDimension","dom/$","player/ui/MuteButton"],function(e){var t=e("core/console"),n=e("core/Event"),r=(e("core/root"),e("core/registerFlashTrigger")),o=e("util/each"),i=e("util/extend"),a=e("util/randomInt"),s=e("util/buildQueryString"),l=e("util/prepareUrls"),u=e("util/createPrototype"),c=e("util/networkLogger"),d=(e("dom/browser"),e("dom/beacon"),e("dom/Deferred")),p=e("lib/flashembed/toolbox.flashembed"),f=e("dom/generateTimeout"),h=e("util/cssDimension"),m=e("dom/$"),v=e("player/ui/MuteButton"),g=u({base:n,constructor:function(e){var n=this;n.options=i(!0,e,{container:e.friendlyIframe.parentNode}),n.type="vpaid flash",n.lastResourceIndex=-1,n.readyDeferred=new d,n.loadFlash(),n.initPerformanceTimingApi(),t.log("HtmlFlashAd: HtmlFlashAd()",arguments)},init:function(e,n){var r=this,o=r.options,i=r.playerId,a=e[0],s=a.creatives[0].media[0],l=o.url||s.src,u=o.adParameters||a&&a.creatives[0].adParameters,d=a.creatives[0],p=a.type,f="vpaid flash"===p?"vpaid":"flv";r.url=l,r.adParameters=u,r.creative=d,r.origTag=a.url,r.indexInBreak=a.indexInBreak,r.type=p,r.requireViewability=a.requireViewability,r.ad=a,r.readyDeferred.then(function(){var e;t.log("HtmlFlashAd: ad is ready"),r.one("aderror",function(e,t,n){"fatal"===t&&(r.isShouldRemove=!0),n&&2==n.length&&r.trigger("networkevent",n[0],n[1])}),r.on("traceToConsole",function(e,n){t.log(n),c.log(n)}),r.on("internaladidcalculated",function(e,t){r.internalAdId=t}),t.log("HtmlFlashAd: calling init with sync params",o),r.trigger("log",i+":ad.init()");try{r.adApi.init({tagURL:r.url,adParameters:r.adParameters,type:f,origTag:r.origTag,indexInBreak:r.indexInBreak,requireViewability:r.requireViewability,durationInSec:r.durationInSec?r.durationInSec:15,calcDynamicTimeout:n})}catch(a){r.isShouldRemove=!0,t.log("HtmlFlashAd: init error ",a),r.trigger("log",i+":init error"),r.trigger("aderror")}r.muteButton=new v(r.options),r.muteButton.propagateEventsTo(r),r.muteButton.init(),t.log("HtmlFlashAd: called init"),r.on("unmute",function(){r.muteButton.unmute(),r.adApi.setMute(!1)}),r.on("mute",function(){r.muteButton.mute(),r.adApi.setMute(!0)}),e=document.getElementById("killSnap"),e&&e.addEventListener("click",function(){r.playAdUnit&&r.trigger("aderror","fatal")})})},initPerformanceTimingApi:function(){var e=this,t=e.options,n=t.friendlyIframe,r=n.contentWindow,o=r.performance;o&&o.setResourceTimingBufferSize&&(e.resourceTimingBufferSize=150,o.onresourcetimingbufferfull=function(){e.resourceTimingBufferSize=2*e.resourceTimingBufferSize,o.setResourceTimingBufferSize(e.resourceTimingBufferSize)})},loadFlash:function(){var e=this,n=e.options,o=l(n.snapLoc||n.folderName,{adPlayerUrl:"snapPlayer.swf"}),i=n.friendlyIframe,u=i.contentWindow,c=i.contentDocument,d=c.body,f=i.parentNode,v=d,g=u,y=h(f.parentNode.offsetWidth),b=h(f.parentNode.offsetHeight),_=function(t,n,r){var o="",i=["aderror","sendPublisherEvent","initVpaidTracking"],a=["visible","activeTab","traceToConsole","getEverHoveredOverPlacement","getOnHoverFlag","IAS_Blocking","adClicked","getPublisherExternalID"];return-1!==m.inArray(n,a)?!1:(r&&-1!==m.inArray(n,i)&&(o=r),o&&(o=" "+o),e.trigger("log",t+":"+n+o),void 0)},w=r(function(t,n){return _(w,t,n),e.trigger.apply(e,arguments)},g),E=!1,T={isDebug:n.isDebug,accountID:n.accountID,playerId:w,htmlWidth:y,htmlHeight:b,startTimerSecs:.5*n.initStartMaxTimeInSec,initTimerSecs:.5*n.initStartMaxTimeInSec,playerSizeConstraint:n.playerSizeConstraint,losFirstinBreak:n.losFirstinBreak,experimentId:n.experimentId,baseVolume:n.baseVolume,volume:n.volume,onClickEnabled:n.onClickEnabled,maxBleeps:E?Math.ceil(n.maxBleeps/2):n.maxBleeps,blockBleepOnChanel:E?!1:n.blockBleepOnChanel,stopAfterProgressEvent:n.stopAfterProgressEvent,pauseOnAdClick:n.pauseOnAdClick,isPremiumSite:n.isPremiumSite,muteButton:n.muteButton,blockUnknownVendor:n.blockUnknownVendor,approvedVendorUrls:n.approvedVendorUrls,approvedVendorClasses:n.approvedVendorClasses,blackVendorExceptions:n.blackVendorExceptions,monitoredVendors:n.monitoredVendors},k={id:"hiro_snap_"+w+"_"+a(1e8),allowfullscreen:!0,allowscriptaccess:"always",scale:"exactfit",wmode:"opaque",src:o.adPlayerUrl,width:y,height:b,flashvars:s(T)},x=e.readyDeferred;e.playerId=w,e.attributes=k,e.on("ready",function(){x.resolve()});try{p(v,k),e.adApi=v.firstChild}catch(j){t.log("HtmlFlashAd: flashembed failed ",j),x.reject(),e.trigger("aderror")}},destroy:function(){var e=this;t.log("HtmlFlashAd: destroy()",arguments),e.finish()},play:function(){var e=this,n=e.adApi;if(e.playAdUnit)try{n.resume(),e.isPaused=!1,e.trigger("adresume")}catch(r){t.log("HtmlFlashAd: resume error"),e.trigger("log","resume error")}else{e.trigger("log","ad.playUnit()");try{n.playUnit(),e.playAdUnit=!0}catch(r){t.log("HtmlFlashAd: play error"),e.trigger("log","play error"),e.trigger("aderror")}}},viewabilityResponse:function(){var e=this,n=e.adApi;try{n.viewable()}catch(r){t.log("HtmlFlashAd: viewable error"),e.trigger("log","viewable error")}},getAdMaxDuration:function(){var e=this,t=e.options;return e.ad.maxDuration>=t.adDurationMinTime?1e3*e.ad.maxDuration:t.adDurationDefaultMaxTime},pause:function(){var e=this,n=e.playAdUnit,r=e.adApi;if(n)try{r.pause(),e.isPaused=!0,e.trigger("adpause")}catch(o){t.log("HtmlFlashAd: pause error"),e.trigger("log","pause error")}},paused:function(){var e=this;return e.isPaused},finish:function(){var e=this,n=(e.playAdUnit,e.adApi);e.playAdUnit=!1,e.isPaused=!1,e.url=null,e.adParameters=null,e.creative=null,e.indexInBreak=-1,e.internalAdId="",e.muteButton&&(e.muteButton.cancelPropagate(),e.muteButton.destroy());try{n.finish()}catch(r){t.log("HtmlFlashAd: finish error"),e.trigger("log","finish error")}},isAlive:function(){var e,n=this,r=new d,o=document.hiroDisablePingPong;return o?r.reject():(e=f(function(){r.reject()},5e3),n.readyDeferred.then(function(){var o=n.adApi;try{n.one("pong",function(){e(),r.resolve()}),o.ping()}catch(i){t.log("HtmlFlashAd: ping error"),n.trigger("log","ping error"),r.reject()}},r.reject)),r.promise()},isMute:function(){var e=this,t=e.muteButton;return t.isMute()},getResources:function(){var e=this,n=e.options,r=n.clipUrl,i=n.friendlyIframe,a=[],s=n.flvEventIgnoreList,l=function(e){var t=e.contentWindow||e;return t.performance&&t.performance.getEntriesByType&&t.performance.getEntriesByType("resource")||[]},u=l(i),c=function(e){return e?e.split("?")[0]:""};return o(u,function(n,i){var l=!1,u=c(i.name),d=i.startTime;e.lastResourceIndex<d&&(o(["mp4","flv"],function(e,t){l=l||-1!==u.indexOf(t,u.length-t.length)}),l&&u!=r&&u.indexOf("blank.mp4")<0&&(e.lastResourceIndex=d,-1===s.indexOf(u)&&a.push(u),t.log("*** Resource url ***: startTime: %s; item: %s",d,u)))}),a.join(";")}});return g}),n("bidding/RotoscopeAd",["require","core/console","core/Event","util/extend","bidding/HtmlVideoAd","bidding/vpaid/HtmlVpaidAd","util/createPrototype","util/proxyMethods"],function(e){var t=e("core/console"),n=e("core/Event"),r=e("util/extend"),o=e("bidding/HtmlVideoAd"),i=e("bidding/vpaid/HtmlVpaidAd"),a=e("util/createPrototype"),s=e("util/proxyMethods"),l=a({base:n,constructor:function(e,n){var a,l,u=this,c=["init","destroy","play","show","hide","pause"],d=function(t){a=new t(e,u.options),a.propagateEventsTo(u),s(c,{from:a,to:u})},p=function(e){var t=a.player.adUnit.player._mCurrentFrame/a.player.adUnit.player._mFPS;l(),a.cancelPropagate(),a.destroy(),d(o),a.init(),a.play(t),u.show(),"adclickthru"===e&&(u.trigger("adclickthru"),a.one("playing",function(){a.pause()}))},f=function(){a.on("adclickthru",p),u.on("adcomplete",l)},l=function(){a.off("adclickthru",p)};t.log("RotoscopeAd: RotoscopeAd()",arguments),u.options=r(!0,{},u.defaults,n),u.type="rotoscope",u.canAutoplay=!0,u.ad=e,u.one("unmute",p),d(i),u.hide(),f()},isMute:function(){return!0},getAdMaxDuration:function(){var e=this,t=(e.options,e.options.adDurationDefaultMaxTime);return t}});return l}),n("bidding/DomValidator",["require","core/console","core/root","dom/Deferred","dom/isIframe","dom/whenIframeAccesible","dom/$","util/createPrototype","util/defined","util/each","util/extend","util/networkLogger"],function(e){var t=e("core/console"),n=e("core/root"),r=e("dom/Deferred"),o=e("dom/isIframe"),i=e("dom/whenIframeAccesible"),a=e("dom/$"),s=e("util/createPrototype"),l=e("util/defined"),u=e("util/each"),c=e("util/extend"),d=e("util/networkLogger"),p={},f=s({constructor:function(e,t,n,r){var o=this;o.validators=t,o.element=e,o.context=n,o.options=c(!0,{},p,r)},init:function(){var e,s=this,p=s.element,f=s.options,h=new r,m={attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0},v=!1,g=[],y=function(e,t){t&&(g.push(e),t.observe(e,m))},b=function(e){e&&e.disconnect()},_=function(e){var t=function(t){try{e.observe(t,m)}catch(n){}};e&&!v&&u(g,function(e,n){t(n)})},w=function(e,n){var r=[],o=function(){var e=Array.prototype.join.call(arguments," ");t.log("DomValidator: validation log",e),f.logToNetwork&&d.log("DomValidator: validation log",e),r.push(e)},i=e.validate(c(n,{log:o})),s=function(){h.reject({validator:e,validatorName:n.name,validation:i,validationLog:r,mutation:n.mutation,node:n.node})};l(i)&&(i.isValid===!1?s():a.when(i.isValid).fail(s))},E=function(e,t,n){var o=e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector;
b(t),u(s.validators,function(t,i){var a=[],l=i&&(i.filter||"*"),c=l&&i.checkSubtree,d=l&&o&&o.call(e,l),f=function(e){-1===a.indexOf(e)&&a.push(e)};d&&f(e),c&&e.querySelectorAll&&u(e.querySelectorAll(l),function(e,t){f(t)}),u(a,function(e,o){w(i,{name:t,node:o,Deferred:r,mutation:n,context:s.context,element:p})})}),_(t)},T={attributes:function(e,t){E(e.target,t,e)},childList:function(e,t){u(e.addedNodes,function(n,r){E(r,t,e)})}},k=function(n,r){o(n)&&(t.log("DomValidator().init().maybeValidateAndObserveIframeContent()"),i(n).then(function(){e(n,r)}))},x=function(e,t){y(e,t),u(e.getElementsByTagName("*"),function(e,n){E(n,t),k(n,t)}),k(e,t)},j=function(e,n){t.log("DomValidator().init()/mutationHandler()",e),u(e,function(e,t){var r=t.type,o=T[r];o&&o(t,n),u(t.addedNodes,function(e,t){k(t,n)})})},C=n.MutationObserver,S=C&&new C(j);return e=function(e,n){t.log("DomValidator().init().validateAndObserveIframeContent()"),x(e.contentDocument,n),e.addEventListener("load",function(){i(e).then(function(){x(e.contentDocument,n)})})},t.log("DomValidator().init()"),x(p,S),s.destroy=function(){v=!0,b(S)},h.promise()},destroy:function(){}});return f}),n("bidding/IframeFactory",["require","core/root","core/Event","core/console","util/Console","dom/$","dom/Deferred","dom/injectIframe","dom/createElement","dom/minimizeElement","dom/browser","lodash/find","lodash/defer","util/each","util/extend","util/createPrototype","bidding/HtmlVideoAd","bidding/vpaid/HtmlVpaidAd","bidding/HtmlFlashAd","bidding/RotoscopeAd","bidding/DomValidator","beacons/PublisherEvents"],function(e){var t=e("core/root"),n=(e("core/Event"),e("core/console")),r=e("util/Console"),o=e("dom/$"),i=e("dom/Deferred"),a=e("dom/injectIframe"),s=e("dom/createElement"),l=e("dom/minimizeElement"),u=e("dom/browser"),c=e("lodash/find"),d=e("lodash/defer"),p=e("util/each"),f=(e("util/extend"),e("util/createPrototype")),h=e("bidding/HtmlVideoAd"),m=e("bidding/vpaid/HtmlVpaidAd"),v=e("bidding/HtmlFlashAd"),g=e("bidding/RotoscopeAd"),y=e("bidding/DomValidator"),b=e("beacons/PublisherEvents"),_="#ifrndnloc",w=[],E=function(e){var t=c(w,{iframe:e});return n.log("IframeFactory: maybeDetachDomValidator()",arguments),t&&t.domValidator&&(t.domValidator.destroy(),t.domValidator=null),t},T=function(e,t){var r=E(e);n.log("IframeFactory: attachDomValidator()",arguments),r||(r={iframe:e},w.push(r)),r.domValidator=t},k=function(){var e=this;e&&e.contentWindow&&(e.contentWindow.onerror=function(){return n.error("IframeFactory: supressIframeErrors(), suppressed",arguments),!0},e.contentWindow.addEventListener("unhandledrejection",function(e){n.error("IframeFactory: supressIframeErrors(), suppressed",arguments),e.preventDefault()}))},x=function(){var e=this,t=e&&e.contentWindow,o=function(){return function(){n.log("IframeFactory: supressIframeConsole(), suppressed",arguments)}};d(function(){if(t){t.console=new r(o);try{t.__BROWSERTOOLS_CONSOLE_SAFEFUNC&&t.__BROWSERTOOLS_CONSOLE_SAFEFUNC!==o&&(t.__BROWSERTOOLS_CONSOLE_SAFEFUNC=o)}catch(e){}}})},j=function(e){var t,n,r=e.isShouldRemove,i="vpaid flash"===e.type||"flv"===e.type;return!r&&i&&(n=e.options,t=n.snap&&n.snap.noReusePublishers,t&&-1!=o.inArray(n.publisherId,t)&&-1!=u.name.indexOf("Firefox")&&(r=!0)),r},C=f({constructor:function(e,t){var n=this;n.adMap={},n.options=e,n.publisherEvents=t,n.videoList=[],n.initDeferred=new i},getIframe:function(){var e=this,t=e.options,n=t.hiro_debug,r=function(e){return n?e:(t.enableIframeErrorSuppression&&(k.call(e),e.addEventListener("load",k)),e)},i=function(e){return n?e:(t.enableIframeConsoleSuppression&&(x.call(e),e.addEventListener("load",x)),e)},u=function(e){return e.contentWindow.location.href+=_,e},c=s("div",{style:"position: absolute;top: 0px;z-index: 2147483647;"}),d={width:"100%",height:"100%",allowfullscreen:!0,appendTo:c};return o(t.container).prepend(c),l(c),a(d).then(u).then(r).then(i)},init:function(){for(var e,t=this,n=t.options,r=n.isMobileEnv,o=r?0:n.initNumberOfSnap,i=0,a="flash",l=t.adMap,c=t.publisherEvents,d=function(e){var t=l[a];t||(t=[]),t.push(e),l[a]=t},p=function(e,t){var n=r||-1===u.name.indexOf("Chrome")?null:s("video",{style:"width: 1px;height: 1px",autoplay:!0});return n&&(e.appendChild(n),n.src=t),n},f=0;2>f;f++){var h=p(n.container,n.blankMovieUrl);h&&t.videoList.push(h)}for(0===t.videoList.length&&(t.videoList=null),e=0;o>e;e++)t.getIframe().then(function(e){return t.createFlashAd(e)}).then(function(e){return d(e),i++,i}).then(function(e){e===o&&(t.initDeferred.resolve(),c.send(b.SNAP_PRE_INIT_SUCCESS))});0===o&&t.initDeferred.resolve()},getAdDurationDefaultMaxTime:function(){var e=this,t=e.options,n=t.adDurationDefaultMaxTime;return n},isActive:function(){var e=this,t=new i,n="flash",r=e.initDeferred,o=e.options,a=o.isMobileEnv,s=o.isDisablePlacementBehaviour,l=e.publisherEvents,u=o.initNumberOfSnap;return s?t.resolve():r.then(function(){var r=e.adMap,o=r[n],i=o?o.length:0;a?t.resolve():i>0?o.forEach(function(n){n.isAlive().then(t.resolve,function(){i--,0===i&&(l.send(b.SNAP_IS_ACTIVE_FAILED,"snap number at pool: "+o.length),o.length<2*u?e.getIframe().then(function(t){return e.createFlashAd(t)}).then(function(e){e.isAlive().then(function(){o.unshift(e),l.send(b.SNAP_IS_ACTIVE_FAILED,"success to create a new snap"),t.resolve()},function(){o.unshift(e),l.send(b.SNAP_IS_ACTIVE_FAILED,"failed to create new snap"),t.reject()})}):t.reject())})}):(l.send(b.SNAP_IS_ACTIVE_FAILED,"no snap at all"),t.reject())}),t.promise()},returnAd:function(e){var r=this,a=new i,s=(e.container,e.adIframe),l=e.ad,u=l.type,c=r.adMap,d=!j(l),f=function(){var e="vpaid flash"===u||"flv"===u?"flash":u,t=c[e];t||(t=[]),t.push(l),c[e]=t,n.log("IframeFactory: Return ad to pool of pool type %s , original ad type %s, pool size %s",e,u,t.length)},h=function(){var e=s.contentDocument?s.contentDocument:s.contentWindow.document,t=o(e.body);p(t.children(),function(e,t){t.id&&t.id.indexOf("hiro")>=0||o(t).remove()})},m=function(){var e=new i;return s?(E(s),s.removeEventListener("load",k),s.removeEventListener("load",x),s.setAttribute("src",""),t.setTimeout(e.resolve,0)):e.resolve(),e.promise()};if("vpaid js"===u&&r.videoList&&r.videoList.length<2&&!l.isVideoNew){var v=l.videoElement.getVideoElement?l.videoElement.getVideoElement():l.videoElement;o(v).empty(),o(v).css({width:"1px",height:"1px"}),v.setAttribute("src",""),r.videoList.push(v)}return!d||"vpaid flash"!==u&&"flv"!==u?m(e).always(function(){t.setTimeout(function(){s&&o(s.parentNode).remove()},1)}).then(a.resolve):(h(),f(l),a.resolve()),a.promise()},createFlashAd:function(e){var t=this,n=t.options;return new v({width:n.width,height:n.height,friendlyIframe:e,networkEevents:n.networkEvents,folderName:n.folderName,snapLoc:n.snapLoc,accountID:n.accountID,initStartMaxTimeInSec:n.initStartMaxTimeInSec,playerSizeConstraint:n.playerSizeConstraint,losFirstinBreak:n.losFirstinBreak,experimentId:n.experimentId,baseVolume:n.scale_start,volume:n.scale_start,adDurationMinTime:n.adDurationMinTime,adDurationDefaultMaxTime:n.adDurationDefaultMaxTime,onClickEnabled:n.onClickEnabled,maxBleeps:n.maxBleeps,blockBleepOnChanel:n.blockBleepOnChanel,stopAfterProgressEvent:n.stopAfterProgressEvent,pauseOnAdClick:n.pauseOnAdClick,isPremiumSite:n.isPremiumSite,muteButton:n.muteButton,blockUnknownVendor:n.blockUnknownVendor,approvedVendorUrls:n.approvedVendorUrls||[],approvedVendorClasses:n.approvedVendorClasses||[],blackVendorExceptions:n.blackVendorExceptions||[],monitoredVendors:n.monitoredVendors||[],clipUrl:n.clipUrl||"",publisherId:n.publisherId,isDebug:n.hiro_debug||!1,snap:n.snap,flvEventIgnoreList:n.flvEventIgnoreList})},buildAd:function(e,t){var r,s=this,l=s.adMap,u=e[0],c=u.type,d="vpaid flash"===c||"flv"===c?"flash":c,p=l[d],f=s.videoList,v=function(e,t,n){var r=function(){return s.publisherEvents.send(b.SNAP_REQUEST_FOR_NEW_OBJECT),s.createFlashAd(n)},i=function(){var e=f&&f.shift(),t=e?o(e):null;return t&&t.first().attr("src",""),e},a={video:function(){return new h(u,{width:t.width,height:t.height,adDurationMinTime:s.options.adDurationMinTime,adDurationDefaultMaxTime:s.options.adDurationDefaultMaxTime,adVideoWrapper:t.adVideoWrapper,videoPlayer:t.adVideoPlayer,scale_start:t.baseVolume,folderName:t.folderName,externalPlayerCss:t.externalPlayerCss,sessionID:"Ad_"+t.sessionID})},"vpaid flash":r,flv:r,"vpaid js":function(){return new m(u,{width:t.width,height:t.height,container:n.parentNode,friendlyIframe:n,networkEevents:t.networkEvents,video:i(),videoCanAutoPlay:t.canAutoplay(),baseVolume:t.baseVolume,adDurationMinTime:t.adDurationMinTime,adDurationDefaultMaxTime:t.adDurationDefaultMaxTime,rotoscopeDefaultPrefixUrl:t.rotoscopeDefaultPrefixUrl})},rotoscope:function(){return new g(u,{width:t.width,height:t.height,container:n.parentNode,friendlyIframe:n,videoPlayer:t.adVideoPlayer,networkEevents:t.networkEvents,baseVolume:t.baseVolume,adDurationMinTime:t.adDurationMinTime,adDurationDefaultMaxTime:t.adDurationDefaultMaxTime,adVideoWrapper:t.adVideoWrapper,scale_start:t.baseVolume,folderName:t.folderName,externalPlayerCss:t.externalPlayerCss,sessionID:t.sessionID,videoCanAutoPlay:!0})}},l=a[u.type];return l()},_=function(e){var n=e.options.friendlyIframe.parentNode,r=new i,o=function(n){var o=new y(n,t.domValidators,{ad:e,adOptions:t});o.init().fail(r.resolve)};a({width:"1px",height:"1px",appendTo:n}).then(o),e.honeyPotDomValidatorFailure=r.promise()},w=function(e){var r,o=e.options.friendlyIframe,a=new i;return n.log("IframeFactory: buildAd()/maybeAttachDomValidator()",arguments),t.useDomValidator&&o&&(r=new y(o,t.domValidators,{ad:e,adOptions:t},{logToNetwork:t.domValidatorLogToNetwork}),r.init().fail(a.resolve),T(o,r),t.useDomValidatorHoneyPot&&_(e)),e.domValidationFailure=a.promise(),e};return p&&p.length&&(r=p.shift()),n.log("IframeFactory: Get ad from pool of pool type %s , original ad type %s, result %s",d,c,r),r&&r.isAlive?r.isAlive().then(function(){return w(r)},function(){return s.getIframe().then(function(n){return w(v(e,t,n))})}):s.getIframe().then(function(n){return w(v(e,t,n))})}});return C}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof n&&n.amd)n("lib/videojs/videojs",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function n(e,r,o){function i(s,l){if(!r[s]){if(!e[s]){var u="function"==typeof t&&t;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return i(n?n:t)},d,d.exports,n,e,r,o)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t){!function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},o=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(e,t){!function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(){},{}],4:[function(e,t){var n=e("../internal/getNative"),r=n(Date,"now"),o=r||function(){return(new Date).getTime()};t.exports=o},{"../internal/getNative":20}],5:[function(e,t){function n(e,t,n){function s(){g&&clearTimeout(g),f&&clearTimeout(f),b=0,f=g=y=void 0}function l(t,n){n&&clearTimeout(n),f=g=y=void 0,t&&(b=o(),h=e.apply(v,p),g||f||(p=v=void 0))}function u(){var e=t-(o()-m);0>=e||e>t?l(y,f):g=setTimeout(u,e)}function c(){l(w,g)}function d(){if(p=arguments,m=o(),v=this,y=w&&(g||!E),_===!1)var n=E&&!g;else{f||E||(b=m);var r=_-(m-b),i=0>=r||r>_;i?(f&&(f=clearTimeout(f)),b=m,h=e.apply(v,p)):f||(f=setTimeout(c,r))}return i&&g?g=clearTimeout(g):g||t===_||(g=setTimeout(u,t)),n&&(i=!0,h=e.apply(v,p)),!i||g||f||(p=v=void 0),h}var p,f,h,m,v,g,y,b=0,_=!1,w=!0;if("function"!=typeof e)throw new TypeError(i);if(t=0>t?0:+t||0,n===!0){var E=!0;w=!1}else r(n)&&(E=!!n.leading,_="maxWait"in n&&a(+n.maxWait||0,t),w="trailing"in n?!!n.trailing:w);return d.cancel=s,d}var r=e("../lang/isObject"),o=e("../date/now"),i="Expected a function",a=Math.max;t.exports=n},{"../date/now":4,"../lang/isObject":33}],6:[function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=o(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",o=Math.max;t.exports=n},{}],7:[function(e,t){function n(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return n===!1?a=!1:o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:+t,trailing:s})}var r=e("./debounce"),o=e("../lang/isObject"),i="Expected a function";t.exports=n},{"../lang/isObject":33,"./debounce":5}],8:[function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}t.exports=n},{}],9:[function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}t.exports=n},{}],10:[function(e,t){function n(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}t.exports=n},{}],11:[function(e,t){var n=e("./createBaseFor"),r=n();t.exports=r},{"./createBaseFor":18}],12:[function(e,t){function n(e,t){return r(e,t,o)}var r=e("./baseFor"),o=e("../object/keysIn");t.exports=n},{"../object/keysIn":39,"./baseFor":11}],13:[function(e,t){function n(e,t,d,p,f){if(!s(e))return e;var h=a(t)&&(i(t)||u(t)),m=h?void 0:c(t);return r(m||t,function(r,i){if(m&&(i=r,r=t[i]),l(r))p||(p=[]),f||(f=[]),o(e,t,i,n,d,p,f);else{var a=e[i],s=d?d(a,r,i,e,t):void 0,u=void 0===s;u&&(s=r),void 0===s&&(!h||i in e)||!u&&(s===s?s===a:a!==a)||(e[i]=s)}}),e}var r=e("./arrayEach"),o=e("./baseMergeDeep"),i=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isObject"),l=e("./isObjectLike"),u=e("../lang/isTypedArray"),c=e("../object/keys");t.exports=n},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(e,t){function n(e,t,n,c,d,p,f){for(var h=p.length,m=t[n];h--;)if(p[h]==m)return e[n]=f[h],void 0;var v=e[n],g=d?d(v,m,n,e,t):void 0,y=void 0===g;y&&(g=m,a(m)&&(i(m)||l(m))?g=i(v)?v:a(v)?r(v):[]:s(m)||o(m)?g=o(v)?u(v):s(v)?v:{}:y=!1),p.push(m),f.push(g),y?e[n]=c(g,m,d,p,f):(g===g?g!==v:v===v)&&(e[n]=g)}var r=e("./arrayCopy"),o=e("../lang/isArguments"),i=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isPlainObject"),l=e("../lang/isTypedArray"),u=e("../lang/toPlainObject");t.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(e,t){function n(e){return function(t){return null==t?void 0:r(t)[e]}}var r=e("./toObject");t.exports=n},{"./toObject":28}],16:[function(e,t){function n(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,a){return e.call(t,n,r,o,i,a)}}return function(){return e.apply(t,arguments)}}var r=e("../utility/identity");t.exports=n},{"../utility/identity":42}],17:[function(e,t){function n(e){return i(function(t,n){var i=-1,a=null==t?0:n.length,s=a>2?n[a-2]:void 0,l=a>2?n[2]:void 0,u=a>1?n[a-1]:void 0;for("function"==typeof s?(s=r(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&o(n[0],n[1],l)&&(s=3>a?void 0:s,a=1);++i<a;){var c=n[i];c&&e(t,c,s)}return t})}var r=e("./bindCallback"),o=e("./isIterateeCall"),i=e("../function/restParam");t.exports=n},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(e,t){function n(e){return function(t,n,o){for(var i=r(t),a=o(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(n(i[u],u,i)===!1)break}return t}}var r=e("./toObject");t.exports=n},{"./toObject":28}],19:[function(e,t){var n=e("./baseProperty"),r=n("length");t.exports=r},{"./baseProperty":15}],20:[function(e,t){function n(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}var r=e("../lang/isNative");t.exports=n},{"../lang/isNative":32}],21:[function(e,t){function n(e){return null!=e&&o(r(e))}var r=e("./getLength"),o=e("./isLength");t.exports=n},{"./getLength":19,"./isLength":25}],22:[function(e,t){var n=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=n},{}],23:[function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?o:t,e>-1&&0==e%1&&t>e}var r=/^\d+$/,o=9007199254740991;t.exports=n},{}],24:[function(e,t){function n(e,t,n){if(!i(n))return!1;var a=typeof t;if("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var r=e("./isArrayLike"),o=e("./isIndex"),i=e("../lang/isObject");t.exports=n},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(e,t){function n(e){return"number"==typeof e&&e>-1&&0==e%1&&r>=e}var r=9007199254740991;t.exports=n},{}],26:[function(e,t){function n(e){return!!e&&"object"==typeof e}t.exports=n},{}],27:[function(e,t){function n(e){for(var t=l(e),n=t.length,u=n&&e.length,d=!!u&&a(u)&&(o(e)||r(e)||s(e)),p=-1,f=[];++p<n;){var h=t[p];(d&&i(h,u)||c.call(e,h))&&f.push(h)}return f}var r=e("../lang/isArguments"),o=e("../lang/isArray"),i=e("./isIndex"),a=e("./isLength"),s=e("../lang/isString"),l=e("../object/keysIn"),u=Object.prototype,c=u.hasOwnProperty;t.exports=n},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(e,t){function n(e){if(i.unindexedChars&&o(e)){for(var t=-1,n=e.length,a=Object(e);++t<n;)a[t]=e.charAt(t);return a}return r(e)?e:Object(e)}var r=e("../lang/isObject"),o=e("../lang/isString"),i=e("../support");t.exports=n},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(e,t){function n(e){return o(e)&&r(e)&&a.call(e,"callee")&&!s.call(e,"callee")}var r=e("../internal/isArrayLike"),o=e("../internal/isObjectLike"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable;t.exports=n},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isLength"),o=e("../internal/isObjectLike"),i="[object Array]",a=Object.prototype,s=a.toString,l=n(Array,"isArray"),u=l||function(e){return o(e)&&r(e.length)&&s.call(e)==i};t.exports=u},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(e,t){function n(e){return r(e)&&a.call(e)==o}var r=e("./isObject"),o="[object Function]",i=Object.prototype,a=i.toString;t.exports=n},{"./isObject":33}],32:[function(e,t){function n(e){return null==e?!1:r(e)?c.test(l.call(e)):i(e)&&(o(e)?c:a).test(e)}var r=e("./isFunction"),o=e("../internal/isHostObject"),i=e("../internal/isObjectLike"),a=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}t.exports=n},{}],34:[function(e,t){function n(e){var t;if(!a(e)||d.call(e)!=l||i(e)||o(e)||!c.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return s.ownLast?(r(e,function(e,t,r){return n=c.call(r,t),!1}),n!==!1):(r(e,function(e,t){n=t}),void 0===n||c.call(e,n))}var r=e("../internal/baseForIn"),o=e("./isArguments"),i=e("../internal/isHostObject"),a=e("../internal/isObjectLike"),s=e("../support"),l="[object Object]",u=Object.prototype,c=u.hasOwnProperty,d=u.toString;t.exports=n},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(e,t){function n(e){return"string"==typeof e||r(e)&&a.call(e)==o}var r=e("../internal/isObjectLike"),o="[object String]",i=Object.prototype,a=i.toString;t.exports=n},{"../internal/isObjectLike":26}],36:[function(e,t){function n(e){return o(e)&&r(e.length)&&!!S[O.call(e)]}var r=e("../internal/isLength"),o=e("../internal/isObjectLike"),i="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",h="[object RegExp]",m="[object Set]",v="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",x="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",S={};S[b]=S[_]=S[w]=S[E]=S[T]=S[k]=S[x]=S[j]=S[C]=!0,S[i]=S[a]=S[y]=S[s]=S[l]=S[u]=S[c]=S[d]=S[p]=S[f]=S[h]=S[m]=S[v]=S[g]=!1;var A=Object.prototype,O=A.toString;t.exports=n},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(e,t){function n(e){return r(e,o(e))}var r=e("../internal/baseCopy"),o=e("../object/keysIn");t.exports=n},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(e,t){var n=e("../internal/getNative"),r=e("../internal/isArrayLike"),o=e("../lang/isObject"),i=e("../internal/shimKeys"),a=e("../support"),s=n(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?a.enumPrototypes:r(e))?i(e):o(e)?s(e):[]}:i;t.exports=l},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(e,t){function n(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&l(t)&&(i(e)||o(e)||c(e))&&t||0;for(var n=e.constructor,r=-1,p=a(n)&&n.prototype||T,f=p===e,h=Array(t),v=t>0,g=d.enumErrorProps&&(e===E||e instanceof Error),b=d.enumPrototypes&&a(e);++r<t;)h[r]=r+"";for(var S in e)b&&"prototype"==S||g&&("message"==S||"name"==S)||v&&s(S,t)||"constructor"==S&&(f||!x.call(e,S))||h.push(S);if(d.nonEnumShadows&&e!==T){var A=e===k?_:e===E?m:j.call(e),O=C[A]||C[y];for(A==y&&(p=T),t=w.length;t--;){S=w[t];var I=O[S];f&&I||(I?!x.call(e,S):e[S]===p[S])||h.push(S)}}return h}var r=e("../internal/arrayEach"),o=e("../lang/isArguments"),i=e("../lang/isArray"),a=e("../lang/isFunction"),s=e("../internal/isIndex"),l=e("../internal/isLength"),u=e("../lang/isObject"),c=e("../lang/isString"),d=e("../support"),p="[object Array]",f="[object Boolean]",h="[object Date]",m="[object Error]",v="[object Function]",g="[object Number]",y="[object Object]",b="[object RegExp]",_="[object String]",w=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],E=Error.prototype,T=Object.prototype,k=String.prototype,x=T.hasOwnProperty,j=T.toString,C={};C[p]=C[h]=C[g]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},C[f]=C[_]={constructor:!0,toString:!0,valueOf:!0},C[m]=C[v]=C[b]={constructor:!0,toString:!0},C[y]={constructor:!0},r(w,function(e){for(var t in C)if(x.call(C,t)){var n=C[t];n[e]=x.call(n,e)}}),t.exports=n},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(e,t){var n=e("../internal/baseMerge"),r=e("../internal/createAssigner"),o=r(n);t.exports=o},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(e,t){var n=Array.prototype,r=Error.prototype,o=Object.prototype,i=o.propertyIsEnumerable,a=n.splice,s={};!function(e){var t=function(){this.x=e},n={0:e,length:e},o=[];t.prototype={valueOf:e,y:e};for(var l in new t)o.push(l);s.enumErrorProps=i.call(r,"message")||i.call(r,"name"),s.enumPrototypes=i.call(t,"prototype"),s.nonEnumShadows=!/valueOf/.test(o),s.ownLast="x"!=o[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="xx"!="x"[0]+Object("x")[0]}(1,0),t.exports=s},{}],42:[function(e,t){function n(e){return e}t.exports=n},{}],43:[function(e,t){var n=e("object-keys");t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test");if("string"==typeof t)return!1;var r=42;e[t]=r;for(t in e)return!1;if(0!==n(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||i.enumerable!==!0)return!1}return!0}},{"object-keys":50}],44:[function(e,t){var n=e("object-keys"),r=e("function-bind"),o=function(e){return"undefined"!=typeof e&&null!==e},i=e("./hasSymbols")(),a=Object,s=r.call(Function.call,Array.prototype.push),l=r.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e){if(!o(e))throw new TypeError("target must be an object");var t,r,u,c,d,p,f,h=a(e);for(t=1;t<arguments.length;++t){if(r=a(arguments[t]),c=n(r),i&&Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(r),u=0;u<d.length;++u)f=d[u],l(r,f)&&s(c,f);for(u=0;u<c.length;++u)f=c[u],p=r[f],l(r,f)&&(h[f]=p)}return h}},{"./hasSymbols":43,"function-bind":49,"object-keys":50}],45:[function(e,t){var n=e("define-properties"),r=e("./implementation"),o=e("./polyfill"),i=e("./shim");n(r,{implementation:r,getPolyfill:o,shim:i}),t.exports=r},{"./implementation":44,"./polyfill":52,"./shim":53,"define-properties":46}],46:[function(e,t){var n=e("object-keys"),r=e("foreach"),o="function"==typeof Symbol&&"symbol"==typeof Symbol(),i=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===i.call(e)},s=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},l=Object.defineProperty&&s(),u=function(e,t,n,r){(!(t in e)||a(r)&&r())&&(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var i=arguments.length>2?arguments[2]:{},a=n(t);o&&(a=a.concat(Object.getOwnPropertySymbols(t))),r(a,function(n){u(e,n,t[n],i[n])})};c.supportsDescriptors=!!l,t.exports=c},{foreach:47,"object-keys":50}],47:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;t.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;i>a;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}},{}],48:[function(e,t){var n="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==i)throw new TypeError(n+t);for(var a,s=r.call(arguments,1),l=function(){if(this instanceof a){var n=t.apply(this,s.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,s.concat(r.call(arguments)))},u=Math.max(0,t.length-s.length),c=[],d=0;u>d;d++)c.push("$"+d);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var p=function(){};p.prototype=t.prototype,a.prototype=new p,p.prototype=null}return a}},{}],49:[function(e,t){var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":48}],50:[function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Array.prototype.slice,i=e("./isArguments"),a=!{toString:null}.propertyIsEnumerable("toString"),s=function(){}.propertyIsEnumerable("prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},c={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!c["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!d)return u(e);try{return u(e)}catch(t){return!1}},f=function(e){var t=null!==e&&"object"==typeof e,o="[object Function]"===r.call(e),u=i(e),c=t&&"[object String]"===r.call(e),d=[];if(!t&&!o&&!u)throw new TypeError("Object.keys called on a non-object");var f=s&&o;if(c&&e.length>0&&!n.call(e,0))for(var h=0;h<e.length;++h)d.push(String(h));if(u&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var v in e)f&&"prototype"===v||!n.call(e,v)||d.push(String(v));if(a)for(var g=p(e),y=0;y<l.length;++y)g&&"constructor"===l[y]||!n.call(e,l[y])||d.push(l[y]);return d};f.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return i(e)?t(o.call(e)):t(e)}}}else Object.keys=f;return Object.keys||f},t.exports=f},{"./isArguments":51}],51:[function(e,t){var n=Object.prototype.toString;t.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},{}],52:[function(e,t){var n=e("./implementation"),r=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var a in o)i+=a;return e!==i},o=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};t.exports=function(){return Object.assign?r()?n:o()?n:Object.assign:n}},{"./implementation":44}],53:[function(e,t){var n=e("define-properties"),r=e("./polyfill");t.exports=function(){var e=r();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{"./polyfill":52,"define-properties":46}],54:[function(e,t){function n(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(o){r=o}return[r,n]}t.exports=n},{}],55:[function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},{}],56:[function(e,t){function n(e,t){for(var n=0;n<e.length;n++)t(e[n])}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return c(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=p(t,{uri:e}),r.callback=n,r}function i(e,t,n){return t=o(e,t,n),a(t)}function a(e){function t(){4===c.readyState&&a()}function n(){var e=void 0;if(c.response?e=c.response:"text"!==c.responseType&&c.responseType||(e=c.responseText||c.responseXML),_)try{e=JSON.parse(e)}catch(t){}return e}function o(e){clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,s(e,l)}function a(){if(!f){var t;clearTimeout(h),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=l,o=null;0!==t?(r={body:n(),statusCode:t,method:v,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(r.headers=d(c.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),s(o,r,r.body)
}}var s=e.callback;if("undefined"==typeof s)throw new Error("callback argument missing");s=u(s);var l={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:c},c=e.xhr||null;c||(c=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var p,f,h,m=c.url=e.uri||e.url,v=c.method=e.method||"GET",g=e.body||e.data||null,y=c.headers=e.headers||{},b=!!e.sync,_=!1;if("json"in e&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(e.json))),c.onreadystatechange=t,c.onload=a,c.onerror=o,c.onprogress=function(){},c.ontimeout=o,c.open(v,m,!b,e.username,e.password),b||(c.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(h=setTimeout(function(){f=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)},e.timeout)),c.setRequestHeader)for(p in y)y.hasOwnProperty(p)&&c.setRequestHeader(p,y[p]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(g),c}function s(){}var l=e("global/window"),u=e("once"),c=e("is-function"),d=e("parse-headers"),p=e("xtend");t.exports=i,i.XMLHttpRequest=l.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:l.XDomainRequest,n(["get","put","post","patch","head","delete"],function(e){i["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),a(n)}})},{"global/window":2,"is-function":57,once:58,"parse-headers":61,xtend:62}],57:[function(e,t){function n(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var r=Object.prototype.toString},{}],58:[function(e,t){function n(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],59:[function(e,t){function n(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(e)?r(e,t,n):"string"==typeof e?o(e,t,n):i(e,t,n)}function r(e,t,n){for(var r=0,o=e.length;o>r;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,o=e.length;o>r;r++)t.call(n,e.charAt(r),r,e)}function i(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var a=e("is-function");t.exports=n;var s=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":57}],60:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],61:[function(e,t){var n=e("trim"),r=e("for-each"),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return r(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));"undefined"==typeof t[i]?t[i]=a:o(t[i])?t[i].push(a):t[i]=[t[i],a]}),t}},{"for-each":59,trim:60}],62:[function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e}t.exports=n;var r=Object.prototype.hasOwnProperty},{}],63:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button.js"),s=r(a),l=e("./component.js"),u=r(l),c=function(e){function t(n,r){o(this,t),e.call(this,n,r)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(){this.player_.play()},t}(s["default"]);c.prototype.controlText_="Play Video",u["default"].registerComponent("BigPlayButton",c),n["default"]=c,t.exports=n["default"]},{"./button.js":64,"./component.js":67}],64:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=o(s),u=e("./component"),c=o(u),d=e("./utils/events.js");r(d);var p=e("./utils/fn.js");r(p);var f=e("./utils/log.js"),h=o(f),m=e("global/document");o(m);var v=e("object.assign"),g=o(v),y=function(e){function t(n,r){i(this,t),e.call(this,n,r)}return a(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=g["default"]({className:this.buildCSSClass()},t),"button"!==e&&(h["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=g["default"]({tabIndex:0},t),n=g["default"]({role:"button"},n)),n=g["default"]({type:"button","aria-live":"polite"},n);var r=c["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.constructor.name;return h["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t}(l["default"]);c["default"].registerComponent("Button",y),n["default"]=y,t.exports=n["default"]},{"./clickable-component.js":65,"./component":67,"./utils/events.js":144,"./utils/fn.js":145,"./utils/log.js":148,"global/document":1,"object.assign":45}],65:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=o(s),u=e("./utils/dom.js"),c=r(u),d=e("./utils/events.js"),p=r(d),f=e("./utils/fn.js"),h=r(f),m=e("./utils/log.js"),v=o(m),g=e("global/document"),y=o(g),b=e("object.assign"),_=o(b),w=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return a(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=_["default"]({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&v["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=_["default"]({role:"button","aria-live":"polite"},r);var o=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(o),o},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=c.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_),this.controlTextEl_},t.prototype.controlText=function(e){return e?(this.controlText_=e,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||"Need Text"},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,n)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){p.on(y["default"],"keydown",h.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){p.off(y["default"],"keydown",h.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("ClickableComponent",w),n["default"]=w,t.exports=n["default"]},{"./component":67,"./utils/dom.js":143,"./utils/events.js":144,"./utils/fn.js":145,"./utils/log.js":148,"global/document":1,"object.assign":45}],66:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./button"),s=r(a),l=e("./component"),u=r(l),c=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.controlText(r&&r.controlText||this.localize("Close"))}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(s["default"]);u["default"].registerComponent("CloseButton",c),n["default"]=c,t.exports=n["default"]},{"./button":64,"./component":67}],67:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("global/window"),s=o(a),l=e("./utils/dom.js"),u=r(l),c=e("./utils/fn.js"),d=r(c),p=e("./utils/guid.js"),f=r(p),h=e("./utils/events.js"),m=r(h),v=e("./utils/log.js"),g=o(v),y=e("./utils/to-title-case.js"),b=o(y),_=e("object.assign"),w=o(_),E=e("./utils/merge-options.js"),T=o(E),k=function(){function e(t,n,r){if(i(this,e),this.player_=!t&&this.play?t=this:t,this.options_=T["default"]({},this.options_),n=this.options_=T["default"](this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=t&&t.id&&t.id()||"no_player";this.id_=o+"_component_"+f.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return g["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=T["default"](this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return u.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var o=t.split("-")[0],i=n[o];return i&&i[e]?i[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],o=void 0,i=void 0;if("string"==typeof t){i=t,n||(n={}),n===!0&&(g["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var a=n.componentClass||b["default"](i);n.name=i;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;o=new s(this.player_||this,n)}else o=t;if(this.children_.splice(r,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),i=i||o.name&&o.name(),i&&(this.childNameIndex_[i]=o),"function"==typeof o.el&&o.el()){var l=this.contentEl().children,u=l[r]||null;this.contentEl().insertBefore(o.el(),u)}return o},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;n&&function(){var r=t.options_,o=function(e){var n=e.name,o=e.opts;if(void 0!==r[n]&&(o=r[n]),o!==!1){o===!0&&(o={}),o.playerOptions=t.options_.playerOptions;var i=t.addChild(n,o);i&&(t[n]=i)}},i=void 0,a=e.getComponent("Tech");i=Array.isArray(n)?n:Object.keys(n),i.concat(Object.keys(t.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,o=void 0;return"string"==typeof e?(r=e,o=n[r]||t.options_[r]||{}):(r=e.name,o=e),{name:r,opts:o}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||b["default"](t.name));return n&&!a.isTech(n)}).forEach(o)}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;return"string"==typeof e||Array.isArray(e)?m.on(this.el_,e,d.bind(this,t)):function(){var o=e,i=t,a=d.bind(r,n),s=function(){return r.off(o,i,a)};s.guid=a.guid,r.on("dispose",s);var l=function(){return r.off("dispose",s)};l.guid=a.guid,e.nodeName?(m.on(o,i,a),m.on(o,"dispose",l)):"function"==typeof e.on&&(o.on(i,a),o.on("dispose",l))}(),this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var r=e,o=t,i=d.bind(this,n);this.off("dispose",i),e.nodeName?(m.off(r,o,i),m.off(r,"dispose",i)):(r.off(o,i),r.off("dispose",i))}return this},e.prototype.one=function(e,t,n){var r=this,o=arguments;return"string"==typeof e||Array.isArray(e)?m.one(this.el_,e,d.bind(this,t)):function(){var i=e,a=t,s=d.bind(r,n),l=function u(){r.off(i,a,u),s.apply(null,o)};l.guid=s.guid,r.on(i,a,l)}(),this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return u.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return u.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return u.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return u.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return u.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return u.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return(null===t||t!==t)&&(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],o=r.indexOf("px");return-1!==o?parseInt(r.slice(0,o),10):parseInt(this.el_["offset"+b["default"](e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}else if(this.el_.currentStyle){var r="offset"+b["default"](e);t=this.el_[r]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,o=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t=w["default"]({},n.touches[0]),e=(new Date).getTime(),o=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)o=!1;else if(t){var r=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,a=Math.sqrt(r*r+i*i);a>n&&(o=!1)}});var i=function(){o=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(n){if(t=null,o===!0){var i=(new Date).getTime()-e;r>i&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=d.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=d.bind(this,e);var n=s["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=d.bind(this,e);var n=s["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){return e.components_||(e.components_={}),e.components_[t]=n,n},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(g["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},g["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var o in t)t.hasOwnProperty(o)&&(r.prototype[o]=t[o]);return r},e}();k.registerComponent("Component",k),n["default"]=k,t.exports=n["default"]},{"./utils/dom.js":143,"./utils/events.js":144,"./utils/fn.js":145,"./utils/guid.js":147,"./utils/log.js":148,"./utils/merge-options.js":149,"./utils/to-title-case.js":152,"global/window":2,"object.assign":45}],68:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js");r(d);var p=e("./audio-track-menu-item.js"),f=o(p),h=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),r.tracks=n.audioTracks&&n.audioTracks(),e.call(this,n,r),this.el_.setAttribute("aria-label","Audio Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new f["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);c["default"].registerComponent("AudioTrackButton",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":145,"../track-button.js":98,"./audio-track-menu-item.js":69}],69:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r){var o=this;i(this,t);var a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,e.call(this,n,r),this.track=a,s&&function(){var e=p.bind(o,o.handleTracksChange);s.addEventListener("change",e),o.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var o=n[r];o===this.track&&(o.enabled=!0)}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(l["default"]);c["default"].registerComponent("AudioTrackMenuItem",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":145}],70:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./play-toggle.js");r(l);var u=e("./time-controls/current-time-display.js");r(u);var c=e("./time-controls/duration-display.js");r(c);var d=e("./time-controls/time-divider.js");r(d);var p=e("./time-controls/remaining-time-display.js");r(p);var f=e("./live-display.js");r(f);var h=e("./progress-control/progress-control.js");r(h);var m=e("./fullscreen-toggle.js");r(m);var v=e("./volume-control/volume-control.js");r(v);var g=e("./volume-menu-button.js");r(g);var y=e("./mute-toggle.js");r(y);var b=e("./text-track-controls/chapters-button.js");r(b);var _=e("./text-track-controls/descriptions-button.js");r(_);var w=e("./text-track-controls/subtitles-button.js");r(w);var E=e("./text-track-controls/captions-button.js");r(E);var T=e("./audio-track-controls/audio-track-button.js");r(T);var k=e("./playback-rate-menu/playback-rate-menu-button.js");r(k);var x=e("./spacer-controls/custom-control-spacer.js");r(x);var j=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(s["default"]);j.prototype.options_={loadEvent:"play",children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",j),n["default"]=j,t.exports=n["default"]},{"../component.js":67,"./audio-track-controls/audio-track-button.js":68,"./fullscreen-toggle.js":71,"./live-display.js":72,"./mute-toggle.js":73,"./play-toggle.js":74,"./playback-rate-menu/playback-rate-menu-button.js":75,"./progress-control/progress-control.js":80,"./spacer-controls/custom-control-spacer.js":83,"./text-track-controls/captions-button.js":86,"./text-track-controls/chapters-button.js":87,"./text-track-controls/descriptions-button.js":89,"./text-track-controls/subtitles-button.js":91,"./time-controls/current-time-display.js":94,"./time-controls/duration-display.js":95,"./time-controls/remaining-time-display.js":96,"./time-controls/time-divider.js":97,"./volume-control/volume-control.js":100,"./volume-menu-button.js":102}],71:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button.js"),s=r(a),l=e("../component.js"),u=r(l),c=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))},t}(s["default"]);c.prototype.controlText_="Fullscreen",u["default"].registerComponent("FullscreenToggle",c),n["default"]=c,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],72:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=o(s),u=e("../utils/dom.js"),c=r(u),d=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){1/0===this.player().duration()?this.show():this.hide()},t}(l["default"]);l["default"].registerComponent("LiveDisplay",d),n["default"]=d,t.exports=n["default"]},{"../component":67,"../utils/dom.js":143}],73:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../button"),l=o(s),u=e("../component"),c=o(u),d=e("../utils/dom.js"),p=r(d),f=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"volumechange",this.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var r=0;4>r;r++)p.removeElClass(this.el_,"vjs-vol-"+r);p.addElClass(this.el_,"vjs-vol-"+t)},t}(l["default"]);f.prototype.controlText_="Mute",c["default"].registerComponent("MuteToggle",f),n["default"]=f,t.exports=n["default"]},{"../button":64,"../component":67,"../utils/dom.js":143}],74:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../button.js"),s=r(a),l=e("../component.js"),u=r(l),c=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(s["default"]);c.prototype.controlText_="Play",u["default"].registerComponent("PlayToggle",c),n["default"]=c,t.exports=n["default"]},{"../button.js":64,"../component.js":67}],75:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-button.js"),l=o(s),u=e("../../menu/menu.js"),c=o(u),d=e("./playback-rate-menu-item.js"),p=o(d),f=e("../../component.js"),h=o(f),m=e("../../utils/dom.js"),v=r(m),g=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new c["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new p["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l["default"]);g.prototype.controlText_="Playback Rate",h["default"].registerComponent("PlaybackRateMenuButton",g),n["default"]=g,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-button.js":109,"../../menu/menu.js":111,"../../utils/dom.js":143,"./playback-rate-menu-item.js":76}],76:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../menu/menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){o(this,t);var i=r.rate,a=parseFloat(i,10);r.label=i,r.selected=1===a,e.call(this,n,r),this.label=i,this.rate=a,this.on(n,"ratechange",this.update)}return i(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(s["default"]);c.prototype.contentElType="button",u["default"].registerComponent("PlaybackRateMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110}],77:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/dom.js"),c=r(u),d=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"progress",this.update)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.el_.children,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(n,t);for(var i=0;i<e.length;i++){var a=e.start(i),s=e.end(i),l=r[i];l||(l=this.el_.appendChild(c.createEl())),l.style.left=o(a,n),l.style.width=o(s-a,n)}for(var i=r.length;i>e.length;i--)this.el_.removeChild(r[i-1])},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",d),n["default"]=d,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143}],78:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/dom.js"),p=r(d),f=e("../../utils/fn.js"),h=r(f),m=e("../../utils/format-time.js"),v=o(m),g=e("lodash-compat/function/throttle"),y=o(g),b=function(e){function t(n,r){var o=this;i(this,t),e.call(this,n,r),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=p.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.update(0,0),n.on("ready",function(){o.on(n.controlBar.progressControl.el(),"mousemove",y["default"](h.bind(o,o.handleMouseMove),25))})}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-p.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=v["default"](e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),o=t-r+1,i=parseFloat(l["default"].getComputedStyle(this.tooltip).width),a=i/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(a-o)+"px"}},t.prototype.calculateDistance=function(e){return p.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(l["default"].getComputedStyle(this.player().el()).width),n=parseFloat(l["default"].getComputedStyle(this.tooltip).width),r=n/2,o=e;return r>e?o=Math.ceil(r):e>t-r&&(o=Math.floor(t-r)),o},t}(c["default"]);c["default"].registerComponent("MouseTimeDisplay",b),n["default"]=b,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/fn.js":145,"../../utils/format-time.js":146,"global/window":2,"lodash-compat/function/throttle":7}],79:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/fn.js"),c=r(u),d=e("../../utils/dom.js");r(d);var p=e("../../utils/format-time.js"),f=o(p),h=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",f["default"](e,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/fn.js":145,"../../utils/format-time.js":146}],80:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./seek-bar.js");r(l);var u=e("./mouse-time-display.js");r(u);var c=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(s["default"]);c.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./mouse-time-display.js":78,"./seek-bar.js":81}],81:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("global/window"),l=o(s),u=e("../../slider/slider.js"),c=o(u),d=e("../../component.js"),p=o(d),f=e("./load-progress-bar.js");o(f);var h=e("./play-progress-bar.js");o(h);var m=e("./tooltip-progress-bar.js");o(m);var v=e("../../utils/fn.js"),g=r(v),y=e("../../utils/format-time.js"),b=o(y),_=e("object.assign");o(_);var w=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateProgress),this.on(n,"ended",this.updateProgress),n.ready(g.bind(this,this.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(l["default"].getComputedStyle(this.player().el()).width),t=parseFloat(l["default"].getComputedStyle(this.tooltipProgressBar.tooltip).width),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-t/2)+"px",n.minWidth=Math.ceil(t/2)+"px",n.right="-"+t/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",b["default"](t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){e.prototype.handleMouseDown.call(this,t),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(c["default"]);w.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},w.prototype.playerEvent="timeupdate",p["default"].registerComponent("SeekBar",w),n["default"]=w,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":145,"../../utils/format-time.js":146,"./load-progress-bar.js":77,"./play-progress-bar.js":79,"./tooltip-progress-bar.js":82,"global/window":2,"object.assign":45}],82:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/fn.js"),c=r(u),d=e("../../utils/dom.js");r(d);var p=e("../../utils/format-time.js"),f=o(p),h=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(c.bind(this,this.updateDataAttr))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=f["default"](e,this.player_.duration());this.el_.setAttribute("data-current-time",t),this.tooltip.innerHTML=t},t}(l["default"]);l["default"].registerComponent("TooltipProgressBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/fn.js":145,"../../utils/format-time.js":146}],83:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./spacer.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(s["default"]);u["default"].registerComponent("CustomControlSpacer",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./spacer.js":84}],84:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(s["default"]);s["default"].registerComponent("Spacer",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],85:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){o(this,t),r.track={kind:r.kind,player:n,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1,e.call(this,n,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}return i(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(s["default"]);u["default"].registerComponent("CaptionSettingsMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],86:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),c=e("./caption-settings-menu-item.js"),d=r(c),p=function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Captions Menu")}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new d["default"](this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(s["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",u["default"].registerComponent("CaptionsButton",p),n["default"]=p,t.exports=n["default"]},{"../../component.js":67,"./caption-settings-menu-item.js":85,"./text-track-button.js":92}],87:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("./text-track-menu-item.js"),p=o(d),f=e("./chapters-track-menu-item.js"),h=o(f),m=e("../../menu/menu.js"),v=o(m),g=e("../../utils/dom.js"),y=r(g),b=e("../../utils/fn.js");r(b);var _=e("../../utils/to-title-case.js"),w=o(_),E=e("global/window");o(E);var T=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Chapters Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new p["default"](this.player_,{track:r}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],n=void 0,r=this.items=[],o=0,i=t.length;i>o;o++){var a=t[o];if(a.kind===this.kind_){n=a;break}}var s=this.menu;if(void 0===s){s=new v["default"](this.player_);var l=y.createEl("li",{className:"vjs-menu-title",innerHTML:w["default"](this.kind_),tabIndex:-1});s.children_.unshift(l),y.insertElFirst(l,s.contentEl())}if(n&&null==n.cues){n.mode="hidden";var u=this.player_.remoteTextTrackEls().getTrackElementByTrack_(n);u&&u.addEventListener("load",function(){return e.update()})}if(n&&n.cues&&n.cues.length>0){for(var c=n.cues,d=void 0,o=0,p=c.length;p>o;o++){d=c[o];var f=new h["default"](this.player_,{track:n,cue:d});r.push(f),s.addChild(f)}this.addChild(s)}return this.items.length>0&&this.show(),s},t}(l["default"]);T.prototype.kind_="chapters",T.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",T),n["default"]=T,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu.js":111,"../../utils/dom.js":143,"../../utils/fn.js":145,"../../utils/to-title-case.js":152,"./chapters-track-menu-item.js":88,"./text-track-button.js":92,"./text-track-menu-item.js":93,"global/window":2}],88:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r){i(this,t);var o=r.track,a=r.cue,s=n.currentTime();r.label=a.text,r.selected=a.startTime<=s&&s<a.endTime,e.call(this,n,r),this.track=o,this.cue=a,o.addEventListener("cuechange",p.bind(this,this.update))}return a(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(l["default"]);c["default"].registerComponent("ChaptersTrackMenuItem",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":145}],89:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-button.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js"),p=r(d),f=function(e){function t(n,r,o){var a=this;i(this,t),e.call(this,n,r,o),this.el_.setAttribute("aria-label","Descriptions Menu");var s=n.textTracks();s&&function(){var e=p.bind(a,a.handleTracksChange);s.addEventListener("change",e),a.on("dispose",function(){s.removeEventListener("change",e)})}()}return a(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;r>n;n++){var o=e[n];if(o.kind!==this.kind_&&"showing"===o.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);f.prototype.kind_="descriptions",f.prototype.controlText_="Descriptions",c["default"].registerComponent("DescriptionsButton",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":145,"./text-track-button.js":92}],90:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-menu-item.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r){o(this,t),r.track={kind:r.kind,player:n,label:r.kind+" off","default":!1,mode:"disabled"},r.selectable=!0,e.call(this,n,r),this.selected(!0)}return i(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;r>n;n++){var o=e[n];if(o.kind===this.track.kind&&"showing"===o.mode){t=!1;break}}this.selected(t)},t}(s["default"]);u["default"].registerComponent("OffTextTrackMenuItem",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-menu-item.js":93}],91:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./text-track-button.js"),s=r(a),l=e("../../component.js"),u=r(l),c=function(e){function t(n,r,i){o(this,t),e.call(this,n,r,i),this.el_.setAttribute("aria-label","Subtitles Menu")}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(s["default"]);c.prototype.kind_="subtitles",c.prototype.controlText_="Subtitles",u["default"].registerComponent("SubtitlesButton",c),n["default"]=c,t.exports=n["default"]},{"../../component.js":67,"./text-track-button.js":92}],92:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../track-button.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js");r(d);var p=e("./text-track-menu-item.js"),f=o(p),h=e("./off-text-track-menu-item.js"),m=o(h),v=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),r.tracks=n.textTracks(),e.call(this,n,r)}return a(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new m["default"](this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new f["default"](this.player_,{selectable:!0,track:r}))}return e},t}(l["default"]);c["default"].registerComponent("TextTrackButton",v),n["default"]=v,t.exports=n["default"]},{"../../component.js":67,"../../utils/fn.js":145,"../track-button.js":98,"./off-text-track-menu-item.js":90,"./text-track-menu-item.js":93}],93:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);
return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../menu/menu-item.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js"),p=r(d),f=e("global/window"),h=o(f),m=e("global/document"),v=o(m),g=function(e){function t(n,r){var o=this;i(this,t);var a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a["default"]||"showing"===a.mode,e.call(this,n,r),this.track=a,s&&function(){var e=p.bind(o,o.handleTracksChange);s.addEventListener("change",e),o.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&function(){var e=void 0;o.on(["tap","click"],function(){if("object"!=typeof h["default"].Event)try{e=new h["default"].Event("change")}catch(t){}e||(e=v["default"].createEvent("Event"),e.initEvent("change",!0,!0)),s.dispatchEvent(e)})}()}return a(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var o=0;o<r.length;o++){var i=r[o];i.kind===n&&(i.mode=i===this.track?"showing":"disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t}(l["default"]);c["default"].registerComponent("TextTrackMenuItem",g),n["default"]=g,t.exports=n["default"]},{"../../component.js":67,"../../menu/menu-item.js":110,"../../utils/fn.js":145,"global/document":1,"global/window":2}],94:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=o(d),f=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),n=p["default"](e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n)},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/format-time.js":146}],95:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=o(d),f=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),n=p["default"](e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> "+n}},t}(l["default"]);l["default"].registerComponent("DurationDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/format-time.js":146}],96:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../component.js"),l=o(s),u=e("../../utils/dom.js"),c=r(u),d=e("../../utils/format-time.js"),p=o(d),f=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"timeupdate",this.updateContent)}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=c.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=p["default"](this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+t)}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",f),n["default"]=f,t.exports=n["default"]},{"../../component.js":67,"../../utils/dom.js":143,"../../utils/format-time.js":146}],97:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(s["default"]);s["default"].registerComponent("TimeDivider",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],98:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../menu/menu-button.js"),l=o(s),u=e("../component.js"),c=o(u),d=e("../utils/fn.js"),p=r(d),f=function(e){function t(n,r){i(this,t);var o=r.tracks;if(e.call(this,n,r),this.items.length<=1&&this.hide(),o){var a=p.bind(this,this.update);o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),this.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a)})}}return a(t,e),t}(l["default"]);c["default"].registerComponent("TrackButton",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../menu/menu-button.js":109,"../utils/fn.js":145}],99:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../../slider/slider.js"),l=o(s),u=e("../../component.js"),c=o(u),d=e("../../utils/fn.js"),p=r(d),f=e("./volume-level.js");o(f);var h=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(p.bind(this,this.updateARIAAttributes))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(l["default"]);h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},h.prototype.playerEvent="volumechange",c["default"].registerComponent("VolumeBar",h),n["default"]=h,t.exports=n["default"]},{"../../component.js":67,"../../slider/slider.js":119,"../../utils/fn.js":145,"./volume-level.js":101}],100:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=e("./volume-bar.js");r(l);var u=function(e){function t(n,r){o(this,t),e.call(this,n,r),n.tech_&&n.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(s["default"]);u.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",u),n["default"]=u,t.exports=n["default"]},{"../../component.js":67,"./volume-bar.js":99}],101:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../../component.js"),s=r(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(s["default"]);s["default"].registerComponent("VolumeLevel",l),n["default"]=l,t.exports=n["default"]},{"../../component.js":67}],102:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/fn.js"),l=o(s),u=e("../component.js"),c=r(u),d=e("../popup/popup.js"),p=r(d),f=e("../popup/popup-button.js"),h=r(f),m=e("./mute-toggle.js"),v=r(m),g=e("./volume-control/volume-bar.js"),y=r(g),b=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),void 0===o.inline&&(o.inline=!0),void 0===o.vertical&&(o.vertical=o.inline?!1:!0),o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=!!o.vertical,e.call(this,n,o),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),r.call(this),this.on(n,"loadstart",r),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),this.on(this.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),this.on(this.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")})}return a(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new p["default"](this.player_,{contentElType:"div"}),t=new y["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){v["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(h["default"]);b.prototype.volumeUpdate=v["default"].prototype.update,b.prototype.controlText_="Mute",c["default"].registerComponent("VolumeMenuButton",b),n["default"]=b,t.exports=n["default"]},{"../component.js":67,"../popup/popup-button.js":115,"../popup/popup.js":116,"../utils/fn.js":145,"./mute-toggle.js":73,"./volume-control/volume-bar.js":99}],103:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component"),l=o(s),u=e("./modal-dialog"),c=o(u),d=e("./utils/dom");r(d);var p=e("./utils/merge-options"),f=o(p),h=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.on(n,"error",this.open)}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c["default"]);h.prototype.options_=f["default"](c["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",h),n["default"]=h,t.exports=n["default"]},{"./component":67,"./modal-dialog":112,"./utils/dom":143,"./utils/merge-options":149}],104:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var o=e("./utils/events.js"),i=r(o),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},i.on(this,e,t),this.addEventListener=n},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){i.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},i.one(this,e,t),this.addEventListener=n},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=i.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),i.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,n["default"]=a,t.exports=n["default"]},{"./utils/events.js":144}],105:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("./utils/log"),i=r(o),a=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},s=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){e.apply(this,arguments)},r={};"object"==typeof t?("function"==typeof t.init&&(i["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),a(n,e);for(var o in r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n};n["default"]=s,t.exports=n["default"]},{"./utils/log":148}],106:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var o=e("global/document"),i=r(o),a={},s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=s[0],u=void 0,c=0;c<s.length;c++)if(s[c][1]in i["default"]){u=s[c];break}if(u)for(var c=0;c<u.length;c++)a[l[c]]=u[c];n["default"]=a,t.exports=n["default"]},{"global/document":1}],107:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("./component"),s=r(a),l=function(e){function t(){o(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(s["default"]);s["default"].registerComponent("LoadingSpinner",l),n["default"]=l,t.exports=n["default"]},{"./component":67}],108:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("object.assign"),i=r(o),a=function l(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&i["default"](this,e),this.message||(this.message=l.defaultMessages[this.code]||"")};a.prototype.code=0,a.prototype.message="",a.prototype.status=null,a.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],a.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<a.errorTypes.length;s++)a[a.errorTypes[s]]=s,a.prototype[a.errorTypes[s]]=s;n["default"]=a,t.exports=n["default"]},{"object.assign":45}],109:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=o(s),u=e("../component.js"),c=o(u),d=e("./menu.js"),p=o(d),f=e("../utils/dom.js"),h=r(f),m=e("../utils/fn.js"),v=r(m),g=e("../utils/to-title-case.js"),y=o(g),b=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),e.call(this,n,r),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress)}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.options_.title){var t=h.createEl("li",{className:"vjs-menu-title",innerHTML:y["default"](this.options_.title),tabIndex:-1});e.children_.unshift(t),h.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.one("mouseout",v.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){(27===e.which||9===e.which)&&(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l["default"]);c["default"].registerComponent("MenuButton",b),n["default"]=b,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":143,"../utils/fn.js":145,"../utils/to-title-case.js":152,"./menu.js":111}],110:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../clickable-component.js"),s=r(a),l=e("../component.js"),u=r(l),c=e("object.assign"),d=r(c),p=function(e){function t(n,r){o(this,t),e.call(this,n,r),this.selectable=r.selectable,this.selected(r.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return i(t,e),t.prototype.createEl=function(t,n,r){return e.prototype.createEl.call(this,"li",d["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(s["default"]);u["default"].registerComponent("MenuItem",p),n["default"]=p,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"object.assign":45}],111:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=o(s),u=e("../utils/dom.js"),c=r(u),d=e("../utils/fn.js"),p=r(d),f=e("../utils/events.js"),h=r(f),m=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(0>e?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l["default"]);l["default"].registerComponent("Menu",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":143,"../utils/events.js":144,"../utils/fn.js":145}],112:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./utils/dom"),l=o(s),u=e("./utils/fn"),c=o(u),d=e("./utils/log");r(d);var p=e("./component"),f=r(p),h=e("./close-button");r(h);var m="vjs-modal-dialog",v=27,g=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=l.createEl("div",{className:m+"-content"},{role:"document"}),this.descEl_=l.createEl("p",{className:m+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),l.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return m+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===v&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");
return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",c.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton"),this.contentEl_=r,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(f["default"]);g.prototype.options_={temporary:!0},f["default"].registerComponent("ModalDialog",g),n["default"]=g,t.exports=n["default"]},{"./close-button":66,"./component":67,"./utils/dom":143,"./utils/fn":145,"./utils/log":148}],113:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./component.js"),l=o(s),u=e("global/document"),c=o(u),d=e("global/window"),p=o(d),f=e("./utils/events.js"),h=r(f),m=e("./utils/dom.js"),v=r(m),g=e("./utils/fn.js"),y=r(g),b=e("./utils/guid.js"),_=r(b),w=e("./utils/browser.js"),E=r(w),T=e("./utils/log.js"),k=o(T),x=e("./utils/to-title-case.js"),j=o(x),C=e("./utils/time-ranges.js"),S=e("./utils/buffer.js"),A=e("./utils/stylesheet.js"),O=r(A),I=e("./fullscreen-api.js"),P=o(I),D=e("./media-error.js"),N=o(D),L=e("safe-json-parse/tuple"),M=o(L),R=e("object.assign"),F=o(R),V=e("./utils/merge-options.js"),B=o(V),H=e("./tracks/text-track-list-converter.js"),U=o(H),W=e("./tracks/audio-track-list.js"),q=o(W),$=e("./tracks/video-track-list.js"),z=o($),G=e("./tech/loader.js");o(G);var K=e("./poster-image.js");o(K);var Y=e("./tracks/text-track-display.js");o(Y);var X=e("./loading-spinner.js");o(X);var Q=e("./big-play-button.js");o(Q);var J=e("./control-bar/control-bar.js");o(J);var Z=e("./error-display.js");o(Z);var et=e("./tracks/text-track-settings.js");o(et);var tt=e("./modal-dialog"),nt=o(tt),rt=e("./tech/tech.js"),ot=o(rt),it=e("./tech/html5.js");o(it);var at=function(e){function t(n,r,o){var a=this;if(i(this,t),n.id=n.id||"vjs_video_"+_.newGUID(),r=F["default"](t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,e.call(this,null,r,o),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&v.getElAttributes(n),this.language(this.options_.language),r.languages?function(){var e={};Object.getOwnPropertyNames(r.languages).forEach(function(t){e[t.toLowerCase()]=r.languages[t]}),a.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},this.poster_=r.poster||"",this.controls_=!!r.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var s=B["default"](this.options_);r.plugins&&function(){var e=r.plugins;Object.getOwnPropertyNames(e).forEach(function(t){"function"==typeof this[t]?this[t](e[t]):k["default"].error("Unable to find plugin:",t)},a)}(),this.options_.playerOptions=s,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label","audio player"):this.el_.setAttribute("aria-label","video player"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),E.IS_IOS||this.addClass("vjs-workinghover"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return a(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var r=v.getElAttributes(n);if(Object.getOwnPropertyNames(r).forEach(function(e){"class"===e?t.className=r[e]:t.setAttribute(e,r[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),p["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=O.createStyleElement("vjs-styles-dimensions");var o=v.$(".vjs-styles-defaults"),i=v.$("head");i.insertBefore(this.styleEl_,o?o.nextSibling:i.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=n.getElementsByTagName("a"),s=0;s<a.length;s++){var l=a.item(s);v.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(t,n),v.insertElFirst(n,t),this.children_.unshift(n),this.el_=t,t},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return k["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void 0)},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(p["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)),void 0}var r=void 0,o=void 0,i=void 0,a=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var s=i.split(":"),l=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,o=void 0!==this.height_?this.height_:r*l,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),O.setTextContent(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+o+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(ot["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=F["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var r=ot["default"].getTech(e);r||(r=l["default"].getComponent(e)),this.tech_=new r(n),this.tech_.ready(y.bind(this,this.handleTechReady_),!0),U["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||v.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=U["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.src()&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e&&e.code)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_[e](t)}catch(n){throw k["default"](n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?k["default"]("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(k["default"]("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):k["default"](t),t}},t.prototype.play=function(){return this.techCall_("play"),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")===!1?!1:!0},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):this.cache_.currentTime=this.techGet_("currentTime")||0},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,0>e&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,1/0===e?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=C.createTimeRange(0,0)),n},t.prototype.bufferedPercent=function(){return S.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=P["default"];return this.isFullscreen(!0),e.requestFullscreen?(h.on(c["default"],e.fullscreenchange,y.bind(this,function t(){this.isFullscreen(c["default"][e.fullscreenElement]),this.isFullscreen()===!1&&h.off(c["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=P["default"];return this.isFullscreen(!1),e.requestFullscreen?c["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c["default"].documentElement.style.overflow,h.on(c["default"],"keydown",y.bind(this,this.fullWindowOnEscKey)),c["default"].documentElement.style.overflow="hidden",v.addElClass(c["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,h.off(c["default"],"keydown",this.fullWindowOnEscKey),c["default"].documentElement.style.overflow=this.docOrigOverflow,v.removeElClass(c["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var o=j["default"](r[n]),i=ot["default"].getTech(o);if(i||(i=l["default"].getComponent(o)),i){if(i.isSupported()&&(t=i.canPlayType(e)))return t}else k["default"].error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this.options_.techOrder.map(j["default"]).map(function(e){return[e,ot["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(k["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){return r=n(e,t),r?!0:void 0})}),r},r=void 0,o=function(e){return function(t,n){return e(n,t)}},i=function(e,t){var n=e[0],r=e[1];return r.canPlaySource(t)?{source:t,tech:n}:void 0};return r=this.options_.sourceOrder?n(e,t,o(i)):n(t,e,i),r||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=ot["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e)?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(j["default"](this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay.close(),this):(this.error_=e instanceof N["default"]?e:new N["default"](e),this.addClass("vjs-error"),k["default"].error("(CODE:"+this.error_.code+" "+N["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=y.bind(this,this.reportUserActivity),o=function(e){(e.screenX!==t||e.screenY!==n)&&(t=e.screenX,n=e.screenY,r())},i=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(){r(),this.clearInterval(e)};this.on("mousedown",i),this.on("mousemove",o),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new z["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new q["default"],this.audioTracks_)},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){return this.tech_&&this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.track,n=void 0===t?arguments[0]:t;this.tech_&&this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return B["default"](t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=B["default"](this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=B["default"](r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new nt["default"](n,t);return n.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=v.getElAttributes(e),r=n["data-setup"];if(null!==r){var o=M["default"](r||"{}"),i=o[0],a=o[1];i&&k["default"].error(i),F["default"](n,a)}if(F["default"](t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;u>l;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(v.getElAttributes(c)):"track"===d&&t.tracks.push(v.getElAttributes(c))}return t},t}(l["default"]);at.players={};var st=p["default"].navigator;at.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:c["default"].getElementsByTagName("html")[0].getAttribute("lang")||st.languages&&st.languages[0]||st.userLanguage||st.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},at.prototype.handleLoadedMetaData_,at.prototype.handleLoadedData_,at.prototype.handleUserActive_,at.prototype.handleUserInactive_,at.prototype.handleTimeUpdate_,at.prototype.handleTechEnded_,at.prototype.handleVolumeChange_,at.prototype.handleError_,at.prototype.flexNotSupported_=function(){var e=c["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},l["default"].registerComponent("Player",at),n["default"]=at,t.exports=n["default"]},{"./big-play-button.js":63,"./component.js":67,"./control-bar/control-bar.js":70,"./error-display.js":103,"./fullscreen-api.js":106,"./loading-spinner.js":107,"./media-error.js":108,"./modal-dialog":112,"./poster-image.js":117,"./tech/html5.js":122,"./tech/loader.js":123,"./tech/tech.js":124,"./tracks/audio-track-list.js":125,"./tracks/text-track-display.js":130,"./tracks/text-track-list-converter.js":131,"./tracks/text-track-settings.js":133,"./tracks/video-track-list.js":138,"./utils/browser.js":140,"./utils/buffer.js":141,"./utils/dom.js":143,"./utils/events.js":144,"./utils/fn.js":145,"./utils/guid.js":147,"./utils/log.js":148,"./utils/merge-options.js":149,"./utils/stylesheet.js":150,"./utils/time-ranges.js":151,"./utils/to-title-case.js":152,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":54}],114:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("./player.js"),i=r(o),a=function(e,t){i["default"].prototype[e]=t};n["default"]=a,t.exports=n["default"]},{"./player.js":113}],115:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../clickable-component.js"),l=o(s),u=e("../component.js"),c=o(u),d=e("./popup.js");o(d);var p=e("../utils/dom.js");r(p);var f=e("../utils/fn.js");r(f);var h=e("../utils/to-title-case.js");o(h);var m=function(e){function t(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];
i(this,t),e.call(this,n,r),this.update()}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);c["default"].registerComponent("PopupButton",m),n["default"]=m,t.exports=n["default"]},{"../clickable-component.js":65,"../component.js":67,"../utils/dom.js":143,"../utils/fn.js":145,"../utils/to-title-case.js":152,"./popup.js":116}],116:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=o(s),u=e("../utils/dom.js"),c=r(u),d=e("../utils/fn.js"),p=r(d),f=e("../utils/events.js"),h=r(f),m=function(e){function t(){i(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=c.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),h.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Popup",m),n["default"]=m,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":143,"../utils/events.js":144,"../utils/fn.js":145}],117:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./clickable-component.js"),l=o(s),u=e("./component.js"),c=o(u),d=e("./utils/fn.js"),p=r(d),f=e("./utils/dom.js"),h=r(f),m=e("./utils/browser.js"),v=r(m),g=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.update(),n.on("posterchange",p.bind(this,this.update))}return a(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=h.createEl("div",{className:"vjs-poster",tabIndex:-1});return v.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=h.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(l["default"]);c["default"].registerComponent("PosterImage",g),n["default"]=g,t.exports=n["default"]},{"./clickable-component.js":65,"./component.js":67,"./utils/browser.js":140,"./utils/dom.js":143,"./utils/fn.js":145}],118:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e("./utils/events.js"),a=o(i),s=e("global/document"),l=r(s),u=e("global/window"),c=r(u),d=!1,p=void 0,f=function(){var e=l["default"].getElementsByTagName("video"),t=l["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,o=e.length;o>r;r++)n.push(e[r]);if(t&&t.length>0)for(var r=0,o=t.length;o>r;r++)n.push(t[r]);if(n&&n.length>0)for(var r=0,o=n.length;o>r;r++){var i=n[r];if(!i||!i.getAttribute){h(1);break}if(void 0===i.player){var a=i.getAttribute("data-setup");null!==a&&p(i)}}else d||h(1)},h=function(e,t){t&&(p=t),setTimeout(f,e)};"complete"===l["default"].readyState?d=!0:a.one(c["default"],"load",function(){d=!0});var m=function(){return d};n.autoSetup=f,n.autoSetupTimeout=h,n.hasLoaded=m},{"./utils/events.js":144,"global/document":1,"global/window":2}],119:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component.js"),l=o(s),u=e("../utils/dom.js"),c=r(u),d=e("object.assign"),p=o(d),f=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return a(t,e),t.prototype.createEl=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=p["default"]({tabIndex:0},n),r=p["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),c.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;c.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||0>e||1/0===e)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=c.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/dom.js":143,"object.assign":45}],120:[function(e,t,n){function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return-1!==n?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t){var n=e.rtmpSourceHandler.canPlayType(t.type);return n?n:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n){var r=e.streamToParts(t.src);n.setRtmpConnection(r.connection),n.setRtmpStream(r.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],121:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.charAt(0).toUpperCase()+e.slice(1);j["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){j[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var u=e("./tech"),c=o(u),d=e("../utils/dom.js"),p=r(d),f=e("../utils/url.js"),h=r(f),m=e("../utils/time-ranges.js"),v=e("./flash-rtmp"),g=o(v),y=e("../component"),b=o(y),_=e("global/window"),w=o(_),E=e("object.assign"),T=o(E),k=w["default"].navigator,x=function(e){function t(n,r){i(this,t),e.call(this,n,r),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),w["default"].videojs=w["default"].videojs||{},w["default"].videojs.Flash=w["default"].videojs.Flash||{},w["default"].videojs.Flash.onReady=t.onReady,w["default"].videojs.Flash.onEvent=t.onEvent,w["default"].videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return a(t,e),t.prototype.createEl=function(){var e=this.options_;e.swf||(e.swf="//vjs.zencdn.net/swf/5.0.1/video-js.swf");var n=e.techId,r=T["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=T["default"]({wmode:"opaque",bgcolor:"#000000"},e.params),i=T["default"]({id:n,name:n,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,r,o,i),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=h.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?m.createTimeRange():m.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?m.createTimeRange():m.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(c["default"]),j=x.prototype,C="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),S="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),A=0;A<C.length;A++)l(C[A]),s(C[A]);for(var A=0;A<S.length;A++)l(S[A]);x.isSupported=function(){return x.version()[0]>=10},c["default"].withSourceHandlers(x),x.nativeSourceHandler={},x.nativeSourceHandler.canPlayType=function(e){return e in x.formats?"maybe":""},x.nativeSourceHandler.canHandleSource=function(e){function t(e){var t=h.getFileExtension(e);return t?"video/"+t:""}var n;return n=e.type?e.type.replace(/;.*/,"").toLowerCase():t(e.src),x.nativeSourceHandler.canPlayType(n)},x.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},x.nativeSourceHandler.dispose=function(){},x.registerSourceHandler(x.nativeSourceHandler),x.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},x.onReady=function(e){var t=p.getEl(e),n=t&&t.tech;n&&n.el()&&x.checkReady(n)},x.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){x.checkReady(e)},50))},x.onEvent=function(e,t){var n=p.getEl(e).tech;n.trigger(t)},x.onError=function(e,t){var n=p.getEl(e).tech;return"srcnotfound"===t?n.error(4):(n.error("FLASH: "+t),void 0)},x.version=function(){var e="0,0,0";try{e=new w["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{k.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(k.plugins["Shockwave Flash 2.0"]||k.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},x.embed=function(e,t,n,r){var o=x.getEmbedCode(e,t,n,r),i=p.createEl("div",{innerHTML:o}).childNodes[0];return i},x.getEmbedCode=function(e,t,n,r){var o='<object type="application/x-shockwave-flash" ',i="",a="",s="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=e+"="+t[e]+"&amp;"}),n=T["default"]({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+='<param name="'+e+'" value="'+n[e]+'" />'}),r=T["default"]({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){s+=e+'="'+r[e]+'" '}),""+o+s+">"+a+"</object>"},g["default"](x),b["default"].registerComponent("Flash",x),c["default"].registerTech("Flash",x),n["default"]=x,t.exports=n["default"]},{"../component":67,"../utils/dom.js":143,"../utils/time-ranges.js":151,"../utils/url.js":153,"./flash-rtmp":120,"./tech":124,"global/window":2,"object.assign":45}],122:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e.raw=t,e}n.__esModule=!0;var l=s(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),u=e("./tech.js"),c=o(u),d=e("../component"),p=o(d),f=e("../utils/dom.js"),h=r(f),m=e("../utils/url.js"),v=r(m),g=e("../utils/fn.js"),y=r(g),b=e("../utils/log.js"),_=o(b),w=e("tsml"),E=o(w),T=e("../../../src/js/tracks/text-track.js");o(T);var k=e("../utils/browser.js"),x=r(k),j=e("global/document"),C=o(j),S=e("global/window"),A=o(S),O=e("object.assign"),I=o(O),P=e("../utils/merge-options.js"),D=o(P),N=e("../utils/to-title-case.js"),L=o(N),M=function(e){function t(n,r){var o=this;i(this,t),e.call(this,n,r);var a=n.source,s=!1;if(a&&(this.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(a):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var u=this.el_.childNodes,c=u.length,d=[];c--;){var p=u[c],f=p.nodeName.toLowerCase();"track"===f&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(p),this.remoteTextTracks().addTrack_(p.track),s||this.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(p.src)||(s=!0)):d.push(p))}for(var h=0;h<d.length;h++)this.el_.removeChild(d[h])}var m=["audio","video"];m.forEach(function(e){var t=L["default"](e);if(o["featuresNative"+t+"Tracks"]){var n=o.el()[e+"Tracks"];n&&n.addEventListener&&(n.addEventListener("change",y.bind(o,o["handle"+t+"TrackChange_"])),n.addEventListener("addtrack",y.bind(o,o["handle"+t+"TrackAdd_"])),n.addEventListener("removetrack",y.bind(o,o["handle"+t+"TrackRemove_"])))}}),this.featuresNativeTextTracks&&(s&&_["default"].warn(E["default"](l)),this.handleTextTrackChange_=y.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=y.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=y.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(x.TOUCH_ENABLED&&n.nativeControlsForTouch===!0||x.IS_IPHONE||x.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=L["default"](e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"]))}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||this.movingMediaElementInDOM===!1)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=C["default"].createElement("video");var r=this.options_.tag&&h.getElAttributes(this.options_.tag),o=D["default"]({},r);x.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete o.controls,h.setElAttributes(e,I["default"](o,{id:this.options_.techId,"class":"vjs-tech"}))}for(var i=["autoplay","preload","loop","muted"],a=i.length-1;a>=0;a--){var s=i[a],l={};"undefined"!=typeof this.options_[s]&&(l[s]=this.options_[s]),h.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var n=function(){var e=!1,n=function(){e=!0};t.on("loadstart",n);var r=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",r),t.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_))}},t.prototype.handleTextTrackChange=function(){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.handleVideoTrackChange_=function(){var e=this.videoTracks();this.videoTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleVideoTrackAdd_=function(e){this.videoTracks().addTrack_(e.track)},t.prototype.handleVideoTrackRemove_=function(e){this.videoTracks().removeTrack_(e.track)},t.prototype.handleAudioTrackChange_=function(){var e=this.audioTracks();this.audioTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleAudioTrackAdd_=function(e){this.audioTracks().addTrack_(e.track)},t.prototype.handleAudioTrackRemove_=function(e){this.audioTracks().removeTrack_(e.track)},t.prototype.play=function(){this.el_.play()},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){_["default"](t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=A["default"].navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:(this.setSrc(e),void 0)},t.prototype.setSrc=function(e){this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){this.el_.poster=e},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(){return this.el_.error},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var n=C["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),this.el().appendChild(n),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var n=void 0,r=void 0,o=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack_(t),n=this.$$("track"),r=n.length;r--;)(t===n[r]||t===n[r].track)&&this.el().removeChild(n[r])},t}(c["default"]);M.TEST_VID=C["default"].createElement("video");var R=C["default"].createElement("track");R.kind="captions",R.srclang="en",R.label="English",M.TEST_VID.appendChild(R),M.isSupported=function(){try{M.TEST_VID.volume=.5}catch(e){return!1}return!!M.TEST_VID.canPlayType},c["default"].withSourceHandlers(M),M.nativeSourceHandler={},M.nativeSourceHandler.canPlayType=function(e){try{return M.TEST_VID.canPlayType(e)}catch(t){return""}},M.nativeSourceHandler.canHandleSource=function(e){var t;return e.type?M.nativeSourceHandler.canPlayType(e.type):e.src?(t=v.getFileExtension(e.src),M.nativeSourceHandler.canPlayType("video/"+t)):""},M.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},M.nativeSourceHandler.dispose=function(){},M.registerSourceHandler(M.nativeSourceHandler),M.canControlVolume=function(){var e=M.TEST_VID.volume;return M.TEST_VID.volume=e/2+.1,e!==M.TEST_VID.volume},M.canControlPlaybackRate=function(){if(x.IS_ANDROID&&x.IS_CHROME)return!1;var e=M.TEST_VID.playbackRate;return M.TEST_VID.playbackRate=e/2+.1,e!==M.TEST_VID.playbackRate},M.supportsNativeTextTracks=function(){var e;return e=!!M.TEST_VID.textTracks,e&&M.TEST_VID.textTracks.length>0&&(e="number"!=typeof M.TEST_VID.textTracks[0].mode),e&&x.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in M.TEST_VID.textTracks||(e=!1),e},M.supportsNativeVideoTracks=function(){var e=!!M.TEST_VID.videoTracks;return e},M.supportsNativeAudioTracks=function(){var e=!!M.TEST_VID.audioTracks;return e},M.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],M.prototype.featuresVolumeControl=M.canControlVolume(),M.prototype.featuresPlaybackRate=M.canControlPlaybackRate(),M.prototype.movingMediaElementInDOM=!x.IS_IOS,M.prototype.featuresFullscreenResize=!0,M.prototype.featuresProgressEvents=!0,M.prototype.featuresNativeTextTracks=M.supportsNativeTextTracks(),M.prototype.featuresNativeVideoTracks=M.supportsNativeVideoTracks(),M.prototype.featuresNativeAudioTracks=M.supportsNativeAudioTracks();var F=void 0,V=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,B=/^video\/mp4/i;M.patchCanPlayType=function(){x.ANDROID_VERSION>=4&&(F||(F=M.TEST_VID.constructor.prototype.canPlayType),M.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&V.test(e)?"maybe":F.call(this,e)}),x.IS_OLD_ANDROID&&(F||(F=M.TEST_VID.constructor.prototype.canPlayType),M.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&B.test(e)?"maybe":F.call(this,e)})},M.unpatchCanPlayType=function(){var e=M.TEST_VID.constructor.prototype.canPlayType;return M.TEST_VID.constructor.prototype.canPlayType=F,F=null,e},M.patchCanPlayType(),M.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},M.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},p["default"].registerComponent("Html5",M),c["default"].registerTech("Html5",M),n["default"]=M,t.exports=n["default"]},{"../../../src/js/tracks/text-track.js":134,"../component":67,"../utils/browser.js":140,"../utils/dom.js":143,"../utils/fn.js":145,"../utils/log.js":148,"../utils/merge-options.js":149,"../utils/to-title-case.js":152,"../utils/url.js":153,"./tech.js":124,"global/document":1,"global/window":2,"object.assign":45,tsml:55}],123:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e("../component.js"),s=r(a),l=e("./tech.js"),u=r(l),c=e("global/window");r(c);var d=e("../utils/to-title-case.js"),p=r(d),f=function(e){function t(n,r,i){if(o(this,t),e.call(this,n,r,i),r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var a=0,l=r.playerOptions.techOrder;a<l.length;a++){var c=p["default"](l[a]),d=u["default"].getTech(c);if(c||(d=s["default"].getComponent(c)),d&&d.isSupported()){n.loadTech_(c);break}}}return i(t,e),t}(s["default"]);s["default"].registerComponent("MediaLoader",f),n["default"]=f,t.exports=n["default"]},{"../component.js":67,"../utils/to-title-case.js":152,"./tech.js":124,"global/window":2}],124:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../component"),l=o(s),u=e("../tracks/html-track-element"),c=o(u),d=e("../tracks/html-track-element-list"),p=o(d),f=e("../utils/merge-options.js"),h=o(f),m=e("../tracks/text-track"),v=o(m),g=e("../tracks/text-track-list"),y=o(g),b=e("../tracks/video-track");o(b);var _=e("../tracks/video-track-list"),w=o(_),E=e("../tracks/audio-track-list"),T=o(E),k=e("../tracks/audio-track");
o(k);var x=e("../utils/fn.js"),j=r(x),C=e("../utils/log.js"),S=o(C),A=e("../utils/time-ranges.js"),O=e("../utils/buffer.js"),I=e("../media-error.js"),P=o(I),D=e("global/window"),N=o(D),L=e("global/document"),M=o(L),R=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];i(this,t),n.reportTouchActivity=!1,e.call(this,null,n,r),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.videoTracks_=n.videoTracks,this.audioTracks_=n.audioTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(n.nativeCaptions===!1||n.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.initTrackListeners(),this.emitTapEvents()}return a(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(j.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return A.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return O.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var o=n[r];"text"===e&&t.removeRemoteTextTrack(o),n.removeTrack_(o)}})},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=e instanceof P["default"]?e:new P["default"](e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?A.createTimeRange(0,0):A.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=j.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",j.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){N["default"].WebVTT||null==this.el().parentNode||function(){var t=M["default"].createElement("script");t.src=e.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),N["default"].WebVTT=!0,e.el().parentNode.appendChild(t)}();var n=function(){return e.trigger("texttrackchange")},r=function(){n();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",n),"showing"===r.mode&&r.addEventListener("cuechange",n)}};r(),t.addEventListener("change",r),this.on("dispose",function(){t.removeEventListener("change",r)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new w["default"],this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new T["default"],this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new y["default"],this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new y["default"],this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return F(this,e,t,n)},t.prototype.addRemoteTextTrack=function(e){var t=h["default"](e,{tech:this}),n=new c["default"](t);return this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),this.textTracks().addTrack_(n.track),n},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=n,n},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:N["default"]&&N["default"].videojs&&N["default"].videojs[e]?(S["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),N["default"].videojs[e]):void 0},t}(l["default"]);R.prototype.textTracks_,R.prototype.audioTracks_,R.prototype.videoTracks_;var F=function(e,t,n,r){var o=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],i=e.textTracks();o.kind=t,n&&(o.label=n),r&&(o.language=r),o.tech=e;var a=new v["default"](o);return i.addTrack_(a),a};R.prototype.featuresVolumeControl=!0,R.prototype.featuresFullscreenResize=!1,R.prototype.featuresPlaybackRate=!1,R.prototype.featuresProgressEvents=!1,R.prototype.featuresTimeupdateEvents=!1,R.prototype.featuresNativeTextTracks=!1,R.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,o=0;o<n.length;o++)if(r=n[o].canPlayType(t))return r;return""},e.selectSourceHandler=function(t){for(var n=e.sourceHandlers||[],r=void 0,o=0;o<n.length;o++)if(r=n[o].canHandleSource(t))return n[o];return null},e.canPlaySource=function(t){var n=e.selectSourceHandler(t);return n?n.canHandleSource(t):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:S["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",R),l["default"].registerComponent("MediaTechController",R),R.registerTech("Tech",R),n["default"]=R,t.exports=n["default"]},{"../component":67,"../media-error.js":108,"../tracks/audio-track":126,"../tracks/audio-track-list":125,"../tracks/html-track-element":128,"../tracks/html-track-element-list":127,"../tracks/text-track":134,"../tracks/text-track-list":132,"../tracks/video-track":139,"../tracks/video-track-list":138,"../utils/buffer.js":141,"../utils/fn.js":145,"../utils/log.js":148,"../utils/merge-options.js":149,"../utils/time-ranges.js":151,"global/document":1,"global/window":2}],125:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=o(s),u=e("../utils/browser.js"),c=r(u),d=e("global/document"),p=o(d),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,t);for(var r=void 0,o=n.length-1;o>=0;o--)if(n[o].enabled){f(n,n[o]);break}if(c.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],126:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=o(l),c=e("../utils/merge-options"),d=o(c),p=e("../utils/browser.js"),f=r(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var r=d["default"](n,{kind:s.AudioTrackKind[n.kind]||""}),o=e.call(this,r),a=!1;if(f.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(o[l]=t.prototype[l]);return Object.defineProperty(o,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),r.enabled&&(o.enabled=r.enabled),o.loaded_=!0,o}return a(t,e),t}(u["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":149,"./track":137,"./track-enums":135}],127:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=o(a),l=e("global/document"),u=r(l),c=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var o=0,a=t.length;a>o;o++)n.addTrackElement_(t[o]);return s.IS_IE8?n:void 0}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;r>n;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;n>t;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=c,t.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],128:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=o(s),u=e("global/document"),c=r(u),d=e("../event-target"),p=r(d),f=e("../tracks/text-track"),h=r(f),m=0,v=1,g=2,y=3,b=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),e.call(this);var r=void 0,o=this;if(l.IS_IE8){o=c["default"].createElement("custom");for(var a in t.prototype)"constructor"!==a&&(o[a]=t.prototype[a])}var s=new h["default"](n);return o.kind=s.kind,o.src=s.src,o.srclang=s.language,o.label=s.label,o["default"]=s["default"],Object.defineProperty(o,"readyState",{get:function(){return r}}),Object.defineProperty(o,"track",{get:function(){return s}}),r=m,s.addEventListener("loadeddata",function(){r=g,o.trigger({type:"load",target:o})}),l.IS_IE8?o:void 0}return a(t,e),t}(p["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=m,b.LOADING=v,b.LOADED=g,b.ERROR=y,n["default"]=b,t.exports=n["default"]},{"../event-target":104,"../tracks/text-track":134,"../utils/browser.js":140,"global/document":1}],129:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../utils/browser.js"),s=o(a),l=e("global/document"),u=r(l),c=function(){function e(t){i(this,e);var n=this;if(s.IS_IE8){n=u["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}return e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),s.IS_IE8?n:void 0}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var o=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(r>t)for(n=t;r>n;n++)o.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var o=this[n];if(o.id===e){t=o;break}}return t},e}();n["default"]=c,t.exports=n["default"]},{"../utils/browser.js":140,"global/document":1}],130:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(r){}}n.__esModule=!0;var u=e("../component"),c=o(u),d=e("../menu/menu.js");o(d);var p=e("../menu/menu-item.js");o(p);var f=e("../menu/menu-button.js");o(f);var h=e("../utils/fn.js"),m=r(h),v=e("global/document");o(v);var g=e("global/window"),y=o(g),b="#222",_="#ccc",w={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},E=function(e){function t(n,r,o){i(this,t),e.call(this,n,r,o),n.on("loadstart",m.bind(this,this.toggleDisplay)),n.on("texttrackchange",m.bind(this,this.updateDisplay)),n.ready(m.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return this.hide(),void 0;n.on("fullscreenchange",m.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var r=e[t];this.player_.addRemoteTextTrack(r)}var o={captions:1,subtitles:1},i=this.player_.textTracks(),a=void 0,s=void 0;if(i){for(var t=0;t<i.length;t++){var r=i[t];r["default"]&&("descriptions"!==r.kind||a?r.kind in o&&!s&&(s=r):a=r)}s?s.mode="showing":a&&(a.mode="showing")}}))}return a(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof y["default"].WebVTT&&y["default"].WebVTT.processCues(y["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var o=e[r];"showing"===o.mode&&("descriptions"===o.kind?t=o:n=o)}n?this.updateForTrack(n):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if("function"==typeof y["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);y["default"].WebVTT.processCues(y["default"],n,this.el_);for(var o=n.length;o--;){var i=n[o];if(i){var a=i.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&l(a.firstChild,"color",s(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(a.firstChild,"backgroundColor",s(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(a,"backgroundColor",s(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+b+", 2px 2px "+b+", 3px 3px "+b:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+_+", 0 1px "+_+", -1px -1px "+b+", 0 -1px "+b:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b+", 0 0 4px "+b)),t.fontPercent&&1!==t.fontPercent){var u=y["default"].parseFloat(a.style.fontSize);a.style.fontSize=u*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=w[t.fontFamily])}}}},t}(c["default"]);c["default"].registerComponent("TextTrackDisplay",E),n["default"]=E,t.exports=n["default"]},{"../component":67,"../menu/menu-button.js":109,"../menu/menu-item.js":110,"../menu/menu.js":111,"../utils/fn.js":145,"global/document":1,"global/window":2}],131:[function(e,t,n){n.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},o=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),o=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return o.concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(r))},i=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:o,jsonToTextTracks:i,trackToJson_:r},t.exports=n["default"]},{}],132:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=o(s),u=e("../utils/fn.js"),c=r(u),d=e("../utils/browser.js"),p=r(d),f=e("global/document"),h=o(f),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,t);var r=void 0;if(p.IS_IE8){r=h["default"].createElement("custom");for(var o in l["default"].prototype)"constructor"!==o&&(r[o]=l["default"].prototype[o]);for(var o in t.prototype)"constructor"!==o&&(r[o]=t.prototype[o])}return r=e.call(this,n,r)}return a(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",c.bind(this,function(){this.trigger("change")}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;r>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(l["default"]);n["default"]=m,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":145,"./track-list":136,"global/document":1}],133:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function l(e,t){if(t){var n=void 0;for(n=0;n<e.options.length;n++){var r=e.options[n];if(r.value===t)break}e.selectedIndex=n}}function u(){var e='<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';return e}n.__esModule=!0;var c=e("../component"),d=o(c),p=e("../utils/events.js"),f=r(p),h=e("../utils/fn.js"),m=r(h),v=e("../utils/log.js"),g=o(v),y=e("safe-json-parse/tuple"),b=o(y),_=e("global/window"),w=o(_),E=function(e){function t(n,r){i(this,t),e.call(this,n,r),this.hide(),void 0===r.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),f.on(this.$(".vjs-done-button"),"click",m.bind(this,function(){this.saveSettings(),this.hide()})),f.on(this.$(".vjs-default-button"),"click",m.bind(this,function(){this.$(".vjs-fg-color > select").selectedIndex=0,this.$(".vjs-bg-color > select").selectedIndex=0,this.$(".window-color > select").selectedIndex=0,this.$(".vjs-text-opacity > select").selectedIndex=0,this.$(".vjs-bg-opacity > select").selectedIndex=0,this.$(".vjs-window-opacity > select").selectedIndex=0,this.$(".vjs-edge-style select").selectedIndex=0,this.$(".vjs-font-family select").selectedIndex=0,this.$(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),f.on(this.$(".vjs-fg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".window-color > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-text-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-bg-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-window-opacity > select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-percent select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-edge-style select"),"change",m.bind(this,this.updateDisplay)),f.on(this.$(".vjs-font-family select"),"change",m.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()
}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:u()})},t.prototype.getValues=function(){var e=s(this.$(".vjs-edge-style select")),t=s(this.$(".vjs-font-family select")),n=s(this.$(".vjs-fg-color > select")),r=s(this.$(".vjs-text-opacity > select")),o=s(this.$(".vjs-bg-color > select")),i=s(this.$(".vjs-bg-opacity > select")),a=s(this.$(".window-color > select")),l=s(this.$(".vjs-window-opacity > select")),u=w["default"].parseFloat(s(this.$(".vjs-font-percent > select"))),c={backgroundOpacity:i,textOpacity:r,windowOpacity:l,edgeStyle:e,fontFamily:t,color:n,backgroundColor:o,windowColor:a,fontPercent:u};for(var d in c)(""===c[d]||"none"===c[d]||"fontPercent"===d&&1===c[d])&&delete c[d];return c},t.prototype.setValues=function(e){l(this.$(".vjs-edge-style select"),e.edgeStyle),l(this.$(".vjs-font-family select"),e.fontFamily),l(this.$(".vjs-fg-color > select"),e.color),l(this.$(".vjs-text-opacity > select"),e.textOpacity),l(this.$(".vjs-bg-color > select"),e.backgroundColor),l(this.$(".vjs-bg-opacity > select"),e.backgroundOpacity),l(this.$(".window-color > select"),e.windowColor),l(this.$(".vjs-window-opacity > select"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),l(this.$(".vjs-font-percent > select"),t)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var n=b["default"](w["default"].localStorage.getItem("vjs-text-track-settings"));e=n[0],t=n[1],e&&g["default"].error(e)}catch(r){g["default"].warn(r)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?w["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):w["default"].localStorage.removeItem("vjs-text-track-settings")}catch(t){g["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(d["default"]);d["default"].registerComponent("TextTrackSettings",E),n["default"]=E,t.exports=n["default"]},{"../component":67,"../utils/events.js":144,"../utils/fn.js":145,"../utils/log.js":148,"global/window":2,"safe-json-parse/tuple":54}],134:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./text-track-cue-list"),l=o(s),u=e("../utils/fn.js"),c=r(u),d=e("./track-enums"),p=e("../utils/log.js"),f=o(p),h=e("global/document");o(h);var m=e("global/window"),v=o(m),g=e("./track.js"),y=o(g),b=e("../utils/url.js"),_=e("xhr"),w=o(_),E=e("../utils/merge-options"),T=o(E),k=e("../utils/browser.js"),x=r(k),j=function(e,t){var n=new v["default"].WebVTT.Parser(v["default"],v["default"].vttjs,v["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(console.groupCollapsed&&console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return f["default"].error(e)}),console.groupEnd&&console.groupEnd()),n.flush()},C=function(e,t){var n={uri:e},r=b.isCrossOrigin(e);r&&(n.cors=r),w["default"](n,c.bind(this,function(e,n,r){return e?f["default"].error(e,n):(t.loaded_=!0,"function"!=typeof v["default"].WebVTT?t.tech_&&function(){var e=function(){return j(r,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){f["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():j(r,t),void 0)}))},S=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(i(this,t),!n.tech)throw new Error("A tech was not provided.");var r=T["default"](n,{kind:d.TextTrackKind[n.kind]||"subtitles",language:n.language||n.srclang||""}),o=d.TextTrackMode[r.mode]||"disabled",a=r["default"];("metadata"===r.kind||"chapters"===r.kind)&&(o="hidden");var s=e.call(this,r);if(s.tech_=r.tech,x.IS_IE8)for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u]);s.cues_=[],s.activeCues_=[];var p=new l["default"](s.cues_),f=new l["default"](s.activeCues_),h=!1,m=c.bind(s,function(){this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==o&&s.tech_.on("timeupdate",m),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return o},set:function(e){d.TextTrackMode[e]&&(o=e,"showing"===o&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?p:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;r>n;n++){var o=this.cues[n];o.startTime<=e&&o.endTime>=e?t.push(o):o.startTime===o.endTime&&o.startTime<=e&&o.startTime+.5>=e&&t.push(o)}if(h=!1,t.length!==this.activeCues_.length)h=!0;else for(var n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(h=!0);return this.activeCues_=t,f.setCues_(this.activeCues_),f},set:function(){}}),r.src?(s.src=r.src,C(r.src,s)):s.loaded_=!0,s}return a(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var n=0;n<t.length;n++)t[n]!==this&&t[n].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;r>n;n++){var o=this.cues_[n];o===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(y["default"]);S.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=S,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/fn.js":145,"../utils/log.js":148,"../utils/merge-options":149,"../utils/url.js":153,"./text-track-cue-list":129,"./track-enums":135,"./track.js":137,"global/document":1,"global/window":2,xhr:56}],135:[function(e,t,n){n.__esModule=!0;var r={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},o={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},a={disabled:"disabled",hidden:"hidden",showing:"showing"};n["default"]={VideoTrackKind:r,AudioTrackKind:o,TextTrackKind:i,TextTrackMode:a},t.exports=n["default"]},{}],136:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../event-target"),l=o(s),u=e("../utils/fn.js");r(u);var c=e("../utils/browser.js"),d=r(c),p=e("global/document"),f=o(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(i(this,t),e.call(this),!r&&(r=this,d.IS_IE8)){r=f["default"].createElement("custom");for(var o in t.prototype)"constructor"!==o&&(r[o]=t.prototype[o])}r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack_(n[a]);return r}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;r>n;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;r>n;n++){var o=this[n];if(o.id===e){t=o;break}}return t},t}(l["default"]);h.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in h.prototype.allowedEvents_)h.prototype["on"+m]=null;n["default"]=h,t.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/fn.js":145,"global/document":1}],137:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("../utils/browser.js"),l=o(s),u=e("global/document"),c=r(u),d=e("../utils/guid.js"),p=o(d),f=e("../event-target"),h=r(f),m=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),e.call(this);var r=this;if(l.IS_IE8){r=c["default"].createElement("custom");for(var o in t.prototype)"constructor"!==o&&(r[o]=t.prototype[o])}var a={id:n.id||"vjs_track_"+p.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},s=function(e){Object.defineProperty(r,e,{get:function(){return a[e]},set:function(){}})};for(var u in a)s(u);return r}return a(t,e),t}(h["default"]);n["default"]=m,t.exports=n["default"]},{"../event-target":104,"../utils/browser.js":140,"../utils/guid.js":147,"global/document":1}],138:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-list"),l=o(s),u=e("../utils/browser.js"),c=r(u),d=e("global/document"),p=o(d),f=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,t);for(var r=void 0,o=n.length-1;o>=0;o--)if(n[o].selected){f(n,n[o]);break}if(c.IS_IE8){r=p["default"].createElement("custom");for(var a in l["default"].prototype)"constructor"!==a&&(r[a]=l["default"].prototype[a]);for(var a in t.prototype)"constructor"!==a&&(r[a]=t.prototype[a])}return r=e.call(this,n,r),r.changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&f(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,f(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"./track-list":136,"global/document":1}],139:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var s=e("./track-enums"),l=e("./track"),u=o(l),c=e("../utils/merge-options"),d=o(c),p=e("../utils/browser.js"),f=r(p),h=function(e){function t(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var r=d["default"](n,{kind:s.VideoTrackKind[n.kind]||""}),o=e.call(this,r),a=!1;if(f.IS_IE8)for(var l in t.prototype)"constructor"!==l&&(o[l]=t.prototype[l]);return Object.defineProperty(o,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),r.selected&&(o.selected=r.selected),o}return a(t,e),t}(u["default"]);n["default"]=h,t.exports=n["default"]},{"../utils/browser.js":140,"../utils/merge-options":149,"./track":137,"./track-enums":135}],140:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("global/document"),i=r(o),a=e("global/window"),s=r(a),l=s["default"].navigator.userAgent,u=/AppleWebKit\/([\d.]+)/i.exec(l),c=u?parseFloat(u.pop()):null,d=/iPad/i.test(l);n.IS_IPAD=d;var p=/iPhone/i.test(l)&&!d;n.IS_IPHONE=p;var f=/iPod/i.test(l);n.IS_IPOD=f;var h=p||d||f;n.IS_IOS=h;var m=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}();n.IOS_VERSION=m;var v=/Android/i.test(l);n.IS_ANDROID=v;var g=function(){var e,t,n=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}();n.ANDROID_VERSION=g;var y=v&&/webkit/i.test(l)&&2.3>g;n.IS_OLD_ANDROID=y;var b=v&&5>g&&537>c;n.IS_NATIVE_ANDROID=b;var _=/Firefox/i.test(l);n.IS_FIREFOX=_;var w=/Edge/i.test(l);n.IS_EDGE=w;var E=!w&&/Chrome/i.test(l);n.IS_CHROME=E;var T=/MSIE\s8\.0/.test(l);n.IS_IE8=T;var k=!!("ontouchstart"in s["default"]||s["default"].DocumentTouch&&i["default"]instanceof s["default"].DocumentTouch);n.TOUCH_ENABLED=k;var x="backgroundSize"in i["default"].createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=x},{"global/document":1,"global/window":2}],141:[function(e,t,n){function r(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=o.createTimeRange(0,0));for(var a=0;a<e.length;a++)n=e.start(a),r=e.end(a),r>t&&(r=t),i+=r-n;return i/t}n.__esModule=!0,n.bufferedPercent=r;var o=e("./time-ranges.js")},{"./time-ranges.js":151}],142:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("./log.js"),i=r(o),a={get:function(e,t){return e[t]},set:function(e,t,n){return e[t]=n,!0}};n["default"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("function"==typeof Proxy){var n=function(){var n={};return Object.keys(t).forEach(function(e){a.hasOwnProperty(e)&&(n[e]=function(){return i["default"].warn(t[e]),a[e].apply(this,arguments)})}),{v:new Proxy(e,n)}}();if("object"==typeof n)return n.v}return e},t.exports=n["default"]},{"./log.js":148}],143:[function(e,t,n){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return e.raw=t,e}function a(e){return"string"==typeof e&&/\S/.test(e)}function s(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function l(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function u(e){return function(t,n){return a(t)?(a(n)&&(n=L["default"].querySelector(n)),(C(n)?n:L["default"])[e](t)):L["default"][e](null)}}function c(e){return 0===e.indexOf("#")&&(e=e.slice(1)),L["default"].getElementById(e)}function d(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=L["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(H["default"].warn(W["default"](D,e,n)),r.setAttribute(e,n)):r[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){n[e],r.setAttribute(e,n[e])}),r}function p(e,t){"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t}function f(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function h(e){var t=e[$];return t||(t=e[$]=V.newGUID()),q[t]||(q[t]={}),q[t]}function m(e){var t=e[$];return t?!!Object.getOwnPropertyNames(q[t]).length:!1}function v(e){var t=e[$];if(t){delete q[t];try{delete e[$]}catch(n){e.removeAttribute?e.removeAttribute($):e[$]=null}}}function g(e,t){return e.classList?e.classList.contains(t):(s(t),l(t).test(e.className))}function y(e,t){return e.classList?e.classList.add(t):g(e,t)||(e.className=(e.className+" "+t).trim()),e}function b(e,t){return e.classList?e.classList.remove(t):(s(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function _(e,t,n){var r=g(e,t);return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r?(n?y(e,t):b(e,t),e):void 0}function w(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function E(e){var t,n,r,o,i;if(t={},n=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0){r=e.attributes;for(var a=r.length-1;a>=0;a--)o=r[a].name,i=r[a].value,("boolean"==typeof e[o]||-1!==n.indexOf(","+o+","))&&(i=null!==i?!0:!1),t[o]=i}return t}function T(){L["default"].body.focus(),L["default"].onselectstart=function(){return!1}}function k(){L["default"].onselectstart=function(){return!0}}function x(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=L["default"].documentElement,r=L["default"].body,o=n.clientLeft||r.clientLeft||0,i=R["default"].pageXOffset||r.scrollLeft,a=t.left+i-o,s=n.clientTop||r.clientTop||0,l=R["default"].pageYOffset||r.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function j(e,t){var n={},r=x(e),o=e.offsetWidth,i=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+i)/i)),n.x=Math.max(0,Math.min(1,(u-s)/o)),n}function C(e){return!!e&&"object"==typeof e&&1===e.nodeType}function S(e){return!!e&&"object"==typeof e&&3===e.nodeType}function A(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function O(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),C(e)||S(e)?e:"string"==typeof e&&/\S/.test(e)?L["default"].createTextNode(e):void 0}).filter(function(e){return e})}function I(e,t){return O(t).forEach(function(t){return e.appendChild(t)}),e}function P(e,t){return I(A(e),t)}n.__esModule=!0,n.getEl=c,n.createEl=d,n.textContent=p,n.insertElFirst=f,n.getElData=h,n.hasElData=m,n.removeElData=v,n.hasElClass=g,n.addElClass=y,n.removeElClass=b,n.toggleElClass=_,n.setElAttributes=w,n.getElAttributes=E,n.blockTextSelection=T,n.unblockTextSelection=k,n.findElPosition=x,n.getPointerPosition=j,n.isEl=C,n.isTextNode=S,n.emptyEl=A,n.normalizeContent=O,n.appendContent=I,n.insertContent=P;var D=i(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),N=e("global/document"),L=o(N),M=e("global/window"),R=o(M),F=e("./guid.js"),V=r(F),B=e("./log.js"),H=o(B),U=e("tsml"),W=o(U),q={},$="vdata"+(new Date).getTime(),z=u("querySelector");n.$=z;var G=u("querySelectorAll");n.$$=G},{"./guid.js":147,"./log.js":148,"global/document":1,"global/window":2,tsml:55}],144:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t,n){if(Array.isArray(t))return d(i,e,t,n);var r=f.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=u(t);var o=r.handlers[t.type];if(o)for(var i=o.slice(0),a=0,s=i.length;s>a&&!t.isImmediatePropagationStopped();a++)i[a].call(e,t,n)}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function a(e,t,n){if(f.hasElData(e)){var r=f.getElData(e);if(r.handlers){if(Array.isArray(t))return d(a,e,t,n);var o=function(t){r.handlers[t]=[],c(e,t)};if(t){var i=r.handlers[t];if(i){if(!n)return o(t),void 0;if(n.guid)for(var s=0;s<i.length;s++)i[s].guid===n.guid&&i.splice(s--,1);c(e,t)}}else for(var l in r.handlers)o(l)}}}function s(e,t,n){var r=f.hasElData(e)?f.getElData(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=u(t),r.dispatcher&&r.dispatcher.call(e,t,n),o&&!t.isPropagationStopped()&&t.bubbles===!0)s.call(null,o,t,n);else if(!o&&!t.defaultPrevented){var i=f.getElData(t.target);t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)}return!t.defaultPrevented}function l(e,t,n){if(Array.isArray(t))return d(l,e,t,n);var r=function o(){a(e,t,o),n.apply(this,arguments)};r.guid=n.guid=n.guid||m.newGUID(),i(e,t,r)}function u(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||g["default"].event;e={};for(var o in r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&r.preventDefault||(e[o]=r[o]));if(e.target||(e.target=e.srcElement||b["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var i=b["default"].documentElement,a=b["default"].body;e.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function c(e,t){var n=f.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&f.removeElData(e)}function d(e,t,n,r){n.forEach(function(n){e(t,n,r)})}n.__esModule=!0,n.on=i,n.off=a,n.trigger=s,n.one=l,n.fixEvent=u;var p=e("./dom.js"),f=o(p),h=e("./guid.js"),m=o(h),v=e("global/window"),g=r(v),y=e("global/document"),b=r(y)},{"./dom.js":143,"./guid.js":147,"global/document":1,"global/window":2}],145:[function(e,t,n){n.__esModule=!0;var r=e("./guid.js"),o=function(e,t,n){t.guid||(t.guid=r.newGUID());var o=function(){return t.apply(e,arguments)};return o.guid=n?n+"_"+t.guid:t.guid,o};n.bind=o},{"./guid.js":147}],146:[function(e,t,n){function r(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=0>e?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/3600),i=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||1/0===e)&&(o=r=n="-"),o=o>0||a>0?o+":":"",r=((o||i>=10)&&10>r?"0"+r:r)+":",n=10>n?"0"+n:n,o+r+n}()}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],147:[function(e,t,n){function r(){return o++}n.__esModule=!0,n.newGUID=r;var o=1},{}],148:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=Array.prototype.slice.call(t),r=function(){},o=a["default"].console||{log:r,warn:r,error:r};e?n.unshift(e.toUpperCase()+":"):e="log",s.history.push(n),n.unshift("VIDEOJS:"),o[e].apply?o[e].apply(o,n):o[e](n.join(" "))}n.__esModule=!0;var i=e("global/window"),a=r(i),s=function(){o(null,arguments)};s.history=[],s.error=function(){o("error",arguments)},s.warn=function(){o("warn",arguments)},n["default"]=s,t.exports=n["default"]},{"global/window":2}],149:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function i(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(l),s["default"].apply(null,e),e[0]}n.__esModule=!0,n["default"]=i;var a=e("lodash-compat/object/merge"),s=r(a),l=function(e,t){return o(t)?o(e)?void 0:i(t):t};t.exports=n["default"]},{"lodash-compat/object/merge":40}],150:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("global/document"),i=r(o),a=function(e){var t=i["default"].createElement("style");return t.className=e,t};n.createStyleElement=a;var s=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};n.setTextContent=s},{"global/document":1}],151:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return Array.isArray(e)?i(e):void 0===e||void 0===t?i():i([[e,t]])}function i(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:a.bind(null,"start",0,e),end:a.bind(null,"end",1,e)}}function a(e,t,n,r){return void 0===r&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),s(e,r,n.length-1),n[r][t]}function s(e,t,n){if(0>t||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").")}n.__esModule=!0,n.createTimeRanges=o;var l=e("./log.js"),u=r(l);n.createTimeRange=o},{"./log.js":148}],152:[function(e,t,n){function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r,t.exports=n["default"]},{}],153:[function(e,t,n){function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=e("global/document"),i=r(o),a=e("global/window"),s=r(a),l=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=i["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,o=void 0;r&&(o=i["default"].createElement("div"),o.innerHTML='<a href="'+e+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),i["default"].body.appendChild(o));for(var a={},s=0;s<t.length;s++)a[t[s]]=n[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&i["default"].body.removeChild(o),a};n.parseUrl=l;var u=function(e){if(!e.match(/^https?:\/\//)){var t=i["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e};n.getAbsoluteURL=u;var c=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""};n.getFileExtension=c;var d=function(e){var t=s["default"].location,n=l(e),r=":"===n.protocol?t.protocol:n.protocol,o=r+n.host!==t.protocol+t.host;return o};n.isCrossOrigin=d},{"global/document":1,"global/window":2}],154:[function(t,n,r){function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}r.__esModule=!0;var a=t("global/window"),s=i(a),l=t("global/document"),u=i(l),c=t("./setup"),d=o(c),p=t("./utils/stylesheet.js"),f=o(p),h=t("./component"),m=i(h),v=t("./event-target"),g=i(v),y=t("./utils/events.js"),b=o(y),_=t("./player"),w=i(_),E=t("./plugins.js"),T=i(E),k=t("../../src/js/utils/merge-options.js"),x=i(k),j=t("./utils/fn.js"),C=o(j),S=t("./tracks/text-track.js"),A=i(S),O=t("./tracks/audio-track.js"),I=i(O),P=t("./tracks/video-track.js"),D=i(P),N=t("object.assign");i(N);var L=t("./utils/time-ranges.js"),M=t("./utils/format-time.js"),R=i(M),F=t("./utils/log.js"),V=i(F),B=t("./utils/dom.js"),H=o(B),U=t("./utils/browser.js"),W=o(U),q=t("./utils/url.js"),$=o(q),z=t("./extend.js"),G=i(z),K=t("lodash-compat/object/merge"),Y=i(K),X=t("./utils/create-deprecation-proxy.js"),Q=i(X),J=t("xhr"),Z=i(J),et=t("./tech/tech.js"),tt=i(et),nt=t("./tech/html5.js");i(nt);var rt=t("./tech/flash.js");i(rt),"undefined"==typeof HTMLVideoElement&&(u["default"].createElement("video"),u["default"].createElement("audio"),u["default"].createElement("track"));var ot=function st(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),st.getPlayers()[e])return t&&V["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&st.getPlayers()[e].ready(n),st.getPlayers()[e];r=H.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||w["default"].players[r.playerId]||new w["default"](r,t,n)};if(s["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){var it=H.$(".vjs-styles-defaults");if(!it){it=f.createStyleElement("vjs-styles-defaults");var at=H.$("head");at.insertBefore(it,at.firstChild),f.setTextContent(it,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,ot),ot.VERSION="5.10.4",ot.options=w["default"].prototype.options_,ot.getPlayers=function(){return w["default"].players},ot.players=Q["default"](w["default"].players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"}),ot.getComponent=m["default"].getComponent,ot.registerComponent=function(e,t){tt["default"].isTech(t)&&V["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),m["default"].registerComponent.call(m["default"],e,t)},ot.getTech=tt["default"].getTech,ot.registerTech=tt["default"].registerTech,ot.browser=W,ot.TOUCH_ENABLED=W.TOUCH_ENABLED,ot.extend=G["default"],ot.mergeOptions=x["default"],ot.bind=C.bind,ot.plugin=T["default"],ot.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),Y["default"](ot.options.languages,(n={},n[e]=t,n))[e]
},ot.log=V["default"],ot.createTimeRange=ot.createTimeRanges=L.createTimeRanges,ot.formatTime=R["default"],ot.parseUrl=$.parseUrl,ot.isCrossOrigin=$.isCrossOrigin,ot.EventTarget=g["default"],ot.on=b.on,ot.one=b.one,ot.off=b.off,ot.trigger=b.trigger,ot.xhr=Z["default"],ot.TextTrack=A["default"],ot.AudioTrack=I["default"],ot.VideoTrack=D["default"],ot.isEl=H.isEl,ot.isTextNode=H.isTextNode,ot.createEl=H.createEl,ot.hasClass=H.hasElClass,ot.addClass=H.addElClass,ot.removeClass=H.removeElClass,ot.toggleClass=H.toggleElClass,ot.setAttributes=H.setElAttributes,ot.getAttributes=H.getElAttributes,ot.emptyEl=H.emptyEl,ot.appendContent=H.appendContent,ot.insertContent=H.insertContent,"function"==typeof e&&e.amd?e("videojs",[],function(){return ot}):"object"==typeof r&&"object"==typeof n&&(n.exports=ot),r["default"]=ot,n.exports=r["default"]},{"../../src/js/utils/merge-options.js":149,"./component":67,"./event-target":104,"./extend.js":105,"./player":113,"./plugins.js":114,"./setup":118,"./tech/flash.js":121,"./tech/html5.js":122,"./tech/tech.js":124,"./tracks/audio-track.js":126,"./tracks/text-track.js":134,"./tracks/video-track.js":139,"./utils/browser.js":140,"./utils/create-deprecation-proxy.js":142,"./utils/dom.js":143,"./utils/events.js":144,"./utils/fn.js":145,"./utils/format-time.js":146,"./utils/log.js":148,"./utils/stylesheet.js":150,"./utils/time-ranges.js":151,"./utils/url.js":153,"global/document":1,"global/window":2,"lodash-compat/object/merge":40,"object.assign":45,xhr:56}]},{},[154])(154)}),function(e){var t=e.vttjs={},n=t.VTTCue,r=t.VTTRegion,o=e.VTTCue,i=e.VTTRegion;t.shim=function(){t.VTTCue=n,t.VTTRegion=r},t.restore=function(){t.VTTCue=o,t.VTTRegion=i}}(this),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return t?e.toLowerCase():!1}function r(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return t?e.toLowerCase():!1}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function i(e,t,i){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,p=e,f=t,h=i,m=null,v="",g=!0,y="auto",b="start",_=50,w="middle",E=50,T="middle";return Object.defineProperty(s,"id",o({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",o({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",o({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},u,{get:function(){return v},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},u,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},u,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},u,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},u,{get:function(){return _},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},u,{get:function(){return E},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},u,{get:function(){return T},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||i,t.VTTCue=i}(this,this.vttjs||{}),function(e,t){function n(e){if("string"!=typeof e)return!1;var t=i[e.toLowerCase()];return t?e.toLowerCase():!1}function r(e){return"number"==typeof e&&e>=0&&100>=e}function o(){var e=100,t=3,o=0,i=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");o=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var i={"":!0,up:!0};e.VTTRegion=e.VTTRegion||o,t.VTTRegion=o}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=h(null)}function o(e,t,n,r){var o=r?e.split(r):[e];for(var i in o)if("string"==typeof o[i]){var a=o[i].split(n);if(2===a.length){var s=a[0],l=a[1];t(s,l)}}}function i(e,i,a){function s(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function l(e,t){var n=new r;o(e,function(e,t){switch(e){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===t){n.set(e,a[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),i=o[0];n.integer(e,i),n.percent(e,i)?n.set("snapToLines",!1):null,n.alt(e,i,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var c=e;if(u(),i.startTime=s(),u(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),u(),i.endTime=s(),u(),l(e,i)}function a(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function o(e){return m[e]}function i(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],o);return e}function a(e,t){return!y[t.localName]||y[t.localName]===e.localName}function s(t,n){var r=v[t];if(!r)return null;var o=e.document.createElement(r);o.localName=r;var i=g[t];return i&&n&&(o[i]=n.trim()),o}for(var l,u=e.document.createElement("div"),c=u,d=[];null!==(l=r());)if("<"!==l[0])c.appendChild(e.document.createTextNode(i(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var p,f=n(l.substr(1,l.length-2));if(f){p=e.document.createProcessingInstruction("timestamp",f),c.appendChild(p);continue}var h=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(p=s(h[1],h[3]),!p)continue;if(!a(c,p))continue;h[2]&&(p.className=h[2].substr(1).replace("."," ")),d.push(h[1]),c.appendChild(p),c=p}return u}function s(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),o=r.textContent||r.innerText;if(o){var i=o.match(/^.*(\n|\r)/);return i?(e.length=0,i[0]):o}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,o=[],i="";if(!e||!e.childNodes)return"ltr";for(t(o,e);i=n(o);)for(var a=0;a<i.length;a++){r=i.charCodeAt(a);for(var s=0;s<b.length;s++)if(b[s]===r)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,o=0;o<n.length&&n[o]!==t;o++)"showing"===n[o].mode&&r++;return-1*++r}function u(){}function c(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",i="rgba(0, 0, 0, 0.8)";r&&(o="rgb(255, 255, 255)",i="rgb(0, 0, 0)"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:o,backgroundColor:i,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,n,r,o,i=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,o=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||o,this.height=e.height||n,this.bottom=e.bottom||o+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,i&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,n,r){function o(e,t){for(var o,i=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(o=new d(e),a=l),e=new d(i)}return o||i}var i=new d(t),a=t.cue,s=l(a),u=[];if(a.snapToLines){var c;switch(a.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width"}var p=i.lineHeight,f=p*Math.round(s),h=n[c]+p,m=u[0];Math.abs(f)>h&&(f=0>f?-1:1,f*=Math.ceil(h/p)*p),0>s&&(f+=""===a.vertical?n.height:n.width,u=u.reverse()),i.move(m,f)}else{var v=100*(i.lineHeight/n.height);switch(a.lineAlign){case"middle":s-=v/2;break;case"end":s-=v}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],i=new d(t)}var g=o(i,u);t.move(g.toCSSCompatValues(n))}function f(){}var h=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=h(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return(n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&100>=t)?(this.set(e,t),!0):!1}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":"Â "},v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},y={rt:"ruby"},b=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];u.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},c.prototype=h(u.prototype),c.prototype.constructor=c,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var o={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return o},f.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},f.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};var _=.05,w="sans-serif",E="1.5%";f.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var o=e.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin=E,n.appendChild(o),r(t)){var i=[],a=d.getSimpleBoxPosition(o),s=Math.round(100*a.height*_)/100,l={font:s+"px "+w};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new c(e,r,l),o.appendChild(n.div),p(e,n,a,i),r.displayState=n.div,i.push(d.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)o.appendChild(t[u].displayState)},f.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},f.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),n}function a(e){var t=new r;if(o(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var o=n.split(",");if(2!==o.length)break;var i=new r;if(i.percent("x",o[0]),i.percent("y",o[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(l.vttjs.VTTRegion||l.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),l.onregion&&l.onregion(n),l.regionList.push({id:t.get("id"),region:n})}}function s(e){o(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;u=n();var c=u.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:u=n(),l.state){case"HEADER":/:/.test(u)?s(u):u||(l.state="ID");continue;case"NOTE":u||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){l.state="NOTE";break}if(!u)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",-1===u.indexOf("-->")){l.cue.id=u;continue}case"CUE":try{i(u,l.cue,l.regionList)}catch(p){l.reportOrThrowError(p),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var f=-1!==u.indexOf("-->");if(!u||f&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=u;continue;case"BADCUE":u||(l.state="ID");continue}}}catch(p){l.reportOrThrowError(p),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=f}(this,this.vttjs||{}),n("player/HiroHtmlPlayer",["require","util/extend","dom/$","core/console","core/root","player/PlayerBase","dom/minimizeElement","dom/expandElement","bidding/HtmlAdBreak","player/HiroVideoPlayer","bidding/IframeFactory","util/createPrototype","beacons/PublisherEvents","lib/videojs/videojs"],function(e){var t=e("util/extend"),n=e("dom/$"),r=e("core/console"),o=e("core/root"),i=e("player/PlayerBase"),a=e("dom/minimizeElement"),s=e("dom/expandElement"),l=e("bidding/HtmlAdBreak"),u=e("player/HiroVideoPlayer"),c=e("bidding/IframeFactory"),d=e("util/createPrototype"),p=e("beacons/PublisherEvents"),f=e("lib/videojs/videojs"),h=d({base:i,constructor:function(){var e=this;r.log("HiroHtmlPlayer: HiroHtmlPlayer()"),e.base.apply(e,arguments)},canAutoplay:function(){var e=this,t=e.config,n=t.forceNoAutoplay,r=!0;return n&&(r=!1),r&&e.videoStarted},createAdBreak:function(e){var r=this,o=r.config,i=o.width,a=o.height,s=r.iframeFactory,u=new l(t({},e,{width:i,height:a,container:r.playerContainer,adVideoWrapper:r.adVideoWrapper,adVideoPlayer:r.adVideoPlayer,canAutoplay:n.proxy(r.canAutoplay,r),rotoscopeDefaultPrefixUrl:o.rotoscopeDefaultPrefixUrl,baseVolume:o.scale_start,accountID:o.consoleID,folderName:o.folderName,sessionID:o.sessionID,initStartMaxTimeInSec:o.initStartMaxTimeInSec||120,playerSizeConstraint:o.playerSizeConstraint,losFirstinBreak:o.losFirstinBreak,experimentId:o.experimentId,volume:o.lob_start,onClickEnabled:o.onClickEnabled,maxBleeps:o.maxBleeps,maxBleepsjs:o.maxBleepsjs,blockBleepOnChanel:o.blockBleepOnChanel,stopAfterProgressEvent:o.stopAfterProgressEvent,pauseOnAdClick:o.pauseOnAdClick,isPremiumSite:!1,muteButton:o.muteButton,blockUnknownVendor:o.blockUnknownVendor,approvedVendorUrls:o.approvedVendorUrls||[],approvedVendorClasses:o.approvedVendorClasses||[],blackVendorExceptions:o.blackVendorExceptions||[],monitoredVendors:o.monitoredVendors||[],adTypePreference:o.adTypePreference,mediaTypeSortPreferences:o.mediaTypeSortPreferences,internalAdIdLength:o.internalAdIdLength,clipUrl:r.playlist.current().url,iframeFactory:s,apiEvents:r.apiEvents,moat:e.moat,useDynamicTimeout:o.useDynamicTimeout,dynamicTimeoutSuccessEventPerc:o.dynamicTimeoutSuccessEventPerc,cms_co:o.cms_co,isUseSherlokUrl:o.isUseSherlokUrl,isMobileEnv:o.isMobileEnv,sendPreRequestEvent:o.sendPreRequestEvent,numberOfTries:o.numberOfTries,isAbTest:o.isAbTest,isAbTestOptimBWIgnore:o.isAbTestOptimBWIgnore,waterfallOptimizationRules:o.waterfallOptimizationRules}));
return u.on("adpause",function(e,t){var n=t.ad;r.stageManager.current()===n&&(r.apiEvents.trigger("pause"),r.apiEvents.trigger("adpause"),u.one("adresume",function(){r.apiEvents.trigger("resume"),r.apiEvents.trigger("adresume")}))}),u.on("adimpression",function(){r.internalCookieHandler.setImpression()}),u},createClip:function(e){var t=this,n=t.config,r=t.apiEvents,i=new u(e,t.videoPlayer,t.videoWrapper,n,r);return i.one("overlay_clicked",function(){t.publisherEvents.send(p.CLICK_THROUGH_OVERLAY)}),i.on("pause",function(){t.stageManager.current()===i&&(t.apiEvents.trigger("pause"),i.one("play",function(){t.apiEvents.trigger("resume")}))}),n.movieLinkUrl&&i.on("click",function(e,a){var s=40,l=i.getBoundingClientRect(),u=a.clientY,c=u-l.top,d={force:!0,samplingValue:100};c<l.height-s&&(t.wasPosterClick?t.publisherEvents.send(p.CLICK_THROUGH_POSTER_FRAUD,[],d):(t.publisherEvents.send(p.CLICK_THROUGH_CONTENT,[],d),r&&r.trigger("contentclickbeacon"),o.open(n.movieLinkUrl)),t.wasPosterClick=!0)}),i},createUserInitiate:function(){var e=this,t=e.video;return a(t),e.base.prototype.createUserInitiate.apply(e,arguments).then(function(){s(t)})},start:function(){var e=this,n=e.config.autoInit,o={controlBar:{children:["playToggle","ProgressControl","RemainingTimeDisplay","volumeMenuButton","fullscreenToggle"]}};return r.log("HiroHtmlPlayer: start(), HiroHtmlPlayer()"),e.initialized?(r.log("HiroHtmlPlayer: start() using unified player"),e.started=!0,n===!1&&e.publisherEvents.send(p.START_CALLED_VIA_API),e.videoPlayer=f(e.video,o),e.adVideoPlayer=f(e.adVideo,o),e.iframeFactory=new c(t(!0,e.config,{container:e.playerContainer,adVideoWrapper:e.adVideoWrapper,clipUrl:e.playlist.current().url}),e.publisherEvents),e.iframeFactory.init(),e.base.prototype.start.call(e),void 0):!1},remove:function(){var e=this;r.log("HiroHtmlPlayer: remove(), HiroHtmlPlayer()"),e.removed=!0,e.$video.empty().off(),e.$adVideo.empty().off(),e.off(),e.base.prototype.remove.call(e)},api:function(){var e=this,n=e.base.prototype.api.apply(e,arguments);return t(n,{play:function(t){if(r.log("HiroHtmlPlayer: api play()",arguments),e.started){var n=e.stageManager.current();n&&n.play&&n.play(t)}else e.start();return e.api()},pause:function(){var t=e.stageManager.current();return r.log("HiroHtmlPlayer: api pause()",arguments),t&&t.pause&&t.pause(),e.api()},isPaused:function(){var t,n=e.stageManager.current();return n&&n.paused&&(t=n.paused()),t}}),n}});return h}),function(){e(["core/startup","player/HiroHtmlPlayer"],function(e,t){e({createPlayer:function(e){return new t(e)}})},!1,!0)}(this),n("hiro_html_player.js",function(){})}();document.write(unescape("%3Cscript src='" + (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js' %3E%3C/script%3E"));

function trackAdView(contentType, cms) {
        var c5 = null;
        var contentType = contentType.toLowerCase();
        switch (contentType) {
                case "preroll":
                        c5 = 09;
                        break;
                case "midroll":
                        c5 = 11;
                        break;
		case "postroll":
			c5 = 10;
			break;
                case "video":
                        c5 = 02;
                        break;
                default:
                        break;
        }
        if ( c5 != null ) {
                COMSCORE.beacon({ c1: 1,
                        c2: "16493319",
                        c3: cms,
                        c4: "",
                        c5: c5,
                        c6: "",
                        c10: "",
                        c14: ""});
        }
}

