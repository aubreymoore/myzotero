<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="js csstransforms3d csstransitions wf-opensans3a3002c4002c6002c8007cbreeserif-n4-inactive wf-inactive">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<meta name="wpd_version" content="0.2">
<meta name="wpd_baseurl" content="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/">
<meta name="wpd_url" content="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/">
<meta name="wpd_date" content="2016-08-10T06:19Z">


<meta charset="UTF-8">


<link rel="pingback" href="http://www.pyimagesearch.com/xmlrpc.php">
<link rel="shortcut icon" href="favicon.ico">

<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<!--  Mobile viewport scale -->
<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=yes" name="viewport">

<!-- This site is optimized with the Yoast WordPress SEO plugin v2.2.1 - https://yoast.com/wordpress/plugins/seo/ -->
<title>Image Pyramids with Python and OpenCV - PyImageSearch</title>
<meta name="description" content="In this tutorial you'll discover two ways to create an image pyramid using Python and OpenCV. Discover how image pyramids power object detection.">
<link rel="canonical" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Image Pyramids with Python and OpenCV - PyImageSearch">
<meta property="og:description" content="In this tutorial you'll discover two ways to create an image pyramid using Python and OpenCV. Discover how image pyramids power object detection.">
<meta property="og:url" content="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/">
<meta property="og:site_name" content="PyImageSearch">
<meta property="article:tag" content="classification">
<meta property="article:tag" content="histogram of oriented gradients">
<meta property="article:tag" content="hog">
<meta property="article:tag" content="image pyramids">
<meta property="article:tag" content="machine learning">
<meta property="article:tag" content="object detection">
<meta property="article:section" content="Machine Learning">
<meta property="article:published_time" content="2015-03-16T10:00:18+00:00">
<meta property="article:modified_time" content="2015-03-16T10:31:23+00:00">
<meta property="og:updated_time" content="2015-03-16T10:31:23+00:00">
<meta property="og:image" content="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30.jpg">
<meta property="og:image" content="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_example.png">
<meta property="og:image" content="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale15.jpg">
<meta property="og:image" content="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_skimage_adrian.jpg">
<meta property="og:image" content="http://www.pyimagesearch.com/wp-content/uploads/2014/02/download-code-icon.png">
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="PyImageSearch » Feed" href="http://feeds.feedburner.com/Pyimagesearch">
<link rel="alternate" type="application/rss+xml" title="PyImageSearch » Comments Feed" href="http://www.pyimagesearch.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="PyImageSearch » Image Pyramids with Python and OpenCV Comments Feed" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/feed/">
		<div class="fit-vids-style">­</div><script src="54220efd7ab7f03f7e000043.js" async="" type="text/javascript"></script><script src="mlt.js" type="text/javascript" async=""></script><script src="4768429.js" async="" type="text/javascript"></script><script src="analytics.js" async=""></script><script src="mixpanel-2-latest.min.js" async="" type="text/javascript"></script><script type="text/javascript">

			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.pyimagesearch.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.2"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d"),f=String.fromCharCode;return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(f(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(f(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(f(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(f(55357,56835),0,0):e.fillText(f(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script type="text/javascript" src="wp-emoji-release.min.js"></script>
		







<!--[if lt IE 9]>
<link href="http://www.pyimagesearch.com/wp-content/themes/canvas/css/non-responsive.css" rel="stylesheet" type="text/css" />
<style type="text/css">.col-full, #wrapper { width: 960px; max-width: 960px; } #inner-wrapper { padding: 0; } body.full-width #header, #nav-container, body.full-width #content, body.full-width #footer-widgets, body.full-width #footer { padding-left: 0; padding-right: 0; } body.fixed-mobile #top, body.fixed-mobile #header-container, body.fixed-mobile #footer-container, body.fixed-mobile #nav-container, body.fixed-mobile #footer-widgets-container { min-width: 960px; padding: 0 1em; } body.full-width #content { width: auto; padding: 0 1em;}</style>
<![endif]-->
<script type="text/javascript" src="M9bPKixNLarUMYYydHMz04sSS1L1cjPzAA.js"></script>
<script type="text/javascript">

/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.pyimagesearch.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="M9RPLkqszM_TLa7MK0ms0M3ITM_IAeKS1CL9rGL93Mw8qAI9IBMA.js"></script>
<script type="text/javascript" data-cfasync="false" id="omapi-script" src="api.min.js"></script>
<script type="text/javascript" src="M9BPTswrSyzWz8xLzilNSS3WzyrWL8nILErRLUgsKqnUMcCmIDc_JbUoL7OqCLt0empealFiDgA.js"></script>
<link rel="https://api.w.org/" href="http://www.pyimagesearch.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.pyimagesearch.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.pyimagesearch.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.4.2">
<link rel="shortlink" href="http://www.pyimagesearch.com/?p=2147">
<link rel="alternate" type="application/json+oembed" href="http://www.pyimagesearch.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.pyimagesearch.com%2F2015%2F03%2F16%2Fimage-pyramids-with-python-and-opencv%2F">
<link rel="alternate" type="text/xml+oembed" href="http://www.pyimagesearch.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.pyimagesearch.com%2F2015%2F03%2F16%2Fimage-pyramids-with-python-and-opencv%2F&amp;format=xml">

<!-- Theme version -->
<meta name="generator" content="Canvas 5.5.7">
<meta name="generator" content="WooFramework 5.5.5">

<!-- Custom CSS Styling -->

<!-- Options Panel Custom CSS -->



<!-- Woo Shortcodes CSS -->


<!-- Custom Stylesheet -->



<!-- start Mixpanel -->
<script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
mixpanel.init("2486e0f021e92605d44d32fce5f1d826");
</script>
<!-- end Mixpanel -->

<script src="jquery.min.js"></script><script src="tagjs" async="" type="text/javascript"></script><img src="untitled" height="1" width="1" border="0"><img src="seg" height="1" width="1" border="0"><img src="seg_001.dat" height="1" width="1" border="0"><img src="seg_002.dat" height="1" width="1" border="0"><script src="webfont.js"></script>
<link rel="stylesheet" type="text/css" href="image-pyramids-with-python-and-opencv.css" media="all">
</head>
<body class="single single-post postid-2147 single-format-standard gecko alt-style-default two-col-left width-960 two-col-left-960 full-width full-header full-footer">
<div id="wrapper">

	<div id="inner-wrapper">

	    <!--#header-container-->
    <div id="header-container">
<h3 class="nav-toggle icon"><a href="#navigation">Navigation</a></h3>

	<header id="header" class="col-full">

		<div id="logo">
<a href="http://www.pyimagesearch.com/" title="Be awesome at learning OpenCV, Python, and computer vision"><img src="logo.png" alt="PyImageSearch"></a>
<span class="site-title"><a href="http://www.pyimagesearch.com/">PyImageSearch</a></span>
<span class="site-description">Be awesome at learning OpenCV, Python, and computer vision</span>
</div>

	</header>

	    </div><!--/#header-container-->
    <!--#nav-container-->
    <div id="nav-container">
<nav id="navigation" class="col-full" role="navigation">

	<section class="menus">

		<a href="http://www.pyimagesearch.com/" class="nav-home"><span>Home</span></a>

	<h3>Main Menu</h3><ul id="main-nav" class="nav fl"><li id="menu-item-4519" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4519"><a href="http://www.pyimagesearch.com/start-here-learn-computer-vision-opencv/">Start Here</a></li>
<li id="menu-item-2616" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2616"><a href="https://www.pyimagesearch.com/practical-python-opencv/">Practical Python and OpenCV</a></li>
<li id="menu-item-2617" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2617"><a href="https://www.pyimagesearch.com/pyimagesearch-gurus/">PyImageSearch Gurus</a></li>
<li id="menu-item-2615" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2615"><a href="http://www.pyimagesearch.com/opencv-tutorials-resources-guides/">OpenCV 3 Tutorials</a></li>
<li id="menu-item-2618" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2618"><a href="http://www.pyimagesearch.com/free-opencv-crash-course/">FREE OpenCV Crash Course</a></li>
<li id="menu-item-2619" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2619"><a href="http://www.pyimagesearch.com/about/">About</a></li>
<li id="menu-item-2620" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2620"><a href="http://www.pyimagesearch.com/contact/">Contact</a></li>
</ul>	<ul class="rss fr">
						<li class="sub-rss"><a href="http://feeds.feedburner.com/Pyimagesearch"></a></li>
			</ul>
	
	</section><!-- /.menus -->

	<a href="#top" class="nav-close"><span>Return to Content</span></a>

</nav>
    </div><!--/#nav-container-->
       
    <!-- #content Starts -->
	    <div id="content" class="col-full">
    
    	<div id="main-sidebar-container">    

            <!-- #main Starts -->
                        <section id="main">                       
<article class="post-2147 post type-post status-publish format-standard hentry category-machine-learning-2 category-tutorials tag-classification tag-histogram-of-oriented-gradients tag-hog tag-image-pyramids tag-machine-learning tag-object-detection">
	<header>
	<h1 class="title">Image Pyramids with Python and OpenCV</h1>	</header>
<div class="post-meta"><span class="small">By</span> <span class="author vcard"><span class="fn"><a href="http://www.pyimagesearch.com/author/adrian/" title="Posts by Adrian Rosebrock" rel="author">Adrian Rosebrock</a></span></span> <span class="small">on</span> <abbr class="date time published" title="2015-03-16T10:00:18-0400">March 16, 2015</abbr>  <span class="small">in</span> <span class="categories"><a href="http://www.pyimagesearch.com/category/machine-learning-2/" title="View all items in Machine Learning">Machine Learning</a>, <a href="http://www.pyimagesearch.com/category/tutorials/" title="View all items in Tutorials">Tutorials</a></span>  </div>
	<section class="entry">
<div style="width: 623px;" id="fsb-social-bar" class="fsb-social-bar fsb-fixed" data-post-id="2147" data-socialite="true"><div class="fsb-share-twitter fsb-hide-count"><a href="https://twitter.com/share?original_referer=http%3A%2F%2Fwww.pyimagesearch.com%2F&amp;source=tweetbutton&amp;text=Image+Pyramids+with+Python+and+OpenCV&amp;url=http%3A%2F%2Fwww.pyimagesearch.com%2F2015%2F03%2F16%2Fimage-pyramids-with-python-and-opencv%2F&amp;via=pyimagesearch" class="socialite twitter fsb-twitter" data-fsb-service="twitter" rel="nofollow" target="_top" title="Be the first one to tweet this article!"><span class="fsb-service-title">Twitter</span><span class="fsb-count">0</span></a></div><div class="fsb-share-facebook"><a href="http://www.facebook.com/sharer.php?u=http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" class="socialite facebook fsb-facebook" data-fsb-service="facebook" data-href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" data-send="false" data-layout="button_count" data-width="60" data-show-faces="false" rel="nofollow" target="_top"><span class="fsb-service-title">Facebook</span><span class="fsb-count">9</span></a></div><div class="fsb-share-google"><a href="https://plus.google.com/share?url=http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" class="socialite googleplus fsb-google" data-fsb-service="google" data-size="medium" data-href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" rel="nofollow" target="_top"><span class="fsb-service-title">Google+</span><span class="fsb-count">3</span></a></div><div class="fsb-share-linkedin"><a href="https://www.linkedin.com/cws/share?url=http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" class="socialite linkedin fsb-linkedin" data-fsb-service="linkedin" data-size="medium" data-href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" rel="nofollow" target="_top"><span class="fsb-service-title">LinkedIn</span><span class="fsb-count">7</span></a></div></div><div class="fsb-clear"></div><p class="p1"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30.jpg"><img class="aligncenter wp-image-2148" src="pyramid_adrian_scale30.jpg" alt="pyramid_adrian_scale30" srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30-300x182.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30.jpg 857w" sizes="(max-width: 600px) 100vw, 600px" height="364" width="600"></a></p>
<p class="p1"><b>It’s too damn cold up in Connecticut</b>&nbsp;— so cold that I had to throw in the towel and escape for a bit.</p>
<p class="p1">Last week I took a weekend trip down to Orlando, FL just to escape. And while the weather wasn’t perfect (mid-60 degrees Fahrenheit, cloudy, and spotty rain, as you can see from the photo above), <b><i>it was exactly 60 degrees warmer than it is in Connecticut</i></b>&nbsp;— and that’s all that mattered to me.</p>
<p class="p1">While I didn’t make it to Animal Kingdom or partake in any Disney adventure rides, I did enjoy walking Downtown Disney and having drinks at each of the countries in Epcot.</p>
<p class="p1"><em><strong>Sidebar:</strong> Perhaps I’m biased since I’m German, but German red wines are perhaps some of the most under-appreciated wines there are. Imagine having the full-bodied taste of a Chianti, but slightly less acidic. Perfection. If you’re ever in Epcot, be sure to check out the German wine tasting.</em></p>
<p class="p1">Anyway, as I boarded the plane to fly back from the warm Florida paradise to the Connecticut tundra, I started thinking about what the next blog post on PyImageSearch was going to be.</p>
<p class="p1">Really, it should not have been that long (or hard) of an exercise, but it was a 5:27am flight, I was still half asleep, and I’m pretty sure I still had a bit of German red wine in my system.</p>
<p class="p1">After a quick cup of (terrible) airplane coffee, I decided on a 2-part blog post:</p>
<ul>
<li class="p1">
<p class="p1"><strong>Part #1:</strong>&nbsp;Image Pyramids with Python and OpenCV.</p>
</li>
<li class="p1"><strong>Part #2:</strong>&nbsp;Sliding Windows for Image Classification with Python and OpenCV.</li>
</ul>
<p class="p1">You see, a few months ago I wrote a blog post on utilizing the <a href="http://www.pyimagesearch.com/2014/11/10/histogram-oriented-gradients-object-detection/" target="_top"><span class="s1">Histogram of Oriented Gradients</span></a> image descriptor and a Linear SVM to detect objects in images. <b>This 6-step framework can be used to easily train object classification models.</b></p>
<p class="p1">A critical aspect of this 6-step framework involves <b><i>image pyramids</i></b> and <b><i>sliding windows</i></b>.</p>
<p class="p1">Today we are going to review two ways to create image pyramids using Python, OpenCV, and sickit-image. And next week we’ll discover the simple trick to create highly efficient sliding windows.</p>
<p class="p1"><b>Utilizing these two posts we can start to glue together the pieces of our HOG + Linear SVM framework so you can build object classifiers of your own!</b></p>
<p class="p1">Read on to learn more…</p>
<div style="padding-top: 10px; padding-bottom: 15px; padding-right: 10px; height: 70px; background: transparent url('download-code-icon.png') no-repeat ; 0% / 70px 70px;">
<p style="margin-top: 1px; margin-left: 80px; font-weight: bold;">Looking for the source code to this post?<br>
<a id="scroll_to_code" href="#">Jump right to the downloads section.</a></p>
</div>
<h1 class="p1">What are image pyramids?</h1>
<div id="attachment_2149" style="width: 310px;" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_example.png"><img class="size-full wp-image-2149" src="pyramid_example.png" alt="Figure 1: An example of an image pyramid. At each layer of the pyramid the image is downsized and (optionally) smoothed." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_example-269x300.png 269w, http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_example.png 300w" sizes="(max-width: 300px) 100vw, 300px" height="334" width="300"></a><p class="wp-caption-text"><strong>Figure 1:</strong> An example of an image pyramid. At each layer of the pyramid the image is downsized and (optionally) smoothed (<a href="http://iipimage.sourceforge.net/documentation/images/" target="_top">image source</a>).</p></div>
<p class="p1">An “image pyramid” is a <strong><em>multi-scale representation</em></strong> of an image.</p>
<p class="p1">Utilizing an image pyramid allows us to <strong>find objects in images at different scales</strong> of an image. And when combined with a <strong>sliding window</strong> we can find objects in images in various locations.</p>
<p class="p1">At the bottom of the pyramid we have the original image at its original size (in terms of width and height). And at each subsequent layer, the image is resized (subsampled) and optionally smoothed (usually via Gaussian blurring).</p>
<p class="p1">The image is progressively subsampled until some stopping criterion is met, which is normally a minimum size has been reached and no further subsampling needs to take place.</p>
<h1 class="p1">Method #1: Image Pyramids with Python and OpenCV</h1>
<p class="p1">The first method we’ll explore to construct image pyramids will utilize Python + OpenCV.</p>
<p class="p1">In fact, this is the <strong><i>exact same</i></strong> image pyramid implementation that I utilize in my own projects!</p>
<p class="p1">Let’s go ahead and get this example started. Create a new file, name it 
			<span id="crayon-57d39a5e1132e944916780" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">helpers</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span>&nbsp;, and insert the following code:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e1133c875501931" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft"># import the necessary packages
import imutils

def pyramid(image, scale=1.5, minSize=(30, 30)):
	# yield the original image
	yield image

	# keep looping over the pyramid
	while True:
		# compute the new dimensions of the image and resize it
		w = int(image.shape[1] / scale)
		image = imutils.resize(image, width=w)

		# if the resized image does not meet the supplied minimum
		# size, then stop constructing the pyramid
		if image.shape[0] &lt; minSize[1] or image.shape[1] &lt; minSize[0]:
			break

		# yield the next image in the pyramid
		yield image</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-2">2</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-4">4</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-6">6</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-8">8</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-10">10</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-12">12</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-14">14</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-16">16</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-18">18</div><div class="crayon-num" data-line="crayon-57d39a5e1133c875501931-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e1133c875501931-20">20</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e1133c875501931-1"><span class="crayon-c"># import the necessary packages</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">imutils</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-4"><span class="crayon-r">def</span><span class="crayon-h"> </span><span class="crayon-e">pyramid</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-o">=</span><span class="crayon-cn">1.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">minSize</span><span class="crayon-o">=</span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-5"><span class="crayon-h">	</span><span class="crayon-c"># yield the original image</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-6"><span class="crayon-h">	</span><span class="crayon-r">yield</span><span class="crayon-h"> </span><span class="crayon-v">image</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-8"><span class="crayon-h">	</span><span class="crayon-c"># keep looping over the pyramid</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-9"><span class="crayon-h">	</span><span class="crayon-st">while</span><span class="crayon-h"> </span><span class="crayon-t">True</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-10"><span class="crayon-h">		</span><span class="crayon-c"># compute the new dimensions of the image and resize it</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-11"><span class="crayon-h">		</span><span class="crayon-k ">w</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">int</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-12"><span class="crayon-h">		</span><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">imutils</span><span class="crayon-sy">.</span><span class="crayon-e">resize</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-k ">w</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-14"><span class="crayon-h">		</span><span class="crayon-c"># if the resized image does not meet the supplied minimum</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-15"><span class="crayon-h">		</span><span class="crayon-c"># size, then stop constructing the pyramid</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-16"><span class="crayon-h">		</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">minSize</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">minSize</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-17"><span class="crayon-h">			</span><span class="crayon-st">break</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-18">&nbsp;</div><div class="crayon-line" id="crayon-57d39a5e1133c875501931-19"><span class="crayon-h">		</span><span class="crayon-c"># yield the next image in the pyramid</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e1133c875501931-20"><span class="crayon-h">		</span><span class="crayon-r">yield</span><span class="crayon-h"> </span><span class="crayon-v">image</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0059 seconds] -->
<p>We start by importing the 
			<span id="crayon-57d39a5e11342277537869" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">imutils</span></span></span>&nbsp;&nbsp;package which contains a handful of image processing convenience functions that are commonly used such as resizing, rotating, translating, etc. You can read more about the&nbsp;
			<span id="crayon-57d39a5e11347594031818" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">imutils</span></span></span>&nbsp;&nbsp;package <a href="http://www.pyimagesearch.com/2015/02/02/just-open-sourced-personal-imutils-package-series-opencv-convenience-functions/" target="_top"><span class="s2">here</span></a>. You can also grab it off my <a href="https://github.com/jrosebr1/imutils" target="_top"><span class="s2">GitHub</span></a>. The package is also pip-installable:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e1134d508592186" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">$ pip install imutils</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e1134d508592186-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e1134d508592186-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-v">imutils</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>Next up, we define our 
			<span id="crayon-57d39a5e11352498004188" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid</span></span></span>&nbsp;&nbsp;function on <b>Line 4</b>. This function takes two arguments. The first argument is the 
			<span id="crayon-57d39a5e11356807099986" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">scale</span></span></span>&nbsp;, which controls by how much the image is resized at each layer. A small 
			<span id="crayon-57d39a5e1135f898782544" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">scale</span></span></span>&nbsp;&nbsp;yields more layers in the pyramid. And a larger 
			<span id="crayon-57d39a5e11367388444231" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">scale</span></span></span>&nbsp;&nbsp;yields less layers.</p>
<p class="p1">Secondly, we define the 
			<span id="crayon-57d39a5e1136f883779920" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">minSize</span></span></span>&nbsp;, which is the minimum required&nbsp;width and height&nbsp;of the layer. If an image in the pyramid falls below this 
			<span id="crayon-57d39a5e11377964645339" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">minSize</span></span></span>&nbsp;, we stop constructing the image pyramid.</p>
<p class="p1"><b>Line 6</b> yields the original image in the pyramid (the bottom layer).</p>
<p class="p1">From there, we start looping over the image pyramid on <b>Line 9</b>.</p>
<p class="p1"><b>Lines 11 and 12</b> handle computing the size of the image in the next layer of the pyramid (while preserving the aspect ratio). This scale is controlled by the 
			<span id="crayon-57d39a5e1137f328721417" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">scale</span></span></span>&nbsp;&nbsp;factor.</p>
<p class="p1">On <b>Lines 16 and 17</b> we make a check to ensure that the image meets the 
			<span id="crayon-57d39a5e11388355219477" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">minSize</span></span></span>&nbsp;&nbsp;requirements. If it does not, we break from the loop.</p>
<p class="p1">Finally, <b>Line 20</b> yields our resized image.</p>
<p class="p1">But before we get into examples of using our image pyramid, let’s quickly review the second method.</p>
<h1 class="p1">Method #2: Image pyramids with Python + scikit-image</h1>
<p class="p1">The second method to image pyramid construction utilizes Python and scikit-image. The <a href="http://scikit-image.org/" target="_top">scikit-image</a> library already has a built-in method for constructing image pyramids called 
			<span id="crayon-57d39a5e11390507796184" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid_gaussian</span></span></span>&nbsp;<span class="s1">, which you can read more about <a href="http://scikit-image.org/docs/dev/api/skimage.transform.html#pyramid-gaussian" target="_top">here</a>.</span></p>
<p class="p1">Here’s an example on how to use the 
			<span id="crayon-57d39a5e11399897966139" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid_gaussian</span></span></span>&nbsp;&nbsp;function in scikit-image:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e113a0869214532" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft"># METHOD #2: Resizing + Gaussian smoothing.
for (i, resized) in enumerate(pyramid_gaussian(image, downscale=2)):
	# if the image is too small, break from the loop
	if resized.shape[0] &lt; 30 or resized.shape[1] &lt; 30:
		break
		
	# show the resized image
	cv2.imshow("Layer {}".format(i + 1), resized)
	cv2.waitKey(0)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e113a0869214532-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113a0869214532-2">2</div><div class="crayon-num" data-line="crayon-57d39a5e113a0869214532-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113a0869214532-4">4</div><div class="crayon-num" data-line="crayon-57d39a5e113a0869214532-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113a0869214532-6">6</div><div class="crayon-num" data-line="crayon-57d39a5e113a0869214532-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113a0869214532-8">8</div><div class="crayon-num" data-line="crayon-57d39a5e113a0869214532-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e113a0869214532-1"><span class="crayon-c"># METHOD #2: Resizing + Gaussian smoothing.</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113a0869214532-2"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">enumerate</span><span class="crayon-sy">(</span><span class="crayon-e">pyramid_gaussian</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">downscale</span><span class="crayon-o">=</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-57d39a5e113a0869214532-3"><span class="crayon-h">	</span><span class="crayon-c"># if the image is too small, break from the loop</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113a0869214532-4"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-57d39a5e113a0869214532-5"><span class="crayon-h">		</span><span class="crayon-st">break</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113a0869214532-6"><span class="crayon-h">		</span></div><div class="crayon-line" id="crayon-57d39a5e113a0869214532-7"><span class="crayon-h">	</span><span class="crayon-c"># show the resized image</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113a0869214532-8"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Layer {}"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113a0869214532-9"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p></p>
<p class="p1">Similar to the example above, we simply loop over the image pyramid and make a check to ensure that the image has a sufficient minimum size. Here we specify 
			<span id="crayon-57d39a5e113aa466567486" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">downscale</span><span class="crayon-o">=</span><span class="crayon-cn">2</span></span></span>&nbsp;&nbsp;to indicate that we are <em><strong>halving the size</strong></em> of the image at each layer of the pyramid.</p>
<h1>Image pyramids in action</h1>
<p class="p1">Now that we have our two methods defined, let’s create a driver script to execute our code. Create a new file, name it 
			<span id="crayon-57d39a5e113b2546158688" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></span></span>&nbsp;, and let’s get to work:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e113ba269614980" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Python</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft"># import the necessary packages
from pyimagesearch.helpers import pyramid
from skimage.transform import pyramid_gaussian
import argparse
import cv2

# construct the argument parser and parse the arguments
ap = argparse.ArgumentParser()
ap.add_argument("-i", "--image", required=True, help="Path to the image")
ap.add_argument("-s", "--scale", type=float, default=1.5, help="scale factor size")
args = vars(ap.parse_args())

# load the image
image = cv2.imread(args["image"])

# METHOD #1: No smooth, just scaling.
# loop over the image pyramid
for (i, resized) in enumerate(pyramid(image, scale=args["scale"])):
	# show the resized image
	cv2.imshow("Layer {}".format(i + 1), resized)
	cv2.waitKey(0)

# close all windows
cv2.destroyAllWindows()

# METHOD #2: Resizing + Gaussian smoothing.
for (i, resized) in enumerate(pyramid_gaussian(image, downscale=2)):
	# if the image is too small, break from the loop
	if resized.shape[0] &lt; 30 or resized.shape[1] &lt; 30:
		break
		
	# show the resized image
	cv2.imshow("Layer {}".format(i + 1), resized)
	cv2.waitKey(0)</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-2">2</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-4">4</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-6">6</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-8">8</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-10">10</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-12">12</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-14">14</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-16">16</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-18">18</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-20">20</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-22">22</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-24">24</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-26">26</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-28">28</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-30">30</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-32">32</div><div class="crayon-num" data-line="crayon-57d39a5e113ba269614980-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-57d39a5e113ba269614980-34">34</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e113ba269614980-1"><span class="crayon-c"># import the necessary packages</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-2"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">pyimagesearch</span><span class="crayon-sy">.</span><span class="crayon-e">helpers </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">pyramid</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-3"><span class="crayon-st">from</span><span class="crayon-h"> </span><span class="crayon-v">skimage</span><span class="crayon-sy">.</span><span class="crayon-e">transform </span><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-e">pyramid_gaussian</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-4"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-5"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-6">&nbsp;</div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-7"><span class="crayon-c"># construct the argument parser and parse the arguments</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-8"><span class="crayon-v">ap</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">argparse</span><span class="crayon-sy">.</span><span class="crayon-e">ArgumentParser</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-9"><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">add_argument</span><span class="crayon-sy">(</span><span class="crayon-s">"-i"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"--image"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">required</span><span class="crayon-o">=</span><span class="crayon-t">True</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">help</span><span class="crayon-o">=</span><span class="crayon-s">"Path to the image"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-10"><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">add_argument</span><span class="crayon-sy">(</span><span class="crayon-s">"-s"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"--scale"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">type</span><span class="crayon-o">=</span><span class="crayon-k ">float</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">default</span><span class="crayon-o">=</span><span class="crayon-cn">1.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-k ">help</span><span class="crayon-o">=</span><span class="crayon-s">"scale factor size"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-11"><span class="crayon-v">args</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-k ">vars</span><span class="crayon-sy">(</span><span class="crayon-v">ap</span><span class="crayon-sy">.</span><span class="crayon-e">parse_args</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-12">&nbsp;</div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-13"><span class="crayon-c"># load the image</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-14"><span class="crayon-v">image</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imread</span><span class="crayon-sy">(</span><span class="crayon-v">args</span><span class="crayon-sy">[</span><span class="crayon-s">"image"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-16"><span class="crayon-c"># METHOD #1: No smooth, just scaling.</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-17"><span class="crayon-c"># loop over the image pyramid</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-18"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">enumerate</span><span class="crayon-sy">(</span><span class="crayon-e">pyramid</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">scale</span><span class="crayon-o">=</span><span class="crayon-v">args</span><span class="crayon-sy">[</span><span class="crayon-s">"scale"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-19"><span class="crayon-h">	</span><span class="crayon-c"># show the resized image</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-20"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Layer {}"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-21"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-22">&nbsp;</div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-23"><span class="crayon-c"># close all windows</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-24"><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">destroyAllWindows</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-26"><span class="crayon-c"># METHOD #2: Resizing + Gaussian smoothing.</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-27"><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-k ">enumerate</span><span class="crayon-sy">(</span><span class="crayon-e">pyramid_gaussian</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">downscale</span><span class="crayon-o">=</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-28"><span class="crayon-h">	</span><span class="crayon-c"># if the image is too small, break from the loop</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-29"><span class="crayon-h">	</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-h"> </span><span class="crayon-st">or</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">.</span><span class="crayon-v">shape</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-30"><span class="crayon-h">		</span><span class="crayon-st">break</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-31"><span class="crayon-h">		</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-32"><span class="crayon-h">	</span><span class="crayon-c"># show the resized image</span></div><div class="crayon-line" id="crayon-57d39a5e113ba269614980-33"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">imshow</span><span class="crayon-sy">(</span><span class="crayon-s">"Layer {}"</span><span class="crayon-sy">.</span><span class="crayon-k ">format</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">resized</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-57d39a5e113ba269614980-34"><span class="crayon-h">	</span><span class="crayon-v">cv2</span><span class="crayon-sy">.</span><span class="crayon-e">waitKey</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0072 seconds] -->
<p></p>
<p class="p1">We’ll start by importing our required packages. I put my personal 
			<span id="crayon-57d39a5e113c0662877600" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid</span></span></span>&nbsp;&nbsp;function in a 
			<span id="crayon-57d39a5e113c5947207259" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">helpers</span></span></span>&nbsp;&nbsp;sub-module of 
			<span id="crayon-57d39a5e113ca862362859" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyimagesearch</span></span></span>&nbsp;&nbsp;for organizational purposes.</p>
<p class="p1"><strong>You can download the code at the bottom of this blog post for my project files and directory structure.</strong></p>
<p class="p1">We then import the scikit-image 
			<span id="crayon-57d39a5e113cf686940836" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">pyramid_gaussian</span></span></span>&nbsp;function, 
			<span id="crayon-57d39a5e113d3611547428" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">argparse</span></span></span>&nbsp;&nbsp;for parsing command line arguments, and 
			<span id="crayon-57d39a5e113d8807241364" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-v">cv2</span></span></span>&nbsp;&nbsp;for our OpenCV bindings.</p>
<p class="p1">Next up, we need to parse some command line arguments on <b>Lines 9-11</b>. Our script requires only two switches, 
			<span id="crayon-57d39a5e113dd208730380" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-o">--</span><span class="crayon-v">image</span></span></span>&nbsp;, which is the path to the image we are going to construct an image pyramid for, and 
			<span id="crayon-57d39a5e113e1271674540" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-o">--</span><span class="crayon-v">scale</span></span></span>&nbsp;, which is the scale factor that controls how the image will be resized in the pyramid.</p>
<p class="p1"><b>Line 14</b> loads then our image from disk.</p>
<p class="p1">We can start utilize our image pyramid Method #1 (my personal method) on <b>Lines 18-21</b> where we simply loop over each layer of the pyramid and display it on screen.</p>
<p class="p1">Then from <b>Lines 27-34</b> we utilize the scikit-image method (Method #2) for image pyramid construction.</p>
<p class="p1">To see our script in action, open up a terminal, change directory to where your code lives, and execute the following command:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e113e6194557802" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">$ python pyramid.py --image images/adrian_florida.jpg --scale 1.5</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e113e6194557802-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e113e6194557802-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">pyramid</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">adrian_florida</span><span class="crayon-e">.jpg</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">scale</span><span class="crayon-h"> </span><span class="crayon-cn">1.5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p class="p1">If all goes well, you should see results similar to this:</p>
<div id="attachment_2150" style="width: 610px;" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale15.jpg"><img class="wp-image-2150" src="pyramid_adrian_scale15.jpg" alt="Figure 2: Constructing an image pyramid with 7 layers and no smoothing." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale15-300x278.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale15.jpg 937w" sizes="(max-width: 600px) 100vw, 600px" height="555" width="600"></a><p class="wp-caption-text"><strong>Figure 2:</strong> Constructing an image pyramid with 7 layers and no smoothing (Method #1).</p></div>
<p>Here we can see that 7 layers have been generated for the image.</p>
<p class="p1">And similarly for the scikit-image method:</p>
<div id="attachment_2151" style="width: 610px;" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_skimage_adrian.jpg"><img class="wp-image-2151" src="pyramid_skimage_adrian.jpg" alt="Figure 3: Generating 4 layers of the image pyramid with scikit-image." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_skimage_adrian-300x166.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_skimage_adrian.jpg 951w" sizes="(max-width: 600px) 100vw, 600px" height="332" width="600"></a><p class="wp-caption-text"><strong>Figure 3:</strong> Generating 4 layers of the image pyramid with scikit-image (Method #2).</p></div>
<p class="p1">The scikit-image pyramid generated 4 layers since it reduced the image by 50% at each layer.</p>
<p class="p1">Now, let’s change the scale factor to 
			<span id="crayon-57d39a5e113ec214813104" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-cn">3.0</span></span></span>&nbsp;&nbsp;and see how the results change:</p>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-57d39a5e113f1951888052" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px ! important; line-height: 15px ! important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><span class="crayon-title">Image Pyramids with Python and OpenCV</span>
			<div class="crayon-tools" style="font-size: 12px ! important; height: 18px ! important; line-height: 18px ! important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div style="display: none;" class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px ! important; line-height: 16.8px ! important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="" readonly="" style="-moz-tab-size: 4; font-size: 12px ! important; line-height: 15px ! important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">$ python pyramid.py --image images/adrian_florida.jpg --scale 1.5</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table style="" class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px ! important; line-height: 15px ! important;"><div class="crayon-num" data-line="crayon-57d39a5e113f1951888052-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px ! important; line-height: 15px ! important; -moz-tab-size: 4;"><div class="crayon-line" id="crayon-57d39a5e113f1951888052-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-e">python </span><span class="crayon-v">pyramid</span><span class="crayon-e">.py</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">image </span><span class="crayon-v">images</span><span class="crayon-o">/</span><span class="crayon-v">adrian_florida</span><span class="crayon-e">.jpg</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-i">scale</span><span class="crayon-h"> </span><span class="crayon-cn">1.5</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>And the resulting pyramid now looks like:</p>
<div id="attachment_2148" style="width: 610px;" class="wp-caption aligncenter"><a href="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30.jpg"><img class="wp-image-2148" src="pyramid_adrian_scale30.jpg" alt="Increase the scale factor from 1.5 to 3.0 has reduced the number of layers generated." srcset="http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30-300x182.jpg 300w, http://www.pyimagesearch.com/wp-content/uploads/2015/03/pyramid_adrian_scale30.jpg 857w" sizes="(max-width: 600px) 100vw, 600px" height="364" width="600"></a><p class="wp-caption-text"><strong>Figure 4:</strong> Increase the scale factor from 1.5 to 3.0 has reduced the number of layers generated.</p></div>
<p>Using a scale factor of 
			<span id="crayon-57d39a5e113f7584105976" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="line-height: 15px ! important; font-size: 12px ! important;"><span class="crayon-pre crayon-code" style="line-height: 15px ! important; font-size: 12px ! important; -moz-tab-size: 4;"><span class="crayon-cn">3.0</span></span></span>&nbsp;, only 3 layers have been generated.</p>
<p class="p1">In general, there is a tradeoff between performance and the number of layers that you generate. The smaller your scale factor is, the more layers you need to create and process — but this also gives your image classifier a better chance at localizing the object you want to detect in the image.</p>
<p class="p1">A larger scale factor will yield less layers, and perhaps might hurt your object classification performance; however, you will obtain much higher performance gains since you will have less layers to process.</p>
<h1 class="p1">Summary</h1>
<p class="p1">In this blog post we discovered how to construct image pyramids using two methods.</p>
<p class="p1">The <strong>first method</strong> to image pyramid construction used Python and OpenCV and is the method I use in my own personal projects. Unlike the traditional image pyramid, this method <i>does not</i> smooth the image with a Gaussian at each layer of the pyramid, thus making it more acceptable for use with the HOG descriptor.</p>
<p class="p1">The <strong>second method</strong> to pyramid construction utilized Python + scikit-image and <i>did</i> apply Gaussian smoothing at each layer of the pyramid.</p>
<p class="p1"><em><strong>So which method should you use?</strong></em></p>
<p class="p1"><strong>In reality, it depends on your application.</strong> If you are using the HOG descriptor for object classification you’ll want to use the first method since smoothing tends to hurt classification performance.</p>
<p class="p1">If you are trying to implement something like SIFT or the Difference of Gaussian keypoint detector, then you’ll likely want to utilize the second method (or at least incorporate smoothing into the first).</p>
<h1 id="post_downloads">Downloads:</h1>
<div id="mc4wp-form-1" class="form mc4wp-form mc4wp-form-761">
<form data-drip-id="5415870" action="https://www.getdrip.com/forms/5415870/submissions" method="post" target="_blank" data-drip-embedded-form="5415870"><img style="padding-right: 10px; width: 115px; border: medium none; float: left;" src="download-code-icon.png" alt="">If you would like to download the code and images used in this post, please enter your email address in the form below. Not only will you get a .zip of the code, I’ll also send you a <strong>FREE 11-page Resource Guide</strong> on Computer Vision and Image Search Engines, including <strong>exclusive techniques</strong> that I don’t post on this blog! Sound good? If so, enter your email address and I’ll send you the code immediately!<p></p>
<p style="margin-left: 130px;"><label for="fields[email]">Email address:</label><input name="fields[email]" value="" placeholder="Your email address" type="email"></p>
<p style="margin-left: 130px;"><input value="Download the code!" type="submit"></p>
<input value="Australia/Brisbane" name="time_zone" type="hidden"><input value="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" name="url" type="hidden"><input value="Image Pyramids with Python and OpenCV - PyImageSearch" name="page_title" type="hidden"></form>
</div>
	</section><!-- /.entry -->
	<div class="fix"></div>
		<aside id="connect">
		<h3>Resource Guide (it’s totally free).</h3>

		<div>
			<p><img title="Get your FREE 11-page Image Search Engine Resource Guide PDF" src="imagesearchengine-resourceguide-cover.png" style="padding-right: 10px; float: left;">
</p><div style="padding-top: 35px;">

Enter your email address below to get my <strong>free 11-page Image Search Engine Resource Guide PDF</strong>. Uncover <strong>exclusive techniques</strong> that I don't publish on this blog and start building image search engines of your own!</div><p></p>

			
						<form data-drip-id="1295" action="https://www.getdrip.com/forms/1113813/submissions" method="post" target="_blank" data-drip-embedded-form="1295">
				<div>
					<input name="fields[email]" class="required email" value="" placeholder="Your email address" style="width: 50%;" type="email">
				</div>
				<div>
					<input id="mc-embedded-subscribe" name="submit" class="btn submit button" value="Download the Guide!" data-drip-attribute="sign-up-button" type="submit">
				</div>
			<input value="Australia/Brisbane" name="time_zone" type="hidden"><input value="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" name="url" type="hidden"><input value="Image Pyramids with Python and OpenCV - PyImageSearch" name="page_title" type="hidden"></form>
			
						<div class="social">
		   					</div>
			
		</div><!-- col-left -->

		
        <div class="fix"></div>
	</aside>
	<div class="post-utility"><p class="tags"><i class="icon-tag"></i> <a href="http://www.pyimagesearch.com/tag/classification/" rel="tag">classification</a>, <a href="http://www.pyimagesearch.com/tag/histogram-of-oriented-gradients/" rel="tag">histogram of oriented gradients</a>, <a href="http://www.pyimagesearch.com/tag/hog/" rel="tag">hog</a>, <a href="http://www.pyimagesearch.com/tag/image-pyramids/" rel="tag">image pyramids</a>, <a href="http://www.pyimagesearch.com/tag/machine-learning/" rel="tag">machine learning</a>, <a href="http://www.pyimagesearch.com/tag/object-detection/" rel="tag">object detection</a></p> </div>
</article><!-- /.post -->
	        <div class="post-entries">
	            <div class="nav-prev fl"><a href="http://www.pyimagesearch.com/2015/03/09/capturing-mouse-click-events-with-python-and-opencv/" rel="prev"><i class="icon-angle-left"></i> Capturing mouse click events with Python and OpenCV</a></div>
	            <div class="nav-next fr"><a href="http://www.pyimagesearch.com/2015/03/23/sliding-windows-for-object-detection-with-python-and-opencv/" rel="next">Sliding Windows for Object Detection with Python and OpenCV <i class="icon-angle-right"></i></a></div>
	            <div class="fix"></div>
	        </div>

		<div id="comments">		 	<h3 id="comments-title">14 Responses to <em>Image Pyramids with Python and OpenCV</em></h3>
		 	<ol class="commentlist">
					                 
		<li class="comment even thread-even depth-1 parent">
	    
	    	<a name="comment-289859"></a>
	      	
	      	<div id="li-comment-289859" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="fa6c854ee34414f0778e611f7081bfeb" srcset="http://0.gravatar.com/avatar/fa6c854ee34414f0778e611f7081bfeb?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Oliver</span>           
	                <span class="date">March 17, 2015 at 2:40 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-289859" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-289859">
				
				<p>Actually in option one you should smooth the image with a gaussian filter to remove high frequencies before down scaling and to prevent aliasing effects.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=289859#respond" onclick="return addComment.moveForm( &quot;comment-289859&quot;, &quot;289859&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Oliver">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-2 parent">
	    
	    	<a name="comment-289967"></a>
	      	
	      	<div id="li-comment-289967" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">March 17, 2015 at 6:39 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-289967" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-289967">
				
				<p>Hi Oliver, thanks for the comment. However, as mentioned in the Summary section of this article, Method #1 is intended to be used for object classification using HOG + Linear SVM. As demonstrated by Dalal and Triggs in their <em>Histogram of Oriented Gradients for Human Detection</em> paper, applying Gaussian smoothing (even to remove high frequency noise) prior to extracting HOG features actually hurts classification performance. So when using HOG, it’s actually best to just subsample and avoid the Gaussian smoothing.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=289967#respond" onclick="return addComment.moveForm( &quot;comment-289967&quot;, &quot;289967&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment even depth-3 parent">
	    
	    	<a name="comment-293084"></a>
	      	
	      	<div id="li-comment-293084" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="37352f5c8e16e20e478c1afa59ecc872" srcset="http://0.gravatar.com/avatar/37352f5c8e16e20e478c1afa59ecc872?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name"><a href="https://vision.ai/" rel="external nofollow" class="url">Tomasz Malisiewicz</a></span>           
	                <span class="date">March 21, 2015 at 10:20 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-293084" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-293084">
				
				<p>I’m going to agree with Adrian.  Gaussian smooth during downscaling seems like a good idea when you read the signal processing literature, but for features like HOG it doesn’t really matter.</p>
<p>With HOG it’s all about speed.  The fewer operations your perform before the classifier hits the pixels, the better off you’ll be.</p>
<p>If you implement your own HOG (only loosely following Navneet Dalal’s recipe), you should build a test suite which measures your computation time and descriptor/classifier performance, and iterate.  I can envision a variant of HOG that benefits from smoothing, but experiments should have the final word.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=293084#respond" onclick="return addComment.moveForm( &quot;comment-293084&quot;, &quot;293084&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Tomasz Malisiewicz">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-4">
	    
	    	<a name="comment-293124"></a>
	      	
	      	<div id="li-comment-293124" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">March 21, 2015 at 11:11 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-293124" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-293124">
				
				<p>Hey, thanks for the comment Tomasz. I could not agree with you more — experiments should always have the final word.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=293124#respond" onclick="return addComment.moveForm( &quot;comment-293124&quot;, &quot;293124&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	                 
		<li class="comment even thread-odd thread-alt depth-1 parent">
	    
	    	<a name="comment-331606"></a>
	      	
	      	<div id="li-comment-331606" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="e82c3c64f6da69348b40e52d6b132ffe" srcset="http://2.gravatar.com/avatar/e82c3c64f6da69348b40e52d6b132ffe?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">jenn T</span>           
	                <span class="date">June 29, 2015 at 1:23 pm</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-331606" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-331606">
				
				<p>Hi!, that’s exactly what I am looking for, thank you so much for doing this post. I was reading about the use of  Gaussian smooth during downscaling and now i am wondering if for haar-like features it should be used or not. thank you again.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=331606#respond" onclick="return addComment.moveForm( &quot;comment-331606&quot;, &quot;331606&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to jenn T">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-2">
	    
	    	<a name="comment-331630"></a>
	      	
	      	<div id="li-comment-331630" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">June 29, 2015 at 2:46 pm</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-331630" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-331630">
				
				<p>Haar features are normally scaled in the feature space rather than the image space to avoid (unnecessarily) recomputing the integral images. I would refer to the original Viola-Jones paper on Haar cascades to read more about their sampling scheme.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=331630#respond" onclick="return addComment.moveForm( &quot;comment-331630&quot;, &quot;331630&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	                 
		<li class="comment even thread-even depth-1 parent">
	    
	    	<a name="comment-343232"></a>
	      	
	      	<div id="li-comment-343232" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="53f5f1be11a8b14a9318933178033bde" srcset="http://2.gravatar.com/avatar/53f5f1be11a8b14a9318933178033bde?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Mau</span>           
	                <span class="date">August 6, 2015 at 2:54 pm</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-343232" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-343232">
				
				<p>Why don’t simply use Pyrup and Pyrdown from opencv?</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=343232#respond" onclick="return addComment.moveForm( &quot;comment-343232&quot;, &quot;343232&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Mau">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-2">
	    
	    	<a name="comment-343511"></a>
	      	
	      	<div id="li-comment-343511" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">August 7, 2015 at 7:07 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-343511" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-343511">
				
				<p>OpenCV’s implementation of pyramids don’t give enough control. For example, one of my primary use cases for image pyramids is for object detection using <a target="blank" href="http://www.pyimagesearch.com/2014/11/10/histogram-oriented-gradients-object-detection/" rel="nofollow">Histogram of Oriented Gradients</a>. It’s well known that applying Gaussian blurring prior to extracting HOG feature vectors can actually hurt performance — which is something OpenCV’s implementation of pyramids do, hence the scikit-image implementation is a better choice (at least in my opinion).</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=343511#respond" onclick="return addComment.moveForm( &quot;comment-343511&quot;, &quot;343511&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	                 
		<li class="comment even thread-odd thread-alt depth-1 parent">
	    
	    	<a name="comment-382286"></a>
	      	
	      	<div id="li-comment-382286" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="c7c15d70449bdae905849d6e9916831c" srcset="http://0.gravatar.com/avatar/c7c15d70449bdae905849d6e9916831c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">BlackDragon</span>           
	                <span class="date">December 6, 2015 at 2:44 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-382286" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-382286">
				
				<p>Hi Adrian, i have a question: The scale parameter will resized at each subsequent layer, so when will the parameter will stop?</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=382286#respond" onclick="return addComment.moveForm( &quot;comment-382286&quot;, &quot;382286&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to BlackDragon">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-2 parent">
	    
	    	<a name="comment-382305"></a>
	      	
	      	<div id="li-comment-382305" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">December 6, 2015 at 7:11 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-382305" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-382305">
				
				<p>Take a look at <strong>Line 4 where we define the <code>minSize</code> argument to the <code>pyramid</code> function. Once the image falls below <code>minSize</code>, we break from the loop.</strong></p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=382305#respond" onclick="return addComment.moveForm( &quot;comment-382305&quot;, &quot;382305&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment even depth-3 parent">
	    
	    	<a name="comment-382334"></a>
	      	
	      	<div id="li-comment-382334" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="c7c15d70449bdae905849d6e9916831c" srcset="http://0.gravatar.com/avatar/c7c15d70449bdae905849d6e9916831c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">BlackDragon</span>           
	                <span class="date">December 6, 2015 at 11:07 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-382334" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-382334">
				
				<p>awww sorry my bad, by the way can you explain to me how does the scale parameter work?<br>
i read it from <a href="http://www.pyimagesearch.com/2015/11/16/hog-detectmultiscale-parameters-explained/" rel="nofollow">http://www.pyimagesearch.com/2015/11/16/hog-detectmultiscale-parameters-explained/</a> but i still nervous. please!</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=382334#respond" onclick="return addComment.moveForm( &quot;comment-382334&quot;, &quot;382334&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to BlackDragon">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	<ul class="children">
	                 
		<li class="comment byuser comment-author-adrian bypostauthor odd alt depth-4">
	    
	    	<a name="comment-382337"></a>
	      	
	      	<div id="li-comment-382337" class="comment-container">
	      	
					                <div class="avatar"><img alt="" src="02743529311d3b8babbaf6935670ec9c" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=80&amp;d=mm&amp;r=g 2x" class="avatar avatar-40 photo" height="40" width="40"></div>
	                        
	
		      	<div class="comment-head">
		      	            
	                <span class="name">Adrian Rosebrock</span>           
	                <span class="date">December 6, 2015 at 11:17 am</span>
	                <span class="perma"><a href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#comment-382337" title="Direct link to this comment">#</a></span>
	                <span class="edit"></span>
		        		          	
				</div><!-- /.comment-head -->
		      
		   		<div class="comment-entry" id="comment-382337">
				
				<p>The scale simply controls the number of levels that are ultimately generated by the image pyramid. The smaller the scale, more layers in the image pyramid are generated. The larger the scale, the less pyramids are generated. I would suggest downloading the source code to this post and running the examples with varying scale parameters to convince yourself of this.</p>
		            
										
	                <div class="reply">
	                    <a rel="nofollow" class="comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/?replytocom=382337#respond" onclick="return addComment.moveForm( &quot;comment-382337&quot;, &quot;382337&quot;, &quot;respond&quot;, &quot;2147&quot; )" aria-label="Reply to Adrian Rosebrock">Reply</a>	                </div><!-- /.reply -->                       
			
				</div><!-- /comment-entry -->
	
			</div><!-- /.comment-container -->
			
	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
			</ol>
		 				 	<h3 id="comments-title">Trackbacks/Pingbacks</h3>
			 	<ol class="commentlist">
						
		<li id="comment-294884">
			<span class="author"><a href="http://www.pyimagesearch.com/2015/03/23/sliding-windows-for-object-detection-with-python-and-opencv/" rel="external nofollow" class="url">Sliding Windows for Object Detection with Python and OpenCV - PyImageSearch</a></span> - 
			<span class="date">March 23, 2015</span>
			<span class="pingcontent"><p>[…] in last week’s blog post we discovered how to construct an image […]</p>
</span>
</li><!-- #comment-## -->
	
		<li id="comment-400632">
			<span class="author"><a href="http://www.pyimagesearch.com/2016/06/20/detecting-cats-in-images-with-opencv/" rel="external nofollow" class="url">Detecting cats in images with OpenCV - PyImageSearch</a></span> - 
			<span class="date">June 20, 2016</span>
			<span class="pingcontent"><p>[…] scaleFactor&nbsp; of our image pyramid used when detecting cat faces. A larger scale factor will increase the speed of the detector, but […]</p>
</span>
</li><!-- #comment-## -->
				</ol>
			</div>				<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/#respond" style="display: none;">Click here to cancel reply.</a></small></h3>				<form action="http://www.pyimagesearch.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
					<p class="comment-form-comment"><label class="hide" for="comment">Comment</label> <textarea tabindex="4" id="comment" name="comment" cols="50" rows="10" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><input id="author" name="author" class="txt" tabindex="1" value="" size="30" aria-required="true" type="text"><label for="author">Name <span class="required">(required)</span></label> </p>
<p class="comment-form-email"><input id="email" name="email" class="txt" tabindex="2" value="" size="30" aria-required="true" type="text"><label for="email">Email (will not be published) <span class="required">(required)</span></label> </p>
<p class="comment-form-url"><input id="url" name="url" class="txt" tabindex="3" value="" size="30" type="text"><label for="url">Website</label></p>
<p class="form-submit"><input name="submit" id="submit" class="submit" value="Submit Comment" type="submit"> <input name="comment_post_ID" value="2147" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="dd9067be60" type="hidden"></p><p style="display: none;"></p>				<input id="ak_js" name="ak_js" value="1473488326346" type="hidden"></form>
					</div><!-- #respond -->
		     
            </section><!-- /#main -->
                
            <aside id="sidebar">
<div id="text-7" class="widget widget_text"><h3>Resource Guide (it’s totally free).</h3>			<div class="textwidget"><img title="Get your FREE 11-page Image Search Engine Resource Guide PDF" src="imagesearchengine-resourceguide-cover.png" style="padding-right: 10px; width: 100px; float: left;">
<p>

Click the button below to get my <strong>free 11-page Image Search Engine Resource Guide PDF</strong>. Uncover <strong>exclusive techniques</strong> that I don't publish on this blog and start building image search engines of your own.
</p>
<div style="clear: left;"></div>

<center><a href="#" class="manual-optin-trigger" data-optin-slug="rxgemdcavzehuzpr" style="color: rgb(255, 255, 255); text-decoration: none; font-family: Helvetica, Arial, sans-serif; font-weight: bold; font-size: 16px; line-height: 20px; padding: 10px; display: inline-block; max-width: 300px; border-radius: 5px; text-shadow: rgba(0, 0, 0, 0.247059) 0px -1px 1px; box-shadow: rgba(255, 255, 255, 0.498039) 0px 1px 3px inset, rgba(0, 0, 0, 0.498039) 0px 1px 3px; background: #DF4B4B;">Download for Free!</a></center></div>
		</div><div id="text-5" class="widget widget_text"><h3>You can detect faces in images &amp; video.</h3>			<div class="textwidget"><a href="http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-face-detection" title="Practical Python and OpenCV"><img title="Learn how to detect faces in images and video" src="adrian_face_detection_sidebar.png" style="padding-bottom: 5px; width: 300px;" onclick="document.location='http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-face-detection'; return false;"></a>
<p>

Are you interested in <strong>detecting faces in images &amp; video?</strong> But <strong>tired of Googling for tutorials</strong> that <em>never work?</em> Then let me help! I guarantee that my new book will turn you into a <strong>face detection ninja</strong> by the end of this weekend.
<a href="http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-face-detection" title="Practical Python and OpenCV" onclick="document.location='http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-face-detection'; return false;">Click here to give it a shot yourself.</a>
</p>
<p><input value="Click here to master face detection" style="background-color: rgb(223, 75, 75);" onclick="document.location='http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-face-detection'; return false;" type="submit"></p></div>
		</div><div id="text-8" class="widget widget_text"><h3>PyImageSearch Gurus: NOW ENROLLING!</h3>			<div class="textwidget"><div id="pyimg_gurus_carousel_container" style="width: 300px; height: 310px; cursor: pointer;" onclick="document.location='http://www.pyimagesearch.com/pyimagesearch-gurus/?src=sidebar'; return false;">
	<div id="pyimg_gurus_carousel" style="width: 300px; height: 300px; background: transparent url('gurus_carousel.jpg') no-repeat ; -300px; display: block;"></div>
</div>
<p style="margin-bottom: 8px;"><strong>The PyImageSearch Gurus course is <em>now enrolling!</em></strong> Inside the course you'll learn how to perform:</p>
<ul style="margin-bottom: 8px;">
	<li>Automatic License Plate Recognition (ANPR)</li>
	<li>Deep Learning</li>
	<li>Face Recognition</li>
	<li><em>and much more!</em></li>
</ul>
<p><strong>Click the button below to learn more about the course, take a tour, and get 10 (FREE) sample lessons</strong>.</p>
<p><input value="Take a tour &amp; get 10 (free) lessons" style="background-color: rgb(223, 75, 75);" onclick="document.location='http://www.pyimagesearch.com/pyimagesearch-gurus/?src=sidebar'; return false;" type="submit"></p></div>
		</div><div id="woo_blogauthorinfo-2" class="widget widget_woo_blogauthorinfo"><h3>Hello! I’m Adrian Rosebrock.</h3><span class="left"><img alt="" src="02743529311d3b8babbaf6935670ec9c_001.dat" srcset="http://0.gravatar.com/avatar/02743529311d3b8babbaf6935670ec9c?s=180&amp;d=mm&amp;r=g 2x" class="avatar avatar-90 photo" height="90" width="90"></span>
<p>I'm an entrepreneur and Ph.D who has launched two successful image search engines, <a target="blank" href="http://www.idmypill.com/">ID My Pill</a> and <a target="blank" href="http://www.chicengine.com/">Chic Engine</a>. I'm here to share my tips, tricks, and hacks I've learned along the way.</p>
<div class="fix"></div>
</div><div id="text-4" class="widget widget_text"><h3>Learn computer vision in a single weekend.</h3>			<div class="textwidget"><a href="http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-single-weekend" title="Practical Python and OpenCV"><img title="Become an OpenCV guru" src="practical_python_and_opencv_2nd_cover.png" style="margin-left: 35px; padding-bottom: 15px; width: 215px;"></a>
<p>Want to learn computer vision &amp; OpenCV? I can teach you in a <strong>single weekend</strong>. I know. It sounds crazy, but it’s no joke. My new book is your <strong>guaranteed, quick-start guide</strong> to becoming an OpenCV Ninja. So why not give it a try? <a href="http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-single-weekend" title="Practical Python and OpenCV">Click here to become a computer vision ninja.</a></p>
<p><input value="Click here to become an OpenCV ninja" style="background-color: rgb(223, 75, 75);" onclick="document.location='http://www.pyimagesearch.com/practical-python-opencv/?src=sidebar-single-weekend'; return false;" type="submit"></p></div>
		</div><div id="text-3" class="widget widget_text"><h3>Subscribe via RSS</h3>			<div class="textwidget"><a target="blank" href="http://feeds.feedburner.com/Pyimagesearch"><img title="PyImageSearch RSS Feed" src="rss-icon.png" style="padding-right: 10px; float: left;"></a>
<p><strong>Never miss a post!</strong> Subscribe to the PyImageSearch RSS Feed and keep up to date with my image search engine tutorials, tips, and tricks</p></div>
		</div>
		<div id="woo_tabs-2" class="widget widget_woo_tabs"> 		<div id="tabs">

            <ul class="wooTabs">
                                <li class="popular"><a class="selected" href="#tab-pop">Popular</a></li>                                                            </ul>

            <div class="clear"></div>

            <div class="boxes box inside">

	            
                                <ul style="display: block;" id="tab-pop" class="list">
                    	<li>
				<a title="Install OpenCV and Python on your Raspberry Pi 2 and B+" href="http://www.pyimagesearch.com/2015/02/23/install-opencv-and-python-on-your-raspberry-pi-2-and-b/">Install OpenCV and Python on your Raspberry Pi 2 and B+</a>
		<span class="meta">February 23, 2015</span>
		<div class="fix"></div>
	</li>
		<li>
				<a title="Home surveillance and motion detection with the Raspberry Pi, Python, OpenCV, and Dropbox" href="http://www.pyimagesearch.com/2015/06/01/home-surveillance-and-motion-detection-with-the-raspberry-pi-python-and-opencv/">Home surveillance and motion detection with the Raspberry Pi, Python, OpenCV, and Dropbox</a>
		<span class="meta">June 1, 2015</span>
		<div class="fix"></div>
	</li>
		<li>
				<a title="How to install OpenCV 3 on Raspbian Jessie" href="http://www.pyimagesearch.com/2015/10/26/how-to-install-opencv-3-on-raspbian-jessie/">How to install OpenCV 3 on Raspbian Jessie</a>
		<span class="meta">October 26, 2015</span>
		<div class="fix"></div>
	</li>
		<li>
				<a title="Install OpenCV 3.0 and Python 2.7+ on Ubuntu" href="http://www.pyimagesearch.com/2015/06/22/install-opencv-3-0-and-python-2-7-on-ubuntu/">Install OpenCV 3.0 and Python 2.7+ on Ubuntu</a>
		<span class="meta">June 22, 2015</span>
		<div class="fix"></div>
	</li>
		<li>
				<a title="Accessing the Raspberry Pi Camera with OpenCV and Python" href="http://www.pyimagesearch.com/2015/03/30/accessing-the-raspberry-pi-camera-with-opencv-and-python/">Accessing the Raspberry Pi Camera with OpenCV and Python</a>
		<span class="meta">March 30, 2015</span>
		<div class="fix"></div>
	</li>
		<li>
				<a title="Install OpenCV 3.0 and Python 2.7+ on OSX" href="http://www.pyimagesearch.com/2015/06/15/install-opencv-3-0-and-python-2-7-on-osx/">Install OpenCV 3.0 and Python 2.7+ on OSX</a>
		<span class="meta">June 15, 2015</span>
		<div class="fix"></div>
	</li>
		<li style="border-bottom: 0px none;">
				<a title="Basic motion detection and tracking with Python and OpenCV" href="http://www.pyimagesearch.com/2015/05/25/basic-motion-detection-and-tracking-with-python-and-opencv/">Basic motion detection and tracking with Python and OpenCV</a>
		<span class="meta">May 25, 2015</span>
		<div class="fix"></div>
	</li>
	                </ul>
                                                                
            </div><!-- /.boxes -->

        </div><!-- /wooTabs -->

        </div>         <div id="woo_search-2" class="widget widget_woo_search"><h3>Search</h3><div class="search_main">
    <form method="get" class="searchform" action="http://www.pyimagesearch.com/">
        <input class="field s" name="s" value="Search..." onfocus="if (this.value == 'Search...') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Search...';}" type="text">
                <button type="submit" class="icon-search submit" name="submit" value="Search"></button>
    </form>    
    <div class="fix"></div>
</div>
</div></aside><!-- /#sidebar -->

		</div><!-- /#main-sidebar-container -->         

		
    </div><!-- /#content -->
	
    <!--#footer-widgets-container-->
    <div id="footer-widgets-container">
	</div><!--/#footer_widgets_container_end-->
    <!--#footer_container_start-->
    <div id="footer-container">
	<footer id="footer" class="col-full">

		
		<div id="copyright" class="col-left">

			Find me on <a target="blank" href="https://twitter.com/pyimagesearch" style="font-weight: bold; color: rgb(255, 255, 255);">Twitter</a>, <a target="blank" href="https://www.facebook.com/pyimagesearch" style="font-weight: bold; color: rgb(255, 255, 255);">Facebook</a>, <a target="blank" href="https://plus.google.com/115909176846554117735/?rel=author" style="font-weight: bold; color: rgb(255, 255, 255);">Google+</a>, and <a target="blank" href="http://www.linkedin.com/pub/adrian-rosebrock/2a/873/59b" style="font-weight: bold; color: rgb(255, 255, 255);">LinkedIn</a>.<br>
			<p>© 2016 PyImageSearch. All Rights Reserved. </p>		</div>

		<div id="credit" class="col-right">
		</div>

	</footer>

	    </div><!--/#footer_container_end-->

	</div><!-- /#inner-wrapper -->

</div><!-- /#wrapper -->

<div class="fix"></div><!--/.fix-->

<script>

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46641058-1', 'pyimagesearch.com');
  ga('send', 'pageview');

</script>

<!-- Drip -->
<script type="text/javascript">

  var _dcq = _dcq || [];
  var _dcs = _dcs || {}; 
  _dcs.account = '4768429';
  
  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true; 
    dc.src = '//tag.getdrip.com/4768429.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script>

<!-- HitTail Code -->
<script type="text/javascript">

	(function(){ var ht = document.createElement('script');ht.async = true;
	  ht.type='text/javascript';ht.src = '//115962.hittail.com/mlt.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ht, s);})();
</script>

<script type="text/javascript">

  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.perfectaudience.com/serve/54220efd7ab7f03f7e000043.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);

// visited blog tracking
window._pq = window._pq || [];
_pq.push(['track', 'visited blog']);
  })();
</script>

<!-- -- scroll to code ---->
<script type="text/javascript">

jQuery(document).ready(function(){
	jQuery("#scroll_to_code").click(function(event){
		event.preventDefault();
		jQuery('html, body').animate({scrollTop: jQuery('#post_downloads').offset().top}, 1000);
	});
});
</script>

<!-- gurus sidebar carousel -->
<script type="text/javascript">

	jQuery(document).ready(function(){
		GURUS_CAROUSEL_IDX = 1;

		window.setInterval(function(){
			jQuery("#pyimg_gurus_carousel").fadeOut(function(){
				GURUS_CAROUSEL_TOP = GURUS_CAROUSEL_IDX * -300;
				jQuery("#pyimg_gurus_carousel").css("background-position", "0px " + GURUS_CAROUSEL_TOP + "px");
				GURUS_CAROUSEL_IDX += 1;

				if (GURUS_CAROUSEL_IDX == 4){
					GURUS_CAROUSEL_IDX = 0;
				}
			}).delay(250).fadeIn();
		}, 5000);
	});
</script>
<!-- Woo Tabs Widget -->
<script type="text/javascript">

jQuery(document).ready(function(){
	// UL = .wooTabs
	// Tab contents = .inside

	var tag_cloud_class = '#tagcloud';

	//Fix for tag clouds - unexpected height before .hide()
	var tag_cloud_height = jQuery( '#tagcloud').height();

	jQuery( '.inside ul li:last-child').css( 'border-bottom','0px' ); // remove last border-bottom from list in tab content
	jQuery( '.wooTabs').each(function(){
		jQuery(this).children( 'li').children( 'a:first').addClass( 'selected' ); // Add .selected class to first tab on load
	});
	jQuery( '.inside > *').hide();
	jQuery( '.inside > *:first-child').show();

	jQuery( '.wooTabs li a').click(function(evt){ // Init Click funtion on Tabs

		var clicked_tab_ref = jQuery(this).attr( 'href' ); // Strore Href value

		jQuery(this).parent().parent().children( 'li').children( 'a').removeClass( 'selected' ); //Remove selected from all tabs
		jQuery(this).addClass( 'selected' );
		jQuery(this).parent().parent().parent().children( '.inside').children( '*').hide();

		jQuery( '.inside ' + clicked_tab_ref).fadeIn(500);

		 evt.preventDefault();

	})
})
</script>
<!-- This site is converting visitors into subscribers and customers with OptinMonster - http://optinmonster.com --><div id="om-rxgemdcavzehuzpr-holder"><script type="text/javascript">if(!(window.ga&&ga.create)){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','__omGaTracker');}</script></div><script>var rxgemdcavzehuzpr,rxgemdcavzehuzpr_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){rxgemdcavzehuzpr_poll(function(){if(window['om_loaded']){if(!rxgemdcavzehuzpr){rxgemdcavzehuzpr=new OptinMonsterApp();return rxgemdcavzehuzpr.init({u:"18464.329426",staging:0,dev:0,beta:0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmnstr.com/app/js/api.min.js",o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;rxgemdcavzehuzpr=new OptinMonsterApp();rxgemdcavzehuzpr.init({u:"18464.329426",staging:0,dev:0,beta:0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script><!-- / OptinMonster --><script type="text/javascript" src="M9RPzM4szk0t0Y_PzEvWT8svytUx0U_Oz81NzSvRLUotyKnUy83MA4qVF-im5ialpoC4AA.js"></script>
<script type="text/javascript">

/* <![CDATA[ */
var fsb = {"ajax":"http:\/\/www.pyimagesearch.com\/wp-admin\/admin-ajax.php","nonce":"8e3e80e61f"};
/* ]]> */
</script>
<script type="text/javascript" src="M9RPy8lPLMnMS9ctzk_OTMzRTUos0s8q1k8rTgIA.js"></script>
<script type="text/javascript">var omapi_localized = { ajax: 'http://www.pyimagesearch.com/wp-admin/admin-ajax.php?optin-monster-ajax-route=1', nonce: '2d97c25867' };</script>
	    


<div class="drip-tab-container">
  <div id="drip-1305" class="drip-tab bottom right no-image">
    <div id="drip-header-1305" class="drip-header">
      <a href="#" id="drip-toggle-1305" class="drip-toggle">
        <h2 id="drip-teaser-1305">Free 21-day crash course on computer vision &amp; image search engines</h2>
        <span id="drip-tab-up-1305" class="drip-arrow up">
          <svg width="12px" height="8px" viewBox="1362 659 12 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <polygon id="right_angle" stroke="none" fill="#FFFFFF" fill-rule="evenodd" transform="translate(1368.000000, 662.703125) rotate(-90.000000) translate(-1368.000000, -662.703125) " points="1364.29688 667.296875 1368.89062 662.703125 1364.29688 658.109375 1365.70312 656.703125 1371.70312 662.703125 1365.70312 668.703125"></polygon>
          </svg>
        </span>
        <span id="drip-tab-down-1305" class="drip-arrow down" style="display: none;"></span>
      </a>
    </div>

    <div style="height: auto; bottom: -436px;" id="drip-content-1305" class="drip-content drip-clearfix">
      <div style="display: block;" id="drip-form-panel-1305" class="drip-panel">
        <a id="drip-close-1305" class="drip-close">×</a>
        <h3 id="drip-content-header-1305">Free 21-day crash course on computer vision &amp; image search engines</h3>
        <div id="drip-scroll-1305" class="drip-scroll">
          <div class="drip-clearfix">
            
            <div class="drip-description">Interested in computer vision and image search engines, but don't know where to start? Let me help. I've created a free, 21-day crash course that is hand-tailored to give you the best possible introduction to computer vision. Sound good? Enter your email below to start your journey to becoming a computer vision master.</div>
          </div>
          <form action="http://www.pyimagesearch.com/2015/03/16/image-pyramids-with-python-and-opencv/" id="drip-form-1305">
            <div style="display: none;">
              <input name="form_id" value="1305" type="hidden">
            </div>
            <dl class="no-labels">
              
                <dt>Email Address</dt>
                <dd class="drip-clearfix">
                  
                    <input name="fields[email]" value="" placeholder="Email Address" class="drip-text-field" type="email">
                    <div id="drip-errors-for-email-1305" class="drip-errors"></div>
                  
                </dd>
              
            </dl>
            <div class="form-controls">
              <input name="submit" value="Let's do it!" id="drip-submit-1305" class="drip-submit-button" type="submit">
            </div>
          </form>
        </div>
      </div>

      <div id="drip-success-panel-1305" class="drip-success drip-panel drip-clearfix" style="display: none;">
        <a id="drip-hide-1305" class="drip-close">×</a>
        <h3>Almost There...</h3>
        <p class="drip-description">To start your free 21-day crash course, confirm your email address by clicking the link in the email I just sent you.</p>
      </div>

      
    </div>
  </div>
</div><div id="om-rxgemdcavzehuzpr" class="atlanta-background atlanta-rxgemdcavzehuzpr atlanta-optin-visible atlanta-has-image atlanta-lightbox atlanta-bullseye" style="display: none; position: fixed; z-index: 7371832; top: 0px; left: 0px; width: 100%; height: 100%; margin: 0px; padding: 0px;"><div id="atlanta-optin" class="atlanta-clearfix atlanta-outer-wrap" style=""><div id="atlanta-body" class="atlanta-element-row atlanta-element-row-global atlanta-body" data-selectable="true" data-target="#builder-setting-bg_border" style="border-color: rgb(26, 159, 230);"><a class="atlanta-element-close atlanta-close" title="Close" style=""></a><div id="atlanta-content" class="atlanta-clearfix atlanta-content"><div id="atlanta-element-image" class="atlanta-element-image atlanta-element" data-element="image"><div id="atlanta-image" class="atlanta-image" data-image-id="main" data-context="lightbox" data-theme="bullseye"><img class="atlanta-element-image-output" src="7960fd4dacde1462303655-optin.png" alt="7960fd4dacde1462303655-optin.png" data-image-id="main" data-context="lightbox" data-theme="bullseye"></div></div></div><div id="atlanta-footer" class="atlanta-clearfix atlanta-footer" data-selectable="true" data-target="#builder-setting-footer_bg" style="background-color: rgb(233, 233, 233); border-top-color: rgb(187, 187, 187);"><div id="atlanta-element-form" class="atlanta-element-form atlanta-element" data-element="form"><div id="atlanta-form" class="atlanta-form atlanta-has-email atlanta-form-horizontal atlanta-has-buttons"><div class="atlanta-form-wrap"><input id="atlanta-field-email" name="atlanta-email" data-selectable="true" data-target="#builder-setting-email_value" class="atlanta-field-email" placeholder="Enter your email address here..." value="" style="color: rgb(72, 72, 72); font-family: Open Sans;" type="email"><input id="atlanta-field-submit" name="atlanta-submit" data-selectable="true" data-target="#builder-setting-submit_value" class="atlanta-field-submit" value="DOWNLOAD MY PDF" style="color: rgb(255, 255, 255); background: rgb(26, 159, 230) none repeat ; 0%; border-color: rgb(23, 143, 214); font-family: Bree Serif;" type="submit"><div id="atlanta-element-privacy" class="atlanta-element-privacy atlanta-element" data-element="privacy"><div class="atlanta-element-privacy-wrap"><div id="atlanta-element-privacy-content" class="atlanta-element-privacy-content" data-editable="true">I hate SPAM and promise to keep your email address safe.</div></div></div></div><div class="atlanta-yesno-wrap" style="display: none;"><button id="atlanta-button-yes" type="button" name="atlanta-yes" data-selectable="true" data-target="#builder-setting-yes_value" data-action="form" data-type="yes" class="atlanta-button-yes atlanta-button-yesno" title="Yes, I Want Access!" style="color: rgb(255, 255, 255); background: rgb(131, 193, 31) none repeat ; 0%; border-color: rgb(131, 193, 31); font-family: Bree Serif;">Yes, I Want Access!</button><button id="atlanta-button-no" type="button" name="atlanta-no" data-selectable="true" data-target="#builder-setting-no_value" data-action="close" data-type="no" class="atlanta-button-no atlanta-button-yesno" title="No Thanks" style="color: rgb(255, 255, 255); background: rgb(102, 102, 102) none repeat ; 0%; border-color: rgb(102, 102, 102); font-family: Bree Serif;">No Thanks</button></div></div></div></div></div><div id="atlanta-success-container" class="atlanta-success-container atlanta-transition-hidden atlanta-success-theme-default"><a class="atlanta-success-element-close atlanta-success-close" title="Close" style="">×</a><div id="atlanta-success-content" class="atlanta-success-clearfix atlanta-success-content" data-selectable="true" data-target="#builder-setting-success_content_bg" style="background-color: rgb(255, 255, 255);"><div id="atlanta-success-element-title" class="atlanta-success-element-title atlanta-success-element optin-monster-saas-success-message" data-element="title"><div class="atlanta-success-element-title-wrap"><div id="atlanta-success-element-title-content" class="atlanta-success-element-title-content" data-editable="true">Thanks for subscribing! Please check your email for further instructions.</div></div></div></div></div></div><!--[if lte IE 9]><script type="text/javascript">var om_ie_browser = true;</script><![endif]--></div></body>
</html>
